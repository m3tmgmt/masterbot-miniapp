(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))l(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&l(d)}).observe(document,{childList:!0,subtree:!0});function i(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function l(o){if(o.ep)return;o.ep=!0;const c=i(o);fetch(o.href,c)}})();var lc={exports:{}},ji={};var dp;function Jv(){if(dp)return ji;dp=1;var r=Symbol.for("react.transitional.element"),n=Symbol.for("react.fragment");function i(l,o,c){var d=null;if(c!==void 0&&(d=""+c),o.key!==void 0&&(d=""+o.key),"key"in o){c={};for(var h in o)h!=="key"&&(c[h]=o[h])}else c=o;return o=c.ref,{$$typeof:r,type:l,key:d,ref:o!==void 0?o:null,props:c}}return ji.Fragment=n,ji.jsx=i,ji.jsxs=i,ji}var hp;function Qv(){return hp||(hp=1,lc.exports=Jv()),lc.exports}var y=Qv(),uc={exports:{}},ce={};var mp;function Wv(){if(mp)return ce;mp=1;var r=Symbol.for("react.transitional.element"),n=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),l=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),_=Symbol.for("react.activity"),w=Symbol.iterator;function S(E){return E===null||typeof E!="object"?null:(E=w&&E[w]||E["@@iterator"],typeof E=="function"?E:null)}var O={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},R=Object.assign,A={};function z(E,K,Q){this.props=E,this.context=K,this.refs=A,this.updater=Q||O}z.prototype.isReactComponent={},z.prototype.setState=function(E,K){if(typeof E!="object"&&typeof E!="function"&&E!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,E,K,"setState")},z.prototype.forceUpdate=function(E){this.updater.enqueueForceUpdate(this,E,"forceUpdate")};function M(){}M.prototype=z.prototype;function B(E,K,Q){this.props=E,this.context=K,this.refs=A,this.updater=Q||O}var G=B.prototype=new M;G.constructor=B,R(G,z.prototype),G.isPureReactComponent=!0;var D=Array.isArray;function P(){}var X={H:null,A:null,T:null,S:null},re=Object.prototype.hasOwnProperty;function se(E,K,Q){var H=Q.ref;return{$$typeof:r,type:E,key:K,ref:H!==void 0?H:null,props:Q}}function De(E,K){return se(E.type,K,E.props)}function Ze(E){return typeof E=="object"&&E!==null&&E.$$typeof===r}function Qe(E){var K={"=":"=0",":":"=2"};return"$"+E.replace(/[=:]/g,function(Q){return K[Q]})}var kt=/\/+/g;function ut(E,K){return typeof E=="object"&&E!==null&&E.key!=null?Qe(""+E.key):K.toString(36)}function et(E){switch(E.status){case"fulfilled":return E.value;case"rejected":throw E.reason;default:switch(typeof E.status=="string"?E.then(P,P):(E.status="pending",E.then(function(K){E.status==="pending"&&(E.status="fulfilled",E.value=K)},function(K){E.status==="pending"&&(E.status="rejected",E.reason=K)})),E.status){case"fulfilled":return E.value;case"rejected":throw E.reason}}throw E}function q(E,K,Q,H,J){var F=typeof E;(F==="undefined"||F==="boolean")&&(E=null);var ye=!1;if(E===null)ye=!0;else switch(F){case"bigint":case"string":case"number":ye=!0;break;case"object":switch(E.$$typeof){case r:case n:ye=!0;break;case v:return ye=E._init,q(ye(E._payload),K,Q,H,J)}}if(ye)return J=J(E),ye=H===""?"."+ut(E,0):H,D(J)?(Q="",ye!=null&&(Q=ye.replace(kt,"$&/")+"/"),q(J,K,Q,"",function(Ur){return Ur})):J!=null&&(Ze(J)&&(J=De(J,Q+(J.key==null||E&&E.key===J.key?"":(""+J.key).replace(kt,"$&/")+"/")+ye)),K.push(J)),1;ye=0;var qe=H===""?".":H+":";if(D(E))for(var $e=0;$e<E.length;$e++)H=E[$e],F=qe+ut(H,$e),ye+=q(H,K,Q,F,J);else if($e=S(E),typeof $e=="function")for(E=$e.call(E),$e=0;!(H=E.next()).done;)H=H.value,F=qe+ut(H,$e++),ye+=q(H,K,Q,F,J);else if(F==="object"){if(typeof E.then=="function")return q(et(E),K,Q,H,J);throw K=String(E),Error("Objects are not valid as a React child (found: "+(K==="[object Object]"?"object with keys {"+Object.keys(E).join(", ")+"}":K)+"). If you meant to render a collection of children, use an array instead.")}return ye}function V(E,K,Q){if(E==null)return E;var H=[],J=0;return q(E,H,"","",function(F){return K.call(Q,F,J++)}),H}function Z(E){if(E._status===-1){var K=E._result;K=K(),K.then(function(Q){(E._status===0||E._status===-1)&&(E._status=1,E._result=Q)},function(Q){(E._status===0||E._status===-1)&&(E._status=2,E._result=Q)}),E._status===-1&&(E._status=0,E._result=K)}if(E._status===1)return E._result.default;throw E._result}var W=typeof reportError=="function"?reportError:function(E){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var K=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof E=="object"&&E!==null&&typeof E.message=="string"?String(E.message):String(E),error:E});if(!window.dispatchEvent(K))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",E);return}console.error(E)},te={map:V,forEach:function(E,K,Q){V(E,function(){K.apply(this,arguments)},Q)},count:function(E){var K=0;return V(E,function(){K++}),K},toArray:function(E){return V(E,function(K){return K})||[]},only:function(E){if(!Ze(E))throw Error("React.Children.only expected to receive a single React element child.");return E}};return ce.Activity=_,ce.Children=te,ce.Component=z,ce.Fragment=i,ce.Profiler=o,ce.PureComponent=B,ce.StrictMode=l,ce.Suspense=m,ce.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=X,ce.__COMPILER_RUNTIME={__proto__:null,c:function(E){return X.H.useMemoCache(E)}},ce.cache=function(E){return function(){return E.apply(null,arguments)}},ce.cacheSignal=function(){return null},ce.cloneElement=function(E,K,Q){if(E==null)throw Error("The argument must be a React element, but you passed "+E+".");var H=R({},E.props),J=E.key;if(K!=null)for(F in K.key!==void 0&&(J=""+K.key),K)!re.call(K,F)||F==="key"||F==="__self"||F==="__source"||F==="ref"&&K.ref===void 0||(H[F]=K[F]);var F=arguments.length-2;if(F===1)H.children=Q;else if(1<F){for(var ye=Array(F),qe=0;qe<F;qe++)ye[qe]=arguments[qe+2];H.children=ye}return se(E.type,J,H)},ce.createContext=function(E){return E={$$typeof:d,_currentValue:E,_currentValue2:E,_threadCount:0,Provider:null,Consumer:null},E.Provider=E,E.Consumer={$$typeof:c,_context:E},E},ce.createElement=function(E,K,Q){var H,J={},F=null;if(K!=null)for(H in K.key!==void 0&&(F=""+K.key),K)re.call(K,H)&&H!=="key"&&H!=="__self"&&H!=="__source"&&(J[H]=K[H]);var ye=arguments.length-2;if(ye===1)J.children=Q;else if(1<ye){for(var qe=Array(ye),$e=0;$e<ye;$e++)qe[$e]=arguments[$e+2];J.children=qe}if(E&&E.defaultProps)for(H in ye=E.defaultProps,ye)J[H]===void 0&&(J[H]=ye[H]);return se(E,F,J)},ce.createRef=function(){return{current:null}},ce.forwardRef=function(E){return{$$typeof:h,render:E}},ce.isValidElement=Ze,ce.lazy=function(E){return{$$typeof:v,_payload:{_status:-1,_result:E},_init:Z}},ce.memo=function(E,K){return{$$typeof:g,type:E,compare:K===void 0?null:K}},ce.startTransition=function(E){var K=X.T,Q={};X.T=Q;try{var H=E(),J=X.S;J!==null&&J(Q,H),typeof H=="object"&&H!==null&&typeof H.then=="function"&&H.then(P,W)}catch(F){W(F)}finally{K!==null&&Q.types!==null&&(K.types=Q.types),X.T=K}},ce.unstable_useCacheRefresh=function(){return X.H.useCacheRefresh()},ce.use=function(E){return X.H.use(E)},ce.useActionState=function(E,K,Q){return X.H.useActionState(E,K,Q)},ce.useCallback=function(E,K){return X.H.useCallback(E,K)},ce.useContext=function(E){return X.H.useContext(E)},ce.useDebugValue=function(){},ce.useDeferredValue=function(E,K){return X.H.useDeferredValue(E,K)},ce.useEffect=function(E,K){return X.H.useEffect(E,K)},ce.useEffectEvent=function(E){return X.H.useEffectEvent(E)},ce.useId=function(){return X.H.useId()},ce.useImperativeHandle=function(E,K,Q){return X.H.useImperativeHandle(E,K,Q)},ce.useInsertionEffect=function(E,K){return X.H.useInsertionEffect(E,K)},ce.useLayoutEffect=function(E,K){return X.H.useLayoutEffect(E,K)},ce.useMemo=function(E,K){return X.H.useMemo(E,K)},ce.useOptimistic=function(E,K){return X.H.useOptimistic(E,K)},ce.useReducer=function(E,K,Q){return X.H.useReducer(E,K,Q)},ce.useRef=function(E){return X.H.useRef(E)},ce.useState=function(E){return X.H.useState(E)},ce.useSyncExternalStore=function(E,K,Q){return X.H.useSyncExternalStore(E,K,Q)},ce.useTransition=function(){return X.H.useTransition()},ce.version="19.2.4",ce}var pp;function Ic(){return pp||(pp=1,uc.exports=Wv()),uc.exports}var j=Ic(),oc={exports:{}},Oi={},cc={exports:{}},fc={};var gp;function Fv(){return gp||(gp=1,(function(r){function n(q,V){var Z=q.length;q.push(V);e:for(;0<Z;){var W=Z-1>>>1,te=q[W];if(0<o(te,V))q[W]=V,q[Z]=te,Z=W;else break e}}function i(q){return q.length===0?null:q[0]}function l(q){if(q.length===0)return null;var V=q[0],Z=q.pop();if(Z!==V){q[0]=Z;e:for(var W=0,te=q.length,E=te>>>1;W<E;){var K=2*(W+1)-1,Q=q[K],H=K+1,J=q[H];if(0>o(Q,Z))H<te&&0>o(J,Q)?(q[W]=J,q[H]=Z,W=H):(q[W]=Q,q[K]=Z,W=K);else if(H<te&&0>o(J,Z))q[W]=J,q[H]=Z,W=H;else break e}}return V}function o(q,V){var Z=q.sortIndex-V.sortIndex;return Z!==0?Z:q.id-V.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;r.unstable_now=function(){return c.now()}}else{var d=Date,h=d.now();r.unstable_now=function(){return d.now()-h}}var m=[],g=[],v=1,_=null,w=3,S=!1,O=!1,R=!1,A=!1,z=typeof setTimeout=="function"?setTimeout:null,M=typeof clearTimeout=="function"?clearTimeout:null,B=typeof setImmediate<"u"?setImmediate:null;function G(q){for(var V=i(g);V!==null;){if(V.callback===null)l(g);else if(V.startTime<=q)l(g),V.sortIndex=V.expirationTime,n(m,V);else break;V=i(g)}}function D(q){if(R=!1,G(q),!O)if(i(m)!==null)O=!0,P||(P=!0,Qe());else{var V=i(g);V!==null&&et(D,V.startTime-q)}}var P=!1,X=-1,re=5,se=-1;function De(){return A?!0:!(r.unstable_now()-se<re)}function Ze(){if(A=!1,P){var q=r.unstable_now();se=q;var V=!0;try{e:{O=!1,R&&(R=!1,M(X),X=-1),S=!0;var Z=w;try{t:{for(G(q),_=i(m);_!==null&&!(_.expirationTime>q&&De());){var W=_.callback;if(typeof W=="function"){_.callback=null,w=_.priorityLevel;var te=W(_.expirationTime<=q);if(q=r.unstable_now(),typeof te=="function"){_.callback=te,G(q),V=!0;break t}_===i(m)&&l(m),G(q)}else l(m);_=i(m)}if(_!==null)V=!0;else{var E=i(g);E!==null&&et(D,E.startTime-q),V=!1}}break e}finally{_=null,w=Z,S=!1}V=void 0}}finally{V?Qe():P=!1}}}var Qe;if(typeof B=="function")Qe=function(){B(Ze)};else if(typeof MessageChannel<"u"){var kt=new MessageChannel,ut=kt.port2;kt.port1.onmessage=Ze,Qe=function(){ut.postMessage(null)}}else Qe=function(){z(Ze,0)};function et(q,V){X=z(function(){q(r.unstable_now())},V)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(q){q.callback=null},r.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):re=0<q?Math.floor(1e3/q):5},r.unstable_getCurrentPriorityLevel=function(){return w},r.unstable_next=function(q){switch(w){case 1:case 2:case 3:var V=3;break;default:V=w}var Z=w;w=V;try{return q()}finally{w=Z}},r.unstable_requestPaint=function(){A=!0},r.unstable_runWithPriority=function(q,V){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var Z=w;w=q;try{return V()}finally{w=Z}},r.unstable_scheduleCallback=function(q,V,Z){var W=r.unstable_now();switch(typeof Z=="object"&&Z!==null?(Z=Z.delay,Z=typeof Z=="number"&&0<Z?W+Z:W):Z=W,q){case 1:var te=-1;break;case 2:te=250;break;case 5:te=1073741823;break;case 4:te=1e4;break;default:te=5e3}return te=Z+te,q={id:v++,callback:V,priorityLevel:q,startTime:Z,expirationTime:te,sortIndex:-1},Z>W?(q.sortIndex=Z,n(g,q),i(m)===null&&q===i(g)&&(R?(M(X),X=-1):R=!0,et(D,Z-W))):(q.sortIndex=te,n(m,q),O||S||(O=!0,P||(P=!0,Qe()))),q},r.unstable_shouldYield=De,r.unstable_wrapCallback=function(q){var V=w;return function(){var Z=w;w=V;try{return q.apply(this,arguments)}finally{w=Z}}}})(fc)),fc}var yp;function eb(){return yp||(yp=1,cc.exports=Fv()),cc.exports}var dc={exports:{}},ot={};var vp;function tb(){if(vp)return ot;vp=1;var r=Ic();function n(m){var g="https://react.dev/errors/"+m;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)g+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+m+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var l={d:{f:i,r:function(){throw Error(n(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function c(m,g,v){var _=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:_==null?null:""+_,children:m,containerInfo:g,implementation:v}}var d=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(m,g){if(m==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return ot.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=l,ot.createPortal=function(m,g){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(n(299));return c(m,g,null,v)},ot.flushSync=function(m){var g=d.T,v=l.p;try{if(d.T=null,l.p=2,m)return m()}finally{d.T=g,l.p=v,l.d.f()}},ot.preconnect=function(m,g){typeof m=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,l.d.C(m,g))},ot.prefetchDNS=function(m){typeof m=="string"&&l.d.D(m)},ot.preinit=function(m,g){if(typeof m=="string"&&g&&typeof g.as=="string"){var v=g.as,_=h(v,g.crossOrigin),w=typeof g.integrity=="string"?g.integrity:void 0,S=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;v==="style"?l.d.S(m,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:_,integrity:w,fetchPriority:S}):v==="script"&&l.d.X(m,{crossOrigin:_,integrity:w,fetchPriority:S,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},ot.preinitModule=function(m,g){if(typeof m=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var v=h(g.as,g.crossOrigin);l.d.M(m,{crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&l.d.M(m)},ot.preload=function(m,g){if(typeof m=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var v=g.as,_=h(v,g.crossOrigin);l.d.L(m,v,{crossOrigin:_,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},ot.preloadModule=function(m,g){if(typeof m=="string")if(g){var v=h(g.as,g.crossOrigin);l.d.m(m,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else l.d.m(m)},ot.requestFormReset=function(m){l.d.r(m)},ot.unstable_batchedUpdates=function(m,g){return m(g)},ot.useFormState=function(m,g,v){return d.H.useFormState(m,g,v)},ot.useFormStatus=function(){return d.H.useHostTransitionStatus()},ot.version="19.2.4",ot}var bp;function nb(){if(bp)return dc.exports;bp=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(n){console.error(n)}}return r(),dc.exports=tb(),dc.exports}var _p;function ab(){if(_p)return Oi;_p=1;var r=eb(),n=Ic(),i=nb();function l(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)t+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function c(e){var t=e,a=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(a=t.return),e=t.return;while(e)}return t.tag===3?a:null}function d(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function h(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function m(e){if(c(e)!==e)throw Error(l(188))}function g(e){var t=e.alternate;if(!t){if(t=c(e),t===null)throw Error(l(188));return t!==e?null:e}for(var a=e,s=t;;){var u=a.return;if(u===null)break;var f=u.alternate;if(f===null){if(s=u.return,s!==null){a=s;continue}break}if(u.child===f.child){for(f=u.child;f;){if(f===a)return m(u),e;if(f===s)return m(u),t;f=f.sibling}throw Error(l(188))}if(a.return!==s.return)a=u,s=f;else{for(var p=!1,b=u.child;b;){if(b===a){p=!0,a=u,s=f;break}if(b===s){p=!0,s=u,a=f;break}b=b.sibling}if(!p){for(b=f.child;b;){if(b===a){p=!0,a=f,s=u;break}if(b===s){p=!0,s=f,a=u;break}b=b.sibling}if(!p)throw Error(l(189))}}if(a.alternate!==s)throw Error(l(190))}if(a.tag!==3)throw Error(l(188));return a.stateNode.current===a?e:t}function v(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=v(e),t!==null)return t;e=e.sibling}return null}var _=Object.assign,w=Symbol.for("react.element"),S=Symbol.for("react.transitional.element"),O=Symbol.for("react.portal"),R=Symbol.for("react.fragment"),A=Symbol.for("react.strict_mode"),z=Symbol.for("react.profiler"),M=Symbol.for("react.consumer"),B=Symbol.for("react.context"),G=Symbol.for("react.forward_ref"),D=Symbol.for("react.suspense"),P=Symbol.for("react.suspense_list"),X=Symbol.for("react.memo"),re=Symbol.for("react.lazy"),se=Symbol.for("react.activity"),De=Symbol.for("react.memo_cache_sentinel"),Ze=Symbol.iterator;function Qe(e){return e===null||typeof e!="object"?null:(e=Ze&&e[Ze]||e["@@iterator"],typeof e=="function"?e:null)}var kt=Symbol.for("react.client.reference");function ut(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===kt?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case R:return"Fragment";case z:return"Profiler";case A:return"StrictMode";case D:return"Suspense";case P:return"SuspenseList";case se:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case O:return"Portal";case B:return e.displayName||"Context";case M:return(e._context.displayName||"Context")+".Consumer";case G:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case X:return t=e.displayName||null,t!==null?t:ut(e.type)||"Memo";case re:t=e._payload,e=e._init;try{return ut(e(t))}catch{}}return null}var et=Array.isArray,q=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,V=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Z={pending:!1,data:null,method:null,action:null},W=[],te=-1;function E(e){return{current:e}}function K(e){0>te||(e.current=W[te],W[te]=null,te--)}function Q(e,t){te++,W[te]=e.current,e.current=t}var H=E(null),J=E(null),F=E(null),ye=E(null);function qe(e,t){switch(Q(F,t),Q(J,e),Q(H,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?Um(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=Um(t),e=Mm(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}K(H),Q(H,e)}function $e(){K(H),K(J),K(F)}function Ur(e){e.memoizedState!==null&&Q(ye,e);var t=H.current,a=Mm(t,e.type);t!==a&&(Q(J,e),Q(H,a))}function Xi(e){J.current===e&&(K(H),K(J)),ye.current===e&&(K(ye),Ei._currentValue=Z)}var Gl,ff;function aa(e){if(Gl===void 0)try{throw Error()}catch(a){var t=a.stack.trim().match(/\n( *(at )?)/);Gl=t&&t[1]||"",ff=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Gl+e+ff}var Vl=!1;function Kl(e,t){if(!e||Vl)return"";Vl=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var s={DetermineComponentFrameRoot:function(){try{if(t){var I=function(){throw Error()};if(Object.defineProperty(I.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(I,[])}catch(U){var k=U}Reflect.construct(e,[],I)}else{try{I.call()}catch(U){k=U}e.call(I.prototype)}}else{try{throw Error()}catch(U){k=U}(I=e())&&typeof I.catch=="function"&&I.catch(function(){})}}catch(U){if(U&&k&&typeof U.stack=="string")return[U.stack,k.stack]}return[null,null]}};s.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var u=Object.getOwnPropertyDescriptor(s.DetermineComponentFrameRoot,"name");u&&u.configurable&&Object.defineProperty(s.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=s.DetermineComponentFrameRoot(),p=f[0],b=f[1];if(p&&b){var x=p.split(`
`),L=b.split(`
`);for(u=s=0;s<x.length&&!x[s].includes("DetermineComponentFrameRoot");)s++;for(;u<L.length&&!L[u].includes("DetermineComponentFrameRoot");)u++;if(s===x.length||u===L.length)for(s=x.length-1,u=L.length-1;1<=s&&0<=u&&x[s]!==L[u];)u--;for(;1<=s&&0<=u;s--,u--)if(x[s]!==L[u]){if(s!==1||u!==1)do if(s--,u--,0>u||x[s]!==L[u]){var $=`
`+x[s].replace(" at new "," at ");return e.displayName&&$.includes("<anonymous>")&&($=$.replace("<anonymous>",e.displayName)),$}while(1<=s&&0<=u);break}}}finally{Vl=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?aa(a):""}function Ry(e,t){switch(e.tag){case 26:case 27:case 5:return aa(e.type);case 16:return aa("Lazy");case 13:return e.child!==t&&t!==null?aa("Suspense Fallback"):aa("Suspense");case 19:return aa("SuspenseList");case 0:case 15:return Kl(e.type,!1);case 11:return Kl(e.type.render,!1);case 1:return Kl(e.type,!0);case 31:return aa("Activity");default:return""}}function df(e){try{var t="",a=null;do t+=Ry(e,a),a=e,e=e.return;while(e);return t}catch(s){return`
Error generating stack: `+s.message+`
`+s.stack}}var Yl=Object.prototype.hasOwnProperty,Il=r.unstable_scheduleCallback,Pl=r.unstable_cancelCallback,jy=r.unstable_shouldYield,Oy=r.unstable_requestPaint,_t=r.unstable_now,Ny=r.unstable_getCurrentPriorityLevel,hf=r.unstable_ImmediatePriority,mf=r.unstable_UserBlockingPriority,Ji=r.unstable_NormalPriority,Cy=r.unstable_LowPriority,pf=r.unstable_IdlePriority,Ly=r.log,ky=r.unstable_setDisableYieldValue,Mr=null,wt=null;function jn(e){if(typeof Ly=="function"&&ky(e),wt&&typeof wt.setStrictMode=="function")try{wt.setStrictMode(Mr,e)}catch{}}var St=Math.clz32?Math.clz32:My,Dy=Math.log,Uy=Math.LN2;function My(e){return e>>>=0,e===0?32:31-(Dy(e)/Uy|0)|0}var Qi=256,Wi=262144,Fi=4194304;function ra(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function es(e,t,a){var s=e.pendingLanes;if(s===0)return 0;var u=0,f=e.suspendedLanes,p=e.pingedLanes;e=e.warmLanes;var b=s&134217727;return b!==0?(s=b&~f,s!==0?u=ra(s):(p&=b,p!==0?u=ra(p):a||(a=b&~e,a!==0&&(u=ra(a))))):(b=s&~f,b!==0?u=ra(b):p!==0?u=ra(p):a||(a=s&~e,a!==0&&(u=ra(a)))),u===0?0:t!==0&&t!==u&&(t&f)===0&&(f=u&-u,a=t&-t,f>=a||f===32&&(a&4194048)!==0)?t:u}function zr(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function zy(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function gf(){var e=Fi;return Fi<<=1,(Fi&62914560)===0&&(Fi=4194304),e}function Zl(e){for(var t=[],a=0;31>a;a++)t.push(e);return t}function Br(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function By(e,t,a,s,u,f){var p=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var b=e.entanglements,x=e.expirationTimes,L=e.hiddenUpdates;for(a=p&~a;0<a;){var $=31-St(a),I=1<<$;b[$]=0,x[$]=-1;var k=L[$];if(k!==null)for(L[$]=null,$=0;$<k.length;$++){var U=k[$];U!==null&&(U.lane&=-536870913)}a&=~I}s!==0&&yf(e,s,0),f!==0&&u===0&&e.tag!==0&&(e.suspendedLanes|=f&~(p&~t))}function yf(e,t,a){e.pendingLanes|=t,e.suspendedLanes&=~t;var s=31-St(t);e.entangledLanes|=t,e.entanglements[s]=e.entanglements[s]|1073741824|a&261930}function vf(e,t){var a=e.entangledLanes|=t;for(e=e.entanglements;a;){var s=31-St(a),u=1<<s;u&t|e[s]&t&&(e[s]|=t),a&=~u}}function bf(e,t){var a=t&-t;return a=(a&42)!==0?1:Xl(a),(a&(e.suspendedLanes|t))!==0?0:a}function Xl(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Jl(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function _f(){var e=V.p;return e!==0?e:(e=window.event,e===void 0?32:ip(e.type))}function wf(e,t){var a=V.p;try{return V.p=e,t()}finally{V.p=a}}var On=Math.random().toString(36).slice(2),tt="__reactFiber$"+On,dt="__reactProps$"+On,Ca="__reactContainer$"+On,Ql="__reactEvents$"+On,qy="__reactListeners$"+On,$y="__reactHandles$"+On,Sf="__reactResources$"+On,qr="__reactMarker$"+On;function Wl(e){delete e[tt],delete e[dt],delete e[Ql],delete e[qy],delete e[$y]}function La(e){var t=e[tt];if(t)return t;for(var a=e.parentNode;a;){if(t=a[Ca]||a[tt]){if(a=t.alternate,t.child!==null||a!==null&&a.child!==null)for(e=Vm(e);e!==null;){if(a=e[tt])return a;e=Vm(e)}return t}e=a,a=e.parentNode}return null}function ka(e){if(e=e[tt]||e[Ca]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function $r(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(l(33))}function Da(e){var t=e[Sf];return t||(t=e[Sf]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function We(e){e[qr]=!0}var xf=new Set,Ef={};function ia(e,t){Ua(e,t),Ua(e+"Capture",t)}function Ua(e,t){for(Ef[e]=t,e=0;e<t.length;e++)xf.add(t[e])}var Hy=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Tf={},Af={};function Gy(e){return Yl.call(Af,e)?!0:Yl.call(Tf,e)?!1:Hy.test(e)?Af[e]=!0:(Tf[e]=!0,!1)}function ts(e,t,a){if(Gy(t))if(a===null)e.removeAttribute(t);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var s=t.toLowerCase().slice(0,5);if(s!=="data-"&&s!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+a)}}function ns(e,t,a){if(a===null)e.removeAttribute(t);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+a)}}function an(e,t,a,s){if(s===null)e.removeAttribute(a);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(t,a,""+s)}}function Dt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Rf(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Vy(e,t,a){var s=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var u=s.get,f=s.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return u.call(this)},set:function(p){a=""+p,f.call(this,p)}}),Object.defineProperty(e,t,{enumerable:s.enumerable}),{getValue:function(){return a},setValue:function(p){a=""+p},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Fl(e){if(!e._valueTracker){var t=Rf(e)?"checked":"value";e._valueTracker=Vy(e,t,""+e[t])}}function jf(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var a=t.getValue(),s="";return e&&(s=Rf(e)?e.checked?"true":"false":e.value),e=s,e!==a?(t.setValue(e),!0):!1}function as(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Ky=/[\n"\\]/g;function Ut(e){return e.replace(Ky,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function eu(e,t,a,s,u,f,p,b){e.name="",p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"?e.type=p:e.removeAttribute("type"),t!=null?p==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+Dt(t)):e.value!==""+Dt(t)&&(e.value=""+Dt(t)):p!=="submit"&&p!=="reset"||e.removeAttribute("value"),t!=null?tu(e,p,Dt(t)):a!=null?tu(e,p,Dt(a)):s!=null&&e.removeAttribute("value"),u==null&&f!=null&&(e.defaultChecked=!!f),u!=null&&(e.checked=u&&typeof u!="function"&&typeof u!="symbol"),b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?e.name=""+Dt(b):e.removeAttribute("name")}function Of(e,t,a,s,u,f,p,b){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),t!=null||a!=null){if(!(f!=="submit"&&f!=="reset"||t!=null)){Fl(e);return}a=a!=null?""+Dt(a):"",t=t!=null?""+Dt(t):a,b||t===e.value||(e.value=t),e.defaultValue=t}s=s??u,s=typeof s!="function"&&typeof s!="symbol"&&!!s,e.checked=b?e.checked:!!s,e.defaultChecked=!!s,p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(e.name=p),Fl(e)}function tu(e,t,a){t==="number"&&as(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function Ma(e,t,a,s){if(e=e.options,t){t={};for(var u=0;u<a.length;u++)t["$"+a[u]]=!0;for(a=0;a<e.length;a++)u=t.hasOwnProperty("$"+e[a].value),e[a].selected!==u&&(e[a].selected=u),u&&s&&(e[a].defaultSelected=!0)}else{for(a=""+Dt(a),t=null,u=0;u<e.length;u++){if(e[u].value===a){e[u].selected=!0,s&&(e[u].defaultSelected=!0);return}t!==null||e[u].disabled||(t=e[u])}t!==null&&(t.selected=!0)}}function Nf(e,t,a){if(t!=null&&(t=""+Dt(t),t!==e.value&&(e.value=t),a==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=a!=null?""+Dt(a):""}function Cf(e,t,a,s){if(t==null){if(s!=null){if(a!=null)throw Error(l(92));if(et(s)){if(1<s.length)throw Error(l(93));s=s[0]}a=s}a==null&&(a=""),t=a}a=Dt(t),e.defaultValue=a,s=e.textContent,s===a&&s!==""&&s!==null&&(e.value=s),Fl(e)}function za(e,t){if(t){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=t;return}}e.textContent=t}var Yy=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Lf(e,t,a){var s=t.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?s?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":s?e.setProperty(t,a):typeof a!="number"||a===0||Yy.has(t)?t==="float"?e.cssFloat=a:e[t]=(""+a).trim():e[t]=a+"px"}function kf(e,t,a){if(t!=null&&typeof t!="object")throw Error(l(62));if(e=e.style,a!=null){for(var s in a)!a.hasOwnProperty(s)||t!=null&&t.hasOwnProperty(s)||(s.indexOf("--")===0?e.setProperty(s,""):s==="float"?e.cssFloat="":e[s]="");for(var u in t)s=t[u],t.hasOwnProperty(u)&&a[u]!==s&&Lf(e,u,s)}else for(var f in t)t.hasOwnProperty(f)&&Lf(e,f,t[f])}function nu(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Iy=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Py=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function rs(e){return Py.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function rn(){}var au=null;function ru(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ba=null,qa=null;function Df(e){var t=ka(e);if(t&&(e=t.stateNode)){var a=e[dt]||null;e:switch(e=t.stateNode,t.type){case"input":if(eu(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),t=a.name,a.type==="radio"&&t!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Ut(""+t)+'"][type="radio"]'),t=0;t<a.length;t++){var s=a[t];if(s!==e&&s.form===e.form){var u=s[dt]||null;if(!u)throw Error(l(90));eu(s,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name)}}for(t=0;t<a.length;t++)s=a[t],s.form===e.form&&jf(s)}break e;case"textarea":Nf(e,a.value,a.defaultValue);break e;case"select":t=a.value,t!=null&&Ma(e,!!a.multiple,t,!1)}}}var iu=!1;function Uf(e,t,a){if(iu)return e(t,a);iu=!0;try{var s=e(t);return s}finally{if(iu=!1,(Ba!==null||qa!==null)&&(Ys(),Ba&&(t=Ba,e=qa,qa=Ba=null,Df(t),e)))for(t=0;t<e.length;t++)Df(e[t])}}function Hr(e,t){var a=e.stateNode;if(a===null)return null;var s=a[dt]||null;if(s===null)return null;a=s[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(e=e.type,s=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!s;break e;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(l(231,t,typeof a));return a}var sn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),su=!1;if(sn)try{var Gr={};Object.defineProperty(Gr,"passive",{get:function(){su=!0}}),window.addEventListener("test",Gr,Gr),window.removeEventListener("test",Gr,Gr)}catch{su=!1}var Nn=null,lu=null,is=null;function Mf(){if(is)return is;var e,t=lu,a=t.length,s,u="value"in Nn?Nn.value:Nn.textContent,f=u.length;for(e=0;e<a&&t[e]===u[e];e++);var p=a-e;for(s=1;s<=p&&t[a-s]===u[f-s];s++);return is=u.slice(e,1<s?1-s:void 0)}function ss(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function ls(){return!0}function zf(){return!1}function ht(e){function t(a,s,u,f,p){this._reactName=a,this._targetInst=u,this.type=s,this.nativeEvent=f,this.target=p,this.currentTarget=null;for(var b in e)e.hasOwnProperty(b)&&(a=e[b],this[b]=a?a(f):f[b]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?ls:zf,this.isPropagationStopped=zf,this}return _(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=ls)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=ls)},persist:function(){},isPersistent:ls}),t}var sa={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},us=ht(sa),Vr=_({},sa,{view:0,detail:0}),Zy=ht(Vr),uu,ou,Kr,os=_({},Vr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:fu,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Kr&&(Kr&&e.type==="mousemove"?(uu=e.screenX-Kr.screenX,ou=e.screenY-Kr.screenY):ou=uu=0,Kr=e),uu)},movementY:function(e){return"movementY"in e?e.movementY:ou}}),Bf=ht(os),Xy=_({},os,{dataTransfer:0}),Jy=ht(Xy),Qy=_({},Vr,{relatedTarget:0}),cu=ht(Qy),Wy=_({},sa,{animationName:0,elapsedTime:0,pseudoElement:0}),Fy=ht(Wy),e0=_({},sa,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),t0=ht(e0),n0=_({},sa,{data:0}),qf=ht(n0),a0={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},r0={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},i0={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function s0(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=i0[e])?!!t[e]:!1}function fu(){return s0}var l0=_({},Vr,{key:function(e){if(e.key){var t=a0[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=ss(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?r0[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:fu,charCode:function(e){return e.type==="keypress"?ss(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ss(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),u0=ht(l0),o0=_({},os,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),$f=ht(o0),c0=_({},Vr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:fu}),f0=ht(c0),d0=_({},sa,{propertyName:0,elapsedTime:0,pseudoElement:0}),h0=ht(d0),m0=_({},os,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),p0=ht(m0),g0=_({},sa,{newState:0,oldState:0}),y0=ht(g0),v0=[9,13,27,32],du=sn&&"CompositionEvent"in window,Yr=null;sn&&"documentMode"in document&&(Yr=document.documentMode);var b0=sn&&"TextEvent"in window&&!Yr,Hf=sn&&(!du||Yr&&8<Yr&&11>=Yr),Gf=" ",Vf=!1;function Kf(e,t){switch(e){case"keyup":return v0.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Yf(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var $a=!1;function _0(e,t){switch(e){case"compositionend":return Yf(t);case"keypress":return t.which!==32?null:(Vf=!0,Gf);case"textInput":return e=t.data,e===Gf&&Vf?null:e;default:return null}}function w0(e,t){if($a)return e==="compositionend"||!du&&Kf(e,t)?(e=Mf(),is=lu=Nn=null,$a=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Hf&&t.locale!=="ko"?null:t.data;default:return null}}var S0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function If(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!S0[e.type]:t==="textarea"}function Pf(e,t,a,s){Ba?qa?qa.push(s):qa=[s]:Ba=s,t=Ws(t,"onChange"),0<t.length&&(a=new us("onChange","change",null,a,s),e.push({event:a,listeners:t}))}var Ir=null,Pr=null;function x0(e){Om(e,0)}function cs(e){var t=$r(e);if(jf(t))return e}function Zf(e,t){if(e==="change")return t}var Xf=!1;if(sn){var hu;if(sn){var mu="oninput"in document;if(!mu){var Jf=document.createElement("div");Jf.setAttribute("oninput","return;"),mu=typeof Jf.oninput=="function"}hu=mu}else hu=!1;Xf=hu&&(!document.documentMode||9<document.documentMode)}function Qf(){Ir&&(Ir.detachEvent("onpropertychange",Wf),Pr=Ir=null)}function Wf(e){if(e.propertyName==="value"&&cs(Pr)){var t=[];Pf(t,Pr,e,ru(e)),Uf(x0,t)}}function E0(e,t,a){e==="focusin"?(Qf(),Ir=t,Pr=a,Ir.attachEvent("onpropertychange",Wf)):e==="focusout"&&Qf()}function T0(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return cs(Pr)}function A0(e,t){if(e==="click")return cs(t)}function R0(e,t){if(e==="input"||e==="change")return cs(t)}function j0(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var xt=typeof Object.is=="function"?Object.is:j0;function Zr(e,t){if(xt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var a=Object.keys(e),s=Object.keys(t);if(a.length!==s.length)return!1;for(s=0;s<a.length;s++){var u=a[s];if(!Yl.call(t,u)||!xt(e[u],t[u]))return!1}return!0}function Ff(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ed(e,t){var a=Ff(e);e=0;for(var s;a;){if(a.nodeType===3){if(s=e+a.textContent.length,e<=t&&s>=t)return{node:a,offset:t-e};e=s}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Ff(a)}}function td(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?td(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function nd(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=as(e.document);t instanceof e.HTMLIFrameElement;){try{var a=typeof t.contentWindow.location.href=="string"}catch{a=!1}if(a)e=t.contentWindow;else break;t=as(e.document)}return t}function pu(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var O0=sn&&"documentMode"in document&&11>=document.documentMode,Ha=null,gu=null,Xr=null,yu=!1;function ad(e,t,a){var s=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;yu||Ha==null||Ha!==as(s)||(s=Ha,"selectionStart"in s&&pu(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),Xr&&Zr(Xr,s)||(Xr=s,s=Ws(gu,"onSelect"),0<s.length&&(t=new us("onSelect","select",null,t,a),e.push({event:t,listeners:s}),t.target=Ha)))}function la(e,t){var a={};return a[e.toLowerCase()]=t.toLowerCase(),a["Webkit"+e]="webkit"+t,a["Moz"+e]="moz"+t,a}var Ga={animationend:la("Animation","AnimationEnd"),animationiteration:la("Animation","AnimationIteration"),animationstart:la("Animation","AnimationStart"),transitionrun:la("Transition","TransitionRun"),transitionstart:la("Transition","TransitionStart"),transitioncancel:la("Transition","TransitionCancel"),transitionend:la("Transition","TransitionEnd")},vu={},rd={};sn&&(rd=document.createElement("div").style,"AnimationEvent"in window||(delete Ga.animationend.animation,delete Ga.animationiteration.animation,delete Ga.animationstart.animation),"TransitionEvent"in window||delete Ga.transitionend.transition);function ua(e){if(vu[e])return vu[e];if(!Ga[e])return e;var t=Ga[e],a;for(a in t)if(t.hasOwnProperty(a)&&a in rd)return vu[e]=t[a];return e}var id=ua("animationend"),sd=ua("animationiteration"),ld=ua("animationstart"),N0=ua("transitionrun"),C0=ua("transitionstart"),L0=ua("transitioncancel"),ud=ua("transitionend"),od=new Map,bu="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");bu.push("scrollEnd");function Pt(e,t){od.set(e,t),ia(t,[e])}var fs=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Mt=[],Va=0,_u=0;function ds(){for(var e=Va,t=_u=Va=0;t<e;){var a=Mt[t];Mt[t++]=null;var s=Mt[t];Mt[t++]=null;var u=Mt[t];Mt[t++]=null;var f=Mt[t];if(Mt[t++]=null,s!==null&&u!==null){var p=s.pending;p===null?u.next=u:(u.next=p.next,p.next=u),s.pending=u}f!==0&&cd(a,u,f)}}function hs(e,t,a,s){Mt[Va++]=e,Mt[Va++]=t,Mt[Va++]=a,Mt[Va++]=s,_u|=s,e.lanes|=s,e=e.alternate,e!==null&&(e.lanes|=s)}function wu(e,t,a,s){return hs(e,t,a,s),ms(e)}function oa(e,t){return hs(e,null,null,t),ms(e)}function cd(e,t,a){e.lanes|=a;var s=e.alternate;s!==null&&(s.lanes|=a);for(var u=!1,f=e.return;f!==null;)f.childLanes|=a,s=f.alternate,s!==null&&(s.childLanes|=a),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(u=!0)),e=f,f=f.return;return e.tag===3?(f=e.stateNode,u&&t!==null&&(u=31-St(a),e=f.hiddenUpdates,s=e[u],s===null?e[u]=[t]:s.push(t),t.lane=a|536870912),f):null}function ms(e){if(50<yi)throw yi=0,Co=null,Error(l(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var Ka={};function k0(e,t,a,s){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Et(e,t,a,s){return new k0(e,t,a,s)}function Su(e){return e=e.prototype,!(!e||!e.isReactComponent)}function ln(e,t){var a=e.alternate;return a===null?(a=Et(e.tag,t,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=t,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,t=e.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function fd(e,t){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,t=a.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function ps(e,t,a,s,u,f){var p=0;if(s=e,typeof e=="function")Su(e)&&(p=1);else if(typeof e=="string")p=Bv(e,a,H.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case se:return e=Et(31,a,t,u),e.elementType=se,e.lanes=f,e;case R:return ca(a.children,u,f,t);case A:p=8,u|=24;break;case z:return e=Et(12,a,t,u|2),e.elementType=z,e.lanes=f,e;case D:return e=Et(13,a,t,u),e.elementType=D,e.lanes=f,e;case P:return e=Et(19,a,t,u),e.elementType=P,e.lanes=f,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case B:p=10;break e;case M:p=9;break e;case G:p=11;break e;case X:p=14;break e;case re:p=16,s=null;break e}p=29,a=Error(l(130,e===null?"null":typeof e,"")),s=null}return t=Et(p,a,t,u),t.elementType=e,t.type=s,t.lanes=f,t}function ca(e,t,a,s){return e=Et(7,e,s,t),e.lanes=a,e}function xu(e,t,a){return e=Et(6,e,null,t),e.lanes=a,e}function dd(e){var t=Et(18,null,null,0);return t.stateNode=e,t}function Eu(e,t,a){return t=Et(4,e.children!==null?e.children:[],e.key,t),t.lanes=a,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var hd=new WeakMap;function zt(e,t){if(typeof e=="object"&&e!==null){var a=hd.get(e);return a!==void 0?a:(t={value:e,source:t,stack:df(t)},hd.set(e,t),t)}return{value:e,source:t,stack:df(t)}}var Ya=[],Ia=0,gs=null,Jr=0,Bt=[],qt=0,Cn=null,Ft=1,en="";function un(e,t){Ya[Ia++]=Jr,Ya[Ia++]=gs,gs=e,Jr=t}function md(e,t,a){Bt[qt++]=Ft,Bt[qt++]=en,Bt[qt++]=Cn,Cn=e;var s=Ft;e=en;var u=32-St(s)-1;s&=~(1<<u),a+=1;var f=32-St(t)+u;if(30<f){var p=u-u%5;f=(s&(1<<p)-1).toString(32),s>>=p,u-=p,Ft=1<<32-St(t)+u|a<<u|s,en=f+e}else Ft=1<<f|a<<u|s,en=e}function Tu(e){e.return!==null&&(un(e,1),md(e,1,0))}function Au(e){for(;e===gs;)gs=Ya[--Ia],Ya[Ia]=null,Jr=Ya[--Ia],Ya[Ia]=null;for(;e===Cn;)Cn=Bt[--qt],Bt[qt]=null,en=Bt[--qt],Bt[qt]=null,Ft=Bt[--qt],Bt[qt]=null}function pd(e,t){Bt[qt++]=Ft,Bt[qt++]=en,Bt[qt++]=Cn,Ft=t.id,en=t.overflow,Cn=e}var nt=null,Ce=null,ve=!1,Ln=null,$t=!1,Ru=Error(l(519));function kn(e){var t=Error(l(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Qr(zt(t,e)),Ru}function gd(e){var t=e.stateNode,a=e.type,s=e.memoizedProps;switch(t[tt]=e,t[dt]=s,a){case"dialog":me("cancel",t),me("close",t);break;case"iframe":case"object":case"embed":me("load",t);break;case"video":case"audio":for(a=0;a<bi.length;a++)me(bi[a],t);break;case"source":me("error",t);break;case"img":case"image":case"link":me("error",t),me("load",t);break;case"details":me("toggle",t);break;case"input":me("invalid",t),Of(t,s.value,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name,!0);break;case"select":me("invalid",t);break;case"textarea":me("invalid",t),Cf(t,s.value,s.defaultValue,s.children)}a=s.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||t.textContent===""+a||s.suppressHydrationWarning===!0||km(t.textContent,a)?(s.popover!=null&&(me("beforetoggle",t),me("toggle",t)),s.onScroll!=null&&me("scroll",t),s.onScrollEnd!=null&&me("scrollend",t),s.onClick!=null&&(t.onclick=rn),t=!0):t=!1,t||kn(e,!0)}function yd(e){for(nt=e.return;nt;)switch(nt.tag){case 5:case 31:case 13:$t=!1;return;case 27:case 3:$t=!0;return;default:nt=nt.return}}function Pa(e){if(e!==nt)return!1;if(!ve)return yd(e),ve=!0,!1;var t=e.tag,a;if((a=t!==3&&t!==27)&&((a=t===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||Io(e.type,e.memoizedProps)),a=!a),a&&Ce&&kn(e),yd(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(l(317));Ce=Gm(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(l(317));Ce=Gm(e)}else t===27?(t=Ce,Pn(e.type)?(e=Qo,Qo=null,Ce=e):Ce=t):Ce=nt?Gt(e.stateNode.nextSibling):null;return!0}function fa(){Ce=nt=null,ve=!1}function ju(){var e=Ln;return e!==null&&(yt===null?yt=e:yt.push.apply(yt,e),Ln=null),e}function Qr(e){Ln===null?Ln=[e]:Ln.push(e)}var Ou=E(null),da=null,on=null;function Dn(e,t,a){Q(Ou,t._currentValue),t._currentValue=a}function cn(e){e._currentValue=Ou.current,K(Ou)}function Nu(e,t,a){for(;e!==null;){var s=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,s!==null&&(s.childLanes|=t)):s!==null&&(s.childLanes&t)!==t&&(s.childLanes|=t),e===a)break;e=e.return}}function Cu(e,t,a,s){var u=e.child;for(u!==null&&(u.return=e);u!==null;){var f=u.dependencies;if(f!==null){var p=u.child;f=f.firstContext;e:for(;f!==null;){var b=f;f=u;for(var x=0;x<t.length;x++)if(b.context===t[x]){f.lanes|=a,b=f.alternate,b!==null&&(b.lanes|=a),Nu(f.return,a,e),s||(p=null);break e}f=b.next}}else if(u.tag===18){if(p=u.return,p===null)throw Error(l(341));p.lanes|=a,f=p.alternate,f!==null&&(f.lanes|=a),Nu(p,a,e),p=null}else p=u.child;if(p!==null)p.return=u;else for(p=u;p!==null;){if(p===e){p=null;break}if(u=p.sibling,u!==null){u.return=p.return,p=u;break}p=p.return}u=p}}function Za(e,t,a,s){e=null;for(var u=t,f=!1;u!==null;){if(!f){if((u.flags&524288)!==0)f=!0;else if((u.flags&262144)!==0)break}if(u.tag===10){var p=u.alternate;if(p===null)throw Error(l(387));if(p=p.memoizedProps,p!==null){var b=u.type;xt(u.pendingProps.value,p.value)||(e!==null?e.push(b):e=[b])}}else if(u===ye.current){if(p=u.alternate,p===null)throw Error(l(387));p.memoizedState.memoizedState!==u.memoizedState.memoizedState&&(e!==null?e.push(Ei):e=[Ei])}u=u.return}e!==null&&Cu(t,e,a,s),t.flags|=262144}function ys(e){for(e=e.firstContext;e!==null;){if(!xt(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function ha(e){da=e,on=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function at(e){return vd(da,e)}function vs(e,t){return da===null&&ha(e),vd(e,t)}function vd(e,t){var a=t._currentValue;if(t={context:t,memoizedValue:a,next:null},on===null){if(e===null)throw Error(l(308));on=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else on=on.next=t;return a}var D0=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(a,s){e.push(s)}};this.abort=function(){t.aborted=!0,e.forEach(function(a){return a()})}},U0=r.unstable_scheduleCallback,M0=r.unstable_NormalPriority,Ve={$$typeof:B,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Lu(){return{controller:new D0,data:new Map,refCount:0}}function Wr(e){e.refCount--,e.refCount===0&&U0(M0,function(){e.controller.abort()})}var Fr=null,ku=0,Xa=0,Ja=null;function z0(e,t){if(Fr===null){var a=Fr=[];ku=0,Xa=zo(),Ja={status:"pending",value:void 0,then:function(s){a.push(s)}}}return ku++,t.then(bd,bd),t}function bd(){if(--ku===0&&Fr!==null){Ja!==null&&(Ja.status="fulfilled");var e=Fr;Fr=null,Xa=0,Ja=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function B0(e,t){var a=[],s={status:"pending",value:null,reason:null,then:function(u){a.push(u)}};return e.then(function(){s.status="fulfilled",s.value=t;for(var u=0;u<a.length;u++)(0,a[u])(t)},function(u){for(s.status="rejected",s.reason=u,u=0;u<a.length;u++)(0,a[u])(void 0)}),s}var _d=q.S;q.S=function(e,t){am=_t(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&z0(e,t),_d!==null&&_d(e,t)};var ma=E(null);function Du(){var e=ma.current;return e!==null?e:je.pooledCache}function bs(e,t){t===null?Q(ma,ma.current):Q(ma,t.pool)}function wd(){var e=Du();return e===null?null:{parent:Ve._currentValue,pool:e}}var Qa=Error(l(460)),Uu=Error(l(474)),_s=Error(l(542)),ws={then:function(){}};function Sd(e){return e=e.status,e==="fulfilled"||e==="rejected"}function xd(e,t,a){switch(a=e[a],a===void 0?e.push(t):a!==t&&(t.then(rn,rn),t=a),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Td(e),e;default:if(typeof t.status=="string")t.then(rn,rn);else{if(e=je,e!==null&&100<e.shellSuspendCounter)throw Error(l(482));e=t,e.status="pending",e.then(function(s){if(t.status==="pending"){var u=t;u.status="fulfilled",u.value=s}},function(s){if(t.status==="pending"){var u=t;u.status="rejected",u.reason=s}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Td(e),e}throw ga=t,Qa}}function pa(e){try{var t=e._init;return t(e._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(ga=a,Qa):a}}var ga=null;function Ed(){if(ga===null)throw Error(l(459));var e=ga;return ga=null,e}function Td(e){if(e===Qa||e===_s)throw Error(l(483))}var Wa=null,ei=0;function Ss(e){var t=ei;return ei+=1,Wa===null&&(Wa=[]),xd(Wa,e,t)}function ti(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function xs(e,t){throw t.$$typeof===w?Error(l(525)):(e=Object.prototype.toString.call(t),Error(l(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function Ad(e){function t(N,T){if(e){var C=N.deletions;C===null?(N.deletions=[T],N.flags|=16):C.push(T)}}function a(N,T){if(!e)return null;for(;T!==null;)t(N,T),T=T.sibling;return null}function s(N){for(var T=new Map;N!==null;)N.key!==null?T.set(N.key,N):T.set(N.index,N),N=N.sibling;return T}function u(N,T){return N=ln(N,T),N.index=0,N.sibling=null,N}function f(N,T,C){return N.index=C,e?(C=N.alternate,C!==null?(C=C.index,C<T?(N.flags|=67108866,T):C):(N.flags|=67108866,T)):(N.flags|=1048576,T)}function p(N){return e&&N.alternate===null&&(N.flags|=67108866),N}function b(N,T,C,Y){return T===null||T.tag!==6?(T=xu(C,N.mode,Y),T.return=N,T):(T=u(T,C),T.return=N,T)}function x(N,T,C,Y){var ie=C.type;return ie===R?$(N,T,C.props.children,Y,C.key):T!==null&&(T.elementType===ie||typeof ie=="object"&&ie!==null&&ie.$$typeof===re&&pa(ie)===T.type)?(T=u(T,C.props),ti(T,C),T.return=N,T):(T=ps(C.type,C.key,C.props,null,N.mode,Y),ti(T,C),T.return=N,T)}function L(N,T,C,Y){return T===null||T.tag!==4||T.stateNode.containerInfo!==C.containerInfo||T.stateNode.implementation!==C.implementation?(T=Eu(C,N.mode,Y),T.return=N,T):(T=u(T,C.children||[]),T.return=N,T)}function $(N,T,C,Y,ie){return T===null||T.tag!==7?(T=ca(C,N.mode,Y,ie),T.return=N,T):(T=u(T,C),T.return=N,T)}function I(N,T,C){if(typeof T=="string"&&T!==""||typeof T=="number"||typeof T=="bigint")return T=xu(""+T,N.mode,C),T.return=N,T;if(typeof T=="object"&&T!==null){switch(T.$$typeof){case S:return C=ps(T.type,T.key,T.props,null,N.mode,C),ti(C,T),C.return=N,C;case O:return T=Eu(T,N.mode,C),T.return=N,T;case re:return T=pa(T),I(N,T,C)}if(et(T)||Qe(T))return T=ca(T,N.mode,C,null),T.return=N,T;if(typeof T.then=="function")return I(N,Ss(T),C);if(T.$$typeof===B)return I(N,vs(N,T),C);xs(N,T)}return null}function k(N,T,C,Y){var ie=T!==null?T.key:null;if(typeof C=="string"&&C!==""||typeof C=="number"||typeof C=="bigint")return ie!==null?null:b(N,T,""+C,Y);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case S:return C.key===ie?x(N,T,C,Y):null;case O:return C.key===ie?L(N,T,C,Y):null;case re:return C=pa(C),k(N,T,C,Y)}if(et(C)||Qe(C))return ie!==null?null:$(N,T,C,Y,null);if(typeof C.then=="function")return k(N,T,Ss(C),Y);if(C.$$typeof===B)return k(N,T,vs(N,C),Y);xs(N,C)}return null}function U(N,T,C,Y,ie){if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return N=N.get(C)||null,b(T,N,""+Y,ie);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case S:return N=N.get(Y.key===null?C:Y.key)||null,x(T,N,Y,ie);case O:return N=N.get(Y.key===null?C:Y.key)||null,L(T,N,Y,ie);case re:return Y=pa(Y),U(N,T,C,Y,ie)}if(et(Y)||Qe(Y))return N=N.get(C)||null,$(T,N,Y,ie,null);if(typeof Y.then=="function")return U(N,T,C,Ss(Y),ie);if(Y.$$typeof===B)return U(N,T,C,vs(T,Y),ie);xs(T,Y)}return null}function ee(N,T,C,Y){for(var ie=null,_e=null,ne=T,de=T=0,ge=null;ne!==null&&de<C.length;de++){ne.index>de?(ge=ne,ne=null):ge=ne.sibling;var we=k(N,ne,C[de],Y);if(we===null){ne===null&&(ne=ge);break}e&&ne&&we.alternate===null&&t(N,ne),T=f(we,T,de),_e===null?ie=we:_e.sibling=we,_e=we,ne=ge}if(de===C.length)return a(N,ne),ve&&un(N,de),ie;if(ne===null){for(;de<C.length;de++)ne=I(N,C[de],Y),ne!==null&&(T=f(ne,T,de),_e===null?ie=ne:_e.sibling=ne,_e=ne);return ve&&un(N,de),ie}for(ne=s(ne);de<C.length;de++)ge=U(ne,N,de,C[de],Y),ge!==null&&(e&&ge.alternate!==null&&ne.delete(ge.key===null?de:ge.key),T=f(ge,T,de),_e===null?ie=ge:_e.sibling=ge,_e=ge);return e&&ne.forEach(function(Wn){return t(N,Wn)}),ve&&un(N,de),ie}function le(N,T,C,Y){if(C==null)throw Error(l(151));for(var ie=null,_e=null,ne=T,de=T=0,ge=null,we=C.next();ne!==null&&!we.done;de++,we=C.next()){ne.index>de?(ge=ne,ne=null):ge=ne.sibling;var Wn=k(N,ne,we.value,Y);if(Wn===null){ne===null&&(ne=ge);break}e&&ne&&Wn.alternate===null&&t(N,ne),T=f(Wn,T,de),_e===null?ie=Wn:_e.sibling=Wn,_e=Wn,ne=ge}if(we.done)return a(N,ne),ve&&un(N,de),ie;if(ne===null){for(;!we.done;de++,we=C.next())we=I(N,we.value,Y),we!==null&&(T=f(we,T,de),_e===null?ie=we:_e.sibling=we,_e=we);return ve&&un(N,de),ie}for(ne=s(ne);!we.done;de++,we=C.next())we=U(ne,N,de,we.value,Y),we!==null&&(e&&we.alternate!==null&&ne.delete(we.key===null?de:we.key),T=f(we,T,de),_e===null?ie=we:_e.sibling=we,_e=we);return e&&ne.forEach(function(Xv){return t(N,Xv)}),ve&&un(N,de),ie}function Re(N,T,C,Y){if(typeof C=="object"&&C!==null&&C.type===R&&C.key===null&&(C=C.props.children),typeof C=="object"&&C!==null){switch(C.$$typeof){case S:e:{for(var ie=C.key;T!==null;){if(T.key===ie){if(ie=C.type,ie===R){if(T.tag===7){a(N,T.sibling),Y=u(T,C.props.children),Y.return=N,N=Y;break e}}else if(T.elementType===ie||typeof ie=="object"&&ie!==null&&ie.$$typeof===re&&pa(ie)===T.type){a(N,T.sibling),Y=u(T,C.props),ti(Y,C),Y.return=N,N=Y;break e}a(N,T);break}else t(N,T);T=T.sibling}C.type===R?(Y=ca(C.props.children,N.mode,Y,C.key),Y.return=N,N=Y):(Y=ps(C.type,C.key,C.props,null,N.mode,Y),ti(Y,C),Y.return=N,N=Y)}return p(N);case O:e:{for(ie=C.key;T!==null;){if(T.key===ie)if(T.tag===4&&T.stateNode.containerInfo===C.containerInfo&&T.stateNode.implementation===C.implementation){a(N,T.sibling),Y=u(T,C.children||[]),Y.return=N,N=Y;break e}else{a(N,T);break}else t(N,T);T=T.sibling}Y=Eu(C,N.mode,Y),Y.return=N,N=Y}return p(N);case re:return C=pa(C),Re(N,T,C,Y)}if(et(C))return ee(N,T,C,Y);if(Qe(C)){if(ie=Qe(C),typeof ie!="function")throw Error(l(150));return C=ie.call(C),le(N,T,C,Y)}if(typeof C.then=="function")return Re(N,T,Ss(C),Y);if(C.$$typeof===B)return Re(N,T,vs(N,C),Y);xs(N,C)}return typeof C=="string"&&C!==""||typeof C=="number"||typeof C=="bigint"?(C=""+C,T!==null&&T.tag===6?(a(N,T.sibling),Y=u(T,C),Y.return=N,N=Y):(a(N,T),Y=xu(C,N.mode,Y),Y.return=N,N=Y),p(N)):a(N,T)}return function(N,T,C,Y){try{ei=0;var ie=Re(N,T,C,Y);return Wa=null,ie}catch(ne){if(ne===Qa||ne===_s)throw ne;var _e=Et(29,ne,null,N.mode);return _e.lanes=Y,_e.return=N,_e}}}var ya=Ad(!0),Rd=Ad(!1),Un=!1;function Mu(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function zu(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Mn(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function zn(e,t,a){var s=e.updateQueue;if(s===null)return null;if(s=s.shared,(Se&2)!==0){var u=s.pending;return u===null?t.next=t:(t.next=u.next,u.next=t),s.pending=t,t=ms(e),cd(e,null,a),t}return hs(e,s,t,a),ms(e)}function ni(e,t,a){if(t=t.updateQueue,t!==null&&(t=t.shared,(a&4194048)!==0)){var s=t.lanes;s&=e.pendingLanes,a|=s,t.lanes=a,vf(e,a)}}function Bu(e,t){var a=e.updateQueue,s=e.alternate;if(s!==null&&(s=s.updateQueue,a===s)){var u=null,f=null;if(a=a.firstBaseUpdate,a!==null){do{var p={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};f===null?u=f=p:f=f.next=p,a=a.next}while(a!==null);f===null?u=f=t:f=f.next=t}else u=f=t;a={baseState:s.baseState,firstBaseUpdate:u,lastBaseUpdate:f,shared:s.shared,callbacks:s.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=t:e.next=t,a.lastBaseUpdate=t}var qu=!1;function ai(){if(qu){var e=Ja;if(e!==null)throw e}}function ri(e,t,a,s){qu=!1;var u=e.updateQueue;Un=!1;var f=u.firstBaseUpdate,p=u.lastBaseUpdate,b=u.shared.pending;if(b!==null){u.shared.pending=null;var x=b,L=x.next;x.next=null,p===null?f=L:p.next=L,p=x;var $=e.alternate;$!==null&&($=$.updateQueue,b=$.lastBaseUpdate,b!==p&&(b===null?$.firstBaseUpdate=L:b.next=L,$.lastBaseUpdate=x))}if(f!==null){var I=u.baseState;p=0,$=L=x=null,b=f;do{var k=b.lane&-536870913,U=k!==b.lane;if(U?(pe&k)===k:(s&k)===k){k!==0&&k===Xa&&(qu=!0),$!==null&&($=$.next={lane:0,tag:b.tag,payload:b.payload,callback:null,next:null});e:{var ee=e,le=b;k=t;var Re=a;switch(le.tag){case 1:if(ee=le.payload,typeof ee=="function"){I=ee.call(Re,I,k);break e}I=ee;break e;case 3:ee.flags=ee.flags&-65537|128;case 0:if(ee=le.payload,k=typeof ee=="function"?ee.call(Re,I,k):ee,k==null)break e;I=_({},I,k);break e;case 2:Un=!0}}k=b.callback,k!==null&&(e.flags|=64,U&&(e.flags|=8192),U=u.callbacks,U===null?u.callbacks=[k]:U.push(k))}else U={lane:k,tag:b.tag,payload:b.payload,callback:b.callback,next:null},$===null?(L=$=U,x=I):$=$.next=U,p|=k;if(b=b.next,b===null){if(b=u.shared.pending,b===null)break;U=b,b=U.next,U.next=null,u.lastBaseUpdate=U,u.shared.pending=null}}while(!0);$===null&&(x=I),u.baseState=x,u.firstBaseUpdate=L,u.lastBaseUpdate=$,f===null&&(u.shared.lanes=0),Gn|=p,e.lanes=p,e.memoizedState=I}}function jd(e,t){if(typeof e!="function")throw Error(l(191,e));e.call(t)}function Od(e,t){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)jd(a[e],t)}var Fa=E(null),Es=E(0);function Nd(e,t){e=bn,Q(Es,e),Q(Fa,t),bn=e|t.baseLanes}function $u(){Q(Es,bn),Q(Fa,Fa.current)}function Hu(){bn=Es.current,K(Fa),K(Es)}var Tt=E(null),Ht=null;function Bn(e){var t=e.alternate;Q(He,He.current&1),Q(Tt,e),Ht===null&&(t===null||Fa.current!==null||t.memoizedState!==null)&&(Ht=e)}function Gu(e){Q(He,He.current),Q(Tt,e),Ht===null&&(Ht=e)}function Cd(e){e.tag===22?(Q(He,He.current),Q(Tt,e),Ht===null&&(Ht=e)):qn()}function qn(){Q(He,He.current),Q(Tt,Tt.current)}function At(e){K(Tt),Ht===e&&(Ht=null),K(He)}var He=E(0);function Ts(e){for(var t=e;t!==null;){if(t.tag===13){var a=t.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Xo(a)||Jo(a)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var fn=0,fe=null,Te=null,Ke=null,As=!1,er=!1,va=!1,Rs=0,ii=0,tr=null,q0=0;function Me(){throw Error(l(321))}function Vu(e,t){if(t===null)return!1;for(var a=0;a<t.length&&a<e.length;a++)if(!xt(e[a],t[a]))return!1;return!0}function Ku(e,t,a,s,u,f){return fn=f,fe=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,q.H=e===null||e.memoizedState===null?mh:io,va=!1,f=a(s,u),va=!1,er&&(f=kd(t,a,s,u)),Ld(e),f}function Ld(e){q.H=ui;var t=Te!==null&&Te.next!==null;if(fn=0,Ke=Te=fe=null,As=!1,ii=0,tr=null,t)throw Error(l(300));e===null||Ye||(e=e.dependencies,e!==null&&ys(e)&&(Ye=!0))}function kd(e,t,a,s){fe=e;var u=0;do{if(er&&(tr=null),ii=0,er=!1,25<=u)throw Error(l(301));if(u+=1,Ke=Te=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}q.H=ph,f=t(a,s)}while(er);return f}function $0(){var e=q.H,t=e.useState()[0];return t=typeof t.then=="function"?si(t):t,e=e.useState()[0],(Te!==null?Te.memoizedState:null)!==e&&(fe.flags|=1024),t}function Yu(){var e=Rs!==0;return Rs=0,e}function Iu(e,t,a){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a}function Pu(e){if(As){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}As=!1}fn=0,Ke=Te=fe=null,er=!1,ii=Rs=0,tr=null}function ct(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ke===null?fe.memoizedState=Ke=e:Ke=Ke.next=e,Ke}function Ge(){if(Te===null){var e=fe.alternate;e=e!==null?e.memoizedState:null}else e=Te.next;var t=Ke===null?fe.memoizedState:Ke.next;if(t!==null)Ke=t,Te=e;else{if(e===null)throw fe.alternate===null?Error(l(467)):Error(l(310));Te=e,e={memoizedState:Te.memoizedState,baseState:Te.baseState,baseQueue:Te.baseQueue,queue:Te.queue,next:null},Ke===null?fe.memoizedState=Ke=e:Ke=Ke.next=e}return Ke}function js(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function si(e){var t=ii;return ii+=1,tr===null&&(tr=[]),e=xd(tr,e,t),t=fe,(Ke===null?t.memoizedState:Ke.next)===null&&(t=t.alternate,q.H=t===null||t.memoizedState===null?mh:io),e}function Os(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return si(e);if(e.$$typeof===B)return at(e)}throw Error(l(438,String(e)))}function Zu(e){var t=null,a=fe.updateQueue;if(a!==null&&(t=a.memoCache),t==null){var s=fe.alternate;s!==null&&(s=s.updateQueue,s!==null&&(s=s.memoCache,s!=null&&(t={data:s.data.map(function(u){return u.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),a===null&&(a=js(),fe.updateQueue=a),a.memoCache=t,a=t.data[t.index],a===void 0)for(a=t.data[t.index]=Array(e),s=0;s<e;s++)a[s]=De;return t.index++,a}function dn(e,t){return typeof t=="function"?t(e):t}function Ns(e){var t=Ge();return Xu(t,Te,e)}function Xu(e,t,a){var s=e.queue;if(s===null)throw Error(l(311));s.lastRenderedReducer=a;var u=e.baseQueue,f=s.pending;if(f!==null){if(u!==null){var p=u.next;u.next=f.next,f.next=p}t.baseQueue=u=f,s.pending=null}if(f=e.baseState,u===null)e.memoizedState=f;else{t=u.next;var b=p=null,x=null,L=t,$=!1;do{var I=L.lane&-536870913;if(I!==L.lane?(pe&I)===I:(fn&I)===I){var k=L.revertLane;if(k===0)x!==null&&(x=x.next={lane:0,revertLane:0,gesture:null,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null}),I===Xa&&($=!0);else if((fn&k)===k){L=L.next,k===Xa&&($=!0);continue}else I={lane:0,revertLane:L.revertLane,gesture:null,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null},x===null?(b=x=I,p=f):x=x.next=I,fe.lanes|=k,Gn|=k;I=L.action,va&&a(f,I),f=L.hasEagerState?L.eagerState:a(f,I)}else k={lane:I,revertLane:L.revertLane,gesture:L.gesture,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null},x===null?(b=x=k,p=f):x=x.next=k,fe.lanes|=I,Gn|=I;L=L.next}while(L!==null&&L!==t);if(x===null?p=f:x.next=b,!xt(f,e.memoizedState)&&(Ye=!0,$&&(a=Ja,a!==null)))throw a;e.memoizedState=f,e.baseState=p,e.baseQueue=x,s.lastRenderedState=f}return u===null&&(s.lanes=0),[e.memoizedState,s.dispatch]}function Ju(e){var t=Ge(),a=t.queue;if(a===null)throw Error(l(311));a.lastRenderedReducer=e;var s=a.dispatch,u=a.pending,f=t.memoizedState;if(u!==null){a.pending=null;var p=u=u.next;do f=e(f,p.action),p=p.next;while(p!==u);xt(f,t.memoizedState)||(Ye=!0),t.memoizedState=f,t.baseQueue===null&&(t.baseState=f),a.lastRenderedState=f}return[f,s]}function Dd(e,t,a){var s=fe,u=Ge(),f=ve;if(f){if(a===void 0)throw Error(l(407));a=a()}else a=t();var p=!xt((Te||u).memoizedState,a);if(p&&(u.memoizedState=a,Ye=!0),u=u.queue,Fu(zd.bind(null,s,u,e),[e]),u.getSnapshot!==t||p||Ke!==null&&Ke.memoizedState.tag&1){if(s.flags|=2048,nr(9,{destroy:void 0},Md.bind(null,s,u,a,t),null),je===null)throw Error(l(349));f||(fn&127)!==0||Ud(s,t,a)}return a}function Ud(e,t,a){e.flags|=16384,e={getSnapshot:t,value:a},t=fe.updateQueue,t===null?(t=js(),fe.updateQueue=t,t.stores=[e]):(a=t.stores,a===null?t.stores=[e]:a.push(e))}function Md(e,t,a,s){t.value=a,t.getSnapshot=s,Bd(t)&&qd(e)}function zd(e,t,a){return a(function(){Bd(t)&&qd(e)})}function Bd(e){var t=e.getSnapshot;e=e.value;try{var a=t();return!xt(e,a)}catch{return!0}}function qd(e){var t=oa(e,2);t!==null&&vt(t,e,2)}function Qu(e){var t=ct();if(typeof e=="function"){var a=e;if(e=a(),va){jn(!0);try{a()}finally{jn(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:dn,lastRenderedState:e},t}function $d(e,t,a,s){return e.baseState=a,Xu(e,Te,typeof s=="function"?s:dn)}function H0(e,t,a,s,u){if(ks(e))throw Error(l(485));if(e=t.action,e!==null){var f={payload:u,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(p){f.listeners.push(p)}};q.T!==null?a(!0):f.isTransition=!1,s(f),a=t.pending,a===null?(f.next=t.pending=f,Hd(t,f)):(f.next=a.next,t.pending=a.next=f)}}function Hd(e,t){var a=t.action,s=t.payload,u=e.state;if(t.isTransition){var f=q.T,p={};q.T=p;try{var b=a(u,s),x=q.S;x!==null&&x(p,b),Gd(e,t,b)}catch(L){Wu(e,t,L)}finally{f!==null&&p.types!==null&&(f.types=p.types),q.T=f}}else try{f=a(u,s),Gd(e,t,f)}catch(L){Wu(e,t,L)}}function Gd(e,t,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(s){Vd(e,t,s)},function(s){return Wu(e,t,s)}):Vd(e,t,a)}function Vd(e,t,a){t.status="fulfilled",t.value=a,Kd(t),e.state=a,t=e.pending,t!==null&&(a=t.next,a===t?e.pending=null:(a=a.next,t.next=a,Hd(e,a)))}function Wu(e,t,a){var s=e.pending;if(e.pending=null,s!==null){s=s.next;do t.status="rejected",t.reason=a,Kd(t),t=t.next;while(t!==s)}e.action=null}function Kd(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Yd(e,t){return t}function Id(e,t){if(ve){var a=je.formState;if(a!==null){e:{var s=fe;if(ve){if(Ce){t:{for(var u=Ce,f=$t;u.nodeType!==8;){if(!f){u=null;break t}if(u=Gt(u.nextSibling),u===null){u=null;break t}}f=u.data,u=f==="F!"||f==="F"?u:null}if(u){Ce=Gt(u.nextSibling),s=u.data==="F!";break e}}kn(s)}s=!1}s&&(t=a[0])}}return a=ct(),a.memoizedState=a.baseState=t,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Yd,lastRenderedState:t},a.queue=s,a=fh.bind(null,fe,s),s.dispatch=a,s=Qu(!1),f=ro.bind(null,fe,!1,s.queue),s=ct(),u={state:t,dispatch:null,action:e,pending:null},s.queue=u,a=H0.bind(null,fe,u,f,a),u.dispatch=a,s.memoizedState=e,[t,a,!1]}function Pd(e){var t=Ge();return Zd(t,Te,e)}function Zd(e,t,a){if(t=Xu(e,t,Yd)[0],e=Ns(dn)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var s=si(t)}catch(p){throw p===Qa?_s:p}else s=t;t=Ge();var u=t.queue,f=u.dispatch;return a!==t.memoizedState&&(fe.flags|=2048,nr(9,{destroy:void 0},G0.bind(null,u,a),null)),[s,f,e]}function G0(e,t){e.action=t}function Xd(e){var t=Ge(),a=Te;if(a!==null)return Zd(t,a,e);Ge(),t=t.memoizedState,a=Ge();var s=a.queue.dispatch;return a.memoizedState=e,[t,s,!1]}function nr(e,t,a,s){return e={tag:e,create:a,deps:s,inst:t,next:null},t=fe.updateQueue,t===null&&(t=js(),fe.updateQueue=t),a=t.lastEffect,a===null?t.lastEffect=e.next=e:(s=a.next,a.next=e,e.next=s,t.lastEffect=e),e}function Jd(){return Ge().memoizedState}function Cs(e,t,a,s){var u=ct();fe.flags|=e,u.memoizedState=nr(1|t,{destroy:void 0},a,s===void 0?null:s)}function Ls(e,t,a,s){var u=Ge();s=s===void 0?null:s;var f=u.memoizedState.inst;Te!==null&&s!==null&&Vu(s,Te.memoizedState.deps)?u.memoizedState=nr(t,f,a,s):(fe.flags|=e,u.memoizedState=nr(1|t,f,a,s))}function Qd(e,t){Cs(8390656,8,e,t)}function Fu(e,t){Ls(2048,8,e,t)}function V0(e){fe.flags|=4;var t=fe.updateQueue;if(t===null)t=js(),fe.updateQueue=t,t.events=[e];else{var a=t.events;a===null?t.events=[e]:a.push(e)}}function Wd(e){var t=Ge().memoizedState;return V0({ref:t,nextImpl:e}),function(){if((Se&2)!==0)throw Error(l(440));return t.impl.apply(void 0,arguments)}}function Fd(e,t){return Ls(4,2,e,t)}function eh(e,t){return Ls(4,4,e,t)}function th(e,t){if(typeof t=="function"){e=e();var a=t(e);return function(){typeof a=="function"?a():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function nh(e,t,a){a=a!=null?a.concat([e]):null,Ls(4,4,th.bind(null,t,e),a)}function eo(){}function ah(e,t){var a=Ge();t=t===void 0?null:t;var s=a.memoizedState;return t!==null&&Vu(t,s[1])?s[0]:(a.memoizedState=[e,t],e)}function rh(e,t){var a=Ge();t=t===void 0?null:t;var s=a.memoizedState;if(t!==null&&Vu(t,s[1]))return s[0];if(s=e(),va){jn(!0);try{e()}finally{jn(!1)}}return a.memoizedState=[s,t],s}function to(e,t,a){return a===void 0||(fn&1073741824)!==0&&(pe&261930)===0?e.memoizedState=t:(e.memoizedState=a,e=im(),fe.lanes|=e,Gn|=e,a)}function ih(e,t,a,s){return xt(a,t)?a:Fa.current!==null?(e=to(e,a,s),xt(e,t)||(Ye=!0),e):(fn&42)===0||(fn&1073741824)!==0&&(pe&261930)===0?(Ye=!0,e.memoizedState=a):(e=im(),fe.lanes|=e,Gn|=e,t)}function sh(e,t,a,s,u){var f=V.p;V.p=f!==0&&8>f?f:8;var p=q.T,b={};q.T=b,ro(e,!1,t,a);try{var x=u(),L=q.S;if(L!==null&&L(b,x),x!==null&&typeof x=="object"&&typeof x.then=="function"){var $=B0(x,s);li(e,t,$,Ot(e))}else li(e,t,s,Ot(e))}catch(I){li(e,t,{then:function(){},status:"rejected",reason:I},Ot())}finally{V.p=f,p!==null&&b.types!==null&&(p.types=b.types),q.T=p}}function K0(){}function no(e,t,a,s){if(e.tag!==5)throw Error(l(476));var u=lh(e).queue;sh(e,u,t,Z,a===null?K0:function(){return uh(e),a(s)})}function lh(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:Z,baseState:Z,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:dn,lastRenderedState:Z},next:null};var a={};return t.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:dn,lastRenderedState:a},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function uh(e){var t=lh(e);t.next===null&&(t=e.alternate.memoizedState),li(e,t.next.queue,{},Ot())}function ao(){return at(Ei)}function oh(){return Ge().memoizedState}function ch(){return Ge().memoizedState}function Y0(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var a=Ot();e=Mn(a);var s=zn(t,e,a);s!==null&&(vt(s,t,a),ni(s,t,a)),t={cache:Lu()},e.payload=t;return}t=t.return}}function I0(e,t,a){var s=Ot();a={lane:s,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},ks(e)?dh(t,a):(a=wu(e,t,a,s),a!==null&&(vt(a,e,s),hh(a,t,s)))}function fh(e,t,a){var s=Ot();li(e,t,a,s)}function li(e,t,a,s){var u={lane:s,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(ks(e))dh(t,u);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=t.lastRenderedReducer,f!==null))try{var p=t.lastRenderedState,b=f(p,a);if(u.hasEagerState=!0,u.eagerState=b,xt(b,p))return hs(e,t,u,0),je===null&&ds(),!1}catch{}if(a=wu(e,t,u,s),a!==null)return vt(a,e,s),hh(a,t,s),!0}return!1}function ro(e,t,a,s){if(s={lane:2,revertLane:zo(),gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},ks(e)){if(t)throw Error(l(479))}else t=wu(e,a,s,2),t!==null&&vt(t,e,2)}function ks(e){var t=e.alternate;return e===fe||t!==null&&t===fe}function dh(e,t){er=As=!0;var a=e.pending;a===null?t.next=t:(t.next=a.next,a.next=t),e.pending=t}function hh(e,t,a){if((a&4194048)!==0){var s=t.lanes;s&=e.pendingLanes,a|=s,t.lanes=a,vf(e,a)}}var ui={readContext:at,use:Os,useCallback:Me,useContext:Me,useEffect:Me,useImperativeHandle:Me,useLayoutEffect:Me,useInsertionEffect:Me,useMemo:Me,useReducer:Me,useRef:Me,useState:Me,useDebugValue:Me,useDeferredValue:Me,useTransition:Me,useSyncExternalStore:Me,useId:Me,useHostTransitionStatus:Me,useFormState:Me,useActionState:Me,useOptimistic:Me,useMemoCache:Me,useCacheRefresh:Me};ui.useEffectEvent=Me;var mh={readContext:at,use:Os,useCallback:function(e,t){return ct().memoizedState=[e,t===void 0?null:t],e},useContext:at,useEffect:Qd,useImperativeHandle:function(e,t,a){a=a!=null?a.concat([e]):null,Cs(4194308,4,th.bind(null,t,e),a)},useLayoutEffect:function(e,t){return Cs(4194308,4,e,t)},useInsertionEffect:function(e,t){Cs(4,2,e,t)},useMemo:function(e,t){var a=ct();t=t===void 0?null:t;var s=e();if(va){jn(!0);try{e()}finally{jn(!1)}}return a.memoizedState=[s,t],s},useReducer:function(e,t,a){var s=ct();if(a!==void 0){var u=a(t);if(va){jn(!0);try{a(t)}finally{jn(!1)}}}else u=t;return s.memoizedState=s.baseState=u,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:u},s.queue=e,e=e.dispatch=I0.bind(null,fe,e),[s.memoizedState,e]},useRef:function(e){var t=ct();return e={current:e},t.memoizedState=e},useState:function(e){e=Qu(e);var t=e.queue,a=fh.bind(null,fe,t);return t.dispatch=a,[e.memoizedState,a]},useDebugValue:eo,useDeferredValue:function(e,t){var a=ct();return to(a,e,t)},useTransition:function(){var e=Qu(!1);return e=sh.bind(null,fe,e.queue,!0,!1),ct().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,a){var s=fe,u=ct();if(ve){if(a===void 0)throw Error(l(407));a=a()}else{if(a=t(),je===null)throw Error(l(349));(pe&127)!==0||Ud(s,t,a)}u.memoizedState=a;var f={value:a,getSnapshot:t};return u.queue=f,Qd(zd.bind(null,s,f,e),[e]),s.flags|=2048,nr(9,{destroy:void 0},Md.bind(null,s,f,a,t),null),a},useId:function(){var e=ct(),t=je.identifierPrefix;if(ve){var a=en,s=Ft;a=(s&~(1<<32-St(s)-1)).toString(32)+a,t="_"+t+"R_"+a,a=Rs++,0<a&&(t+="H"+a.toString(32)),t+="_"}else a=q0++,t="_"+t+"r_"+a.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:ao,useFormState:Id,useActionState:Id,useOptimistic:function(e){var t=ct();t.memoizedState=t.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=a,t=ro.bind(null,fe,!0,a),a.dispatch=t,[e,t]},useMemoCache:Zu,useCacheRefresh:function(){return ct().memoizedState=Y0.bind(null,fe)},useEffectEvent:function(e){var t=ct(),a={impl:e};return t.memoizedState=a,function(){if((Se&2)!==0)throw Error(l(440));return a.impl.apply(void 0,arguments)}}},io={readContext:at,use:Os,useCallback:ah,useContext:at,useEffect:Fu,useImperativeHandle:nh,useInsertionEffect:Fd,useLayoutEffect:eh,useMemo:rh,useReducer:Ns,useRef:Jd,useState:function(){return Ns(dn)},useDebugValue:eo,useDeferredValue:function(e,t){var a=Ge();return ih(a,Te.memoizedState,e,t)},useTransition:function(){var e=Ns(dn)[0],t=Ge().memoizedState;return[typeof e=="boolean"?e:si(e),t]},useSyncExternalStore:Dd,useId:oh,useHostTransitionStatus:ao,useFormState:Pd,useActionState:Pd,useOptimistic:function(e,t){var a=Ge();return $d(a,Te,e,t)},useMemoCache:Zu,useCacheRefresh:ch};io.useEffectEvent=Wd;var ph={readContext:at,use:Os,useCallback:ah,useContext:at,useEffect:Fu,useImperativeHandle:nh,useInsertionEffect:Fd,useLayoutEffect:eh,useMemo:rh,useReducer:Ju,useRef:Jd,useState:function(){return Ju(dn)},useDebugValue:eo,useDeferredValue:function(e,t){var a=Ge();return Te===null?to(a,e,t):ih(a,Te.memoizedState,e,t)},useTransition:function(){var e=Ju(dn)[0],t=Ge().memoizedState;return[typeof e=="boolean"?e:si(e),t]},useSyncExternalStore:Dd,useId:oh,useHostTransitionStatus:ao,useFormState:Xd,useActionState:Xd,useOptimistic:function(e,t){var a=Ge();return Te!==null?$d(a,Te,e,t):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:Zu,useCacheRefresh:ch};ph.useEffectEvent=Wd;function so(e,t,a,s){t=e.memoizedState,a=a(s,t),a=a==null?t:_({},t,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var lo={enqueueSetState:function(e,t,a){e=e._reactInternals;var s=Ot(),u=Mn(s);u.payload=t,a!=null&&(u.callback=a),t=zn(e,u,s),t!==null&&(vt(t,e,s),ni(t,e,s))},enqueueReplaceState:function(e,t,a){e=e._reactInternals;var s=Ot(),u=Mn(s);u.tag=1,u.payload=t,a!=null&&(u.callback=a),t=zn(e,u,s),t!==null&&(vt(t,e,s),ni(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var a=Ot(),s=Mn(a);s.tag=2,t!=null&&(s.callback=t),t=zn(e,s,a),t!==null&&(vt(t,e,a),ni(t,e,a))}};function gh(e,t,a,s,u,f,p){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(s,f,p):t.prototype&&t.prototype.isPureReactComponent?!Zr(a,s)||!Zr(u,f):!0}function yh(e,t,a,s){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(a,s),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(a,s),t.state!==e&&lo.enqueueReplaceState(t,t.state,null)}function ba(e,t){var a=t;if("ref"in t){a={};for(var s in t)s!=="ref"&&(a[s]=t[s])}if(e=e.defaultProps){a===t&&(a=_({},a));for(var u in e)a[u]===void 0&&(a[u]=e[u])}return a}function vh(e){fs(e)}function bh(e){console.error(e)}function _h(e){fs(e)}function Ds(e,t){try{var a=e.onUncaughtError;a(t.value,{componentStack:t.stack})}catch(s){setTimeout(function(){throw s})}}function wh(e,t,a){try{var s=e.onCaughtError;s(a.value,{componentStack:a.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(u){setTimeout(function(){throw u})}}function uo(e,t,a){return a=Mn(a),a.tag=3,a.payload={element:null},a.callback=function(){Ds(e,t)},a}function Sh(e){return e=Mn(e),e.tag=3,e}function xh(e,t,a,s){var u=a.type.getDerivedStateFromError;if(typeof u=="function"){var f=s.value;e.payload=function(){return u(f)},e.callback=function(){wh(t,a,s)}}var p=a.stateNode;p!==null&&typeof p.componentDidCatch=="function"&&(e.callback=function(){wh(t,a,s),typeof u!="function"&&(Vn===null?Vn=new Set([this]):Vn.add(this));var b=s.stack;this.componentDidCatch(s.value,{componentStack:b!==null?b:""})})}function P0(e,t,a,s,u){if(a.flags|=32768,s!==null&&typeof s=="object"&&typeof s.then=="function"){if(t=a.alternate,t!==null&&Za(t,a,u,!0),a=Tt.current,a!==null){switch(a.tag){case 31:case 13:return Ht===null?Is():a.alternate===null&&ze===0&&(ze=3),a.flags&=-257,a.flags|=65536,a.lanes=u,s===ws?a.flags|=16384:(t=a.updateQueue,t===null?a.updateQueue=new Set([s]):t.add(s),Do(e,s,u)),!1;case 22:return a.flags|=65536,s===ws?a.flags|=16384:(t=a.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([s])},a.updateQueue=t):(a=t.retryQueue,a===null?t.retryQueue=new Set([s]):a.add(s)),Do(e,s,u)),!1}throw Error(l(435,a.tag))}return Do(e,s,u),Is(),!1}if(ve)return t=Tt.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=u,s!==Ru&&(e=Error(l(422),{cause:s}),Qr(zt(e,a)))):(s!==Ru&&(t=Error(l(423),{cause:s}),Qr(zt(t,a))),e=e.current.alternate,e.flags|=65536,u&=-u,e.lanes|=u,s=zt(s,a),u=uo(e.stateNode,s,u),Bu(e,u),ze!==4&&(ze=2)),!1;var f=Error(l(520),{cause:s});if(f=zt(f,a),gi===null?gi=[f]:gi.push(f),ze!==4&&(ze=2),t===null)return!0;s=zt(s,a),a=t;do{switch(a.tag){case 3:return a.flags|=65536,e=u&-u,a.lanes|=e,e=uo(a.stateNode,s,e),Bu(a,e),!1;case 1:if(t=a.type,f=a.stateNode,(a.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Vn===null||!Vn.has(f))))return a.flags|=65536,u&=-u,a.lanes|=u,u=Sh(u),xh(u,e,a,s),Bu(a,u),!1}a=a.return}while(a!==null);return!1}var oo=Error(l(461)),Ye=!1;function rt(e,t,a,s){t.child=e===null?Rd(t,null,a,s):ya(t,e.child,a,s)}function Eh(e,t,a,s,u){a=a.render;var f=t.ref;if("ref"in s){var p={};for(var b in s)b!=="ref"&&(p[b]=s[b])}else p=s;return ha(t),s=Ku(e,t,a,p,f,u),b=Yu(),e!==null&&!Ye?(Iu(e,t,u),hn(e,t,u)):(ve&&b&&Tu(t),t.flags|=1,rt(e,t,s,u),t.child)}function Th(e,t,a,s,u){if(e===null){var f=a.type;return typeof f=="function"&&!Su(f)&&f.defaultProps===void 0&&a.compare===null?(t.tag=15,t.type=f,Ah(e,t,f,s,u)):(e=ps(a.type,null,s,t,t.mode,u),e.ref=t.ref,e.return=t,t.child=e)}if(f=e.child,!vo(e,u)){var p=f.memoizedProps;if(a=a.compare,a=a!==null?a:Zr,a(p,s)&&e.ref===t.ref)return hn(e,t,u)}return t.flags|=1,e=ln(f,s),e.ref=t.ref,e.return=t,t.child=e}function Ah(e,t,a,s,u){if(e!==null){var f=e.memoizedProps;if(Zr(f,s)&&e.ref===t.ref)if(Ye=!1,t.pendingProps=s=f,vo(e,u))(e.flags&131072)!==0&&(Ye=!0);else return t.lanes=e.lanes,hn(e,t,u)}return co(e,t,a,s,u)}function Rh(e,t,a,s){var u=s.children,f=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.mode==="hidden"){if((t.flags&128)!==0){if(f=f!==null?f.baseLanes|a:a,e!==null){for(s=t.child=e.child,u=0;s!==null;)u=u|s.lanes|s.childLanes,s=s.sibling;s=u&~f}else s=0,t.child=null;return jh(e,t,f,a,s)}if((a&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&bs(t,f!==null?f.cachePool:null),f!==null?Nd(t,f):$u(),Cd(t);else return s=t.lanes=536870912,jh(e,t,f!==null?f.baseLanes|a:a,a,s)}else f!==null?(bs(t,f.cachePool),Nd(t,f),qn(),t.memoizedState=null):(e!==null&&bs(t,null),$u(),qn());return rt(e,t,u,a),t.child}function oi(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function jh(e,t,a,s,u){var f=Du();return f=f===null?null:{parent:Ve._currentValue,pool:f},t.memoizedState={baseLanes:a,cachePool:f},e!==null&&bs(t,null),$u(),Cd(t),e!==null&&Za(e,t,s,!0),t.childLanes=u,null}function Us(e,t){return t=zs({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function Oh(e,t,a){return ya(t,e.child,null,a),e=Us(t,t.pendingProps),e.flags|=2,At(t),t.memoizedState=null,e}function Z0(e,t,a){var s=t.pendingProps,u=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(ve){if(s.mode==="hidden")return e=Us(t,s),t.lanes=536870912,oi(null,e);if(Gu(t),(e=Ce)?(e=Hm(e,$t),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Cn!==null?{id:Ft,overflow:en}:null,retryLane:536870912,hydrationErrors:null},a=dd(e),a.return=t,t.child=a,nt=t,Ce=null)):e=null,e===null)throw kn(t);return t.lanes=536870912,null}return Us(t,s)}var f=e.memoizedState;if(f!==null){var p=f.dehydrated;if(Gu(t),u)if(t.flags&256)t.flags&=-257,t=Oh(e,t,a);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(l(558));else if(Ye||Za(e,t,a,!1),u=(a&e.childLanes)!==0,Ye||u){if(s=je,s!==null&&(p=bf(s,a),p!==0&&p!==f.retryLane))throw f.retryLane=p,oa(e,p),vt(s,e,p),oo;Is(),t=Oh(e,t,a)}else e=f.treeContext,Ce=Gt(p.nextSibling),nt=t,ve=!0,Ln=null,$t=!1,e!==null&&pd(t,e),t=Us(t,s),t.flags|=4096;return t}return e=ln(e.child,{mode:s.mode,children:s.children}),e.ref=t.ref,t.child=e,e.return=t,e}function Ms(e,t){var a=t.ref;if(a===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(l(284));(e===null||e.ref!==a)&&(t.flags|=4194816)}}function co(e,t,a,s,u){return ha(t),a=Ku(e,t,a,s,void 0,u),s=Yu(),e!==null&&!Ye?(Iu(e,t,u),hn(e,t,u)):(ve&&s&&Tu(t),t.flags|=1,rt(e,t,a,u),t.child)}function Nh(e,t,a,s,u,f){return ha(t),t.updateQueue=null,a=kd(t,s,a,u),Ld(e),s=Yu(),e!==null&&!Ye?(Iu(e,t,f),hn(e,t,f)):(ve&&s&&Tu(t),t.flags|=1,rt(e,t,a,f),t.child)}function Ch(e,t,a,s,u){if(ha(t),t.stateNode===null){var f=Ka,p=a.contextType;typeof p=="object"&&p!==null&&(f=at(p)),f=new a(s,f),t.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=lo,t.stateNode=f,f._reactInternals=t,f=t.stateNode,f.props=s,f.state=t.memoizedState,f.refs={},Mu(t),p=a.contextType,f.context=typeof p=="object"&&p!==null?at(p):Ka,f.state=t.memoizedState,p=a.getDerivedStateFromProps,typeof p=="function"&&(so(t,a,p,s),f.state=t.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(p=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),p!==f.state&&lo.enqueueReplaceState(f,f.state,null),ri(t,s,f,u),ai(),f.state=t.memoizedState),typeof f.componentDidMount=="function"&&(t.flags|=4194308),s=!0}else if(e===null){f=t.stateNode;var b=t.memoizedProps,x=ba(a,b);f.props=x;var L=f.context,$=a.contextType;p=Ka,typeof $=="object"&&$!==null&&(p=at($));var I=a.getDerivedStateFromProps;$=typeof I=="function"||typeof f.getSnapshotBeforeUpdate=="function",b=t.pendingProps!==b,$||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(b||L!==p)&&yh(t,f,s,p),Un=!1;var k=t.memoizedState;f.state=k,ri(t,s,f,u),ai(),L=t.memoizedState,b||k!==L||Un?(typeof I=="function"&&(so(t,a,I,s),L=t.memoizedState),(x=Un||gh(t,a,x,s,k,L,p))?($||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(t.flags|=4194308)):(typeof f.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=s,t.memoizedState=L),f.props=s,f.state=L,f.context=p,s=x):(typeof f.componentDidMount=="function"&&(t.flags|=4194308),s=!1)}else{f=t.stateNode,zu(e,t),p=t.memoizedProps,$=ba(a,p),f.props=$,I=t.pendingProps,k=f.context,L=a.contextType,x=Ka,typeof L=="object"&&L!==null&&(x=at(L)),b=a.getDerivedStateFromProps,(L=typeof b=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(p!==I||k!==x)&&yh(t,f,s,x),Un=!1,k=t.memoizedState,f.state=k,ri(t,s,f,u),ai();var U=t.memoizedState;p!==I||k!==U||Un||e!==null&&e.dependencies!==null&&ys(e.dependencies)?(typeof b=="function"&&(so(t,a,b,s),U=t.memoizedState),($=Un||gh(t,a,$,s,k,U,x)||e!==null&&e.dependencies!==null&&ys(e.dependencies))?(L||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(s,U,x),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(s,U,x)),typeof f.componentDidUpdate=="function"&&(t.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof f.componentDidUpdate!="function"||p===e.memoizedProps&&k===e.memoizedState||(t.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||p===e.memoizedProps&&k===e.memoizedState||(t.flags|=1024),t.memoizedProps=s,t.memoizedState=U),f.props=s,f.state=U,f.context=x,s=$):(typeof f.componentDidUpdate!="function"||p===e.memoizedProps&&k===e.memoizedState||(t.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||p===e.memoizedProps&&k===e.memoizedState||(t.flags|=1024),s=!1)}return f=s,Ms(e,t),s=(t.flags&128)!==0,f||s?(f=t.stateNode,a=s&&typeof a.getDerivedStateFromError!="function"?null:f.render(),t.flags|=1,e!==null&&s?(t.child=ya(t,e.child,null,u),t.child=ya(t,null,a,u)):rt(e,t,a,u),t.memoizedState=f.state,e=t.child):e=hn(e,t,u),e}function Lh(e,t,a,s){return fa(),t.flags|=256,rt(e,t,a,s),t.child}var fo={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function ho(e){return{baseLanes:e,cachePool:wd()}}function mo(e,t,a){return e=e!==null?e.childLanes&~a:0,t&&(e|=jt),e}function kh(e,t,a){var s=t.pendingProps,u=!1,f=(t.flags&128)!==0,p;if((p=f)||(p=e!==null&&e.memoizedState===null?!1:(He.current&2)!==0),p&&(u=!0,t.flags&=-129),p=(t.flags&32)!==0,t.flags&=-33,e===null){if(ve){if(u?Bn(t):qn(),(e=Ce)?(e=Hm(e,$t),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Cn!==null?{id:Ft,overflow:en}:null,retryLane:536870912,hydrationErrors:null},a=dd(e),a.return=t,t.child=a,nt=t,Ce=null)):e=null,e===null)throw kn(t);return Jo(e)?t.lanes=32:t.lanes=536870912,null}var b=s.children;return s=s.fallback,u?(qn(),u=t.mode,b=zs({mode:"hidden",children:b},u),s=ca(s,u,a,null),b.return=t,s.return=t,b.sibling=s,t.child=b,s=t.child,s.memoizedState=ho(a),s.childLanes=mo(e,p,a),t.memoizedState=fo,oi(null,s)):(Bn(t),po(t,b))}var x=e.memoizedState;if(x!==null&&(b=x.dehydrated,b!==null)){if(f)t.flags&256?(Bn(t),t.flags&=-257,t=go(e,t,a)):t.memoizedState!==null?(qn(),t.child=e.child,t.flags|=128,t=null):(qn(),b=s.fallback,u=t.mode,s=zs({mode:"visible",children:s.children},u),b=ca(b,u,a,null),b.flags|=2,s.return=t,b.return=t,s.sibling=b,t.child=s,ya(t,e.child,null,a),s=t.child,s.memoizedState=ho(a),s.childLanes=mo(e,p,a),t.memoizedState=fo,t=oi(null,s));else if(Bn(t),Jo(b)){if(p=b.nextSibling&&b.nextSibling.dataset,p)var L=p.dgst;p=L,s=Error(l(419)),s.stack="",s.digest=p,Qr({value:s,source:null,stack:null}),t=go(e,t,a)}else if(Ye||Za(e,t,a,!1),p=(a&e.childLanes)!==0,Ye||p){if(p=je,p!==null&&(s=bf(p,a),s!==0&&s!==x.retryLane))throw x.retryLane=s,oa(e,s),vt(p,e,s),oo;Xo(b)||Is(),t=go(e,t,a)}else Xo(b)?(t.flags|=192,t.child=e.child,t=null):(e=x.treeContext,Ce=Gt(b.nextSibling),nt=t,ve=!0,Ln=null,$t=!1,e!==null&&pd(t,e),t=po(t,s.children),t.flags|=4096);return t}return u?(qn(),b=s.fallback,u=t.mode,x=e.child,L=x.sibling,s=ln(x,{mode:"hidden",children:s.children}),s.subtreeFlags=x.subtreeFlags&65011712,L!==null?b=ln(L,b):(b=ca(b,u,a,null),b.flags|=2),b.return=t,s.return=t,s.sibling=b,t.child=s,oi(null,s),s=t.child,b=e.child.memoizedState,b===null?b=ho(a):(u=b.cachePool,u!==null?(x=Ve._currentValue,u=u.parent!==x?{parent:x,pool:x}:u):u=wd(),b={baseLanes:b.baseLanes|a,cachePool:u}),s.memoizedState=b,s.childLanes=mo(e,p,a),t.memoizedState=fo,oi(e.child,s)):(Bn(t),a=e.child,e=a.sibling,a=ln(a,{mode:"visible",children:s.children}),a.return=t,a.sibling=null,e!==null&&(p=t.deletions,p===null?(t.deletions=[e],t.flags|=16):p.push(e)),t.child=a,t.memoizedState=null,a)}function po(e,t){return t=zs({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function zs(e,t){return e=Et(22,e,null,t),e.lanes=0,e}function go(e,t,a){return ya(t,e.child,null,a),e=po(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Dh(e,t,a){e.lanes|=t;var s=e.alternate;s!==null&&(s.lanes|=t),Nu(e.return,t,a)}function yo(e,t,a,s,u,f){var p=e.memoizedState;p===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:s,tail:a,tailMode:u,treeForkCount:f}:(p.isBackwards=t,p.rendering=null,p.renderingStartTime=0,p.last=s,p.tail=a,p.tailMode=u,p.treeForkCount=f)}function Uh(e,t,a){var s=t.pendingProps,u=s.revealOrder,f=s.tail;s=s.children;var p=He.current,b=(p&2)!==0;if(b?(p=p&1|2,t.flags|=128):p&=1,Q(He,p),rt(e,t,s,a),s=ve?Jr:0,!b&&e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Dh(e,a,t);else if(e.tag===19)Dh(e,a,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(u){case"forwards":for(a=t.child,u=null;a!==null;)e=a.alternate,e!==null&&Ts(e)===null&&(u=a),a=a.sibling;a=u,a===null?(u=t.child,t.child=null):(u=a.sibling,a.sibling=null),yo(t,!1,u,a,f,s);break;case"backwards":case"unstable_legacy-backwards":for(a=null,u=t.child,t.child=null;u!==null;){if(e=u.alternate,e!==null&&Ts(e)===null){t.child=u;break}e=u.sibling,u.sibling=a,a=u,u=e}yo(t,!0,a,null,f,s);break;case"together":yo(t,!1,null,null,void 0,s);break;default:t.memoizedState=null}return t.child}function hn(e,t,a){if(e!==null&&(t.dependencies=e.dependencies),Gn|=t.lanes,(a&t.childLanes)===0)if(e!==null){if(Za(e,t,a,!1),(a&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(l(153));if(t.child!==null){for(e=t.child,a=ln(e,e.pendingProps),t.child=a,a.return=t;e.sibling!==null;)e=e.sibling,a=a.sibling=ln(e,e.pendingProps),a.return=t;a.sibling=null}return t.child}function vo(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&ys(e)))}function X0(e,t,a){switch(t.tag){case 3:qe(t,t.stateNode.containerInfo),Dn(t,Ve,e.memoizedState.cache),fa();break;case 27:case 5:Ur(t);break;case 4:qe(t,t.stateNode.containerInfo);break;case 10:Dn(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,Gu(t),null;break;case 13:var s=t.memoizedState;if(s!==null)return s.dehydrated!==null?(Bn(t),t.flags|=128,null):(a&t.child.childLanes)!==0?kh(e,t,a):(Bn(t),e=hn(e,t,a),e!==null?e.sibling:null);Bn(t);break;case 19:var u=(e.flags&128)!==0;if(s=(a&t.childLanes)!==0,s||(Za(e,t,a,!1),s=(a&t.childLanes)!==0),u){if(s)return Uh(e,t,a);t.flags|=128}if(u=t.memoizedState,u!==null&&(u.rendering=null,u.tail=null,u.lastEffect=null),Q(He,He.current),s)break;return null;case 22:return t.lanes=0,Rh(e,t,a,t.pendingProps);case 24:Dn(t,Ve,e.memoizedState.cache)}return hn(e,t,a)}function Mh(e,t,a){if(e!==null)if(e.memoizedProps!==t.pendingProps)Ye=!0;else{if(!vo(e,a)&&(t.flags&128)===0)return Ye=!1,X0(e,t,a);Ye=(e.flags&131072)!==0}else Ye=!1,ve&&(t.flags&1048576)!==0&&md(t,Jr,t.index);switch(t.lanes=0,t.tag){case 16:e:{var s=t.pendingProps;if(e=pa(t.elementType),t.type=e,typeof e=="function")Su(e)?(s=ba(e,s),t.tag=1,t=Ch(null,t,e,s,a)):(t.tag=0,t=co(null,t,e,s,a));else{if(e!=null){var u=e.$$typeof;if(u===G){t.tag=11,t=Eh(null,t,e,s,a);break e}else if(u===X){t.tag=14,t=Th(null,t,e,s,a);break e}}throw t=ut(e)||e,Error(l(306,t,""))}}return t;case 0:return co(e,t,t.type,t.pendingProps,a);case 1:return s=t.type,u=ba(s,t.pendingProps),Ch(e,t,s,u,a);case 3:e:{if(qe(t,t.stateNode.containerInfo),e===null)throw Error(l(387));s=t.pendingProps;var f=t.memoizedState;u=f.element,zu(e,t),ri(t,s,null,a);var p=t.memoizedState;if(s=p.cache,Dn(t,Ve,s),s!==f.cache&&Cu(t,[Ve],a,!0),ai(),s=p.element,f.isDehydrated)if(f={element:s,isDehydrated:!1,cache:p.cache},t.updateQueue.baseState=f,t.memoizedState=f,t.flags&256){t=Lh(e,t,s,a);break e}else if(s!==u){u=zt(Error(l(424)),t),Qr(u),t=Lh(e,t,s,a);break e}else for(e=t.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,Ce=Gt(e.firstChild),nt=t,ve=!0,Ln=null,$t=!0,a=Rd(t,null,s,a),t.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(fa(),s===u){t=hn(e,t,a);break e}rt(e,t,s,a)}t=t.child}return t;case 26:return Ms(e,t),e===null?(a=Pm(t.type,null,t.pendingProps,null))?t.memoizedState=a:ve||(a=t.type,e=t.pendingProps,s=Fs(F.current).createElement(a),s[tt]=t,s[dt]=e,it(s,a,e),We(s),t.stateNode=s):t.memoizedState=Pm(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return Ur(t),e===null&&ve&&(s=t.stateNode=Km(t.type,t.pendingProps,F.current),nt=t,$t=!0,u=Ce,Pn(t.type)?(Qo=u,Ce=Gt(s.firstChild)):Ce=u),rt(e,t,t.pendingProps.children,a),Ms(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&ve&&((u=s=Ce)&&(s=Tv(s,t.type,t.pendingProps,$t),s!==null?(t.stateNode=s,nt=t,Ce=Gt(s.firstChild),$t=!1,u=!0):u=!1),u||kn(t)),Ur(t),u=t.type,f=t.pendingProps,p=e!==null?e.memoizedProps:null,s=f.children,Io(u,f)?s=null:p!==null&&Io(u,p)&&(t.flags|=32),t.memoizedState!==null&&(u=Ku(e,t,$0,null,null,a),Ei._currentValue=u),Ms(e,t),rt(e,t,s,a),t.child;case 6:return e===null&&ve&&((e=a=Ce)&&(a=Av(a,t.pendingProps,$t),a!==null?(t.stateNode=a,nt=t,Ce=null,e=!0):e=!1),e||kn(t)),null;case 13:return kh(e,t,a);case 4:return qe(t,t.stateNode.containerInfo),s=t.pendingProps,e===null?t.child=ya(t,null,s,a):rt(e,t,s,a),t.child;case 11:return Eh(e,t,t.type,t.pendingProps,a);case 7:return rt(e,t,t.pendingProps,a),t.child;case 8:return rt(e,t,t.pendingProps.children,a),t.child;case 12:return rt(e,t,t.pendingProps.children,a),t.child;case 10:return s=t.pendingProps,Dn(t,t.type,s.value),rt(e,t,s.children,a),t.child;case 9:return u=t.type._context,s=t.pendingProps.children,ha(t),u=at(u),s=s(u),t.flags|=1,rt(e,t,s,a),t.child;case 14:return Th(e,t,t.type,t.pendingProps,a);case 15:return Ah(e,t,t.type,t.pendingProps,a);case 19:return Uh(e,t,a);case 31:return Z0(e,t,a);case 22:return Rh(e,t,a,t.pendingProps);case 24:return ha(t),s=at(Ve),e===null?(u=Du(),u===null&&(u=je,f=Lu(),u.pooledCache=f,f.refCount++,f!==null&&(u.pooledCacheLanes|=a),u=f),t.memoizedState={parent:s,cache:u},Mu(t),Dn(t,Ve,u)):((e.lanes&a)!==0&&(zu(e,t),ri(t,null,null,a),ai()),u=e.memoizedState,f=t.memoizedState,u.parent!==s?(u={parent:s,cache:s},t.memoizedState=u,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=u),Dn(t,Ve,s)):(s=f.cache,Dn(t,Ve,s),s!==u.cache&&Cu(t,[Ve],a,!0))),rt(e,t,t.pendingProps.children,a),t.child;case 29:throw t.pendingProps}throw Error(l(156,t.tag))}function mn(e){e.flags|=4}function bo(e,t,a,s,u){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(u&335544128)===u)if(e.stateNode.complete)e.flags|=8192;else if(om())e.flags|=8192;else throw ga=ws,Uu}else e.flags&=-16777217}function zh(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Wm(t))if(om())e.flags|=8192;else throw ga=ws,Uu}function Bs(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?gf():536870912,e.lanes|=t,sr|=t)}function ci(e,t){if(!ve)switch(e.tailMode){case"hidden":t=e.tail;for(var a=null;t!==null;)t.alternate!==null&&(a=t),t=t.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var s=null;a!==null;)a.alternate!==null&&(s=a),a=a.sibling;s===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:s.sibling=null}}function Le(e){var t=e.alternate!==null&&e.alternate.child===e.child,a=0,s=0;if(t)for(var u=e.child;u!==null;)a|=u.lanes|u.childLanes,s|=u.subtreeFlags&65011712,s|=u.flags&65011712,u.return=e,u=u.sibling;else for(u=e.child;u!==null;)a|=u.lanes|u.childLanes,s|=u.subtreeFlags,s|=u.flags,u.return=e,u=u.sibling;return e.subtreeFlags|=s,e.childLanes=a,t}function J0(e,t,a){var s=t.pendingProps;switch(Au(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Le(t),null;case 1:return Le(t),null;case 3:return a=t.stateNode,s=null,e!==null&&(s=e.memoizedState.cache),t.memoizedState.cache!==s&&(t.flags|=2048),cn(Ve),$e(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(Pa(t)?mn(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,ju())),Le(t),null;case 26:var u=t.type,f=t.memoizedState;return e===null?(mn(t),f!==null?(Le(t),zh(t,f)):(Le(t),bo(t,u,null,s,a))):f?f!==e.memoizedState?(mn(t),Le(t),zh(t,f)):(Le(t),t.flags&=-16777217):(e=e.memoizedProps,e!==s&&mn(t),Le(t),bo(t,u,e,s,a)),null;case 27:if(Xi(t),a=F.current,u=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==s&&mn(t);else{if(!s){if(t.stateNode===null)throw Error(l(166));return Le(t),null}e=H.current,Pa(t)?gd(t):(e=Km(u,s,a),t.stateNode=e,mn(t))}return Le(t),null;case 5:if(Xi(t),u=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==s&&mn(t);else{if(!s){if(t.stateNode===null)throw Error(l(166));return Le(t),null}if(f=H.current,Pa(t))gd(t);else{var p=Fs(F.current);switch(f){case 1:f=p.createElementNS("http://www.w3.org/2000/svg",u);break;case 2:f=p.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;default:switch(u){case"svg":f=p.createElementNS("http://www.w3.org/2000/svg",u);break;case"math":f=p.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;case"script":f=p.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof s.is=="string"?p.createElement("select",{is:s.is}):p.createElement("select"),s.multiple?f.multiple=!0:s.size&&(f.size=s.size);break;default:f=typeof s.is=="string"?p.createElement(u,{is:s.is}):p.createElement(u)}}f[tt]=t,f[dt]=s;e:for(p=t.child;p!==null;){if(p.tag===5||p.tag===6)f.appendChild(p.stateNode);else if(p.tag!==4&&p.tag!==27&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===t)break e;for(;p.sibling===null;){if(p.return===null||p.return===t)break e;p=p.return}p.sibling.return=p.return,p=p.sibling}t.stateNode=f;e:switch(it(f,u,s),u){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}s&&mn(t)}}return Le(t),bo(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,a),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==s&&mn(t);else{if(typeof s!="string"&&t.stateNode===null)throw Error(l(166));if(e=F.current,Pa(t)){if(e=t.stateNode,a=t.memoizedProps,s=null,u=nt,u!==null)switch(u.tag){case 27:case 5:s=u.memoizedProps}e[tt]=t,e=!!(e.nodeValue===a||s!==null&&s.suppressHydrationWarning===!0||km(e.nodeValue,a)),e||kn(t,!0)}else e=Fs(e).createTextNode(s),e[tt]=t,t.stateNode=e}return Le(t),null;case 31:if(a=t.memoizedState,e===null||e.memoizedState!==null){if(s=Pa(t),a!==null){if(e===null){if(!s)throw Error(l(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(l(557));e[tt]=t}else fa(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Le(t),e=!1}else a=ju(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=a),e=!0;if(!e)return t.flags&256?(At(t),t):(At(t),null);if((t.flags&128)!==0)throw Error(l(558))}return Le(t),null;case 13:if(s=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(u=Pa(t),s!==null&&s.dehydrated!==null){if(e===null){if(!u)throw Error(l(318));if(u=t.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(l(317));u[tt]=t}else fa(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Le(t),u=!1}else u=ju(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=u),u=!0;if(!u)return t.flags&256?(At(t),t):(At(t),null)}return At(t),(t.flags&128)!==0?(t.lanes=a,t):(a=s!==null,e=e!==null&&e.memoizedState!==null,a&&(s=t.child,u=null,s.alternate!==null&&s.alternate.memoizedState!==null&&s.alternate.memoizedState.cachePool!==null&&(u=s.alternate.memoizedState.cachePool.pool),f=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(f=s.memoizedState.cachePool.pool),f!==u&&(s.flags|=2048)),a!==e&&a&&(t.child.flags|=8192),Bs(t,t.updateQueue),Le(t),null);case 4:return $e(),e===null&&Ho(t.stateNode.containerInfo),Le(t),null;case 10:return cn(t.type),Le(t),null;case 19:if(K(He),s=t.memoizedState,s===null)return Le(t),null;if(u=(t.flags&128)!==0,f=s.rendering,f===null)if(u)ci(s,!1);else{if(ze!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(f=Ts(e),f!==null){for(t.flags|=128,ci(s,!1),e=f.updateQueue,t.updateQueue=e,Bs(t,e),t.subtreeFlags=0,e=a,a=t.child;a!==null;)fd(a,e),a=a.sibling;return Q(He,He.current&1|2),ve&&un(t,s.treeForkCount),t.child}e=e.sibling}s.tail!==null&&_t()>Vs&&(t.flags|=128,u=!0,ci(s,!1),t.lanes=4194304)}else{if(!u)if(e=Ts(f),e!==null){if(t.flags|=128,u=!0,e=e.updateQueue,t.updateQueue=e,Bs(t,e),ci(s,!0),s.tail===null&&s.tailMode==="hidden"&&!f.alternate&&!ve)return Le(t),null}else 2*_t()-s.renderingStartTime>Vs&&a!==536870912&&(t.flags|=128,u=!0,ci(s,!1),t.lanes=4194304);s.isBackwards?(f.sibling=t.child,t.child=f):(e=s.last,e!==null?e.sibling=f:t.child=f,s.last=f)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=_t(),e.sibling=null,a=He.current,Q(He,u?a&1|2:a&1),ve&&un(t,s.treeForkCount),e):(Le(t),null);case 22:case 23:return At(t),Hu(),s=t.memoizedState!==null,e!==null?e.memoizedState!==null!==s&&(t.flags|=8192):s&&(t.flags|=8192),s?(a&536870912)!==0&&(t.flags&128)===0&&(Le(t),t.subtreeFlags&6&&(t.flags|=8192)):Le(t),a=t.updateQueue,a!==null&&Bs(t,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),s=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),s!==a&&(t.flags|=2048),e!==null&&K(ma),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),t.memoizedState.cache!==a&&(t.flags|=2048),cn(Ve),Le(t),null;case 25:return null;case 30:return null}throw Error(l(156,t.tag))}function Q0(e,t){switch(Au(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return cn(Ve),$e(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return Xi(t),null;case 31:if(t.memoizedState!==null){if(At(t),t.alternate===null)throw Error(l(340));fa()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(At(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(l(340));fa()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return K(He),null;case 4:return $e(),null;case 10:return cn(t.type),null;case 22:case 23:return At(t),Hu(),e!==null&&K(ma),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return cn(Ve),null;case 25:return null;default:return null}}function Bh(e,t){switch(Au(t),t.tag){case 3:cn(Ve),$e();break;case 26:case 27:case 5:Xi(t);break;case 4:$e();break;case 31:t.memoizedState!==null&&At(t);break;case 13:At(t);break;case 19:K(He);break;case 10:cn(t.type);break;case 22:case 23:At(t),Hu(),e!==null&&K(ma);break;case 24:cn(Ve)}}function fi(e,t){try{var a=t.updateQueue,s=a!==null?a.lastEffect:null;if(s!==null){var u=s.next;a=u;do{if((a.tag&e)===e){s=void 0;var f=a.create,p=a.inst;s=f(),p.destroy=s}a=a.next}while(a!==u)}}catch(b){Ee(t,t.return,b)}}function $n(e,t,a){try{var s=t.updateQueue,u=s!==null?s.lastEffect:null;if(u!==null){var f=u.next;s=f;do{if((s.tag&e)===e){var p=s.inst,b=p.destroy;if(b!==void 0){p.destroy=void 0,u=t;var x=a,L=b;try{L()}catch($){Ee(u,x,$)}}}s=s.next}while(s!==f)}}catch($){Ee(t,t.return,$)}}function qh(e){var t=e.updateQueue;if(t!==null){var a=e.stateNode;try{Od(t,a)}catch(s){Ee(e,e.return,s)}}}function $h(e,t,a){a.props=ba(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(s){Ee(e,t,s)}}function di(e,t){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var s=e.stateNode;break;case 30:s=e.stateNode;break;default:s=e.stateNode}typeof a=="function"?e.refCleanup=a(s):a.current=s}}catch(u){Ee(e,t,u)}}function tn(e,t){var a=e.ref,s=e.refCleanup;if(a!==null)if(typeof s=="function")try{s()}catch(u){Ee(e,t,u)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(u){Ee(e,t,u)}else a.current=null}function Hh(e){var t=e.type,a=e.memoizedProps,s=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":a.autoFocus&&s.focus();break e;case"img":a.src?s.src=a.src:a.srcSet&&(s.srcset=a.srcSet)}}catch(u){Ee(e,e.return,u)}}function _o(e,t,a){try{var s=e.stateNode;bv(s,e.type,a,t),s[dt]=t}catch(u){Ee(e,e.return,u)}}function Gh(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Pn(e.type)||e.tag===4}function wo(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Gh(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Pn(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function So(e,t,a){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,t):(t=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,t.appendChild(e),a=a._reactRootContainer,a!=null||t.onclick!==null||(t.onclick=rn));else if(s!==4&&(s===27&&Pn(e.type)&&(a=e.stateNode,t=null),e=e.child,e!==null))for(So(e,t,a),e=e.sibling;e!==null;)So(e,t,a),e=e.sibling}function qs(e,t,a){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?a.insertBefore(e,t):a.appendChild(e);else if(s!==4&&(s===27&&Pn(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(qs(e,t,a),e=e.sibling;e!==null;)qs(e,t,a),e=e.sibling}function Vh(e){var t=e.stateNode,a=e.memoizedProps;try{for(var s=e.type,u=t.attributes;u.length;)t.removeAttributeNode(u[0]);it(t,s,a),t[tt]=e,t[dt]=a}catch(f){Ee(e,e.return,f)}}var pn=!1,Ie=!1,xo=!1,Kh=typeof WeakSet=="function"?WeakSet:Set,Fe=null;function W0(e,t){if(e=e.containerInfo,Ko=sl,e=nd(e),pu(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else e:{a=(a=e.ownerDocument)&&a.defaultView||window;var s=a.getSelection&&a.getSelection();if(s&&s.rangeCount!==0){a=s.anchorNode;var u=s.anchorOffset,f=s.focusNode;s=s.focusOffset;try{a.nodeType,f.nodeType}catch{a=null;break e}var p=0,b=-1,x=-1,L=0,$=0,I=e,k=null;t:for(;;){for(var U;I!==a||u!==0&&I.nodeType!==3||(b=p+u),I!==f||s!==0&&I.nodeType!==3||(x=p+s),I.nodeType===3&&(p+=I.nodeValue.length),(U=I.firstChild)!==null;)k=I,I=U;for(;;){if(I===e)break t;if(k===a&&++L===u&&(b=p),k===f&&++$===s&&(x=p),(U=I.nextSibling)!==null)break;I=k,k=I.parentNode}I=U}a=b===-1||x===-1?null:{start:b,end:x}}else a=null}a=a||{start:0,end:0}}else a=null;for(Yo={focusedElem:e,selectionRange:a},sl=!1,Fe=t;Fe!==null;)if(t=Fe,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Fe=e;else for(;Fe!==null;){switch(t=Fe,f=t.alternate,e=t.flags,t.tag){case 0:if((e&4)!==0&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(a=0;a<e.length;a++)u=e[a],u.ref.impl=u.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,a=t,u=f.memoizedProps,f=f.memoizedState,s=a.stateNode;try{var ee=ba(a.type,u);e=s.getSnapshotBeforeUpdate(ee,f),s.__reactInternalSnapshotBeforeUpdate=e}catch(le){Ee(a,a.return,le)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,a=e.nodeType,a===9)Zo(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Zo(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(l(163))}if(e=t.sibling,e!==null){e.return=t.return,Fe=e;break}Fe=t.return}}function Yh(e,t,a){var s=a.flags;switch(a.tag){case 0:case 11:case 15:yn(e,a),s&4&&fi(5,a);break;case 1:if(yn(e,a),s&4)if(e=a.stateNode,t===null)try{e.componentDidMount()}catch(p){Ee(a,a.return,p)}else{var u=ba(a.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(u,t,e.__reactInternalSnapshotBeforeUpdate)}catch(p){Ee(a,a.return,p)}}s&64&&qh(a),s&512&&di(a,a.return);break;case 3:if(yn(e,a),s&64&&(e=a.updateQueue,e!==null)){if(t=null,a.child!==null)switch(a.child.tag){case 27:case 5:t=a.child.stateNode;break;case 1:t=a.child.stateNode}try{Od(e,t)}catch(p){Ee(a,a.return,p)}}break;case 27:t===null&&s&4&&Vh(a);case 26:case 5:yn(e,a),t===null&&s&4&&Hh(a),s&512&&di(a,a.return);break;case 12:yn(e,a);break;case 31:yn(e,a),s&4&&Zh(e,a);break;case 13:yn(e,a),s&4&&Xh(e,a),s&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=lv.bind(null,a),Rv(e,a))));break;case 22:if(s=a.memoizedState!==null||pn,!s){t=t!==null&&t.memoizedState!==null||Ie,u=pn;var f=Ie;pn=s,(Ie=t)&&!f?vn(e,a,(a.subtreeFlags&8772)!==0):yn(e,a),pn=u,Ie=f}break;case 30:break;default:yn(e,a)}}function Ih(e){var t=e.alternate;t!==null&&(e.alternate=null,Ih(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&Wl(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var ke=null,mt=!1;function gn(e,t,a){for(a=a.child;a!==null;)Ph(e,t,a),a=a.sibling}function Ph(e,t,a){if(wt&&typeof wt.onCommitFiberUnmount=="function")try{wt.onCommitFiberUnmount(Mr,a)}catch{}switch(a.tag){case 26:Ie||tn(a,t),gn(e,t,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Ie||tn(a,t);var s=ke,u=mt;Pn(a.type)&&(ke=a.stateNode,mt=!1),gn(e,t,a),wi(a.stateNode),ke=s,mt=u;break;case 5:Ie||tn(a,t);case 6:if(s=ke,u=mt,ke=null,gn(e,t,a),ke=s,mt=u,ke!==null)if(mt)try{(ke.nodeType===9?ke.body:ke.nodeName==="HTML"?ke.ownerDocument.body:ke).removeChild(a.stateNode)}catch(f){Ee(a,t,f)}else try{ke.removeChild(a.stateNode)}catch(f){Ee(a,t,f)}break;case 18:ke!==null&&(mt?(e=ke,qm(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),mr(e)):qm(ke,a.stateNode));break;case 4:s=ke,u=mt,ke=a.stateNode.containerInfo,mt=!0,gn(e,t,a),ke=s,mt=u;break;case 0:case 11:case 14:case 15:$n(2,a,t),Ie||$n(4,a,t),gn(e,t,a);break;case 1:Ie||(tn(a,t),s=a.stateNode,typeof s.componentWillUnmount=="function"&&$h(a,t,s)),gn(e,t,a);break;case 21:gn(e,t,a);break;case 22:Ie=(s=Ie)||a.memoizedState!==null,gn(e,t,a),Ie=s;break;default:gn(e,t,a)}}function Zh(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{mr(e)}catch(a){Ee(t,t.return,a)}}}function Xh(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{mr(e)}catch(a){Ee(t,t.return,a)}}function F0(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new Kh),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new Kh),t;default:throw Error(l(435,e.tag))}}function $s(e,t){var a=F0(e);t.forEach(function(s){if(!a.has(s)){a.add(s);var u=uv.bind(null,e,s);s.then(u,u)}})}function pt(e,t){var a=t.deletions;if(a!==null)for(var s=0;s<a.length;s++){var u=a[s],f=e,p=t,b=p;e:for(;b!==null;){switch(b.tag){case 27:if(Pn(b.type)){ke=b.stateNode,mt=!1;break e}break;case 5:ke=b.stateNode,mt=!1;break e;case 3:case 4:ke=b.stateNode.containerInfo,mt=!0;break e}b=b.return}if(ke===null)throw Error(l(160));Ph(f,p,u),ke=null,mt=!1,f=u.alternate,f!==null&&(f.return=null),u.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)Jh(t,e),t=t.sibling}var Zt=null;function Jh(e,t){var a=e.alternate,s=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:pt(t,e),gt(e),s&4&&($n(3,e,e.return),fi(3,e),$n(5,e,e.return));break;case 1:pt(t,e),gt(e),s&512&&(Ie||a===null||tn(a,a.return)),s&64&&pn&&(e=e.updateQueue,e!==null&&(s=e.callbacks,s!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?s:a.concat(s))));break;case 26:var u=Zt;if(pt(t,e),gt(e),s&512&&(Ie||a===null||tn(a,a.return)),s&4){var f=a!==null?a.memoizedState:null;if(s=e.memoizedState,a===null)if(s===null)if(e.stateNode===null){e:{s=e.type,a=e.memoizedProps,u=u.ownerDocument||u;t:switch(s){case"title":f=u.getElementsByTagName("title")[0],(!f||f[qr]||f[tt]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=u.createElement(s),u.head.insertBefore(f,u.querySelector("head > title"))),it(f,s,a),f[tt]=e,We(f),s=f;break e;case"link":var p=Jm("link","href",u).get(s+(a.href||""));if(p){for(var b=0;b<p.length;b++)if(f=p[b],f.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&f.getAttribute("rel")===(a.rel==null?null:a.rel)&&f.getAttribute("title")===(a.title==null?null:a.title)&&f.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){p.splice(b,1);break t}}f=u.createElement(s),it(f,s,a),u.head.appendChild(f);break;case"meta":if(p=Jm("meta","content",u).get(s+(a.content||""))){for(b=0;b<p.length;b++)if(f=p[b],f.getAttribute("content")===(a.content==null?null:""+a.content)&&f.getAttribute("name")===(a.name==null?null:a.name)&&f.getAttribute("property")===(a.property==null?null:a.property)&&f.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&f.getAttribute("charset")===(a.charSet==null?null:a.charSet)){p.splice(b,1);break t}}f=u.createElement(s),it(f,s,a),u.head.appendChild(f);break;default:throw Error(l(468,s))}f[tt]=e,We(f),s=f}e.stateNode=s}else Qm(u,e.type,e.stateNode);else e.stateNode=Xm(u,s,e.memoizedProps);else f!==s?(f===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):f.count--,s===null?Qm(u,e.type,e.stateNode):Xm(u,s,e.memoizedProps)):s===null&&e.stateNode!==null&&_o(e,e.memoizedProps,a.memoizedProps)}break;case 27:pt(t,e),gt(e),s&512&&(Ie||a===null||tn(a,a.return)),a!==null&&s&4&&_o(e,e.memoizedProps,a.memoizedProps);break;case 5:if(pt(t,e),gt(e),s&512&&(Ie||a===null||tn(a,a.return)),e.flags&32){u=e.stateNode;try{za(u,"")}catch(ee){Ee(e,e.return,ee)}}s&4&&e.stateNode!=null&&(u=e.memoizedProps,_o(e,u,a!==null?a.memoizedProps:u)),s&1024&&(xo=!0);break;case 6:if(pt(t,e),gt(e),s&4){if(e.stateNode===null)throw Error(l(162));s=e.memoizedProps,a=e.stateNode;try{a.nodeValue=s}catch(ee){Ee(e,e.return,ee)}}break;case 3:if(nl=null,u=Zt,Zt=el(t.containerInfo),pt(t,e),Zt=u,gt(e),s&4&&a!==null&&a.memoizedState.isDehydrated)try{mr(t.containerInfo)}catch(ee){Ee(e,e.return,ee)}xo&&(xo=!1,Qh(e));break;case 4:s=Zt,Zt=el(e.stateNode.containerInfo),pt(t,e),gt(e),Zt=s;break;case 12:pt(t,e),gt(e);break;case 31:pt(t,e),gt(e),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,$s(e,s)));break;case 13:pt(t,e),gt(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Gs=_t()),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,$s(e,s)));break;case 22:u=e.memoizedState!==null;var x=a!==null&&a.memoizedState!==null,L=pn,$=Ie;if(pn=L||u,Ie=$||x,pt(t,e),Ie=$,pn=L,gt(e),s&8192)e:for(t=e.stateNode,t._visibility=u?t._visibility&-2:t._visibility|1,u&&(a===null||x||pn||Ie||_a(e)),a=null,t=e;;){if(t.tag===5||t.tag===26){if(a===null){x=a=t;try{if(f=x.stateNode,u)p=f.style,typeof p.setProperty=="function"?p.setProperty("display","none","important"):p.display="none";else{b=x.stateNode;var I=x.memoizedProps.style,k=I!=null&&I.hasOwnProperty("display")?I.display:null;b.style.display=k==null||typeof k=="boolean"?"":(""+k).trim()}}catch(ee){Ee(x,x.return,ee)}}}else if(t.tag===6){if(a===null){x=t;try{x.stateNode.nodeValue=u?"":x.memoizedProps}catch(ee){Ee(x,x.return,ee)}}}else if(t.tag===18){if(a===null){x=t;try{var U=x.stateNode;u?$m(U,!0):$m(x.stateNode,!1)}catch(ee){Ee(x,x.return,ee)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;a===t&&(a=null),t=t.return}a===t&&(a=null),t.sibling.return=t.return,t=t.sibling}s&4&&(s=e.updateQueue,s!==null&&(a=s.retryQueue,a!==null&&(s.retryQueue=null,$s(e,a))));break;case 19:pt(t,e),gt(e),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,$s(e,s)));break;case 30:break;case 21:break;default:pt(t,e),gt(e)}}function gt(e){var t=e.flags;if(t&2){try{for(var a,s=e.return;s!==null;){if(Gh(s)){a=s;break}s=s.return}if(a==null)throw Error(l(160));switch(a.tag){case 27:var u=a.stateNode,f=wo(e);qs(e,f,u);break;case 5:var p=a.stateNode;a.flags&32&&(za(p,""),a.flags&=-33);var b=wo(e);qs(e,b,p);break;case 3:case 4:var x=a.stateNode.containerInfo,L=wo(e);So(e,L,x);break;default:throw Error(l(161))}}catch($){Ee(e,e.return,$)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Qh(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;Qh(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function yn(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)Yh(e,t.alternate,t),t=t.sibling}function _a(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:$n(4,t,t.return),_a(t);break;case 1:tn(t,t.return);var a=t.stateNode;typeof a.componentWillUnmount=="function"&&$h(t,t.return,a),_a(t);break;case 27:wi(t.stateNode);case 26:case 5:tn(t,t.return),_a(t);break;case 22:t.memoizedState===null&&_a(t);break;case 30:_a(t);break;default:_a(t)}e=e.sibling}}function vn(e,t,a){for(a=a&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var s=t.alternate,u=e,f=t,p=f.flags;switch(f.tag){case 0:case 11:case 15:vn(u,f,a),fi(4,f);break;case 1:if(vn(u,f,a),s=f,u=s.stateNode,typeof u.componentDidMount=="function")try{u.componentDidMount()}catch(L){Ee(s,s.return,L)}if(s=f,u=s.updateQueue,u!==null){var b=s.stateNode;try{var x=u.shared.hiddenCallbacks;if(x!==null)for(u.shared.hiddenCallbacks=null,u=0;u<x.length;u++)jd(x[u],b)}catch(L){Ee(s,s.return,L)}}a&&p&64&&qh(f),di(f,f.return);break;case 27:Vh(f);case 26:case 5:vn(u,f,a),a&&s===null&&p&4&&Hh(f),di(f,f.return);break;case 12:vn(u,f,a);break;case 31:vn(u,f,a),a&&p&4&&Zh(u,f);break;case 13:vn(u,f,a),a&&p&4&&Xh(u,f);break;case 22:f.memoizedState===null&&vn(u,f,a),di(f,f.return);break;case 30:break;default:vn(u,f,a)}t=t.sibling}}function Eo(e,t){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&Wr(a))}function To(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Wr(e))}function Xt(e,t,a,s){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Wh(e,t,a,s),t=t.sibling}function Wh(e,t,a,s){var u=t.flags;switch(t.tag){case 0:case 11:case 15:Xt(e,t,a,s),u&2048&&fi(9,t);break;case 1:Xt(e,t,a,s);break;case 3:Xt(e,t,a,s),u&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Wr(e)));break;case 12:if(u&2048){Xt(e,t,a,s),e=t.stateNode;try{var f=t.memoizedProps,p=f.id,b=f.onPostCommit;typeof b=="function"&&b(p,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(x){Ee(t,t.return,x)}}else Xt(e,t,a,s);break;case 31:Xt(e,t,a,s);break;case 13:Xt(e,t,a,s);break;case 23:break;case 22:f=t.stateNode,p=t.alternate,t.memoizedState!==null?f._visibility&2?Xt(e,t,a,s):hi(e,t):f._visibility&2?Xt(e,t,a,s):(f._visibility|=2,ar(e,t,a,s,(t.subtreeFlags&10256)!==0||!1)),u&2048&&Eo(p,t);break;case 24:Xt(e,t,a,s),u&2048&&To(t.alternate,t);break;default:Xt(e,t,a,s)}}function ar(e,t,a,s,u){for(u=u&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var f=e,p=t,b=a,x=s,L=p.flags;switch(p.tag){case 0:case 11:case 15:ar(f,p,b,x,u),fi(8,p);break;case 23:break;case 22:var $=p.stateNode;p.memoizedState!==null?$._visibility&2?ar(f,p,b,x,u):hi(f,p):($._visibility|=2,ar(f,p,b,x,u)),u&&L&2048&&Eo(p.alternate,p);break;case 24:ar(f,p,b,x,u),u&&L&2048&&To(p.alternate,p);break;default:ar(f,p,b,x,u)}t=t.sibling}}function hi(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var a=e,s=t,u=s.flags;switch(s.tag){case 22:hi(a,s),u&2048&&Eo(s.alternate,s);break;case 24:hi(a,s),u&2048&&To(s.alternate,s);break;default:hi(a,s)}t=t.sibling}}var mi=8192;function rr(e,t,a){if(e.subtreeFlags&mi)for(e=e.child;e!==null;)Fh(e,t,a),e=e.sibling}function Fh(e,t,a){switch(e.tag){case 26:rr(e,t,a),e.flags&mi&&e.memoizedState!==null&&qv(a,Zt,e.memoizedState,e.memoizedProps);break;case 5:rr(e,t,a);break;case 3:case 4:var s=Zt;Zt=el(e.stateNode.containerInfo),rr(e,t,a),Zt=s;break;case 22:e.memoizedState===null&&(s=e.alternate,s!==null&&s.memoizedState!==null?(s=mi,mi=16777216,rr(e,t,a),mi=s):rr(e,t,a));break;default:rr(e,t,a)}}function em(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function pi(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var a=0;a<t.length;a++){var s=t[a];Fe=s,nm(s,e)}em(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)tm(e),e=e.sibling}function tm(e){switch(e.tag){case 0:case 11:case 15:pi(e),e.flags&2048&&$n(9,e,e.return);break;case 3:pi(e);break;case 12:pi(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,Hs(e)):pi(e);break;default:pi(e)}}function Hs(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var a=0;a<t.length;a++){var s=t[a];Fe=s,nm(s,e)}em(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:$n(8,t,t.return),Hs(t);break;case 22:a=t.stateNode,a._visibility&2&&(a._visibility&=-3,Hs(t));break;default:Hs(t)}e=e.sibling}}function nm(e,t){for(;Fe!==null;){var a=Fe;switch(a.tag){case 0:case 11:case 15:$n(8,a,t);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var s=a.memoizedState.cachePool.pool;s!=null&&s.refCount++}break;case 24:Wr(a.memoizedState.cache)}if(s=a.child,s!==null)s.return=a,Fe=s;else e:for(a=e;Fe!==null;){s=Fe;var u=s.sibling,f=s.return;if(Ih(s),s===a){Fe=null;break e}if(u!==null){u.return=f,Fe=u;break e}Fe=f}}}var ev={getCacheForType:function(e){var t=at(Ve),a=t.data.get(e);return a===void 0&&(a=e(),t.data.set(e,a)),a},cacheSignal:function(){return at(Ve).controller.signal}},tv=typeof WeakMap=="function"?WeakMap:Map,Se=0,je=null,he=null,pe=0,xe=0,Rt=null,Hn=!1,ir=!1,Ao=!1,bn=0,ze=0,Gn=0,wa=0,Ro=0,jt=0,sr=0,gi=null,yt=null,jo=!1,Gs=0,am=0,Vs=1/0,Ks=null,Vn=null,Xe=0,Kn=null,lr=null,_n=0,Oo=0,No=null,rm=null,yi=0,Co=null;function Ot(){return(Se&2)!==0&&pe!==0?pe&-pe:q.T!==null?zo():_f()}function im(){if(jt===0)if((pe&536870912)===0||ve){var e=Wi;Wi<<=1,(Wi&3932160)===0&&(Wi=262144),jt=e}else jt=536870912;return e=Tt.current,e!==null&&(e.flags|=32),jt}function vt(e,t,a){(e===je&&(xe===2||xe===9)||e.cancelPendingCommit!==null)&&(ur(e,0),Yn(e,pe,jt,!1)),Br(e,a),((Se&2)===0||e!==je)&&(e===je&&((Se&2)===0&&(wa|=a),ze===4&&Yn(e,pe,jt,!1)),nn(e))}function sm(e,t,a){if((Se&6)!==0)throw Error(l(327));var s=!a&&(t&127)===0&&(t&e.expiredLanes)===0||zr(e,t),u=s?rv(e,t):ko(e,t,!0),f=s;do{if(u===0){ir&&!s&&Yn(e,t,0,!1);break}else{if(a=e.current.alternate,f&&!nv(a)){u=ko(e,t,!1),f=!1;continue}if(u===2){if(f=t,e.errorRecoveryDisabledLanes&f)var p=0;else p=e.pendingLanes&-536870913,p=p!==0?p:p&536870912?536870912:0;if(p!==0){t=p;e:{var b=e;u=gi;var x=b.current.memoizedState.isDehydrated;if(x&&(ur(b,p).flags|=256),p=ko(b,p,!1),p!==2){if(Ao&&!x){b.errorRecoveryDisabledLanes|=f,wa|=f,u=4;break e}f=yt,yt=u,f!==null&&(yt===null?yt=f:yt.push.apply(yt,f))}u=p}if(f=!1,u!==2)continue}}if(u===1){ur(e,0),Yn(e,t,0,!0);break}e:{switch(s=e,f=u,f){case 0:case 1:throw Error(l(345));case 4:if((t&4194048)!==t)break;case 6:Yn(s,t,jt,!Hn);break e;case 2:yt=null;break;case 3:case 5:break;default:throw Error(l(329))}if((t&62914560)===t&&(u=Gs+300-_t(),10<u)){if(Yn(s,t,jt,!Hn),es(s,0,!0)!==0)break e;_n=t,s.timeoutHandle=zm(lm.bind(null,s,a,yt,Ks,jo,t,jt,wa,sr,Hn,f,"Throttled",-0,0),u);break e}lm(s,a,yt,Ks,jo,t,jt,wa,sr,Hn,f,null,-0,0)}}break}while(!0);nn(e)}function lm(e,t,a,s,u,f,p,b,x,L,$,I,k,U){if(e.timeoutHandle=-1,I=t.subtreeFlags,I&8192||(I&16785408)===16785408){I={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:rn},Fh(t,f,I);var ee=(f&62914560)===f?Gs-_t():(f&4194048)===f?am-_t():0;if(ee=$v(I,ee),ee!==null){_n=f,e.cancelPendingCommit=ee(pm.bind(null,e,t,f,a,s,u,p,b,x,$,I,null,k,U)),Yn(e,f,p,!L);return}}pm(e,t,f,a,s,u,p,b,x)}function nv(e){for(var t=e;;){var a=t.tag;if((a===0||a===11||a===15)&&t.flags&16384&&(a=t.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var s=0;s<a.length;s++){var u=a[s],f=u.getSnapshot;u=u.value;try{if(!xt(f(),u))return!1}catch{return!1}}if(a=t.child,t.subtreeFlags&16384&&a!==null)a.return=t,t=a;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Yn(e,t,a,s){t&=~Ro,t&=~wa,e.suspendedLanes|=t,e.pingedLanes&=~t,s&&(e.warmLanes|=t),s=e.expirationTimes;for(var u=t;0<u;){var f=31-St(u),p=1<<f;s[f]=-1,u&=~p}a!==0&&yf(e,a,t)}function Ys(){return(Se&6)===0?(vi(0),!1):!0}function Lo(){if(he!==null){if(xe===0)var e=he.return;else e=he,on=da=null,Pu(e),Wa=null,ei=0,e=he;for(;e!==null;)Bh(e.alternate,e),e=e.return;he=null}}function ur(e,t){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,Sv(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),_n=0,Lo(),je=e,he=a=ln(e.current,null),pe=t,xe=0,Rt=null,Hn=!1,ir=zr(e,t),Ao=!1,sr=jt=Ro=wa=Gn=ze=0,yt=gi=null,jo=!1,(t&8)!==0&&(t|=t&32);var s=e.entangledLanes;if(s!==0)for(e=e.entanglements,s&=t;0<s;){var u=31-St(s),f=1<<u;t|=e[u],s&=~f}return bn=t,ds(),a}function um(e,t){fe=null,q.H=ui,t===Qa||t===_s?(t=Ed(),xe=3):t===Uu?(t=Ed(),xe=4):xe=t===oo?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,Rt=t,he===null&&(ze=1,Ds(e,zt(t,e.current)))}function om(){var e=Tt.current;return e===null?!0:(pe&4194048)===pe?Ht===null:(pe&62914560)===pe||(pe&536870912)!==0?e===Ht:!1}function cm(){var e=q.H;return q.H=ui,e===null?ui:e}function fm(){var e=q.A;return q.A=ev,e}function Is(){ze=4,Hn||(pe&4194048)!==pe&&Tt.current!==null||(ir=!0),(Gn&134217727)===0&&(wa&134217727)===0||je===null||Yn(je,pe,jt,!1)}function ko(e,t,a){var s=Se;Se|=2;var u=cm(),f=fm();(je!==e||pe!==t)&&(Ks=null,ur(e,t)),t=!1;var p=ze;e:do try{if(xe!==0&&he!==null){var b=he,x=Rt;switch(xe){case 8:Lo(),p=6;break e;case 3:case 2:case 9:case 6:Tt.current===null&&(t=!0);var L=xe;if(xe=0,Rt=null,or(e,b,x,L),a&&ir){p=0;break e}break;default:L=xe,xe=0,Rt=null,or(e,b,x,L)}}av(),p=ze;break}catch($){um(e,$)}while(!0);return t&&e.shellSuspendCounter++,on=da=null,Se=s,q.H=u,q.A=f,he===null&&(je=null,pe=0,ds()),p}function av(){for(;he!==null;)dm(he)}function rv(e,t){var a=Se;Se|=2;var s=cm(),u=fm();je!==e||pe!==t?(Ks=null,Vs=_t()+500,ur(e,t)):ir=zr(e,t);e:do try{if(xe!==0&&he!==null){t=he;var f=Rt;t:switch(xe){case 1:xe=0,Rt=null,or(e,t,f,1);break;case 2:case 9:if(Sd(f)){xe=0,Rt=null,hm(t);break}t=function(){xe!==2&&xe!==9||je!==e||(xe=7),nn(e)},f.then(t,t);break e;case 3:xe=7;break e;case 4:xe=5;break e;case 7:Sd(f)?(xe=0,Rt=null,hm(t)):(xe=0,Rt=null,or(e,t,f,7));break;case 5:var p=null;switch(he.tag){case 26:p=he.memoizedState;case 5:case 27:var b=he;if(p?Wm(p):b.stateNode.complete){xe=0,Rt=null;var x=b.sibling;if(x!==null)he=x;else{var L=b.return;L!==null?(he=L,Ps(L)):he=null}break t}}xe=0,Rt=null,or(e,t,f,5);break;case 6:xe=0,Rt=null,or(e,t,f,6);break;case 8:Lo(),ze=6;break e;default:throw Error(l(462))}}iv();break}catch($){um(e,$)}while(!0);return on=da=null,q.H=s,q.A=u,Se=a,he!==null?0:(je=null,pe=0,ds(),ze)}function iv(){for(;he!==null&&!jy();)dm(he)}function dm(e){var t=Mh(e.alternate,e,bn);e.memoizedProps=e.pendingProps,t===null?Ps(e):he=t}function hm(e){var t=e,a=t.alternate;switch(t.tag){case 15:case 0:t=Nh(a,t,t.pendingProps,t.type,void 0,pe);break;case 11:t=Nh(a,t,t.pendingProps,t.type.render,t.ref,pe);break;case 5:Pu(t);default:Bh(a,t),t=he=fd(t,bn),t=Mh(a,t,bn)}e.memoizedProps=e.pendingProps,t===null?Ps(e):he=t}function or(e,t,a,s){on=da=null,Pu(t),Wa=null,ei=0;var u=t.return;try{if(P0(e,u,t,a,pe)){ze=1,Ds(e,zt(a,e.current)),he=null;return}}catch(f){if(u!==null)throw he=u,f;ze=1,Ds(e,zt(a,e.current)),he=null;return}t.flags&32768?(ve||s===1?e=!0:ir||(pe&536870912)!==0?e=!1:(Hn=e=!0,(s===2||s===9||s===3||s===6)&&(s=Tt.current,s!==null&&s.tag===13&&(s.flags|=16384))),mm(t,e)):Ps(t)}function Ps(e){var t=e;do{if((t.flags&32768)!==0){mm(t,Hn);return}e=t.return;var a=J0(t.alternate,t,bn);if(a!==null){he=a;return}if(t=t.sibling,t!==null){he=t;return}he=t=e}while(t!==null);ze===0&&(ze=5)}function mm(e,t){do{var a=Q0(e.alternate,e);if(a!==null){a.flags&=32767,he=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!t&&(e=e.sibling,e!==null)){he=e;return}he=e=a}while(e!==null);ze=6,he=null}function pm(e,t,a,s,u,f,p,b,x){e.cancelPendingCommit=null;do Zs();while(Xe!==0);if((Se&6)!==0)throw Error(l(327));if(t!==null){if(t===e.current)throw Error(l(177));if(f=t.lanes|t.childLanes,f|=_u,By(e,a,f,p,b,x),e===je&&(he=je=null,pe=0),lr=t,Kn=e,_n=a,Oo=f,No=u,rm=s,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,ov(Ji,function(){return _m(),null})):(e.callbackNode=null,e.callbackPriority=0),s=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||s){s=q.T,q.T=null,u=V.p,V.p=2,p=Se,Se|=4;try{W0(e,t,a)}finally{Se=p,V.p=u,q.T=s}}Xe=1,gm(),ym(),vm()}}function gm(){if(Xe===1){Xe=0;var e=Kn,t=lr,a=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||a){a=q.T,q.T=null;var s=V.p;V.p=2;var u=Se;Se|=4;try{Jh(t,e);var f=Yo,p=nd(e.containerInfo),b=f.focusedElem,x=f.selectionRange;if(p!==b&&b&&b.ownerDocument&&td(b.ownerDocument.documentElement,b)){if(x!==null&&pu(b)){var L=x.start,$=x.end;if($===void 0&&($=L),"selectionStart"in b)b.selectionStart=L,b.selectionEnd=Math.min($,b.value.length);else{var I=b.ownerDocument||document,k=I&&I.defaultView||window;if(k.getSelection){var U=k.getSelection(),ee=b.textContent.length,le=Math.min(x.start,ee),Re=x.end===void 0?le:Math.min(x.end,ee);!U.extend&&le>Re&&(p=Re,Re=le,le=p);var N=ed(b,le),T=ed(b,Re);if(N&&T&&(U.rangeCount!==1||U.anchorNode!==N.node||U.anchorOffset!==N.offset||U.focusNode!==T.node||U.focusOffset!==T.offset)){var C=I.createRange();C.setStart(N.node,N.offset),U.removeAllRanges(),le>Re?(U.addRange(C),U.extend(T.node,T.offset)):(C.setEnd(T.node,T.offset),U.addRange(C))}}}}for(I=[],U=b;U=U.parentNode;)U.nodeType===1&&I.push({element:U,left:U.scrollLeft,top:U.scrollTop});for(typeof b.focus=="function"&&b.focus(),b=0;b<I.length;b++){var Y=I[b];Y.element.scrollLeft=Y.left,Y.element.scrollTop=Y.top}}sl=!!Ko,Yo=Ko=null}finally{Se=u,V.p=s,q.T=a}}e.current=t,Xe=2}}function ym(){if(Xe===2){Xe=0;var e=Kn,t=lr,a=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||a){a=q.T,q.T=null;var s=V.p;V.p=2;var u=Se;Se|=4;try{Yh(e,t.alternate,t)}finally{Se=u,V.p=s,q.T=a}}Xe=3}}function vm(){if(Xe===4||Xe===3){Xe=0,Oy();var e=Kn,t=lr,a=_n,s=rm;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?Xe=5:(Xe=0,lr=Kn=null,bm(e,e.pendingLanes));var u=e.pendingLanes;if(u===0&&(Vn=null),Jl(a),t=t.stateNode,wt&&typeof wt.onCommitFiberRoot=="function")try{wt.onCommitFiberRoot(Mr,t,void 0,(t.current.flags&128)===128)}catch{}if(s!==null){t=q.T,u=V.p,V.p=2,q.T=null;try{for(var f=e.onRecoverableError,p=0;p<s.length;p++){var b=s[p];f(b.value,{componentStack:b.stack})}}finally{q.T=t,V.p=u}}(_n&3)!==0&&Zs(),nn(e),u=e.pendingLanes,(a&261930)!==0&&(u&42)!==0?e===Co?yi++:(yi=0,Co=e):yi=0,vi(0)}}function bm(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,Wr(t)))}function Zs(){return gm(),ym(),vm(),_m()}function _m(){if(Xe!==5)return!1;var e=Kn,t=Oo;Oo=0;var a=Jl(_n),s=q.T,u=V.p;try{V.p=32>a?32:a,q.T=null,a=No,No=null;var f=Kn,p=_n;if(Xe=0,lr=Kn=null,_n=0,(Se&6)!==0)throw Error(l(331));var b=Se;if(Se|=4,tm(f.current),Wh(f,f.current,p,a),Se=b,vi(0,!1),wt&&typeof wt.onPostCommitFiberRoot=="function")try{wt.onPostCommitFiberRoot(Mr,f)}catch{}return!0}finally{V.p=u,q.T=s,bm(e,t)}}function wm(e,t,a){t=zt(a,t),t=uo(e.stateNode,t,2),e=zn(e,t,2),e!==null&&(Br(e,2),nn(e))}function Ee(e,t,a){if(e.tag===3)wm(e,e,a);else for(;t!==null;){if(t.tag===3){wm(t,e,a);break}else if(t.tag===1){var s=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(Vn===null||!Vn.has(s))){e=zt(a,e),a=Sh(2),s=zn(t,a,2),s!==null&&(xh(a,s,t,e),Br(s,2),nn(s));break}}t=t.return}}function Do(e,t,a){var s=e.pingCache;if(s===null){s=e.pingCache=new tv;var u=new Set;s.set(t,u)}else u=s.get(t),u===void 0&&(u=new Set,s.set(t,u));u.has(a)||(Ao=!0,u.add(a),e=sv.bind(null,e,t,a),t.then(e,e))}function sv(e,t,a){var s=e.pingCache;s!==null&&s.delete(t),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,je===e&&(pe&a)===a&&(ze===4||ze===3&&(pe&62914560)===pe&&300>_t()-Gs?(Se&2)===0&&ur(e,0):Ro|=a,sr===pe&&(sr=0)),nn(e)}function Sm(e,t){t===0&&(t=gf()),e=oa(e,t),e!==null&&(Br(e,t),nn(e))}function lv(e){var t=e.memoizedState,a=0;t!==null&&(a=t.retryLane),Sm(e,a)}function uv(e,t){var a=0;switch(e.tag){case 31:case 13:var s=e.stateNode,u=e.memoizedState;u!==null&&(a=u.retryLane);break;case 19:s=e.stateNode;break;case 22:s=e.stateNode._retryCache;break;default:throw Error(l(314))}s!==null&&s.delete(t),Sm(e,a)}function ov(e,t){return Il(e,t)}var Xs=null,cr=null,Uo=!1,Js=!1,Mo=!1,In=0;function nn(e){e!==cr&&e.next===null&&(cr===null?Xs=cr=e:cr=cr.next=e),Js=!0,Uo||(Uo=!0,fv())}function vi(e,t){if(!Mo&&Js){Mo=!0;do for(var a=!1,s=Xs;s!==null;){if(e!==0){var u=s.pendingLanes;if(u===0)var f=0;else{var p=s.suspendedLanes,b=s.pingedLanes;f=(1<<31-St(42|e)+1)-1,f&=u&~(p&~b),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(a=!0,Am(s,f))}else f=pe,f=es(s,s===je?f:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),(f&3)===0||zr(s,f)||(a=!0,Am(s,f));s=s.next}while(a);Mo=!1}}function cv(){xm()}function xm(){Js=Uo=!1;var e=0;In!==0&&wv()&&(e=In);for(var t=_t(),a=null,s=Xs;s!==null;){var u=s.next,f=Em(s,t);f===0?(s.next=null,a===null?Xs=u:a.next=u,u===null&&(cr=a)):(a=s,(e!==0||(f&3)!==0)&&(Js=!0)),s=u}Xe!==0&&Xe!==5||vi(e),In!==0&&(In=0)}function Em(e,t){for(var a=e.suspendedLanes,s=e.pingedLanes,u=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var p=31-St(f),b=1<<p,x=u[p];x===-1?((b&a)===0||(b&s)!==0)&&(u[p]=zy(b,t)):x<=t&&(e.expiredLanes|=b),f&=~b}if(t=je,a=pe,a=es(e,e===t?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),s=e.callbackNode,a===0||e===t&&(xe===2||xe===9)||e.cancelPendingCommit!==null)return s!==null&&s!==null&&Pl(s),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||zr(e,a)){if(t=a&-a,t===e.callbackPriority)return t;switch(s!==null&&Pl(s),Jl(a)){case 2:case 8:a=mf;break;case 32:a=Ji;break;case 268435456:a=pf;break;default:a=Ji}return s=Tm.bind(null,e),a=Il(a,s),e.callbackPriority=t,e.callbackNode=a,t}return s!==null&&s!==null&&Pl(s),e.callbackPriority=2,e.callbackNode=null,2}function Tm(e,t){if(Xe!==0&&Xe!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(Zs()&&e.callbackNode!==a)return null;var s=pe;return s=es(e,e===je?s:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),s===0?null:(sm(e,s,t),Em(e,_t()),e.callbackNode!=null&&e.callbackNode===a?Tm.bind(null,e):null)}function Am(e,t){if(Zs())return null;sm(e,t,!0)}function fv(){xv(function(){(Se&6)!==0?Il(hf,cv):xm()})}function zo(){if(In===0){var e=Xa;e===0&&(e=Qi,Qi<<=1,(Qi&261888)===0&&(Qi=256)),In=e}return In}function Rm(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:rs(""+e)}function jm(e,t){var a=t.ownerDocument.createElement("input");return a.name=t.name,a.value=t.value,e.id&&a.setAttribute("form",e.id),t.parentNode.insertBefore(a,t),e=new FormData(e),a.parentNode.removeChild(a),e}function dv(e,t,a,s,u){if(t==="submit"&&a&&a.stateNode===u){var f=Rm((u[dt]||null).action),p=s.submitter;p&&(t=(t=p[dt]||null)?Rm(t.formAction):p.getAttribute("formAction"),t!==null&&(f=t,p=null));var b=new us("action","action",null,s,u);e.push({event:b,listeners:[{instance:null,listener:function(){if(s.defaultPrevented){if(In!==0){var x=p?jm(u,p):new FormData(u);no(a,{pending:!0,data:x,method:u.method,action:f},null,x)}}else typeof f=="function"&&(b.preventDefault(),x=p?jm(u,p):new FormData(u),no(a,{pending:!0,data:x,method:u.method,action:f},f,x))},currentTarget:u}]})}}for(var Bo=0;Bo<bu.length;Bo++){var qo=bu[Bo],hv=qo.toLowerCase(),mv=qo[0].toUpperCase()+qo.slice(1);Pt(hv,"on"+mv)}Pt(id,"onAnimationEnd"),Pt(sd,"onAnimationIteration"),Pt(ld,"onAnimationStart"),Pt("dblclick","onDoubleClick"),Pt("focusin","onFocus"),Pt("focusout","onBlur"),Pt(N0,"onTransitionRun"),Pt(C0,"onTransitionStart"),Pt(L0,"onTransitionCancel"),Pt(ud,"onTransitionEnd"),Ua("onMouseEnter",["mouseout","mouseover"]),Ua("onMouseLeave",["mouseout","mouseover"]),Ua("onPointerEnter",["pointerout","pointerover"]),Ua("onPointerLeave",["pointerout","pointerover"]),ia("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ia("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ia("onBeforeInput",["compositionend","keypress","textInput","paste"]),ia("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ia("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ia("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var bi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),pv=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(bi));function Om(e,t){t=(t&4)!==0;for(var a=0;a<e.length;a++){var s=e[a],u=s.event;s=s.listeners;e:{var f=void 0;if(t)for(var p=s.length-1;0<=p;p--){var b=s[p],x=b.instance,L=b.currentTarget;if(b=b.listener,x!==f&&u.isPropagationStopped())break e;f=b,u.currentTarget=L;try{f(u)}catch($){fs($)}u.currentTarget=null,f=x}else for(p=0;p<s.length;p++){if(b=s[p],x=b.instance,L=b.currentTarget,b=b.listener,x!==f&&u.isPropagationStopped())break e;f=b,u.currentTarget=L;try{f(u)}catch($){fs($)}u.currentTarget=null,f=x}}}}function me(e,t){var a=t[Ql];a===void 0&&(a=t[Ql]=new Set);var s=e+"__bubble";a.has(s)||(Nm(t,e,2,!1),a.add(s))}function $o(e,t,a){var s=0;t&&(s|=4),Nm(a,e,s,t)}var Qs="_reactListening"+Math.random().toString(36).slice(2);function Ho(e){if(!e[Qs]){e[Qs]=!0,xf.forEach(function(a){a!=="selectionchange"&&(pv.has(a)||$o(a,!1,e),$o(a,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Qs]||(t[Qs]=!0,$o("selectionchange",!1,t))}}function Nm(e,t,a,s){switch(ip(t)){case 2:var u=Vv;break;case 8:u=Kv;break;default:u=nc}a=u.bind(null,t,a,e),u=void 0,!su||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(u=!0),s?u!==void 0?e.addEventListener(t,a,{capture:!0,passive:u}):e.addEventListener(t,a,!0):u!==void 0?e.addEventListener(t,a,{passive:u}):e.addEventListener(t,a,!1)}function Go(e,t,a,s,u){var f=s;if((t&1)===0&&(t&2)===0&&s!==null)e:for(;;){if(s===null)return;var p=s.tag;if(p===3||p===4){var b=s.stateNode.containerInfo;if(b===u)break;if(p===4)for(p=s.return;p!==null;){var x=p.tag;if((x===3||x===4)&&p.stateNode.containerInfo===u)return;p=p.return}for(;b!==null;){if(p=La(b),p===null)return;if(x=p.tag,x===5||x===6||x===26||x===27){s=f=p;continue e}b=b.parentNode}}s=s.return}Uf(function(){var L=f,$=ru(a),I=[];e:{var k=od.get(e);if(k!==void 0){var U=us,ee=e;switch(e){case"keypress":if(ss(a)===0)break e;case"keydown":case"keyup":U=u0;break;case"focusin":ee="focus",U=cu;break;case"focusout":ee="blur",U=cu;break;case"beforeblur":case"afterblur":U=cu;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":U=Bf;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":U=Jy;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":U=f0;break;case id:case sd:case ld:U=Fy;break;case ud:U=h0;break;case"scroll":case"scrollend":U=Zy;break;case"wheel":U=p0;break;case"copy":case"cut":case"paste":U=t0;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":U=$f;break;case"toggle":case"beforetoggle":U=y0}var le=(t&4)!==0,Re=!le&&(e==="scroll"||e==="scrollend"),N=le?k!==null?k+"Capture":null:k;le=[];for(var T=L,C;T!==null;){var Y=T;if(C=Y.stateNode,Y=Y.tag,Y!==5&&Y!==26&&Y!==27||C===null||N===null||(Y=Hr(T,N),Y!=null&&le.push(_i(T,Y,C))),Re)break;T=T.return}0<le.length&&(k=new U(k,ee,null,a,$),I.push({event:k,listeners:le}))}}if((t&7)===0){e:{if(k=e==="mouseover"||e==="pointerover",U=e==="mouseout"||e==="pointerout",k&&a!==au&&(ee=a.relatedTarget||a.fromElement)&&(La(ee)||ee[Ca]))break e;if((U||k)&&(k=$.window===$?$:(k=$.ownerDocument)?k.defaultView||k.parentWindow:window,U?(ee=a.relatedTarget||a.toElement,U=L,ee=ee?La(ee):null,ee!==null&&(Re=c(ee),le=ee.tag,ee!==Re||le!==5&&le!==27&&le!==6)&&(ee=null)):(U=null,ee=L),U!==ee)){if(le=Bf,Y="onMouseLeave",N="onMouseEnter",T="mouse",(e==="pointerout"||e==="pointerover")&&(le=$f,Y="onPointerLeave",N="onPointerEnter",T="pointer"),Re=U==null?k:$r(U),C=ee==null?k:$r(ee),k=new le(Y,T+"leave",U,a,$),k.target=Re,k.relatedTarget=C,Y=null,La($)===L&&(le=new le(N,T+"enter",ee,a,$),le.target=C,le.relatedTarget=Re,Y=le),Re=Y,U&&ee)t:{for(le=gv,N=U,T=ee,C=0,Y=N;Y;Y=le(Y))C++;Y=0;for(var ie=T;ie;ie=le(ie))Y++;for(;0<C-Y;)N=le(N),C--;for(;0<Y-C;)T=le(T),Y--;for(;C--;){if(N===T||T!==null&&N===T.alternate){le=N;break t}N=le(N),T=le(T)}le=null}else le=null;U!==null&&Cm(I,k,U,le,!1),ee!==null&&Re!==null&&Cm(I,Re,ee,le,!0)}}e:{if(k=L?$r(L):window,U=k.nodeName&&k.nodeName.toLowerCase(),U==="select"||U==="input"&&k.type==="file")var _e=Zf;else if(If(k))if(Xf)_e=R0;else{_e=T0;var ne=E0}else U=k.nodeName,!U||U.toLowerCase()!=="input"||k.type!=="checkbox"&&k.type!=="radio"?L&&nu(L.elementType)&&(_e=Zf):_e=A0;if(_e&&(_e=_e(e,L))){Pf(I,_e,a,$);break e}ne&&ne(e,k,L),e==="focusout"&&L&&k.type==="number"&&L.memoizedProps.value!=null&&tu(k,"number",k.value)}switch(ne=L?$r(L):window,e){case"focusin":(If(ne)||ne.contentEditable==="true")&&(Ha=ne,gu=L,Xr=null);break;case"focusout":Xr=gu=Ha=null;break;case"mousedown":yu=!0;break;case"contextmenu":case"mouseup":case"dragend":yu=!1,ad(I,a,$);break;case"selectionchange":if(O0)break;case"keydown":case"keyup":ad(I,a,$)}var de;if(du)e:{switch(e){case"compositionstart":var ge="onCompositionStart";break e;case"compositionend":ge="onCompositionEnd";break e;case"compositionupdate":ge="onCompositionUpdate";break e}ge=void 0}else $a?Kf(e,a)&&(ge="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(ge="onCompositionStart");ge&&(Hf&&a.locale!=="ko"&&($a||ge!=="onCompositionStart"?ge==="onCompositionEnd"&&$a&&(de=Mf()):(Nn=$,lu="value"in Nn?Nn.value:Nn.textContent,$a=!0)),ne=Ws(L,ge),0<ne.length&&(ge=new qf(ge,e,null,a,$),I.push({event:ge,listeners:ne}),de?ge.data=de:(de=Yf(a),de!==null&&(ge.data=de)))),(de=b0?_0(e,a):w0(e,a))&&(ge=Ws(L,"onBeforeInput"),0<ge.length&&(ne=new qf("onBeforeInput","beforeinput",null,a,$),I.push({event:ne,listeners:ge}),ne.data=de)),dv(I,e,L,a,$)}Om(I,t)})}function _i(e,t,a){return{instance:e,listener:t,currentTarget:a}}function Ws(e,t){for(var a=t+"Capture",s=[];e!==null;){var u=e,f=u.stateNode;if(u=u.tag,u!==5&&u!==26&&u!==27||f===null||(u=Hr(e,a),u!=null&&s.unshift(_i(e,u,f)),u=Hr(e,t),u!=null&&s.push(_i(e,u,f))),e.tag===3)return s;e=e.return}return[]}function gv(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Cm(e,t,a,s,u){for(var f=t._reactName,p=[];a!==null&&a!==s;){var b=a,x=b.alternate,L=b.stateNode;if(b=b.tag,x!==null&&x===s)break;b!==5&&b!==26&&b!==27||L===null||(x=L,u?(L=Hr(a,f),L!=null&&p.unshift(_i(a,L,x))):u||(L=Hr(a,f),L!=null&&p.push(_i(a,L,x)))),a=a.return}p.length!==0&&e.push({event:t,listeners:p})}var yv=/\r\n?/g,vv=/\u0000|\uFFFD/g;function Lm(e){return(typeof e=="string"?e:""+e).replace(yv,`
`).replace(vv,"")}function km(e,t){return t=Lm(t),Lm(e)===t}function Ae(e,t,a,s,u,f){switch(a){case"children":typeof s=="string"?t==="body"||t==="textarea"&&s===""||za(e,s):(typeof s=="number"||typeof s=="bigint")&&t!=="body"&&za(e,""+s);break;case"className":ns(e,"class",s);break;case"tabIndex":ns(e,"tabindex",s);break;case"dir":case"role":case"viewBox":case"width":case"height":ns(e,a,s);break;case"style":kf(e,s,f);break;case"data":if(t!=="object"){ns(e,"data",s);break}case"src":case"href":if(s===""&&(t!=="a"||a!=="href")){e.removeAttribute(a);break}if(s==null||typeof s=="function"||typeof s=="symbol"||typeof s=="boolean"){e.removeAttribute(a);break}s=rs(""+s),e.setAttribute(a,s);break;case"action":case"formAction":if(typeof s=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(a==="formAction"?(t!=="input"&&Ae(e,t,"name",u.name,u,null),Ae(e,t,"formEncType",u.formEncType,u,null),Ae(e,t,"formMethod",u.formMethod,u,null),Ae(e,t,"formTarget",u.formTarget,u,null)):(Ae(e,t,"encType",u.encType,u,null),Ae(e,t,"method",u.method,u,null),Ae(e,t,"target",u.target,u,null)));if(s==null||typeof s=="symbol"||typeof s=="boolean"){e.removeAttribute(a);break}s=rs(""+s),e.setAttribute(a,s);break;case"onClick":s!=null&&(e.onclick=rn);break;case"onScroll":s!=null&&me("scroll",e);break;case"onScrollEnd":s!=null&&me("scrollend",e);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(l(61));if(a=s.__html,a!=null){if(u.children!=null)throw Error(l(60));e.innerHTML=a}}break;case"multiple":e.multiple=s&&typeof s!="function"&&typeof s!="symbol";break;case"muted":e.muted=s&&typeof s!="function"&&typeof s!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(s==null||typeof s=="function"||typeof s=="boolean"||typeof s=="symbol"){e.removeAttribute("xlink:href");break}a=rs(""+s),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":s!=null&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(a,""+s):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":s&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":s===!0?e.setAttribute(a,""):s!==!1&&s!=null&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(a,s):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":s!=null&&typeof s!="function"&&typeof s!="symbol"&&!isNaN(s)&&1<=s?e.setAttribute(a,s):e.removeAttribute(a);break;case"rowSpan":case"start":s==null||typeof s=="function"||typeof s=="symbol"||isNaN(s)?e.removeAttribute(a):e.setAttribute(a,s);break;case"popover":me("beforetoggle",e),me("toggle",e),ts(e,"popover",s);break;case"xlinkActuate":an(e,"http://www.w3.org/1999/xlink","xlink:actuate",s);break;case"xlinkArcrole":an(e,"http://www.w3.org/1999/xlink","xlink:arcrole",s);break;case"xlinkRole":an(e,"http://www.w3.org/1999/xlink","xlink:role",s);break;case"xlinkShow":an(e,"http://www.w3.org/1999/xlink","xlink:show",s);break;case"xlinkTitle":an(e,"http://www.w3.org/1999/xlink","xlink:title",s);break;case"xlinkType":an(e,"http://www.w3.org/1999/xlink","xlink:type",s);break;case"xmlBase":an(e,"http://www.w3.org/XML/1998/namespace","xml:base",s);break;case"xmlLang":an(e,"http://www.w3.org/XML/1998/namespace","xml:lang",s);break;case"xmlSpace":an(e,"http://www.w3.org/XML/1998/namespace","xml:space",s);break;case"is":ts(e,"is",s);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Iy.get(a)||a,ts(e,a,s))}}function Vo(e,t,a,s,u,f){switch(a){case"style":kf(e,s,f);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(l(61));if(a=s.__html,a!=null){if(u.children!=null)throw Error(l(60));e.innerHTML=a}}break;case"children":typeof s=="string"?za(e,s):(typeof s=="number"||typeof s=="bigint")&&za(e,""+s);break;case"onScroll":s!=null&&me("scroll",e);break;case"onScrollEnd":s!=null&&me("scrollend",e);break;case"onClick":s!=null&&(e.onclick=rn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ef.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(u=a.endsWith("Capture"),t=a.slice(2,u?a.length-7:void 0),f=e[dt]||null,f=f!=null?f[a]:null,typeof f=="function"&&e.removeEventListener(t,f,u),typeof s=="function")){typeof f!="function"&&f!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(t,s,u);break e}a in e?e[a]=s:s===!0?e.setAttribute(a,""):ts(e,a,s)}}}function it(e,t,a){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":me("error",e),me("load",e);var s=!1,u=!1,f;for(f in a)if(a.hasOwnProperty(f)){var p=a[f];if(p!=null)switch(f){case"src":s=!0;break;case"srcSet":u=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(l(137,t));default:Ae(e,t,f,p,a,null)}}u&&Ae(e,t,"srcSet",a.srcSet,a,null),s&&Ae(e,t,"src",a.src,a,null);return;case"input":me("invalid",e);var b=f=p=u=null,x=null,L=null;for(s in a)if(a.hasOwnProperty(s)){var $=a[s];if($!=null)switch(s){case"name":u=$;break;case"type":p=$;break;case"checked":x=$;break;case"defaultChecked":L=$;break;case"value":f=$;break;case"defaultValue":b=$;break;case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(l(137,t));break;default:Ae(e,t,s,$,a,null)}}Of(e,f,b,x,L,p,u,!1);return;case"select":me("invalid",e),s=p=f=null;for(u in a)if(a.hasOwnProperty(u)&&(b=a[u],b!=null))switch(u){case"value":f=b;break;case"defaultValue":p=b;break;case"multiple":s=b;default:Ae(e,t,u,b,a,null)}t=f,a=p,e.multiple=!!s,t!=null?Ma(e,!!s,t,!1):a!=null&&Ma(e,!!s,a,!0);return;case"textarea":me("invalid",e),f=u=s=null;for(p in a)if(a.hasOwnProperty(p)&&(b=a[p],b!=null))switch(p){case"value":s=b;break;case"defaultValue":u=b;break;case"children":f=b;break;case"dangerouslySetInnerHTML":if(b!=null)throw Error(l(91));break;default:Ae(e,t,p,b,a,null)}Cf(e,s,u,f);return;case"option":for(x in a)a.hasOwnProperty(x)&&(s=a[x],s!=null)&&(x==="selected"?e.selected=s&&typeof s!="function"&&typeof s!="symbol":Ae(e,t,x,s,a,null));return;case"dialog":me("beforetoggle",e),me("toggle",e),me("cancel",e),me("close",e);break;case"iframe":case"object":me("load",e);break;case"video":case"audio":for(s=0;s<bi.length;s++)me(bi[s],e);break;case"image":me("error",e),me("load",e);break;case"details":me("toggle",e);break;case"embed":case"source":case"link":me("error",e),me("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(L in a)if(a.hasOwnProperty(L)&&(s=a[L],s!=null))switch(L){case"children":case"dangerouslySetInnerHTML":throw Error(l(137,t));default:Ae(e,t,L,s,a,null)}return;default:if(nu(t)){for($ in a)a.hasOwnProperty($)&&(s=a[$],s!==void 0&&Vo(e,t,$,s,a,void 0));return}}for(b in a)a.hasOwnProperty(b)&&(s=a[b],s!=null&&Ae(e,t,b,s,a,null))}function bv(e,t,a,s){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var u=null,f=null,p=null,b=null,x=null,L=null,$=null;for(U in a){var I=a[U];if(a.hasOwnProperty(U)&&I!=null)switch(U){case"checked":break;case"value":break;case"defaultValue":x=I;default:s.hasOwnProperty(U)||Ae(e,t,U,null,s,I)}}for(var k in s){var U=s[k];if(I=a[k],s.hasOwnProperty(k)&&(U!=null||I!=null))switch(k){case"type":f=U;break;case"name":u=U;break;case"checked":L=U;break;case"defaultChecked":$=U;break;case"value":p=U;break;case"defaultValue":b=U;break;case"children":case"dangerouslySetInnerHTML":if(U!=null)throw Error(l(137,t));break;default:U!==I&&Ae(e,t,k,U,s,I)}}eu(e,p,b,x,L,$,f,u);return;case"select":U=p=b=k=null;for(f in a)if(x=a[f],a.hasOwnProperty(f)&&x!=null)switch(f){case"value":break;case"multiple":U=x;default:s.hasOwnProperty(f)||Ae(e,t,f,null,s,x)}for(u in s)if(f=s[u],x=a[u],s.hasOwnProperty(u)&&(f!=null||x!=null))switch(u){case"value":k=f;break;case"defaultValue":b=f;break;case"multiple":p=f;default:f!==x&&Ae(e,t,u,f,s,x)}t=b,a=p,s=U,k!=null?Ma(e,!!a,k,!1):!!s!=!!a&&(t!=null?Ma(e,!!a,t,!0):Ma(e,!!a,a?[]:"",!1));return;case"textarea":U=k=null;for(b in a)if(u=a[b],a.hasOwnProperty(b)&&u!=null&&!s.hasOwnProperty(b))switch(b){case"value":break;case"children":break;default:Ae(e,t,b,null,s,u)}for(p in s)if(u=s[p],f=a[p],s.hasOwnProperty(p)&&(u!=null||f!=null))switch(p){case"value":k=u;break;case"defaultValue":U=u;break;case"children":break;case"dangerouslySetInnerHTML":if(u!=null)throw Error(l(91));break;default:u!==f&&Ae(e,t,p,u,s,f)}Nf(e,k,U);return;case"option":for(var ee in a)k=a[ee],a.hasOwnProperty(ee)&&k!=null&&!s.hasOwnProperty(ee)&&(ee==="selected"?e.selected=!1:Ae(e,t,ee,null,s,k));for(x in s)k=s[x],U=a[x],s.hasOwnProperty(x)&&k!==U&&(k!=null||U!=null)&&(x==="selected"?e.selected=k&&typeof k!="function"&&typeof k!="symbol":Ae(e,t,x,k,s,U));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var le in a)k=a[le],a.hasOwnProperty(le)&&k!=null&&!s.hasOwnProperty(le)&&Ae(e,t,le,null,s,k);for(L in s)if(k=s[L],U=a[L],s.hasOwnProperty(L)&&k!==U&&(k!=null||U!=null))switch(L){case"children":case"dangerouslySetInnerHTML":if(k!=null)throw Error(l(137,t));break;default:Ae(e,t,L,k,s,U)}return;default:if(nu(t)){for(var Re in a)k=a[Re],a.hasOwnProperty(Re)&&k!==void 0&&!s.hasOwnProperty(Re)&&Vo(e,t,Re,void 0,s,k);for($ in s)k=s[$],U=a[$],!s.hasOwnProperty($)||k===U||k===void 0&&U===void 0||Vo(e,t,$,k,s,U);return}}for(var N in a)k=a[N],a.hasOwnProperty(N)&&k!=null&&!s.hasOwnProperty(N)&&Ae(e,t,N,null,s,k);for(I in s)k=s[I],U=a[I],!s.hasOwnProperty(I)||k===U||k==null&&U==null||Ae(e,t,I,k,s,U)}function Dm(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function _v(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,a=performance.getEntriesByType("resource"),s=0;s<a.length;s++){var u=a[s],f=u.transferSize,p=u.initiatorType,b=u.duration;if(f&&b&&Dm(p)){for(p=0,b=u.responseEnd,s+=1;s<a.length;s++){var x=a[s],L=x.startTime;if(L>b)break;var $=x.transferSize,I=x.initiatorType;$&&Dm(I)&&(x=x.responseEnd,p+=$*(x<b?1:(b-L)/(x-L)))}if(--s,t+=8*(f+p)/(u.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Ko=null,Yo=null;function Fs(e){return e.nodeType===9?e:e.ownerDocument}function Um(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Mm(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function Io(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Po=null;function wv(){var e=window.event;return e&&e.type==="popstate"?e===Po?!1:(Po=e,!0):(Po=null,!1)}var zm=typeof setTimeout=="function"?setTimeout:void 0,Sv=typeof clearTimeout=="function"?clearTimeout:void 0,Bm=typeof Promise=="function"?Promise:void 0,xv=typeof queueMicrotask=="function"?queueMicrotask:typeof Bm<"u"?function(e){return Bm.resolve(null).then(e).catch(Ev)}:zm;function Ev(e){setTimeout(function(){throw e})}function Pn(e){return e==="head"}function qm(e,t){var a=t,s=0;do{var u=a.nextSibling;if(e.removeChild(a),u&&u.nodeType===8)if(a=u.data,a==="/$"||a==="/&"){if(s===0){e.removeChild(u),mr(t);return}s--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")s++;else if(a==="html")wi(e.ownerDocument.documentElement);else if(a==="head"){a=e.ownerDocument.head,wi(a);for(var f=a.firstChild;f;){var p=f.nextSibling,b=f.nodeName;f[qr]||b==="SCRIPT"||b==="STYLE"||b==="LINK"&&f.rel.toLowerCase()==="stylesheet"||a.removeChild(f),f=p}}else a==="body"&&wi(e.ownerDocument.body);a=u}while(a);mr(t)}function $m(e,t){var a=e;e=0;do{var s=a.nextSibling;if(a.nodeType===1?t?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(t?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),s&&s.nodeType===8)if(a=s.data,a==="/$"){if(e===0)break;e--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||e++;a=s}while(a)}function Zo(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var a=t;switch(t=t.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Zo(a),Wl(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function Tv(e,t,a,s){for(;e.nodeType===1;){var u=a;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!s&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(s){if(!e[qr])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==u.rel||e.getAttribute("href")!==(u.href==null||u.href===""?null:u.href)||e.getAttribute("crossorigin")!==(u.crossOrigin==null?null:u.crossOrigin)||e.getAttribute("title")!==(u.title==null?null:u.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(u.src==null?null:u.src)||e.getAttribute("type")!==(u.type==null?null:u.type)||e.getAttribute("crossorigin")!==(u.crossOrigin==null?null:u.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var f=u.name==null?null:""+u.name;if(u.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=Gt(e.nextSibling),e===null)break}return null}function Av(e,t,a){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=Gt(e.nextSibling),e===null))return null;return e}function Hm(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=Gt(e.nextSibling),e===null))return null;return e}function Xo(e){return e.data==="$?"||e.data==="$~"}function Jo(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function Rv(e,t){var a=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||a.readyState!=="loading")t();else{var s=function(){t(),a.removeEventListener("DOMContentLoaded",s)};a.addEventListener("DOMContentLoaded",s),e._reactRetry=s}}function Gt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var Qo=null;function Gm(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var a=e.data;if(a==="/$"||a==="/&"){if(t===0)return Gt(e.nextSibling);t--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||t++}e=e.nextSibling}return null}function Vm(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(t===0)return e;t--}else a!=="/$"&&a!=="/&"||t++}e=e.previousSibling}return null}function Km(e,t,a){switch(t=Fs(a),e){case"html":if(e=t.documentElement,!e)throw Error(l(452));return e;case"head":if(e=t.head,!e)throw Error(l(453));return e;case"body":if(e=t.body,!e)throw Error(l(454));return e;default:throw Error(l(451))}}function wi(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Wl(e)}var Vt=new Map,Ym=new Set;function el(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var wn=V.d;V.d={f:jv,r:Ov,D:Nv,C:Cv,L:Lv,m:kv,X:Uv,S:Dv,M:Mv};function jv(){var e=wn.f(),t=Ys();return e||t}function Ov(e){var t=ka(e);t!==null&&t.tag===5&&t.type==="form"?uh(t):wn.r(e)}var fr=typeof document>"u"?null:document;function Im(e,t,a){var s=fr;if(s&&typeof t=="string"&&t){var u=Ut(t);u='link[rel="'+e+'"][href="'+u+'"]',typeof a=="string"&&(u+='[crossorigin="'+a+'"]'),Ym.has(u)||(Ym.add(u),e={rel:e,crossOrigin:a,href:t},s.querySelector(u)===null&&(t=s.createElement("link"),it(t,"link",e),We(t),s.head.appendChild(t)))}}function Nv(e){wn.D(e),Im("dns-prefetch",e,null)}function Cv(e,t){wn.C(e,t),Im("preconnect",e,t)}function Lv(e,t,a){wn.L(e,t,a);var s=fr;if(s&&e&&t){var u='link[rel="preload"][as="'+Ut(t)+'"]';t==="image"&&a&&a.imageSrcSet?(u+='[imagesrcset="'+Ut(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(u+='[imagesizes="'+Ut(a.imageSizes)+'"]')):u+='[href="'+Ut(e)+'"]';var f=u;switch(t){case"style":f=dr(e);break;case"script":f=hr(e)}Vt.has(f)||(e=_({rel:"preload",href:t==="image"&&a&&a.imageSrcSet?void 0:e,as:t},a),Vt.set(f,e),s.querySelector(u)!==null||t==="style"&&s.querySelector(Si(f))||t==="script"&&s.querySelector(xi(f))||(t=s.createElement("link"),it(t,"link",e),We(t),s.head.appendChild(t)))}}function kv(e,t){wn.m(e,t);var a=fr;if(a&&e){var s=t&&typeof t.as=="string"?t.as:"script",u='link[rel="modulepreload"][as="'+Ut(s)+'"][href="'+Ut(e)+'"]',f=u;switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=hr(e)}if(!Vt.has(f)&&(e=_({rel:"modulepreload",href:e},t),Vt.set(f,e),a.querySelector(u)===null)){switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(xi(f)))return}s=a.createElement("link"),it(s,"link",e),We(s),a.head.appendChild(s)}}}function Dv(e,t,a){wn.S(e,t,a);var s=fr;if(s&&e){var u=Da(s).hoistableStyles,f=dr(e);t=t||"default";var p=u.get(f);if(!p){var b={loading:0,preload:null};if(p=s.querySelector(Si(f)))b.loading=5;else{e=_({rel:"stylesheet",href:e,"data-precedence":t},a),(a=Vt.get(f))&&Wo(e,a);var x=p=s.createElement("link");We(x),it(x,"link",e),x._p=new Promise(function(L,$){x.onload=L,x.onerror=$}),x.addEventListener("load",function(){b.loading|=1}),x.addEventListener("error",function(){b.loading|=2}),b.loading|=4,tl(p,t,s)}p={type:"stylesheet",instance:p,count:1,state:b},u.set(f,p)}}}function Uv(e,t){wn.X(e,t);var a=fr;if(a&&e){var s=Da(a).hoistableScripts,u=hr(e),f=s.get(u);f||(f=a.querySelector(xi(u)),f||(e=_({src:e,async:!0},t),(t=Vt.get(u))&&Fo(e,t),f=a.createElement("script"),We(f),it(f,"link",e),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},s.set(u,f))}}function Mv(e,t){wn.M(e,t);var a=fr;if(a&&e){var s=Da(a).hoistableScripts,u=hr(e),f=s.get(u);f||(f=a.querySelector(xi(u)),f||(e=_({src:e,async:!0,type:"module"},t),(t=Vt.get(u))&&Fo(e,t),f=a.createElement("script"),We(f),it(f,"link",e),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},s.set(u,f))}}function Pm(e,t,a,s){var u=(u=F.current)?el(u):null;if(!u)throw Error(l(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(t=dr(a.href),a=Da(u).hoistableStyles,s=a.get(t),s||(s={type:"style",instance:null,count:0,state:null},a.set(t,s)),s):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=dr(a.href);var f=Da(u).hoistableStyles,p=f.get(e);if(p||(u=u.ownerDocument||u,p={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,p),(f=u.querySelector(Si(e)))&&!f._p&&(p.instance=f,p.state.loading=5),Vt.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Vt.set(e,a),f||zv(u,e,a,p.state))),t&&s===null)throw Error(l(528,""));return p}if(t&&s!==null)throw Error(l(529,""));return null;case"script":return t=a.async,a=a.src,typeof a=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=hr(a),a=Da(u).hoistableScripts,s=a.get(t),s||(s={type:"script",instance:null,count:0,state:null},a.set(t,s)),s):{type:"void",instance:null,count:0,state:null};default:throw Error(l(444,e))}}function dr(e){return'href="'+Ut(e)+'"'}function Si(e){return'link[rel="stylesheet"]['+e+"]"}function Zm(e){return _({},e,{"data-precedence":e.precedence,precedence:null})}function zv(e,t,a,s){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?s.loading=1:(t=e.createElement("link"),s.preload=t,t.addEventListener("load",function(){return s.loading|=1}),t.addEventListener("error",function(){return s.loading|=2}),it(t,"link",a),We(t),e.head.appendChild(t))}function hr(e){return'[src="'+Ut(e)+'"]'}function xi(e){return"script[async]"+e}function Xm(e,t,a){if(t.count++,t.instance===null)switch(t.type){case"style":var s=e.querySelector('style[data-href~="'+Ut(a.href)+'"]');if(s)return t.instance=s,We(s),s;var u=_({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return s=(e.ownerDocument||e).createElement("style"),We(s),it(s,"style",u),tl(s,a.precedence,e),t.instance=s;case"stylesheet":u=dr(a.href);var f=e.querySelector(Si(u));if(f)return t.state.loading|=4,t.instance=f,We(f),f;s=Zm(a),(u=Vt.get(u))&&Wo(s,u),f=(e.ownerDocument||e).createElement("link"),We(f);var p=f;return p._p=new Promise(function(b,x){p.onload=b,p.onerror=x}),it(f,"link",s),t.state.loading|=4,tl(f,a.precedence,e),t.instance=f;case"script":return f=hr(a.src),(u=e.querySelector(xi(f)))?(t.instance=u,We(u),u):(s=a,(u=Vt.get(f))&&(s=_({},a),Fo(s,u)),e=e.ownerDocument||e,u=e.createElement("script"),We(u),it(u,"link",s),e.head.appendChild(u),t.instance=u);case"void":return null;default:throw Error(l(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(s=t.instance,t.state.loading|=4,tl(s,a.precedence,e));return t.instance}function tl(e,t,a){for(var s=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),u=s.length?s[s.length-1]:null,f=u,p=0;p<s.length;p++){var b=s[p];if(b.dataset.precedence===t)f=b;else if(f!==u)break}f?f.parentNode.insertBefore(e,f.nextSibling):(t=a.nodeType===9?a.head:a,t.insertBefore(e,t.firstChild))}function Wo(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function Fo(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var nl=null;function Jm(e,t,a){if(nl===null){var s=new Map,u=nl=new Map;u.set(a,s)}else u=nl,s=u.get(a),s||(s=new Map,u.set(a,s));if(s.has(e))return s;for(s.set(e,null),a=a.getElementsByTagName(e),u=0;u<a.length;u++){var f=a[u];if(!(f[qr]||f[tt]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var p=f.getAttribute(t)||"";p=e+p;var b=s.get(p);b?b.push(f):s.set(p,[f])}}return s}function Qm(e,t,a){e=e.ownerDocument||e,e.head.insertBefore(a,t==="title"?e.querySelector("head > title"):null)}function Bv(e,t,a){if(a===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;return t.rel==="stylesheet"?(e=t.disabled,typeof t.precedence=="string"&&e==null):!0;case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function Wm(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function qv(e,t,a,s){if(a.type==="stylesheet"&&(typeof s.media!="string"||matchMedia(s.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var u=dr(s.href),f=t.querySelector(Si(u));if(f){t=f._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=al.bind(e),t.then(e,e)),a.state.loading|=4,a.instance=f,We(f);return}f=t.ownerDocument||t,s=Zm(s),(u=Vt.get(u))&&Wo(s,u),f=f.createElement("link"),We(f);var p=f;p._p=new Promise(function(b,x){p.onload=b,p.onerror=x}),it(f,"link",s),a.instance=f}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(a,t),(t=a.state.preload)&&(a.state.loading&3)===0&&(e.count++,a=al.bind(e),t.addEventListener("load",a),t.addEventListener("error",a))}}var ec=0;function $v(e,t){return e.stylesheets&&e.count===0&&il(e,e.stylesheets),0<e.count||0<e.imgCount?function(a){var s=setTimeout(function(){if(e.stylesheets&&il(e,e.stylesheets),e.unsuspend){var f=e.unsuspend;e.unsuspend=null,f()}},6e4+t);0<e.imgBytes&&ec===0&&(ec=62500*_v());var u=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&il(e,e.stylesheets),e.unsuspend)){var f=e.unsuspend;e.unsuspend=null,f()}},(e.imgBytes>ec?50:800)+t);return e.unsuspend=a,function(){e.unsuspend=null,clearTimeout(s),clearTimeout(u)}}:null}function al(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)il(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var rl=null;function il(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,rl=new Map,t.forEach(Hv,e),rl=null,al.call(e))}function Hv(e,t){if(!(t.state.loading&4)){var a=rl.get(e);if(a)var s=a.get(null);else{a=new Map,rl.set(e,a);for(var u=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<u.length;f++){var p=u[f];(p.nodeName==="LINK"||p.getAttribute("media")!=="not all")&&(a.set(p.dataset.precedence,p),s=p)}s&&a.set(null,s)}u=t.instance,p=u.getAttribute("data-precedence"),f=a.get(p)||s,f===s&&a.set(null,u),a.set(p,u),this.count++,s=al.bind(this),u.addEventListener("load",s),u.addEventListener("error",s),f?f.parentNode.insertBefore(u,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(u,e.firstChild)),t.state.loading|=4}}var Ei={$$typeof:B,Provider:null,Consumer:null,_currentValue:Z,_currentValue2:Z,_threadCount:0};function Gv(e,t,a,s,u,f,p,b,x){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Zl(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Zl(0),this.hiddenUpdates=Zl(null),this.identifierPrefix=s,this.onUncaughtError=u,this.onCaughtError=f,this.onRecoverableError=p,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=x,this.incompleteTransitions=new Map}function Fm(e,t,a,s,u,f,p,b,x,L,$,I){return e=new Gv(e,t,a,p,x,L,$,I,b),t=1,f===!0&&(t|=24),f=Et(3,null,null,t),e.current=f,f.stateNode=e,t=Lu(),t.refCount++,e.pooledCache=t,t.refCount++,f.memoizedState={element:s,isDehydrated:a,cache:t},Mu(f),e}function ep(e){return e?(e=Ka,e):Ka}function tp(e,t,a,s,u,f){u=ep(u),s.context===null?s.context=u:s.pendingContext=u,s=Mn(t),s.payload={element:a},f=f===void 0?null:f,f!==null&&(s.callback=f),a=zn(e,s,t),a!==null&&(vt(a,e,t),ni(a,e,t))}function np(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<t?a:t}}function tc(e,t){np(e,t),(e=e.alternate)&&np(e,t)}function ap(e){if(e.tag===13||e.tag===31){var t=oa(e,67108864);t!==null&&vt(t,e,67108864),tc(e,67108864)}}function rp(e){if(e.tag===13||e.tag===31){var t=Ot();t=Xl(t);var a=oa(e,t);a!==null&&vt(a,e,t),tc(e,t)}}var sl=!0;function Vv(e,t,a,s){var u=q.T;q.T=null;var f=V.p;try{V.p=2,nc(e,t,a,s)}finally{V.p=f,q.T=u}}function Kv(e,t,a,s){var u=q.T;q.T=null;var f=V.p;try{V.p=8,nc(e,t,a,s)}finally{V.p=f,q.T=u}}function nc(e,t,a,s){if(sl){var u=ac(s);if(u===null)Go(e,t,s,ll,a),sp(e,s);else if(Iv(u,e,t,a,s))s.stopPropagation();else if(sp(e,s),t&4&&-1<Yv.indexOf(e)){for(;u!==null;){var f=ka(u);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var p=ra(f.pendingLanes);if(p!==0){var b=f;for(b.pendingLanes|=2,b.entangledLanes|=2;p;){var x=1<<31-St(p);b.entanglements[1]|=x,p&=~x}nn(f),(Se&6)===0&&(Vs=_t()+500,vi(0))}}break;case 31:case 13:b=oa(f,2),b!==null&&vt(b,f,2),Ys(),tc(f,2)}if(f=ac(s),f===null&&Go(e,t,s,ll,a),f===u)break;u=f}u!==null&&s.stopPropagation()}else Go(e,t,s,null,a)}}function ac(e){return e=ru(e),rc(e)}var ll=null;function rc(e){if(ll=null,e=La(e),e!==null){var t=c(e);if(t===null)e=null;else{var a=t.tag;if(a===13){if(e=d(t),e!==null)return e;e=null}else if(a===31){if(e=h(t),e!==null)return e;e=null}else if(a===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return ll=e,null}function ip(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ny()){case hf:return 2;case mf:return 8;case Ji:case Cy:return 32;case pf:return 268435456;default:return 32}default:return 32}}var ic=!1,Zn=null,Xn=null,Jn=null,Ti=new Map,Ai=new Map,Qn=[],Yv="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function sp(e,t){switch(e){case"focusin":case"focusout":Zn=null;break;case"dragenter":case"dragleave":Xn=null;break;case"mouseover":case"mouseout":Jn=null;break;case"pointerover":case"pointerout":Ti.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ai.delete(t.pointerId)}}function Ri(e,t,a,s,u,f){return e===null||e.nativeEvent!==f?(e={blockedOn:t,domEventName:a,eventSystemFlags:s,nativeEvent:f,targetContainers:[u]},t!==null&&(t=ka(t),t!==null&&ap(t)),e):(e.eventSystemFlags|=s,t=e.targetContainers,u!==null&&t.indexOf(u)===-1&&t.push(u),e)}function Iv(e,t,a,s,u){switch(t){case"focusin":return Zn=Ri(Zn,e,t,a,s,u),!0;case"dragenter":return Xn=Ri(Xn,e,t,a,s,u),!0;case"mouseover":return Jn=Ri(Jn,e,t,a,s,u),!0;case"pointerover":var f=u.pointerId;return Ti.set(f,Ri(Ti.get(f)||null,e,t,a,s,u)),!0;case"gotpointercapture":return f=u.pointerId,Ai.set(f,Ri(Ai.get(f)||null,e,t,a,s,u)),!0}return!1}function lp(e){var t=La(e.target);if(t!==null){var a=c(t);if(a!==null){if(t=a.tag,t===13){if(t=d(a),t!==null){e.blockedOn=t,wf(e.priority,function(){rp(a)});return}}else if(t===31){if(t=h(a),t!==null){e.blockedOn=t,wf(e.priority,function(){rp(a)});return}}else if(t===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function ul(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var a=ac(e.nativeEvent);if(a===null){a=e.nativeEvent;var s=new a.constructor(a.type,a);au=s,a.target.dispatchEvent(s),au=null}else return t=ka(a),t!==null&&ap(t),e.blockedOn=a,!1;t.shift()}return!0}function up(e,t,a){ul(e)&&a.delete(t)}function Pv(){ic=!1,Zn!==null&&ul(Zn)&&(Zn=null),Xn!==null&&ul(Xn)&&(Xn=null),Jn!==null&&ul(Jn)&&(Jn=null),Ti.forEach(up),Ai.forEach(up)}function ol(e,t){e.blockedOn===t&&(e.blockedOn=null,ic||(ic=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,Pv)))}var cl=null;function op(e){cl!==e&&(cl=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){cl===e&&(cl=null);for(var t=0;t<e.length;t+=3){var a=e[t],s=e[t+1],u=e[t+2];if(typeof s!="function"){if(rc(s||a)===null)continue;break}var f=ka(a);f!==null&&(e.splice(t,3),t-=3,no(f,{pending:!0,data:u,method:a.method,action:s},s,u))}}))}function mr(e){function t(x){return ol(x,e)}Zn!==null&&ol(Zn,e),Xn!==null&&ol(Xn,e),Jn!==null&&ol(Jn,e),Ti.forEach(t),Ai.forEach(t);for(var a=0;a<Qn.length;a++){var s=Qn[a];s.blockedOn===e&&(s.blockedOn=null)}for(;0<Qn.length&&(a=Qn[0],a.blockedOn===null);)lp(a),a.blockedOn===null&&Qn.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(s=0;s<a.length;s+=3){var u=a[s],f=a[s+1],p=u[dt]||null;if(typeof f=="function")p||op(a);else if(p){var b=null;if(f&&f.hasAttribute("formAction")){if(u=f,p=f[dt]||null)b=p.formAction;else if(rc(u)!==null)continue}else b=p.action;typeof b=="function"?a[s+1]=b:(a.splice(s,3),s-=3),op(a)}}}function cp(){function e(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(p){return u=p})},focusReset:"manual",scroll:"manual"})}function t(){u!==null&&(u(),u=null),s||setTimeout(a,20)}function a(){if(!s&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var s=!1,u=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(a,100),function(){s=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),u!==null&&(u(),u=null)}}}function sc(e){this._internalRoot=e}fl.prototype.render=sc.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(l(409));var a=t.current,s=Ot();tp(a,s,e,t,null,null)},fl.prototype.unmount=sc.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;tp(e.current,2,null,e,null,null),Ys(),t[Ca]=null}};function fl(e){this._internalRoot=e}fl.prototype.unstable_scheduleHydration=function(e){if(e){var t=_f();e={blockedOn:null,target:e,priority:t};for(var a=0;a<Qn.length&&t!==0&&t<Qn[a].priority;a++);Qn.splice(a,0,e),a===0&&lp(e)}};var fp=n.version;if(fp!=="19.2.4")throw Error(l(527,fp,"19.2.4"));V.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(l(188)):(e=Object.keys(e).join(","),Error(l(268,e)));return e=g(t),e=e!==null?v(e):null,e=e===null?null:e.stateNode,e};var Zv={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:q,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var dl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!dl.isDisabled&&dl.supportsFiber)try{Mr=dl.inject(Zv),wt=dl}catch{}}return Oi.createRoot=function(e,t){if(!o(e))throw Error(l(299));var a=!1,s="",u=vh,f=bh,p=_h;return t!=null&&(t.unstable_strictMode===!0&&(a=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onUncaughtError!==void 0&&(u=t.onUncaughtError),t.onCaughtError!==void 0&&(f=t.onCaughtError),t.onRecoverableError!==void 0&&(p=t.onRecoverableError)),t=Fm(e,1,!1,null,null,a,s,null,u,f,p,cp),e[Ca]=t.current,Ho(e),new sc(t)},Oi.hydrateRoot=function(e,t,a){if(!o(e))throw Error(l(299));var s=!1,u="",f=vh,p=bh,b=_h,x=null;return a!=null&&(a.unstable_strictMode===!0&&(s=!0),a.identifierPrefix!==void 0&&(u=a.identifierPrefix),a.onUncaughtError!==void 0&&(f=a.onUncaughtError),a.onCaughtError!==void 0&&(p=a.onCaughtError),a.onRecoverableError!==void 0&&(b=a.onRecoverableError),a.formState!==void 0&&(x=a.formState)),t=Fm(e,1,!0,t,a??null,s,u,x,f,p,b,cp),t.context=ep(null),a=t.current,s=Ot(),s=Xl(s),u=Mn(s),u.callback=null,zn(a,u,s),a=s,t.current.lanes=a,Br(t,a),nn(t),e[Ca]=t.current,Ho(e),new fl(t)},Oi.version="19.2.4",Oi}var wp;function rb(){if(wp)return oc.exports;wp=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(n){console.error(n)}}return r(),oc.exports=ab(),oc.exports}var ib=rb();var Sp="popstate";function sb(r={}){function n(o,c){let{pathname:d="/",search:h="",hash:m=""}=Na(o.location.hash.substring(1));return!d.startsWith("/")&&!d.startsWith(".")&&(d="/"+d),jc("",{pathname:d,search:h,hash:m},c.state&&c.state.usr||null,c.state&&c.state.key||"default")}function i(o,c){let d=o.document.querySelector("base"),h="";if(d&&d.getAttribute("href")){let m=o.location.href,g=m.indexOf("#");h=g===-1?m:m.slice(0,g)}return h+"#"+(typeof c=="string"?c:Mi(c))}function l(o,c){Kt(o.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(c)})`)}return ub(n,i,l,r)}function Ue(r,n){if(r===!1||r===null||typeof r>"u")throw new Error(n)}function Kt(r,n){if(!r){typeof console<"u"&&console.warn(n);try{throw new Error(n)}catch{}}}function lb(){return Math.random().toString(36).substring(2,10)}function xp(r,n){return{usr:r.state,key:r.key,idx:n}}function jc(r,n,i=null,l){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof n=="string"?Na(n):n,state:i,key:n&&n.key||l||lb()}}function Mi({pathname:r="/",search:n="",hash:i=""}){return n&&n!=="?"&&(r+=n.charAt(0)==="?"?n:"?"+n),i&&i!=="#"&&(r+=i.charAt(0)==="#"?i:"#"+i),r}function Na(r){let n={};if(r){let i=r.indexOf("#");i>=0&&(n.hash=r.substring(i),r=r.substring(0,i));let l=r.indexOf("?");l>=0&&(n.search=r.substring(l),r=r.substring(0,l)),r&&(n.pathname=r)}return n}function ub(r,n,i,l={}){let{window:o=document.defaultView,v5Compat:c=!1}=l,d=o.history,h="POP",m=null,g=v();g==null&&(g=0,d.replaceState({...d.state,idx:g},""));function v(){return(d.state||{idx:null}).idx}function _(){h="POP";let A=v(),z=A==null?null:A-g;g=A,m&&m({action:h,location:R.location,delta:z})}function w(A,z){h="PUSH";let M=jc(R.location,A,z);i&&i(M,A),g=v()+1;let B=xp(M,g),G=R.createHref(M);try{d.pushState(B,"",G)}catch(D){if(D instanceof DOMException&&D.name==="DataCloneError")throw D;o.location.assign(G)}c&&m&&m({action:h,location:R.location,delta:1})}function S(A,z){h="REPLACE";let M=jc(R.location,A,z);i&&i(M,A),g=v();let B=xp(M,g),G=R.createHref(M);d.replaceState(B,"",G),c&&m&&m({action:h,location:R.location,delta:0})}function O(A){return ob(A)}let R={get action(){return h},get location(){return r(o,d)},listen(A){if(m)throw new Error("A history only accepts one active listener");return o.addEventListener(Sp,_),m=A,()=>{o.removeEventListener(Sp,_),m=null}},createHref(A){return n(o,A)},createURL:O,encodeLocation(A){let z=O(A);return{pathname:z.pathname,search:z.search,hash:z.hash}},push:w,replace:S,go(A){return d.go(A)}};return R}function ob(r,n=!1){let i="http://localhost";typeof window<"u"&&(i=window.location.origin!=="null"?window.location.origin:window.location.href),Ue(i,"No window.location.(origin|href) available to create URL");let l=typeof r=="string"?r:Mi(r);return l=l.replace(/ $/,"%20"),!n&&l.startsWith("//")&&(l=i+l),new URL(l,i)}function yg(r,n,i="/"){return cb(r,n,i,!1)}function cb(r,n,i,l){let o=typeof n=="string"?Na(n):n,c=En(o.pathname||"/",i);if(c==null)return null;let d=vg(r);fb(d);let h=null;for(let m=0;h==null&&m<d.length;++m){let g=Sb(c);h=_b(d[m],g,l)}return h}function vg(r,n=[],i=[],l="",o=!1){let c=(d,h,m=o,g)=>{let v={relativePath:g===void 0?d.path||"":g,caseSensitive:d.caseSensitive===!0,childrenIndex:h,route:d};if(v.relativePath.startsWith("/")){if(!v.relativePath.startsWith(l)&&m)return;Ue(v.relativePath.startsWith(l),`Absolute route path "${v.relativePath}" nested under path "${l}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),v.relativePath=v.relativePath.slice(l.length)}let _=xn([l,v.relativePath]),w=i.concat(v);d.children&&d.children.length>0&&(Ue(d.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${_}".`),vg(d.children,n,w,_,m)),!(d.path==null&&!d.index)&&n.push({path:_,score:vb(_,d.index),routesMeta:w})};return r.forEach((d,h)=>{if(d.path===""||!d.path?.includes("?"))c(d,h);else for(let m of bg(d.path))c(d,h,!0,m)}),n}function bg(r){let n=r.split("/");if(n.length===0)return[];let[i,...l]=n,o=i.endsWith("?"),c=i.replace(/\?$/,"");if(l.length===0)return o?[c,""]:[c];let d=bg(l.join("/")),h=[];return h.push(...d.map(m=>m===""?c:[c,m].join("/"))),o&&h.push(...d),h.map(m=>r.startsWith("/")&&m===""?"/":m)}function fb(r){r.sort((n,i)=>n.score!==i.score?i.score-n.score:bb(n.routesMeta.map(l=>l.childrenIndex),i.routesMeta.map(l=>l.childrenIndex)))}var db=/^:[\w-]+$/,hb=3,mb=2,pb=1,gb=10,yb=-2,Ep=r=>r==="*";function vb(r,n){let i=r.split("/"),l=i.length;return i.some(Ep)&&(l+=yb),n&&(l+=mb),i.filter(o=>!Ep(o)).reduce((o,c)=>o+(db.test(c)?hb:c===""?pb:gb),l)}function bb(r,n){return r.length===n.length&&r.slice(0,-1).every((l,o)=>l===n[o])?r[r.length-1]-n[n.length-1]:0}function _b(r,n,i=!1){let{routesMeta:l}=r,o={},c="/",d=[];for(let h=0;h<l.length;++h){let m=l[h],g=h===l.length-1,v=c==="/"?n:n.slice(c.length)||"/",_=El({path:m.relativePath,caseSensitive:m.caseSensitive,end:g},v),w=m.route;if(!_&&g&&i&&!l[l.length-1].route.index&&(_=El({path:m.relativePath,caseSensitive:m.caseSensitive,end:!1},v)),!_)return null;Object.assign(o,_.params),d.push({params:o,pathname:xn([c,_.pathname]),pathnameBase:Ab(xn([c,_.pathnameBase])),route:w}),_.pathnameBase!=="/"&&(c=xn([c,_.pathnameBase]))}return d}function El(r,n){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[i,l]=wb(r.path,r.caseSensitive,r.end),o=n.match(i);if(!o)return null;let c=o[0],d=c.replace(/(.)\/+$/,"$1"),h=o.slice(1);return{params:l.reduce((g,{paramName:v,isOptional:_},w)=>{if(v==="*"){let O=h[w]||"";d=c.slice(0,c.length-O.length).replace(/(.)\/+$/,"$1")}const S=h[w];return _&&!S?g[v]=void 0:g[v]=(S||"").replace(/%2F/g,"/"),g},{}),pathname:c,pathnameBase:d,pattern:r}}function wb(r,n=!1,i=!0){Kt(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let l=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(d,h,m)=>(l.push({paramName:h,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return r.endsWith("*")?(l.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):i?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,n?void 0:"i"),l]}function Sb(r){try{return r.split("/").map(n=>decodeURIComponent(n).replace(/\//g,"%2F")).join("/")}catch(n){return Kt(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${n}).`),r}}function En(r,n){if(n==="/")return r;if(!r.toLowerCase().startsWith(n.toLowerCase()))return null;let i=n.endsWith("/")?n.length-1:n.length,l=r.charAt(i);return l&&l!=="/"?null:r.slice(i)||"/"}var xb=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function Eb(r,n="/"){let{pathname:i,search:l="",hash:o=""}=typeof r=="string"?Na(r):r,c;return i?(i=i.replace(/\/\/+/g,"/"),i.startsWith("/")?c=Tp(i.substring(1),"/"):c=Tp(i,n)):c=n,{pathname:c,search:Rb(l),hash:jb(o)}}function Tp(r,n){let i=n.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?i.length>1&&i.pop():o!=="."&&i.push(o)}),i.length>1?i.join("/"):"/"}function hc(r,n,i,l){return`Cannot include a '${r}' character in a manually specified \`to.${n}\` field [${JSON.stringify(l)}].  Please separate it out to the \`to.${i}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Tb(r){return r.filter((n,i)=>i===0||n.route.path&&n.route.path.length>0)}function _g(r){let n=Tb(r);return n.map((i,l)=>l===n.length-1?i.pathname:i.pathnameBase)}function wg(r,n,i,l=!1){let o;typeof r=="string"?o=Na(r):(o={...r},Ue(!o.pathname||!o.pathname.includes("?"),hc("?","pathname","search",o)),Ue(!o.pathname||!o.pathname.includes("#"),hc("#","pathname","hash",o)),Ue(!o.search||!o.search.includes("#"),hc("#","search","hash",o)));let c=r===""||o.pathname==="",d=c?"/":o.pathname,h;if(d==null)h=i;else{let _=n.length-1;if(!l&&d.startsWith("..")){let w=d.split("/");for(;w[0]==="..";)w.shift(),_-=1;o.pathname=w.join("/")}h=_>=0?n[_]:"/"}let m=Eb(o,h),g=d&&d!=="/"&&d.endsWith("/"),v=(c||d===".")&&i.endsWith("/");return!m.pathname.endsWith("/")&&(g||v)&&(m.pathname+="/"),m}var xn=r=>r.join("/").replace(/\/\/+/g,"/"),Ab=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),Rb=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,jb=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r,Ob=class{constructor(r,n,i,l=!1){this.status=r,this.statusText=n||"",this.internal=l,i instanceof Error?(this.data=i.toString(),this.error=i):this.data=i}};function Nb(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}function Cb(r){return r.map(n=>n.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var Sg=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function xg(r,n){let i=r;if(typeof i!="string"||!xb.test(i))return{absoluteURL:void 0,isExternal:!1,to:i};let l=i,o=!1;if(Sg)try{let c=new URL(window.location.href),d=i.startsWith("//")?new URL(c.protocol+i):new URL(i),h=En(d.pathname,n);d.origin===c.origin&&h!=null?i=h+d.search+d.hash:o=!0}catch{Kt(!1,`<Link to="${i}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:l,isExternal:o,to:i}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var Eg=["POST","PUT","PATCH","DELETE"];new Set(Eg);var Lb=["GET",...Eg];new Set(Lb);var Lr=j.createContext(null);Lr.displayName="DataRouter";var Cl=j.createContext(null);Cl.displayName="DataRouterState";var kb=j.createContext(!1),Tg=j.createContext({isTransitioning:!1});Tg.displayName="ViewTransition";var Db=j.createContext(new Map);Db.displayName="Fetchers";var Ub=j.createContext(null);Ub.displayName="Await";var It=j.createContext(null);It.displayName="Navigation";var Ki=j.createContext(null);Ki.displayName="Location";var An=j.createContext({outlet:null,matches:[],isDataRoute:!1});An.displayName="Route";var Pc=j.createContext(null);Pc.displayName="RouteError";var Ag="REACT_ROUTER_ERROR",Mb="REDIRECT",zb="ROUTE_ERROR_RESPONSE";function Bb(r){if(r.startsWith(`${Ag}:${Mb}:{`))try{let n=JSON.parse(r.slice(28));if(typeof n=="object"&&n&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.location=="string"&&typeof n.reloadDocument=="boolean"&&typeof n.replace=="boolean")return n}catch{}}function qb(r){if(r.startsWith(`${Ag}:${zb}:{`))try{let n=JSON.parse(r.slice(40));if(typeof n=="object"&&n&&typeof n.status=="number"&&typeof n.statusText=="string")return new Ob(n.status,n.statusText,n.data)}catch{}}function $b(r,{relative:n}={}){Ue(Yi(),"useHref() may be used only in the context of a <Router> component.");let{basename:i,navigator:l}=j.useContext(It),{hash:o,pathname:c,search:d}=Pi(r,{relative:n}),h=c;return i!=="/"&&(h=c==="/"?i:xn([i,c])),l.createHref({pathname:h,search:d,hash:o})}function Yi(){return j.useContext(Ki)!=null}function na(){return Ue(Yi(),"useLocation() may be used only in the context of a <Router> component."),j.useContext(Ki).location}var Rg="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function jg(r){j.useContext(It).static||j.useLayoutEffect(r)}function Ii(){let{isDataRoute:r}=j.useContext(An);return r?Fb():Hb()}function Hb(){Ue(Yi(),"useNavigate() may be used only in the context of a <Router> component.");let r=j.useContext(Lr),{basename:n,navigator:i}=j.useContext(It),{matches:l}=j.useContext(An),{pathname:o}=na(),c=JSON.stringify(_g(l)),d=j.useRef(!1);return jg(()=>{d.current=!0}),j.useCallback((m,g={})=>{if(Kt(d.current,Rg),!d.current)return;if(typeof m=="number"){i.go(m);return}let v=wg(m,JSON.parse(c),o,g.relative==="path");r==null&&n!=="/"&&(v.pathname=v.pathname==="/"?n:xn([n,v.pathname])),(g.replace?i.replace:i.push)(v,g.state,g)},[n,i,c,o,r])}j.createContext(null);function Pi(r,{relative:n}={}){let{matches:i}=j.useContext(An),{pathname:l}=na(),o=JSON.stringify(_g(i));return j.useMemo(()=>wg(r,JSON.parse(o),l,n==="path"),[r,o,l,n])}function Gb(r,n){return Og(r,n)}function Og(r,n,i,l,o){Ue(Yi(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:c}=j.useContext(It),{matches:d}=j.useContext(An),h=d[d.length-1],m=h?h.params:{},g=h?h.pathname:"/",v=h?h.pathnameBase:"/",_=h&&h.route;{let M=_&&_.path||"";Cg(g,!_||M.endsWith("*")||M.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${M}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${M}"> to <Route path="${M==="/"?"*":`${M}/*`}">.`)}let w=na(),S;if(n){let M=typeof n=="string"?Na(n):n;Ue(v==="/"||M.pathname?.startsWith(v),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${v}" but pathname "${M.pathname}" was given in the \`location\` prop.`),S=M}else S=w;let O=S.pathname||"/",R=O;if(v!=="/"){let M=v.replace(/^\//,"").split("/");R="/"+O.replace(/^\//,"").split("/").slice(M.length).join("/")}let A=yg(r,{pathname:R});Kt(_||A!=null,`No routes matched location "${S.pathname}${S.search}${S.hash}" `),Kt(A==null||A[A.length-1].route.element!==void 0||A[A.length-1].route.Component!==void 0||A[A.length-1].route.lazy!==void 0,`Matched leaf route at location "${S.pathname}${S.search}${S.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let z=Pb(A&&A.map(M=>Object.assign({},M,{params:Object.assign({},m,M.params),pathname:xn([v,c.encodeLocation?c.encodeLocation(M.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:M.pathname]),pathnameBase:M.pathnameBase==="/"?v:xn([v,c.encodeLocation?c.encodeLocation(M.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:M.pathnameBase])})),d,i,l,o);return n&&z?j.createElement(Ki.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...S},navigationType:"POP"}},z):z}function Vb(){let r=Wb(),n=Nb(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),i=r instanceof Error?r.stack:null,l="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:l},c={padding:"2px 4px",backgroundColor:l},d=null;return console.error("Error handled by React Router default ErrorBoundary:",r),d=j.createElement(j.Fragment,null,j.createElement("p",null," Hey developer "),j.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",j.createElement("code",{style:c},"ErrorBoundary")," or"," ",j.createElement("code",{style:c},"errorElement")," prop on your route.")),j.createElement(j.Fragment,null,j.createElement("h2",null,"Unexpected Application Error!"),j.createElement("h3",{style:{fontStyle:"italic"}},n),i?j.createElement("pre",{style:o},i):null,d)}var Kb=j.createElement(Vb,null),Ng=class extends j.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,n){return n.location!==r.location||n.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:n.error,location:n.location,revalidation:r.revalidation||n.revalidation}}componentDidCatch(r,n){this.props.onError?this.props.onError(r,n):console.error("React Router caught the following error during render",r)}render(){let r=this.state.error;if(this.context&&typeof r=="object"&&r&&"digest"in r&&typeof r.digest=="string"){const i=qb(r.digest);i&&(r=i)}let n=r!==void 0?j.createElement(An.Provider,{value:this.props.routeContext},j.createElement(Pc.Provider,{value:r,children:this.props.component})):this.props.children;return this.context?j.createElement(Yb,{error:r},n):n}};Ng.contextType=kb;var mc=new WeakMap;function Yb({children:r,error:n}){let{basename:i}=j.useContext(It);if(typeof n=="object"&&n&&"digest"in n&&typeof n.digest=="string"){let l=Bb(n.digest);if(l){let o=mc.get(n);if(o)throw o;let c=xg(l.location,i);if(Sg&&!mc.get(n))if(c.isExternal||l.reloadDocument)window.location.href=c.absoluteURL||c.to;else{const d=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(c.to,{replace:l.replace}));throw mc.set(n,d),d}return j.createElement("meta",{httpEquiv:"refresh",content:`0;url=${c.absoluteURL||c.to}`})}}return r}function Ib({routeContext:r,match:n,children:i}){let l=j.useContext(Lr);return l&&l.static&&l.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(l.staticContext._deepestRenderedBoundaryId=n.route.id),j.createElement(An.Provider,{value:r},i)}function Pb(r,n=[],i=null,l=null,o=null){if(r==null){if(!i)return null;if(i.errors)r=i.matches;else if(n.length===0&&!i.initialized&&i.matches.length>0)r=i.matches;else return null}let c=r,d=i?.errors;if(d!=null){let v=c.findIndex(_=>_.route.id&&d?.[_.route.id]!==void 0);Ue(v>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(d).join(",")}`),c=c.slice(0,Math.min(c.length,v+1))}let h=!1,m=-1;if(i)for(let v=0;v<c.length;v++){let _=c[v];if((_.route.HydrateFallback||_.route.hydrateFallbackElement)&&(m=v),_.route.id){let{loaderData:w,errors:S}=i,O=_.route.loader&&!w.hasOwnProperty(_.route.id)&&(!S||S[_.route.id]===void 0);if(_.route.lazy||O){h=!0,m>=0?c=c.slice(0,m+1):c=[c[0]];break}}}let g=i&&l?(v,_)=>{l(v,{location:i.location,params:i.matches?.[0]?.params??{},unstable_pattern:Cb(i.matches),errorInfo:_})}:void 0;return c.reduceRight((v,_,w)=>{let S,O=!1,R=null,A=null;i&&(S=d&&_.route.id?d[_.route.id]:void 0,R=_.route.errorElement||Kb,h&&(m<0&&w===0?(Cg("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),O=!0,A=null):m===w&&(O=!0,A=_.route.hydrateFallbackElement||null)));let z=n.concat(c.slice(0,w+1)),M=()=>{let B;return S?B=R:O?B=A:_.route.Component?B=j.createElement(_.route.Component,null):_.route.element?B=_.route.element:B=v,j.createElement(Ib,{match:_,routeContext:{outlet:v,matches:z,isDataRoute:i!=null},children:B})};return i&&(_.route.ErrorBoundary||_.route.errorElement||w===0)?j.createElement(Ng,{location:i.location,revalidation:i.revalidation,component:R,error:S,children:M(),routeContext:{outlet:null,matches:z,isDataRoute:!0},onError:g}):M()},null)}function Zc(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Zb(r){let n=j.useContext(Lr);return Ue(n,Zc(r)),n}function Xb(r){let n=j.useContext(Cl);return Ue(n,Zc(r)),n}function Jb(r){let n=j.useContext(An);return Ue(n,Zc(r)),n}function Xc(r){let n=Jb(r),i=n.matches[n.matches.length-1];return Ue(i.route.id,`${r} can only be used on routes that contain a unique "id"`),i.route.id}function Qb(){return Xc("useRouteId")}function Wb(){let r=j.useContext(Pc),n=Xb("useRouteError"),i=Xc("useRouteError");return r!==void 0?r:n.errors?.[i]}function Fb(){let{router:r}=Zb("useNavigate"),n=Xc("useNavigate"),i=j.useRef(!1);return jg(()=>{i.current=!0}),j.useCallback(async(o,c={})=>{Kt(i.current,Rg),i.current&&(typeof o=="number"?await r.navigate(o):await r.navigate(o,{fromRouteId:n,...c}))},[r,n])}var Ap={};function Cg(r,n,i){!n&&!Ap[r]&&(Ap[r]=!0,Kt(!1,i))}j.memo(e_);function e_({routes:r,future:n,state:i,onError:l}){return Og(r,void 0,i,l,n)}function Sr(r){Ue(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function t_({basename:r="/",children:n=null,location:i,navigationType:l="POP",navigator:o,static:c=!1,unstable_useTransitions:d}){Ue(!Yi(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let h=r.replace(/^\/*/,"/"),m=j.useMemo(()=>({basename:h,navigator:o,static:c,unstable_useTransitions:d,future:{}}),[h,o,c,d]);typeof i=="string"&&(i=Na(i));let{pathname:g="/",search:v="",hash:_="",state:w=null,key:S="default"}=i,O=j.useMemo(()=>{let R=En(g,h);return R==null?null:{location:{pathname:R,search:v,hash:_,state:w,key:S},navigationType:l}},[h,g,v,_,w,S,l]);return Kt(O!=null,`<Router basename="${h}"> is not able to match the URL "${g}${v}${_}" because it does not start with the basename, so the <Router> won't render anything.`),O==null?null:j.createElement(It.Provider,{value:m},j.createElement(Ki.Provider,{children:n,value:O}))}function n_({children:r,location:n}){return Gb(Oc(r),n)}function Oc(r,n=[]){let i=[];return j.Children.forEach(r,(l,o)=>{if(!j.isValidElement(l))return;let c=[...n,o];if(l.type===j.Fragment){i.push.apply(i,Oc(l.props.children,c));return}Ue(l.type===Sr,`[${typeof l.type=="string"?l.type:l.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Ue(!l.props.index||!l.props.children,"An index route cannot have child routes.");let d={id:l.props.id||c.join("-"),caseSensitive:l.props.caseSensitive,element:l.props.element,Component:l.props.Component,index:l.props.index,path:l.props.path,middleware:l.props.middleware,loader:l.props.loader,action:l.props.action,hydrateFallbackElement:l.props.hydrateFallbackElement,HydrateFallback:l.props.HydrateFallback,errorElement:l.props.errorElement,ErrorBoundary:l.props.ErrorBoundary,hasErrorBoundary:l.props.hasErrorBoundary===!0||l.props.ErrorBoundary!=null||l.props.errorElement!=null,shouldRevalidate:l.props.shouldRevalidate,handle:l.props.handle,lazy:l.props.lazy};l.props.children&&(d.children=Oc(l.props.children,c)),i.push(d)}),i}var Sl="get",xl="application/x-www-form-urlencoded";function Ll(r){return typeof HTMLElement<"u"&&r instanceof HTMLElement}function a_(r){return Ll(r)&&r.tagName.toLowerCase()==="button"}function r_(r){return Ll(r)&&r.tagName.toLowerCase()==="form"}function i_(r){return Ll(r)&&r.tagName.toLowerCase()==="input"}function s_(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function l_(r,n){return r.button===0&&(!n||n==="_self")&&!s_(r)}function Nc(r=""){return new URLSearchParams(typeof r=="string"||Array.isArray(r)||r instanceof URLSearchParams?r:Object.keys(r).reduce((n,i)=>{let l=r[i];return n.concat(Array.isArray(l)?l.map(o=>[i,o]):[[i,l]])},[]))}function u_(r,n){let i=Nc(r);return n&&n.forEach((l,o)=>{i.has(o)||n.getAll(o).forEach(c=>{i.append(o,c)})}),i}var hl=null;function o_(){if(hl===null)try{new FormData(document.createElement("form"),0),hl=!1}catch{hl=!0}return hl}var c_=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function pc(r){return r!=null&&!c_.has(r)?(Kt(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${xl}"`),null):r}function f_(r,n){let i,l,o,c,d;if(r_(r)){let h=r.getAttribute("action");l=h?En(h,n):null,i=r.getAttribute("method")||Sl,o=pc(r.getAttribute("enctype"))||xl,c=new FormData(r)}else if(a_(r)||i_(r)&&(r.type==="submit"||r.type==="image")){let h=r.form;if(h==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let m=r.getAttribute("formaction")||h.getAttribute("action");if(l=m?En(m,n):null,i=r.getAttribute("formmethod")||h.getAttribute("method")||Sl,o=pc(r.getAttribute("formenctype"))||pc(h.getAttribute("enctype"))||xl,c=new FormData(h,r),!o_()){let{name:g,type:v,value:_}=r;if(v==="image"){let w=g?`${g}.`:"";c.append(`${w}x`,"0"),c.append(`${w}y`,"0")}else g&&c.append(g,_)}}else{if(Ll(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');i=Sl,l=null,o=xl,d=r}return c&&o==="text/plain"&&(d=c,c=void 0),{action:l,method:i.toLowerCase(),encType:o,formData:c,body:d}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Jc(r,n){if(r===!1||r===null||typeof r>"u")throw new Error(n)}function d_(r,n,i,l){let o=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return i?o.pathname.endsWith("/")?o.pathname=`${o.pathname}_.${l}`:o.pathname=`${o.pathname}.${l}`:o.pathname==="/"?o.pathname=`_root.${l}`:n&&En(o.pathname,n)==="/"?o.pathname=`${n.replace(/\/$/,"")}/_root.${l}`:o.pathname=`${o.pathname.replace(/\/$/,"")}.${l}`,o}async function h_(r,n){if(r.id in n)return n[r.id];try{let i=await import(r.module);return n[r.id]=i,i}catch(i){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(i),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function m_(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function p_(r,n,i){let l=await Promise.all(r.map(async o=>{let c=n.routes[o.route.id];if(c){let d=await h_(c,i);return d.links?d.links():[]}return[]}));return b_(l.flat(1).filter(m_).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function Rp(r,n,i,l,o,c){let d=(m,g)=>i[g]?m.route.id!==i[g].route.id:!0,h=(m,g)=>i[g].pathname!==m.pathname||i[g].route.path?.endsWith("*")&&i[g].params["*"]!==m.params["*"];return c==="assets"?n.filter((m,g)=>d(m,g)||h(m,g)):c==="data"?n.filter((m,g)=>{let v=l.routes[m.route.id];if(!v||!v.hasLoader)return!1;if(d(m,g)||h(m,g))return!0;if(m.route.shouldRevalidate){let _=m.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:i[0]?.params||{},nextUrl:new URL(r,window.origin),nextParams:m.params,defaultShouldRevalidate:!0});if(typeof _=="boolean")return _}return!0}):[]}function g_(r,n,{includeHydrateFallback:i}={}){return y_(r.map(l=>{let o=n.routes[l.route.id];if(!o)return[];let c=[o.module];return o.clientActionModule&&(c=c.concat(o.clientActionModule)),o.clientLoaderModule&&(c=c.concat(o.clientLoaderModule)),i&&o.hydrateFallbackModule&&(c=c.concat(o.hydrateFallbackModule)),o.imports&&(c=c.concat(o.imports)),c}).flat(1))}function y_(r){return[...new Set(r)]}function v_(r){let n={},i=Object.keys(r).sort();for(let l of i)n[l]=r[l];return n}function b_(r,n){let i=new Set;return new Set(n),r.reduce((l,o)=>{let c=JSON.stringify(v_(o));return i.has(c)||(i.add(c),l.push({key:c,link:o})),l},[])}function Lg(){let r=j.useContext(Lr);return Jc(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function __(){let r=j.useContext(Cl);return Jc(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var Qc=j.createContext(void 0);Qc.displayName="FrameworkContext";function kg(){let r=j.useContext(Qc);return Jc(r,"You must render this element inside a <HydratedRouter> element"),r}function w_(r,n){let i=j.useContext(Qc),[l,o]=j.useState(!1),[c,d]=j.useState(!1),{onFocus:h,onBlur:m,onMouseEnter:g,onMouseLeave:v,onTouchStart:_}=n,w=j.useRef(null);j.useEffect(()=>{if(r==="render"&&d(!0),r==="viewport"){let R=z=>{z.forEach(M=>{d(M.isIntersecting)})},A=new IntersectionObserver(R,{threshold:.5});return w.current&&A.observe(w.current),()=>{A.disconnect()}}},[r]),j.useEffect(()=>{if(l){let R=setTimeout(()=>{d(!0)},100);return()=>{clearTimeout(R)}}},[l]);let S=()=>{o(!0)},O=()=>{o(!1),d(!1)};return i?r!=="intent"?[c,w,{}]:[c,w,{onFocus:Ni(h,S),onBlur:Ni(m,O),onMouseEnter:Ni(g,S),onMouseLeave:Ni(v,O),onTouchStart:Ni(_,S)}]:[!1,w,{}]}function Ni(r,n){return i=>{r&&r(i),i.defaultPrevented||n(i)}}function S_({page:r,...n}){let{router:i}=Lg(),l=j.useMemo(()=>yg(i.routes,r,i.basename),[i.routes,r,i.basename]);return l?j.createElement(E_,{page:r,matches:l,...n}):null}function x_(r){let{manifest:n,routeModules:i}=kg(),[l,o]=j.useState([]);return j.useEffect(()=>{let c=!1;return p_(r,n,i).then(d=>{c||o(d)}),()=>{c=!0}},[r,n,i]),l}function E_({page:r,matches:n,...i}){let l=na(),{future:o,manifest:c,routeModules:d}=kg(),{basename:h}=Lg(),{loaderData:m,matches:g}=__(),v=j.useMemo(()=>Rp(r,n,g,c,l,"data"),[r,n,g,c,l]),_=j.useMemo(()=>Rp(r,n,g,c,l,"assets"),[r,n,g,c,l]),w=j.useMemo(()=>{if(r===l.pathname+l.search+l.hash)return[];let R=new Set,A=!1;if(n.forEach(M=>{let B=c.routes[M.route.id];!B||!B.hasLoader||(!v.some(G=>G.route.id===M.route.id)&&M.route.id in m&&d[M.route.id]?.shouldRevalidate||B.hasClientLoader?A=!0:R.add(M.route.id))}),R.size===0)return[];let z=d_(r,h,o.unstable_trailingSlashAwareDataRequests,"data");return A&&R.size>0&&z.searchParams.set("_routes",n.filter(M=>R.has(M.route.id)).map(M=>M.route.id).join(",")),[z.pathname+z.search]},[h,o.unstable_trailingSlashAwareDataRequests,m,l,c,v,n,r,d]),S=j.useMemo(()=>g_(_,c),[_,c]),O=x_(_);return j.createElement(j.Fragment,null,w.map(R=>j.createElement("link",{key:R,rel:"prefetch",as:"fetch",href:R,...i})),S.map(R=>j.createElement("link",{key:R,rel:"modulepreload",href:R,...i})),O.map(({key:R,link:A})=>j.createElement("link",{key:R,nonce:i.nonce,...A,crossOrigin:A.crossOrigin??i.crossOrigin})))}function T_(...r){return n=>{r.forEach(i=>{typeof i=="function"?i(n):i!=null&&(i.current=n)})}}var A_=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{A_&&(window.__reactRouterVersion="7.13.0")}catch{}function R_({basename:r,children:n,unstable_useTransitions:i,window:l}){let o=j.useRef();o.current==null&&(o.current=sb({window:l,v5Compat:!0}));let c=o.current,[d,h]=j.useState({action:c.action,location:c.location}),m=j.useCallback(g=>{i===!1?h(g):j.startTransition(()=>h(g))},[i]);return j.useLayoutEffect(()=>c.listen(m),[c,m]),j.createElement(t_,{basename:r,children:n,location:d.location,navigationType:d.action,navigator:c,unstable_useTransitions:i})}var Dg=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ug=j.forwardRef(function({onClick:n,discover:i="render",prefetch:l="none",relative:o,reloadDocument:c,replace:d,state:h,target:m,to:g,preventScrollReset:v,viewTransition:_,unstable_defaultShouldRevalidate:w,...S},O){let{basename:R,unstable_useTransitions:A}=j.useContext(It),z=typeof g=="string"&&Dg.test(g),M=xg(g,R);g=M.to;let B=$b(g,{relative:o}),[G,D,P]=w_(l,S),X=C_(g,{replace:d,state:h,target:m,preventScrollReset:v,relative:o,viewTransition:_,unstable_defaultShouldRevalidate:w,unstable_useTransitions:A});function re(De){n&&n(De),De.defaultPrevented||X(De)}let se=j.createElement("a",{...S,...P,href:M.absoluteURL||B,onClick:M.isExternal||c?n:re,ref:T_(O,D),target:m,"data-discover":!z&&i==="render"?"true":void 0});return G&&!z?j.createElement(j.Fragment,null,se,j.createElement(S_,{page:B})):se});Ug.displayName="Link";var j_=j.forwardRef(function({"aria-current":n="page",caseSensitive:i=!1,className:l="",end:o=!1,style:c,to:d,viewTransition:h,children:m,...g},v){let _=Pi(d,{relative:g.relative}),w=na(),S=j.useContext(Cl),{navigator:O,basename:R}=j.useContext(It),A=S!=null&&M_(_)&&h===!0,z=O.encodeLocation?O.encodeLocation(_).pathname:_.pathname,M=w.pathname,B=S&&S.navigation&&S.navigation.location?S.navigation.location.pathname:null;i||(M=M.toLowerCase(),B=B?B.toLowerCase():null,z=z.toLowerCase()),B&&R&&(B=En(B,R)||B);const G=z!=="/"&&z.endsWith("/")?z.length-1:z.length;let D=M===z||!o&&M.startsWith(z)&&M.charAt(G)==="/",P=B!=null&&(B===z||!o&&B.startsWith(z)&&B.charAt(z.length)==="/"),X={isActive:D,isPending:P,isTransitioning:A},re=D?n:void 0,se;typeof l=="function"?se=l(X):se=[l,D?"active":null,P?"pending":null,A?"transitioning":null].filter(Boolean).join(" ");let De=typeof c=="function"?c(X):c;return j.createElement(Ug,{...g,"aria-current":re,className:se,ref:v,style:De,to:d,viewTransition:h},typeof m=="function"?m(X):m)});j_.displayName="NavLink";var O_=j.forwardRef(({discover:r="render",fetcherKey:n,navigate:i,reloadDocument:l,replace:o,state:c,method:d=Sl,action:h,onSubmit:m,relative:g,preventScrollReset:v,viewTransition:_,unstable_defaultShouldRevalidate:w,...S},O)=>{let{unstable_useTransitions:R}=j.useContext(It),A=D_(),z=U_(h,{relative:g}),M=d.toLowerCase()==="get"?"get":"post",B=typeof h=="string"&&Dg.test(h),G=D=>{if(m&&m(D),D.defaultPrevented)return;D.preventDefault();let P=D.nativeEvent.submitter,X=P?.getAttribute("formmethod")||d,re=()=>A(P||D.currentTarget,{fetcherKey:n,method:X,navigate:i,replace:o,state:c,relative:g,preventScrollReset:v,viewTransition:_,unstable_defaultShouldRevalidate:w});R&&i!==!1?j.startTransition(()=>re()):re()};return j.createElement("form",{ref:O,method:M,action:z,onSubmit:l?m:G,...S,"data-discover":!B&&r==="render"?"true":void 0})});O_.displayName="Form";function N_(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Mg(r){let n=j.useContext(Lr);return Ue(n,N_(r)),n}function C_(r,{target:n,replace:i,state:l,preventScrollReset:o,relative:c,viewTransition:d,unstable_defaultShouldRevalidate:h,unstable_useTransitions:m}={}){let g=Ii(),v=na(),_=Pi(r,{relative:c});return j.useCallback(w=>{if(l_(w,n)){w.preventDefault();let S=i!==void 0?i:Mi(v)===Mi(_),O=()=>g(r,{replace:S,state:l,preventScrollReset:o,relative:c,viewTransition:d,unstable_defaultShouldRevalidate:h});m?j.startTransition(()=>O()):O()}},[v,g,_,i,l,n,r,o,c,d,h,m])}function Wc(r){Kt(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let n=j.useRef(Nc(r)),i=j.useRef(!1),l=na(),o=j.useMemo(()=>u_(l.search,i.current?null:n.current),[l.search]),c=Ii(),d=j.useCallback((h,m)=>{const g=Nc(typeof h=="function"?h(new URLSearchParams(o)):h);i.current=!0,c("?"+g,m)},[c,o]);return[o,d]}var L_=0,k_=()=>`__${String(++L_)}__`;function D_(){let{router:r}=Mg("useSubmit"),{basename:n}=j.useContext(It),i=Qb(),l=r.fetch,o=r.navigate;return j.useCallback(async(c,d={})=>{let{action:h,method:m,encType:g,formData:v,body:_}=f_(c,n);if(d.navigate===!1){let w=d.fetcherKey||k_();await l(w,i,d.action||h,{unstable_defaultShouldRevalidate:d.unstable_defaultShouldRevalidate,preventScrollReset:d.preventScrollReset,formData:v,body:_,formMethod:d.method||m,formEncType:d.encType||g,flushSync:d.flushSync})}else await o(d.action||h,{unstable_defaultShouldRevalidate:d.unstable_defaultShouldRevalidate,preventScrollReset:d.preventScrollReset,formData:v,body:_,formMethod:d.method||m,formEncType:d.encType||g,replace:d.replace,state:d.state,fromRouteId:i,flushSync:d.flushSync,viewTransition:d.viewTransition})},[l,o,n,i])}function U_(r,{relative:n}={}){let{basename:i}=j.useContext(It),l=j.useContext(An);Ue(l,"useFormAction must be used inside a RouteContext");let[o]=l.matches.slice(-1),c={...Pi(r||".",{relative:n})},d=na();if(r==null){c.search=d.search;let h=new URLSearchParams(c.search),m=h.getAll("index");if(m.some(v=>v==="")){h.delete("index"),m.filter(_=>_).forEach(_=>h.append("index",_));let v=h.toString();c.search=v?`?${v}`:""}}return(!r||r===".")&&o.route.index&&(c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index"),i!=="/"&&(c.pathname=c.pathname==="/"?i:xn([i,c.pathname])),Mi(c)}function M_(r,{relative:n}={}){let i=j.useContext(Tg);Ue(i!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:l}=Mg("useViewTransitionState"),o=Pi(r,{relative:n});if(!i.isTransitioning)return!1;let c=En(i.currentLocation.pathname,l)||i.currentLocation.pathname,d=En(i.nextLocation.pathname,l)||i.nextLocation.pathname;return El(o.pathname,d)!=null||El(o.pathname,c)!=null}function z_(r,n){n()}function kr(r,n){n||(n={});const i=n.equals||Object.is;let l=[],o=r;const c=g=>{if(!i(o,g)){const v=o;o=g,z_(m,()=>{[...l].forEach(([_,w])=>{_(g,v),w&&h(_,!0)})})}};function d(g){const v=typeof g!="object"?{once:g}:g;return{once:v.once||!1,signal:v.signal||!1}}const h=(g,v)=>{const _=d(v),w=l.findIndex(([S,O])=>S===g&&O.once===_.once&&O.signal===_.signal);w>=0&&l.splice(w,1)},m=Object.assign(function(){return B_(m),o},{destroy(){l=[]},set:c,reset(){c(r)},sub(g,v){return l.push([g,d(v)]),()=>h(g,v)},unsub:h,unsubAll(){l=l.filter(g=>g[1].signal)}});return m}const ki=[];function B_(r){ki.length&&ki[ki.length-1].add(r)}function zg(r,n){let i=new Set,l;function o(){return l||(l=kr(d(),n))}function c(){o().set(d())}function d(){i.forEach(g=>{g.unsub(c,{signal:!0})});const h=new Set;let m;ki.push(h);try{m=r()}finally{ki.pop()}return h.forEach(g=>{g.sub(c,{signal:!0})}),i=h,m}return Object.assign(function(){return o()()},{destroy(){o().destroy()},sub(...h){return o().sub(...h)},unsub(...h){o().unsub(...h)},unsubAll(...h){o().unsubAll(...h)}})}let gc;function Bg(r){return{lang:r?.lang??gc?.lang,message:r?.message,abortEarly:r?.abortEarly??gc?.abortEarly,abortPipeEarly:r?.abortPipeEarly??gc?.abortPipeEarly}}let q_;function $_(r){return q_?.get(r)}let H_;function G_(r){return H_?.get(r)}let V_;function K_(r,n){return V_?.get(r)?.get(n)}function Y_(r){const n=typeof r;return n==="string"?`"${r}"`:n==="number"||n==="bigint"||n==="boolean"?`${r}`:n==="object"||n==="function"?(r&&Object.getPrototypeOf(r)?.constructor?.name)??"null":n}function bt(r,n,i,l,o){const c=o&&"input"in o?o.input:i.value,d=o?.expected??r.expects??null,h=o?.received??Y_(c),m={kind:r.kind,type:r.type,input:c,expected:d,received:h,message:`Invalid ${n}: ${d?`Expected ${d} but r`:"R"}eceived ${h}`,requirement:r.requirement,path:o?.path,issues:o?.issues,lang:l.lang,abortEarly:l.abortEarly,abortPipeEarly:l.abortPipeEarly},g=r.kind==="schema",v=o?.message??r.message??K_(r.reference,m.lang)??(g?G_(m.lang):null)??l.message??$_(m.lang);v!==void 0&&(m.message=typeof v=="function"?v(m):v),g&&(i.typed=!1),i.issues?i.issues.push(m):i.issues=[m]}function Lt(r){return{version:1,vendor:"valibot",validate(n){return r["~run"]({value:n},Bg())}}}function qg(r,n){return Object.hasOwn(r,n)&&n!=="__proto__"&&n!=="prototype"&&n!=="constructor"}function I_(r,n){const i=[...new Set(r)];return i.length>1?`(${i.join(` ${n} `)})`:i[0]??"never"}var P_=class extends Error{constructor(r){super(r[0].message),this.name="ValiError",this.issues=r}};function kl(r,n){return{kind:"validation",type:"check",reference:kl,async:!1,expects:null,requirement:r,message:n,"~run"(i,l){return i.typed&&!this.requirement(i.value)&&bt(this,"input",i,l),i}}}function $g(r){return{kind:"validation",type:"integer",reference:$g,async:!1,expects:null,requirement:Number.isInteger,message:r,"~run"(n,i){return n.typed&&!this.requirement(n.value)&&bt(this,"integer",n,i),n}}}function Oa(r){return{kind:"transformation",type:"transform",reference:Oa,async:!1,operation:r,"~run"(n){return n.value=this.operation(n.value),n}}}function Z_(r,n,i){return typeof r.fallback=="function"?r.fallback(n,i):r.fallback}function Fc(r,n,i){return typeof r.default=="function"?r.default(n,i):r.default}function Hg(r,n){return!r["~run"]({value:n},{abortEarly:!0}).issues}function Ra(r){return{kind:"schema",type:"boolean",reference:Ra,expects:"boolean",async:!1,message:r,get"~standard"(){return Lt(this)},"~run"(n,i){return typeof n.value=="boolean"?n.typed=!0:bt(this,"type",n,i),n}}}function Gg(r){return{kind:"schema",type:"date",reference:Gg,expects:"Date",async:!1,message:r,get"~standard"(){return Lt(this)},"~run"(n,i){return n.value instanceof Date?isNaN(n.value)?bt(this,"type",n,i,{received:'"Invalid Date"'}):n.typed=!0:bt(this,"type",n,i),n}}}function ef(r){return{kind:"schema",type:"function",reference:ef,expects:"Function",async:!1,message:r,get"~standard"(){return Lt(this)},"~run"(n,i){return typeof n.value=="function"?n.typed=!0:bt(this,"type",n,i),n}}}function tf(r,n){return{kind:"schema",type:"instance",reference:tf,expects:r.name,async:!1,class:r,message:n,get"~standard"(){return Lt(this)},"~run"(i,l){return i.value instanceof this.class?i.typed=!0:bt(this,"type",i,l),i}}}function ft(r,n){return{kind:"schema",type:"loose_object",reference:ft,expects:"Object",async:!1,entries:r,message:n,get"~standard"(){return Lt(this)},"~run"(i,l){const o=i.value;if(o&&typeof o=="object"){i.typed=!0,i.value={};for(const c in this.entries){const d=this.entries[c];if(c in o||(d.type==="exact_optional"||d.type==="optional"||d.type==="nullish")&&d.default!==void 0){const h=c in o?o[c]:Fc(d),m=d["~run"]({value:h},l);if(m.issues){const g={type:"object",origin:"value",input:o,key:c,value:h};for(const v of m.issues)v.path?v.path.unshift(g):v.path=[g],i.issues?.push(v);if(i.issues||(i.issues=m.issues),l.abortEarly){i.typed=!1;break}}m.typed||(i.typed=!1),i.value[c]=m.value}else if(d.fallback!==void 0)i.value[c]=Z_(d);else if(d.type!=="exact_optional"&&d.type!=="optional"&&d.type!=="nullish"&&(bt(this,"key",i,l,{input:void 0,expected:`"${c}"`,path:[{type:"object",origin:"key",input:o,key:c,value:o[c]}]}),l.abortEarly))break}if(!i.issues||!l.abortEarly)for(const c in o)qg(o,c)&&!(c in this.entries)&&(i.value[c]=o[c])}else bt(this,"type",i,l);return i}}}function xr(r,n){return{kind:"schema",type:"nullish",reference:xr,expects:`(${r.expects} | null | undefined)`,async:!1,wrapped:r,default:n,get"~standard"(){return Lt(this)},"~run"(i,l){return(i.value===null||i.value===void 0)&&(this.default!==void 0&&(i.value=Fc(this,i,l)),i.value===null||i.value===void 0)?(i.typed=!0,i):this.wrapped["~run"](i,l)}}}function Cr(r){return{kind:"schema",type:"number",reference:Cr,expects:"number",async:!1,message:r,get"~standard"(){return Lt(this)},"~run"(n,i){return typeof n.value=="number"&&!isNaN(n.value)?n.typed=!0:bt(this,"type",n,i),n}}}function Ne(r,n){return{kind:"schema",type:"optional",reference:Ne,expects:`(${r.expects} | undefined)`,async:!1,wrapped:r,default:n,get"~standard"(){return Lt(this)},"~run"(i,l){return i.value===void 0&&(this.default!==void 0&&(i.value=Fc(this,i,l)),i.value===void 0)?(i.typed=!0,i):this.wrapped["~run"](i,l)}}}function Vg(r,n,i){return{kind:"schema",type:"record",reference:Vg,expects:"Object",async:!1,key:r,value:n,message:i,get"~standard"(){return Lt(this)},"~run"(l,o){const c=l.value;if(c&&typeof c=="object"){l.typed=!0,l.value={};for(const d in c)if(qg(c,d)){const h=c[d],m=this.key["~run"]({value:d},o);if(m.issues){const v={type:"object",origin:"key",input:c,key:d,value:h};for(const _ of m.issues)_.path=[v],l.issues?.push(_);if(l.issues||(l.issues=m.issues),o.abortEarly){l.typed=!1;break}}const g=this.value["~run"]({value:h},o);if(g.issues){const v={type:"object",origin:"value",input:c,key:d,value:h};for(const _ of g.issues)_.path?_.path.unshift(v):_.path=[v],l.issues?.push(_);if(l.issues||(l.issues=g.issues),o.abortEarly){l.typed=!1;break}}(!m.typed||!g.typed)&&(l.typed=!1),m.typed&&(l.value[m.value]=g.value)}}else bt(this,"type",l,o);return l}}}function be(r){return{kind:"schema",type:"string",reference:be,expects:"string",async:!1,message:r,get"~standard"(){return Lt(this)},"~run"(n,i){return typeof n.value=="string"?n.typed=!0:bt(this,"type",n,i),n}}}function jp(r){let n;if(r)for(const i of r)n?n.push(...i.issues):n=i.issues;return n}function Dl(r,n){return{kind:"schema",type:"union",reference:Dl,expects:I_(r.map(i=>i.expects),"|"),async:!1,options:r,message:n,get"~standard"(){return Lt(this)},"~run"(i,l){let o,c,d;for(const h of this.options){const m=h["~run"]({value:i.value},l);if(m.typed)if(m.issues)c?c.push(m):c=[m];else{o=m;break}else d?d.push(m):d=[m]}if(o)return o;if(c){if(c.length===1)return c[0];bt(this,"type",i,l,{issues:jp(c)}),i.typed=!0}else{if(d?.length===1)return d[0];bt(this,"type",i,l,{issues:jp(d)})}return i}}}function nf(){return{kind:"schema",type:"unknown",reference:nf,expects:"unknown",async:!1,get"~standard"(){return Lt(this)},"~run"(r){return r.typed=!0,r}}}function Tl(r,n,i){const l=r["~run"]({value:n},Bg(i));if(l.issues)throw new P_(l.issues);return l.value}function ta(...r){return{...r[0],pipe:r,get"~standard"(){return Lt(this)},"~run"(n,i){for(const l of r)if(l.kind!=="metadata"){if(n.issues&&(l.kind==="schema"||l.kind==="transformation")){n.typed=!1;break}(!n.issues||!i.abortEarly&&!i.abortPipeEarly)&&(n=l["~run"](n,i))}return n}}}var X_=Object.defineProperty,J_=(r,n,i)=>n in r?X_(r,n,{enumerable:!0,configurable:!0,writable:!0,value:i}):r[n]=i,Op=(r,n,i)=>J_(r,typeof n!="symbol"?n+"":n,i),Q_=Object.defineProperty,W_=(r,n,i)=>n in r?Q_(r,n,{enumerable:!0,configurable:!0,writable:!0,value:i}):r[n]=i,Cc=(r,n,i)=>W_(r,typeof n!="symbol"?n+"":n,i);function Kg(r){return n=>n instanceof r}function Yg(r,n){const i=class extends Error{constructor(...o){const c=typeof n=="function"?n(...o):typeof n=="string"?[n]:n||[];super(...c),this.name=r}};Cc(i,"is",Kg(i));let l=i;return Object.defineProperty(l,"name",{value:r}),l}function F_(r,n,i){const l=class extends Yg(r,i){constructor(...c){super(...c),Cc(this,"data"),this.data=n(...c)}};Cc(l,"is",Kg(l));let o=l;return Object.defineProperty(o,"name",{value:r}),o}let ew=class extends Yg("CancelledError","Promise was canceled"){},tw=class extends F_("TimeoutError",n=>({timeout:n}),(n,i)=>[`Timeout reached: ${n}ms`,{cause:i}]){};const nw=Symbol("resolved");function aw(r){return{tag:nw,value:r}}function Np(r,n){return r.reject=n.reject,r.resolve=n.resolve,r}let rw=class Lc extends Promise{constructor(n,i){let l,o,c,d;typeof n=="function"?(c=n,d=i||{}):d=n||{};let h,m;const g=()=>!!m,v=()=>!!h;let _={};const w=[],S=()=>{w.forEach(A=>A()),w.splice(0,w.length),_={}},O=new AbortController,R=()=>v()||g();super((A,z)=>{const{abortOnResolve:M=!0,abortOnReject:B=!0}=d;o=P=>{var X,re;R()||(A(P),h=[P],(X=_.resolved)==null||X.forEach(se=>se(P)),(re=_.finalized)==null||re.forEach(se=>se({kind:"resolved",result:P})),S(),M&&O.abort(aw(P)))},l=P=>{var X,re;R()||(z(P),m=[P],(X=_.rejected)==null||X.forEach(se=>se(P)),(re=_.finalized)==null||re.forEach(se=>se({kind:"rejected",reason:P})),S(),B&&O.abort(P))};const{abortSignal:G}=d;if(G){if(G.aborted)return l(G.reason);const P=()=>{l(G.reason)};G.addEventListener("abort",P,!0),w.push(()=>{G.removeEventListener("abort",P,!0)})}const{timeout:D}=d;if(D){const P=setTimeout(()=>{l(new tw(D))},D);w.push(()=>{clearTimeout(P)})}try{const P=()=>{},X=c&&c(o,l,{abortSignal:O.signal,get isRejected(){return g()},get isResolved(){return v()},on(re,se){if(h||m){if(re==="finalized"){const De=h?{kind:"resolved",result:h[0]}:{kind:"rejected",reason:m[0]};se(De)}else re==="resolved"&&h?se(h[0]):re==="rejected"&&m&&se(m[0]);return P}return _[re]||(_[re]=[]),_[re].push(se),()=>{const De=_[re]||[],Ze=De.indexOf(se);Ze>=0&&De.splice(Ze,1)}},get result(){return h?.[0]},get rejectReason(){return m?.[0]},throwIfRejected(){if(m)throw m[0]}});X instanceof Promise&&X.catch(l)}catch(P){l(P)}}),Op(this,"reject"),Op(this,"resolve"),this.reject=l,this.resolve=o}static fn(n,i){return new Lc(async(l,o,c)=>{try{l(await n(c))}catch(d){o(d)}},i)}static resolve(n){return this.fn(()=>n)}static reject(n){return new Lc((i,l)=>{l(n)})}cancel(){this.reject(new ew)}catch(n){return this.then(void 0,n)}finally(n){return Np(super.finally(n),this)}then(n,i){return Np(super.then(n,i),this)}};var iw=function(r,n,i){if(i||arguments.length===2)for(var l=0,o=n.length,c;l<o;l++)(c||!(l in n))&&(c||(c=Array.prototype.slice.call(n,0,l)),c[l]=n[l]);return r.concat(c||Array.prototype.slice.call(n))};function Tn(r,n,i,l,o,c,d,h,m){switch(arguments.length){case 1:return r;case 2:return n(r);case 3:return i(n(r));case 4:return l(i(n(r)));case 5:return o(l(i(n(r))));case 6:return c(o(l(i(n(r)))));case 7:return d(c(o(l(i(n(r))))));case 8:return h(d(c(o(l(i(n(r)))))));case 9:return m(h(d(c(o(l(i(n(r))))))));default:{for(var g=arguments[0],v=1;v<arguments.length;v++)g=arguments[v](g);return g}}}var sw=function(r,n){var i=typeof r=="number"?function(l){return l.length>=r}:r;return function(){var l=Array.from(arguments);return i(arguments)?n.apply(this,l):function(o){return n.apply(void 0,iw([o],l,!1))}}},lw={_tag:"None"},uw=function(r){return{_tag:"Some",value:r}},ow=function(r){return r._tag==="Left"},cw=function(r){return{_tag:"Left",left:r}},fw=function(r){return{_tag:"Right",right:r}},dw=lw,hw=uw,mw=function(r){return r._tag==="None"},pw=function(r,n){return function(i){return mw(i)?r():n(i.value)}},gw=pw,Ul=cw,jr=fw,yw=sw(2,function(r,n){return af(r)?r:n(r.right)}),Ig=function(r){return function(n){return af(n)?n:jr(r(n.right))}},af=ow,rf=function(r,n){return function(i){return af(i)?r(i.left):n(i.right)}},vw=rf,sf=rf,bw=sf,_w=function(r,n){try{return jr(r())}catch(i){return Ul(n(i))}},ww=yw;function Sw(r){return function(n,i){return function(l){return r.map(l,sf(n,i))}}}var xw=function(r,n){return Tn(r,Ew(n))},Ew=function(r){return function(n){return function(){return Promise.resolve().then(n).then(r)}}},Tw="Task",Aw={URI:Tw,map:xw},Rw=Sw(Aw);function Pg(r){return`tapps/${r}`}function jw(r,n){sessionStorage.setItem(Pg(r),JSON.stringify(n))}function Ow(r){const n=sessionStorage.getItem(Pg(r));try{return n?JSON.parse(n):void 0}catch{}}function Nw(...r){const n=r.flat(1);return[n.push.bind(n),()=>{n.forEach(i=>{i()})}]}function Cw(r,n){n||(n={});const{textColor:i,bgColor:l,shouldLog:o}=n,c=o===void 0?!0:o,d=typeof c=="boolean"?()=>c:c,h=(m,g,...v)=>{if(g||d()){const _="font-weight:bold;padding:0 5px;border-radius:100px",[w,S,O]={log:["#0089c3","white","INFO"],error:["#ff0000F0","white","ERR"],warn:["#D38E15","white","WARN"]}[m];console[m](`%c${O} ${Intl.DateTimeFormat("en-GB",{hour:"2-digit",minute:"2-digit",second:"2-digit",fractionalSecondDigits:3,timeZone:"UTC"}).format(new Date)}%c %c${r}`,`${_};background-color:${w};color:${S}`,"",`${_};${i?`color:${i};`:""}${l?`background-color:${l}`:""}`,...v)}};return[["log","forceLog"],["warn","forceWarn"],["error","forceError"]].reduce((m,[g,v])=>(m[g]=h.bind(void 0,g,!1),m[v]=h.bind(void 0,g,!0),m),{})}function Zg(r){const n=i=>{throw i};return typeof r=="function"?rw.resolve(Tn(r,Rw(n,i=>i))()):Tn(r,sf(n,i=>i))}function Xg(r){return Object.assign((...n)=>Zg(r(...n)),r)}var Lw=Object.defineProperty,kw=(r,n,i)=>n in r?Lw(r,n,{enumerable:!0,configurable:!0,writable:!0,value:i}):r[n]=i,kc=(r,n,i)=>kw(r,typeof n!="symbol"?n+"":n,i);function Jg(r){return n=>n instanceof r}function Qg(r,n){const i=class extends Error{constructor(...c){const d=typeof n=="function"?n(...c):typeof n=="string"?[n]:n||[];super(...d),this.name=r}};kc(i,"is",Jg(i));let l=i;return Object.defineProperty(l,"name",{value:r}),l}function Dw(r,n,i){const l=class extends Qg(r,i){constructor(...d){super(...d),kc(this,"data"),this.data=n(...d)}};kc(l,"is",Jg(l));let o=l;return Object.defineProperty(o,"name",{value:r}),o}function Uw(r){const n=i=>{const l={};return new URLSearchParams(i).forEach((o,c)=>{const d=l[c];Array.isArray(d)?d.push(o):d===void 0?l[c]=o:l[c]=[d,o]}),Tl(r,l)};return ta(Dl([be(),tf(URLSearchParams)]),kl(i=>{try{return n(i),!0}catch{return!1}},"The value doesn't match required schema"),Oa(n))}function Mw(r){return ta(be(),kl(n=>{try{return JSON.parse(n),!0}catch{return!1}},"Input is not a valid JSON value"),Oa(JSON.parse),r)}function Or(r){return ta(be(),Mw(r))}function Wg(r){return ta(Dl([be(),tf(URLSearchParams)]),Uw(r))}function Ml(r){return n=>r.test(n)}const zw=Ml(/^#[\da-f]{3}$/i),Bw=Ml(/^#[\da-f]{4}$/i),qw=Ml(/^#[\da-f]{6}$/i),$w=Ml(/^#[\da-f]{8}$/i);function Hw(r){return[qw,$w,zw,Bw].some(n=>n(r))}function Gw(){return ft({id:Cr(),photo_url:Ne(be()),type:be(),title:be(),username:Ne(be())})}function Cp(){return ft({added_to_attachment_menu:Ne(Ra()),allows_write_to_pm:Ne(Ra()),first_name:be(),id:Cr(),is_bot:Ne(Ra()),is_premium:Ne(Ra()),last_name:Ne(be()),language_code:Ne(be()),photo_url:Ne(be()),username:Ne(be())})}function Vw(){return ft({auth_date:ta(be(),Oa(r=>new Date(Number(r)*1e3)),Gg()),can_send_after:Ne(ta(be(),Oa(Number),$g())),chat:Ne(Or(Gw())),chat_type:Ne(be()),chat_instance:Ne(be()),hash:be(),query_id:Ne(be()),receiver:Ne(Or(Cp())),start_param:Ne(be()),signature:be(),user:Ne(Or(Cp()))})}function Kw(){return Wg(Vw())}function Dc(){return Vg(be(),ta(Dl([be(),Cr()]),Oa(r=>typeof r=="number"?`#${(r&16777215).toString(16).padStart(6,"0")}`:r),kl(Hw)))}function Yw(){const r=Ne(ta(be(),Oa(n=>n==="1")));return ft({tgWebAppBotInline:r,tgWebAppData:Ne(Kw()),tgWebAppDefaultColors:Ne(Or(Dc())),tgWebAppFullscreen:r,tgWebAppPlatform:be(),tgWebAppShowSettings:r,tgWebAppStartParam:Ne(be()),tgWebAppThemeParams:Or(Dc()),tgWebAppVersion:be()})}function Iw(){return Wg(Yw())}function Pw(){return ft({eventType:be(),eventData:Ne(nf())})}function Fg(r){return _w(()=>Tl(Iw(),r),n=>n)}function Zw(r){return{all:r=r||new Map,on:function(n,i){var l=r.get(n);l?l.push(i):r.set(n,[i])},off:function(n,i){var l=r.get(n);l&&(i?l.splice(l.indexOf(i)>>>0,1):r.set(n,[]))},emit:function(n,i){var l=r.get(n);l&&l.slice().map(function(o){o(i)}),(l=r.get("*"))&&l.slice().map(function(o){o(n,i)})}}}function Xw(r){return Hg(ft({TelegramWebviewProxy:ft({postEvent:ef()})}),r)}function Jw(){try{return window.self!==window.top}catch{return!0}}class Qw extends Dw("LaunchParamsRetrieveError",n=>({errors:n}),n=>[["Unable to retrieve launch parameters from any known source. Perhaps, you have opened your app outside Telegram?"," Refer to docs for more information:","https://docs.telegram-mini-apps.com/packages/tma-js-bridge/environment","","Collected errors:",...n.map(({source:i,error:l})=>`Source: ${i} / ${l instanceof Error?l.message:String(l)}`)].join(`
`)]){}class Ww extends Qg("UnknownEnvError"){}const Lp="launchParams";function kp(r){return r.replace(/^[^?#]*[?#]/,"").replace(/[?#]/g,"&")}function ey(){return Tn(ty(),ww(Fg))}const Fw=Xg(ey);function eS(){return Tn(ty(),Ig(r=>{const n=new URLSearchParams(r).get("tgWebAppData");return n?hw(n):dw}))}function tS(){return Tn(eS(),bw(r=>{throw r},r=>r),gw(()=>{},r=>r))}function ty(){const r=[];for(const[n,i]of[[()=>kp(window.location.href),"window.location.href"],[()=>{const l=performance.getEntriesByType("navigation")[0];return l&&kp(l.name)},"performance navigation entries"],[()=>Ow(Lp),"local storage"]]){const l=n();if(!l){r.push({source:i,error:new Error("Source is empty")});continue}const o=Tn(Fg(l),vw(c=>c,()=>!0));if(typeof o!="boolean"){r.push({source:i,error:o});continue}return jw(Lp,l),jr(l)}return Ul(new Qw(r))}function nS(r,n){const i=new Map,l=Zw(),o=(c,d,h=!1)=>{const m=i.get(c)||new Map;i.set(c,m);const g=m.get(d)||[];m.set(d,g);const v=g.findIndex(_=>_[1]===h);if(v>=0&&(l.off(c,g[v][0]),g.splice(v,1),!g.length&&(m.delete(d),!m.size))){const _=i.size;i.delete(c),_&&!i.size&&n()}};return{on(c,d,h){!i.size&&r();const m=()=>{o(c,d,h)},g=(...w)=>{h&&m(),c==="*"?d({name:w[0],payload:w[1]}):d(...w)};l.on(c,g);const v=i.get(c)||new Map;i.set(c,v);const _=v.get(d)||[];return v.set(d,_),_.push([g,h||!1]),m},off:o,emit:l.emit,clear(){const c=i.size;l.all.clear(),i.clear(),c&&n()}}}function yc(r,n){window.dispatchEvent(new MessageEvent("message",{data:JSON.stringify({eventType:r,eventData:n}),source:window.parent}))}const aS=kr(!1),rS=kr("https://web.telegram.org"),iS=zg(aS),sS=zg(rS),lS=kr((...r)=>{window.parent.postMessage(...r)}),Al=kr(Cw("Bridge",{bgColor:"#9147ff",textColor:"white",shouldLog:iS}));function vc(r,n,i){const l=[i],o=r[n];typeof o=="function"&&l.push(o);const c=(...h)=>{l.forEach(m=>m(...h))},d=Object.assign((...h)=>{c(...h)},{unwrap(){const{length:h}=l;if(h===1){delete r[n];return}if(h===2){Up(r,n,l[1]);return}l.unshift(1),Up(r,n,c)}});ny(r,n,()=>d,h=>l.push(h))}function Dp(r,n){const i=r[n];ny(r,n,()=>i,l=>{Object.entries(l).forEach(([o,c])=>{i[o]=c})})}function ny(r,n,i,l){Object.defineProperty(r,n,{enumerable:!0,configurable:!0,get:i,set:l})}function Up(r,n,i){Object.defineProperty(r,n,{enumerable:!0,configurable:!0,writable:!0,value:i})}const uS={clipboard_text_received:ft({req_id:be(),data:xr(be())}),custom_method_invoked:ft({req_id:be(),result:Ne(nf()),error:Ne(be())}),popup_closed:xr(ft({button_id:xr(be(),()=>{})}),{}),viewport_changed:xr(ft({height:Cr(),width:xr(Cr(),()=>window.innerWidth),is_state_stable:Ra(),is_expanded:Ra()}),()=>({height:window.innerHeight,is_state_stable:!0,is_expanded:!0})),theme_changed:ft({theme_params:Dc()})};function Mp(r){if(r.source!==window.parent)return;let n;try{n=Tl(Or(Pw()),r.data)}catch{return}const{eventType:i,eventData:l}=n,o=uS[i];let c;try{c=o?Tl(o,l):l}catch(d){return Al().forceError([`An error occurred processing the "${i}" event from the Telegram application.`,"Please, file an issue here:","https://github.com/Telegram-Mini-Apps/tma.js/issues/new/choose"].join(`
`),n,d)}oS(i,c)}const{on:zp,emit:oS}=nS(()=>{const r=window;!r.TelegramGameProxy&&(r.TelegramGameProxy={}),vc(r.TelegramGameProxy,"receiveEvent",yc),Dp(r,"TelegramGameProxy"),!r.Telegram&&(r.Telegram={}),!r.Telegram.WebView&&(r.Telegram.WebView={}),vc(r.Telegram.WebView,"receiveEvent",yc),Dp(r.Telegram,"WebView"),vc(r,"TelegramGameProxy_receiveEvent",yc),window.addEventListener("message",Mp)},()=>{[["TelegramGameProxy_receiveEvent"],["TelegramGameProxy","receiveEvent"],["Telegram","WebView","receiveEvent"]].forEach(r=>{const n=window;let i=[void 0,n];for(const c of r)if(i=[i[1],i[1][c]],!i[1])return;const[l,o]=i;"unwrap"in o&&(o.unwrap(),l&&l!==n&&!Object.keys(l).length&&delete n[r[0]])}),window.removeEventListener("message",Mp)}),cS=(...r)=>lS()(...r);function fS(r,n){Al().log("Posting event:",n?{eventType:r,eventData:n}:{eventType:r});const i=window,l=JSON.stringify({eventType:r,eventData:n});return Jw()?(cS(l,sS()),jr(void 0)):Xw(i)?(i.TelegramWebviewProxy.postEvent(r,JSON.stringify(n)),jr(void 0)):Hg(ft({external:ft({notify:ef()})}),i)?(i.external.notify(l),jr(void 0)):Ul(new Ww)}function zl(r,n){return kr(r,n)}const ay=zl(fS),ry=(...r)=>ay()(...r),dS=(...r)=>Zg(ry(...r)),Bp=zl("0.0"),qp=zl({}),$p=zl(!1);function hS(r={}){const{version:n,isInlineMode:i,themeParams:l}=r;if(n&&typeof i=="boolean"&&l)Bp.set(n),$p.set(i),qp.set(l);else{const h=Tn(ey(),rf(m=>m,m=>{Bp.set(n||m.tgWebAppVersion),$p.set(typeof i=="boolean"?i:!!m.tgWebAppBotInline),qp.set(l||m.tgWebAppThemeParams)}));if(h)return Ul(h)}r.postEvent&&ay.set(r.postEvent);const[o,c]=Nw(zp("reload_iframe",()=>{Al().log("Received a request to reload the page"),dS("iframe_will_reload"),window.location.reload()})),{acceptCustomStyles:d=!0}=r;if(d){const h=document.createElement("style");h.id="telegram-custom-styles",document.head.appendChild(h),o(zp("set_custom_style",m=>{h.innerHTML=m}),()=>{document.head.removeChild(h)})}return Tn(ry("iframe_ready",{reload_supported:!0}),Ig(()=>(Al().log("The package was initialized"),c)))}const mS=Xg(hS);function lf(){const[r,n]=j.useState({userId:null,startParam:null,userName:"Master",initDataRaw:null,isReady:!1,error:null});return j.useEffect(()=>{try{const i=Fw(),l=i.tgWebAppData,o=l?.user??null,c=tS()??null,d=i.tgWebAppStartParam??l?.start_param??null;n({userId:o?.id??null,startParam:d,userName:o?.first_name??"Master",initDataRaw:c,isReady:!0,error:null})}catch(i){i instanceof Error&&i.message,n({userId:null,startParam:null,userName:"Master",initDataRaw:null,isReady:!0,error:"    Telegram"})}},[]),r}function Rl(r){return r<=0?"transparent":r<=3?"#22c55e":r<=6?"#eab308":r<=9?"#f97316":"#ef4444"}function pS(r){return r<=0?0:.25+r/10*.55}const iy="M100,8 C114,8 122,18 122,32 C122,44 116,52 110,56 L108,62 L108,68 L140,76 L156,82 L160,90 L162,130 L160,160 L156,178 L148,178 L150,160 L152,130 L148,92 L136,94 L134,140 L136,180 L138,200 L136,210 L130,240 L128,280 L130,310 L132,340 L134,370 L138,385 L120,385 L122,370 L118,340 L116,310 L112,280 L108,250 L106,220 L100,210 L94,220 L92,250 L88,280 L84,310 L82,340 L78,370 L80,385 L62,385 L66,370 L68,340 L70,310 L72,280 L70,240 L64,210 L62,200 L64,180 L66,140 L64,94 L52,92 L48,130 L50,160 L52,178 L44,178 L40,160 L38,130 L40,90 L44,82 L60,76 L92,68 L92,62 L90,56 C84,52 78,44 78,32 C78,18 86,8 100,8 Z",gS=iy,sy=[{id:"head",nameRu:"",anatomicalName:"Cranium",pathData:"M100,10 C113,10 120,19 120,32 C120,43 114,51 108,55 L92,55 C86,51 80,43 80,32 C80,19 87,10 100,10 Z",center:{x:100,y:33},views:["front"],relatedAnatomy:["temporal","frontal","parietal"]},{id:"neck_front",nameRu:"",anatomicalName:"Anterior cervical",pathData:"M92,55 L108,55 L109,68 L91,68 Z",center:{x:100,y:62},views:["front"],relatedAnatomy:["sternocleidomastoid","scalenes"]},{id:"shoulder_left",nameRu:" ",anatomicalName:"Left shoulder (deltoid)",pathData:"M91,68 L66,76 L56,84 L52,92 L64,92 L68,80 L91,74 Z",center:{x:72,y:80},views:["front"],relatedAnatomy:["deltoid","rotator_cuff","acromioclavicular"]},{id:"shoulder_right",nameRu:" ",anatomicalName:"Right shoulder (deltoid)",pathData:"M109,68 L134,76 L144,84 L148,92 L136,92 L132,80 L109,74 Z",center:{x:128,y:80},views:["front"],relatedAnatomy:["deltoid","rotator_cuff","acromioclavicular"]},{id:"chest_left",nameRu:" ",anatomicalName:"Left pectoralis",pathData:"M68,80 L91,74 L100,74 L100,130 L66,130 L64,92 L68,80 Z",center:{x:82,y:102},views:["front"],relatedAnatomy:["pectoralis_major","intercostals"]},{id:"chest_right",nameRu:" ",anatomicalName:"Right pectoralis",pathData:"M132,80 L109,74 L100,74 L100,130 L134,130 L136,92 L132,80 Z",center:{x:118,y:102},views:["front"],relatedAnatomy:["pectoralis_major","intercostals"]},{id:"abdomen_upper",nameRu:" ",anatomicalName:"Upper abdomen (epigastric)",pathData:"M66,130 L134,130 L134,165 L66,165 Z",center:{x:100,y:148},views:["front"],relatedAnatomy:["rectus_abdominis","obliques"]},{id:"abdomen_lower",nameRu:" ",anatomicalName:"Lower abdomen (hypogastric)",pathData:"M66,165 L134,165 L136,200 L64,200 Z",center:{x:100,y:182},views:["front"],relatedAnatomy:["rectus_abdominis","iliopsoas"]},{id:"upper_arm_left",nameRu:"  ()",anatomicalName:"Left upper arm (biceps/triceps)",pathData:"M52,92 L64,92 L60,130 L56,150 L44,150 L42,130 L48,92 Z",center:{x:53,y:120},views:["front"],relatedAnatomy:["biceps","triceps","brachialis"]},{id:"upper_arm_right",nameRu:"  ()",anatomicalName:"Right upper arm (biceps/triceps)",pathData:"M148,92 L136,92 L140,130 L144,150 L156,150 L158,130 L152,92 Z",center:{x:147,y:120},views:["front"],relatedAnatomy:["biceps","triceps","brachialis"]},{id:"forearm_left",nameRu:" ",anatomicalName:"Left forearm",pathData:"M44,150 L56,150 L54,175 L50,178 L40,178 L38,175 Z",center:{x:48,y:165},views:["front"],relatedAnatomy:["flexors","extensors","brachioradialis"]},{id:"forearm_right",nameRu:" ",anatomicalName:"Right forearm",pathData:"M156,150 L144,150 L146,175 L150,178 L160,178 L162,175 Z",center:{x:152,y:165},views:["front"],relatedAnatomy:["flexors","extensors","brachioradialis"]},{id:"thigh_left",nameRu:" ",anatomicalName:"Left thigh (quadriceps)",pathData:"M64,200 L100,208 L100,296 L88,296 L80,280 L72,250 L64,220 Z",center:{x:82,y:248},views:["front"],relatedAnatomy:["quadriceps","adductors","IT_band"]},{id:"thigh_right",nameRu:" ",anatomicalName:"Right thigh (quadriceps)",pathData:"M136,200 L100,208 L100,296 L112,296 L120,280 L128,250 L136,220 Z",center:{x:118,y:248},views:["front"],relatedAnatomy:["quadriceps","adductors","IT_band"]},{id:"knee_left",nameRu:" ",anatomicalName:"Left knee",pathData:"M80,296 L100,296 L100,318 L78,318 Z",center:{x:90,y:307},views:["front"],relatedAnatomy:["patella","meniscus","collateral_ligaments"]},{id:"knee_right",nameRu:" ",anatomicalName:"Right knee",pathData:"M100,296 L120,296 L122,318 L100,318 Z",center:{x:110,y:307},views:["front"],relatedAnatomy:["patella","meniscus","collateral_ligaments"]},{id:"shin_left",nameRu:" ",anatomicalName:"Left shin (tibialis anterior)",pathData:"M78,318 L100,318 L98,370 L96,385 L78,385 L76,370 L74,340 Z",center:{x:88,y:352},views:["front"],relatedAnatomy:["tibialis_anterior","peroneus"]},{id:"shin_right",nameRu:" ",anatomicalName:"Right shin (tibialis anterior)",pathData:"M100,318 L122,318 L126,340 L124,370 L122,385 L104,385 L102,370 Z",center:{x:112,y:352},views:["front"],relatedAnatomy:["tibialis_anterior","peroneus"]}],ly=[{id:"neck_back",nameRu:" ()",anatomicalName:"Posterior cervical",pathData:"M92,55 L108,55 L110,72 L90,72 Z",center:{x:100,y:63},views:["back"],relatedAnatomy:["trapezius_upper","levator_scapulae","suboccipital"]},{id:"trapezius_left",nameRu:" ",anatomicalName:"Left trapezius",pathData:"M90,72 L100,72 L100,94 L76,94 L64,84 L74,76 Z",center:{x:84,y:83},views:["back"],relatedAnatomy:["trapezius","rhomboids"]},{id:"trapezius_right",nameRu:" ",anatomicalName:"Right trapezius",pathData:"M110,72 L100,72 L100,94 L124,94 L136,84 L126,76 Z",center:{x:116,y:83},views:["back"],relatedAnatomy:["trapezius","rhomboids"]},{id:"scapula_left",nameRu:" ",anatomicalName:"Left scapula",pathData:"M76,94 L100,94 L100,140 L66,140 L64,110 Z",center:{x:82,y:117},views:["back"],relatedAnatomy:["infraspinatus","teres_major","rhomboids"]},{id:"scapula_right",nameRu:" ",anatomicalName:"Right scapula",pathData:"M124,94 L100,94 L100,140 L134,140 L136,110 Z",center:{x:118,y:117},views:["back"],relatedAnatomy:["infraspinatus","teres_major","rhomboids"]},{id:"spine_upper",nameRu:" ",anatomicalName:"Thoracic spine (upper)",pathData:"M95,72 L105,72 L105,110 L95,110 Z",center:{x:100,y:91},views:["back"],relatedAnatomy:["thoracic_vertebrae_T1_T4","spinous_processes"]},{id:"spine_mid",nameRu:" ",anatomicalName:"Thoracic spine (mid)",pathData:"M95,110 L105,110 L105,150 L95,150 Z",center:{x:100,y:130},views:["back"],relatedAnatomy:["thoracic_vertebrae_T5_T8","erector_spinae"]},{id:"spine_lower",nameRu:" ",anatomicalName:"Thoracic spine (lower)",pathData:"M95,150 L105,150 L105,180 L95,180 Z",center:{x:100,y:165},views:["back"],relatedAnatomy:["thoracic_vertebrae_T9_T12","erector_spinae"]},{id:"lower_back",nameRu:"",anatomicalName:"Lumbar spine",pathData:"M70,140 L95,140 L95,200 L64,200 Z",center:{x:80,y:170},views:["back"],relatedAnatomy:["lumbar_vertebrae","quadratus_lumborum","erector_spinae"]},{id:"lower_back_right",nameRu:" ",anatomicalName:"Right lumbar",pathData:"M105,140 L130,140 L136,200 L105,200 Z",center:{x:120,y:170},views:["back"],relatedAnatomy:["lumbar_vertebrae","quadratus_lumborum","erector_spinae"]},{id:"glute_left",nameRu:" ",anatomicalName:"Left gluteus",pathData:"M64,200 L100,200 L100,230 L70,240 L62,220 Z",center:{x:80,y:218},views:["back"],relatedAnatomy:["gluteus_maximus","gluteus_medius","piriformis"]},{id:"glute_right",nameRu:" ",anatomicalName:"Right gluteus",pathData:"M136,200 L100,200 L100,230 L130,240 L138,220 Z",center:{x:120,y:218},views:["back"],relatedAnatomy:["gluteus_maximus","gluteus_medius","piriformis"]},{id:"hamstring_left",nameRu:"  ",anatomicalName:"Left hamstring",pathData:"M70,240 L100,230 L100,300 L82,300 L76,270 Z",center:{x:86,y:265},views:["back"],relatedAnatomy:["biceps_femoris","semitendinosus","semimembranosus"]},{id:"hamstring_right",nameRu:"  ",anatomicalName:"Right hamstring",pathData:"M130,240 L100,230 L100,300 L118,300 L124,270 Z",center:{x:114,y:265},views:["back"],relatedAnatomy:["biceps_femoris","semitendinosus","semimembranosus"]},{id:"calf_left",nameRu:" ",anatomicalName:"Left calf (gastrocnemius)",pathData:"M82,300 L100,300 L98,370 L96,385 L78,385 L76,370 L78,330 Z",center:{x:88,y:342},views:["back"],relatedAnatomy:["gastrocnemius","soleus","achilles_tendon"]},{id:"calf_right",nameRu:" ",anatomicalName:"Right calf (gastrocnemius)",pathData:"M100,300 L118,300 L122,330 L124,370 L122,385 L104,385 L102,370 Z",center:{x:112,y:342},views:["back"],relatedAnatomy:["gastrocnemius","soleus","achilles_tendon"]}],uy=new Map([...sy,...ly].map(r=>[r.id,r]));function oy({view:r,zones:n,onZoneClick:i,selectedZoneId:l}){const o=r==="front"?sy:ly,c=r==="front"?iy:gS,d=new Map(n.map(h=>[h.zoneId,h.intensity]));return y.jsxs("svg",{viewBox:"0 0 200 400",className:"w-full max-w-xs mx-auto select-none",role:"img","aria-label":r==="front"?"  ":"  ",children:[y.jsx("path",{d:c,fill:"none",stroke:"currentColor",strokeWidth:"0.5",opacity:"0.2"}),o.map(h=>{const m=d.get(h.id)??0,g=h.id===l,v=m>0;return y.jsx("path",{d:h.pathData,"data-zone-id":h.id,fill:v?Rl(m):"transparent",fillOpacity:v?pS(m):0,stroke:g?"#3b82f6":v?Rl(m):"rgba(255,255,255,0.12)",strokeWidth:g?2:1,className:["cursor-pointer transition-all duration-200",g?"animate-pulse":""].join(" "),onClick:()=>i(h.id),onTouchEnd:_=>{_.preventDefault(),i(h.id)},role:"button","aria-label":h.nameRu},h.id)}),y.jsx("text",{x:"100",y:"396",textAnchor:"middle",fill:"currentColor",fontSize:"10",opacity:"0.4",children:r==="front"?"":""})]})}function yS({view:r,onViewChange:n,children:i}){const l=j.useRef(null),o=j.useCallback(d=>{l.current=d.touches[0].clientX},[]),c=j.useCallback(d=>{if(l.current===null)return;const h=d.changedTouches[0].clientX-l.current,m=50;h>m&&r==="back"?n("front"):h<-m&&r==="front"&&n("back"),l.current=null},[r,n]);return y.jsxs("div",{children:[y.jsxs("div",{className:"flex rounded-lg overflow-hidden border border-gray-700 mb-3",children:[y.jsx("button",{type:"button",className:`flex-1 py-2 text-sm font-medium transition-colors ${r==="front"?"bg-blue-600 text-white":"bg-transparent text-gray-400"}`,onClick:()=>n("front"),children:""}),y.jsx("button",{type:"button",className:`flex-1 py-2 text-sm font-medium transition-colors ${r==="back"?"bg-blue-600 text-white":"bg-transparent text-gray-400"}`,onClick:()=>n("back"),children:""})]}),y.jsx("div",{onTouchStart:o,onTouchEnd:c,children:i})]})}function vS({value:r,onChange:n,label:i}){const l=c=>c<=3?"#22c55e":c<=6?"#eab308":c<=9?"#f97316":"#ef4444",o=c=>c===0?"":c<=3?"":c<=6?"":c<=9?"":"";return y.jsxs("div",{className:"space-y-2",children:[y.jsxs("div",{className:"flex justify-between items-center",children:[y.jsx("label",{className:"text-sm font-medium",children:i??" "}),y.jsxs("span",{className:"text-lg font-bold",style:{color:l(r)},children:[o(r)," ",r,"/10"]})]}),y.jsx("input",{type:"range",min:"0",max:"10",value:r,onChange:c=>n(Number(c.target.value)),className:"w-full"}),y.jsxs("div",{className:"flex justify-between text-xs text-gray-500",children:[y.jsx("span",{children:" "}),y.jsx("span",{children:""})]})]})}const bS=[{value:"sharp",label:""},{value:"dull",label:""},{value:"aching",label:""},{value:"throbbing",label:""},{value:"burning",label:""}],_S=[{value:"today",label:""},{value:"week",label:""},{value:"month",label:""},{value:"3months+",label:">3 "}];function wS({zone:r,painType:n,duration:i,description:l,onSave:o,onDelete:c,onClose:d}){const[h,m]=j.useState(r.intensity),[g,v]=j.useState(n),[_,w]=j.useState(i||"today"),[S,O]=j.useState(l),R=()=>{o({painType:g,duration:_,description:S,intensity:h})};return y.jsxs("div",{className:"fixed inset-0 z-50 flex items-end justify-center",onClick:A=>{A.target===A.currentTarget&&d()},children:[y.jsx("div",{className:"absolute inset-0 bg-black/60"}),y.jsxs("div",{className:"relative w-full max-w-lg bg-gray-900 rounded-t-2xl p-5 pb-8 max-h-[85vh] overflow-y-auto",children:[y.jsx("div",{className:"w-10 h-1 bg-gray-600 rounded-full mx-auto mb-4"}),y.jsx("h3",{className:"text-lg font-bold mb-4",children:r.nameRu}),y.jsx("div",{className:"mb-5",children:y.jsx(vS,{value:h,onChange:m,label:" "})}),y.jsxs("div",{className:"mb-5",children:[y.jsx("label",{className:"text-sm font-medium mb-2 block",children:" "}),y.jsx("div",{className:"flex flex-wrap gap-2",children:bS.map(A=>y.jsx("button",{type:"button",className:`px-3 py-1.5 rounded-full text-sm transition-colors ${g===A.value?"bg-blue-600 text-white":"bg-gray-800 text-gray-300 border border-gray-700"}`,onClick:()=>v(g===A.value?void 0:A.value),children:A.label},A.value))})]}),y.jsxs("div",{className:"mb-5",children:[y.jsx("label",{className:"text-sm font-medium mb-2 block",children:""}),y.jsx("div",{className:"grid grid-cols-4 gap-2",children:_S.map(A=>y.jsx("button",{type:"button",className:`py-2 rounded-lg text-sm transition-colors ${_===A.value?"bg-blue-600 text-white":"bg-gray-800 text-gray-300 border border-gray-700"}`,onClick:()=>w(A.value),children:A.label},A.value))})]}),y.jsxs("div",{className:"mb-6",children:[y.jsxs("label",{className:"text-sm font-medium mb-2 block",children:[" ",y.jsx("span",{className:"text-gray-500 font-normal",children:"()"})]}),y.jsx("textarea",{value:S,onChange:A=>O(A.target.value),placeholder:"  ...",rows:2,className:"w-full bg-gray-800 border border-gray-700 rounded-lg px-3 py-2 text-sm resize-none focus:outline-none focus:border-blue-500"})]}),y.jsxs("div",{className:"flex gap-3",children:[y.jsx("button",{type:"button",className:"flex-1 py-2.5 rounded-lg text-sm font-medium bg-red-900/40 text-red-400 border border-red-800/50",onClick:c,children:" "}),y.jsx("button",{type:"button",className:"flex-1 py-2.5 rounded-lg text-sm font-medium bg-blue-600 text-white",onClick:R,children:""})]})]})]})}function SS({zones:r,onRemove:n,onSelect:i,selectedZoneId:l}){return r.length===0?y.jsx("p",{className:"text-sm text-gray-500 text-center py-2",children:"   ,   "}):y.jsx("div",{className:"space-y-2",children:r.map(o=>{const c=uy.get(o.zoneId),d=o.zoneId===l;return y.jsxs("div",{className:`flex items-center justify-between p-2 rounded-lg border cursor-pointer ${d?"border-blue-500 bg-blue-500/10":"border-gray-700"}`,onClick:()=>i(o.zoneId),children:[y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx("div",{className:"w-3 h-3 rounded-full shrink-0",style:{backgroundColor:Rl(o.intensity)}}),y.jsx("span",{className:"text-sm",children:c?.nameRu??o.zoneId}),y.jsxs("span",{className:"text-xs text-gray-500",children:[o.intensity,"/10"]})]}),y.jsx("button",{type:"button",className:"text-gray-500 hover:text-red-400 p-1 text-sm",onClick:h=>{h.stopPropagation(),n(o.zoneId)},"aria-label":` ${c?.nameRu??o.zoneId}`,children:""})]},o.zoneId)})})}function xS({currentStep:r,totalSteps:n,labels:i}){const l=r/n*100;return y.jsxs("div",{className:"mb-5",children:[y.jsx("div",{className:"h-1.5 bg-gray-800 rounded-full overflow-hidden mb-3",children:y.jsx("div",{className:"h-full bg-blue-500 rounded-full transition-all duration-300",style:{width:`${l}%`}})}),y.jsx("div",{className:"flex justify-between",children:i.map((o,c)=>{const d=c+1,h=d===r,m=d<r;return y.jsxs("div",{className:`flex items-center gap-1 text-xs ${h?"text-blue-400 font-medium":m?"text-green-500":"text-gray-600"}`,children:[y.jsx("span",{className:`w-5 h-5 rounded-full flex items-center justify-center text-[10px] font-bold ${h?"bg-blue-600 text-white":m?"bg-green-600 text-white":"bg-gray-800 text-gray-500"}`,children:m?"":d}),y.jsx("span",{className:"hidden sm:inline",children:o})]},o)})})]})}function Bl(r,n){var i={};for(var l in r)Object.prototype.hasOwnProperty.call(r,l)&&n.indexOf(l)<0&&(i[l]=r[l]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,l=Object.getOwnPropertySymbols(r);o<l.length;o++)n.indexOf(l[o])<0&&Object.prototype.propertyIsEnumerable.call(r,l[o])&&(i[l[o]]=r[l[o]]);return i}function ES(r,n,i,l){function o(c){return c instanceof i?c:new i(function(d){d(c)})}return new(i||(i=Promise))(function(c,d){function h(v){try{g(l.next(v))}catch(_){d(_)}}function m(v){try{g(l.throw(v))}catch(_){d(_)}}function g(v){v.done?c(v.value):o(v.value).then(h,m)}g((l=l.apply(r,n||[])).next())})}const TS=r=>r?(...n)=>r(...n):(...n)=>fetch(...n);class uf extends Error{constructor(n,i="FunctionsError",l){super(n),this.name=i,this.context=l}}class AS extends uf{constructor(n){super("Failed to send a request to the Edge Function","FunctionsFetchError",n)}}class Hp extends uf{constructor(n){super("Relay Error invoking the Edge Function","FunctionsRelayError",n)}}class Gp extends uf{constructor(n){super("Edge Function returned a non-2xx status code","FunctionsHttpError",n)}}var Uc;(function(r){r.Any="any",r.ApNortheast1="ap-northeast-1",r.ApNortheast2="ap-northeast-2",r.ApSouth1="ap-south-1",r.ApSoutheast1="ap-southeast-1",r.ApSoutheast2="ap-southeast-2",r.CaCentral1="ca-central-1",r.EuCentral1="eu-central-1",r.EuWest1="eu-west-1",r.EuWest2="eu-west-2",r.EuWest3="eu-west-3",r.SaEast1="sa-east-1",r.UsEast1="us-east-1",r.UsWest1="us-west-1",r.UsWest2="us-west-2"})(Uc||(Uc={}));class RS{constructor(n,{headers:i={},customFetch:l,region:o=Uc.Any}={}){this.url=n,this.headers=i,this.region=o,this.fetch=TS(l)}setAuth(n){this.headers.Authorization=`Bearer ${n}`}invoke(n){return ES(this,arguments,void 0,function*(i,l={}){var o;let c,d;try{const{headers:h,method:m,body:g,signal:v,timeout:_}=l;let w={},{region:S}=l;S||(S=this.region);const O=new URL(`${this.url}/${i}`);S&&S!=="any"&&(w["x-region"]=S,O.searchParams.set("forceFunctionRegion",S));let R;g&&(h&&!Object.prototype.hasOwnProperty.call(h,"Content-Type")||!h)?typeof Blob<"u"&&g instanceof Blob||g instanceof ArrayBuffer?(w["Content-Type"]="application/octet-stream",R=g):typeof g=="string"?(w["Content-Type"]="text/plain",R=g):typeof FormData<"u"&&g instanceof FormData?R=g:(w["Content-Type"]="application/json",R=JSON.stringify(g)):g&&typeof g!="string"&&!(typeof Blob<"u"&&g instanceof Blob)&&!(g instanceof ArrayBuffer)&&!(typeof FormData<"u"&&g instanceof FormData)?R=JSON.stringify(g):R=g;let A=v;_&&(d=new AbortController,c=setTimeout(()=>d.abort(),_),v?(A=d.signal,v.addEventListener("abort",()=>d.abort())):A=d.signal);const z=yield this.fetch(O.toString(),{method:m||"POST",headers:Object.assign(Object.assign(Object.assign({},w),this.headers),h),body:R,signal:A}).catch(D=>{throw new AS(D)}),M=z.headers.get("x-relay-error");if(M&&M==="true")throw new Hp(z);if(!z.ok)throw new Gp(z);let B=((o=z.headers.get("Content-Type"))!==null&&o!==void 0?o:"text/plain").split(";")[0].trim(),G;return B==="application/json"?G=yield z.json():B==="application/octet-stream"||B==="application/pdf"?G=yield z.blob():B==="text/event-stream"?G=z:B==="multipart/form-data"?G=yield z.formData():G=yield z.text(),{data:G,error:null,response:z}}catch(h){return{data:null,error:h,response:h instanceof Gp||h instanceof Hp?h.context:void 0}}finally{c&&clearTimeout(c)}})}}var jS=class extends Error{constructor(r){super(r.message),this.name="PostgrestError",this.details=r.details,this.hint=r.hint,this.code=r.code}},OS=class{constructor(r){var n,i,l;this.shouldThrowOnError=!1,this.method=r.method,this.url=r.url,this.headers=new Headers(r.headers),this.schema=r.schema,this.body=r.body,this.shouldThrowOnError=(n=r.shouldThrowOnError)!==null&&n!==void 0?n:!1,this.signal=r.signal,this.isMaybeSingle=(i=r.isMaybeSingle)!==null&&i!==void 0?i:!1,this.urlLengthLimit=(l=r.urlLengthLimit)!==null&&l!==void 0?l:8e3,r.fetch?this.fetch=r.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(r,n){return this.headers=new Headers(this.headers),this.headers.set(r,n),this}then(r,n){var i=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const l=this.fetch;let o=l(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async c=>{let d=null,h=null,m=null,g=c.status,v=c.statusText;if(c.ok){var _,w;if(i.method!=="HEAD"){var S;const z=await c.text();z===""||(i.headers.get("Accept")==="text/csv"||i.headers.get("Accept")&&(!((S=i.headers.get("Accept"))===null||S===void 0)&&S.includes("application/vnd.pgrst.plan+text"))?h=z:h=JSON.parse(z))}const R=(_=i.headers.get("Prefer"))===null||_===void 0?void 0:_.match(/count=(exact|planned|estimated)/),A=(w=c.headers.get("content-range"))===null||w===void 0?void 0:w.split("/");R&&A&&A.length>1&&(m=parseInt(A[1])),i.isMaybeSingle&&i.method==="GET"&&Array.isArray(h)&&(h.length>1?(d={code:"PGRST116",details:`Results contain ${h.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},h=null,m=null,g=406,v="Not Acceptable"):h.length===1?h=h[0]:h=null)}else{var O;const R=await c.text();try{d=JSON.parse(R),Array.isArray(d)&&c.status===404&&(h=[],d=null,g=200,v="OK")}catch{c.status===404&&R===""?(g=204,v="No Content"):d={message:R}}if(d&&i.isMaybeSingle&&(!(d==null||(O=d.details)===null||O===void 0)&&O.includes("0 rows"))&&(d=null,g=200,v="OK"),d&&i.shouldThrowOnError)throw new jS(d)}return{error:d,data:h,count:m,status:g,statusText:v}});return this.shouldThrowOnError||(o=o.catch(c=>{var d;let h="",m="",g="";const v=c?.cause;if(v){var _,w,S,O;const z=(_=v?.message)!==null&&_!==void 0?_:"",M=(w=v?.code)!==null&&w!==void 0?w:"";h=`${(S=c?.name)!==null&&S!==void 0?S:"FetchError"}: ${c?.message}`,h+=`

Caused by: ${(O=v?.name)!==null&&O!==void 0?O:"Error"}: ${z}`,M&&(h+=` (${M})`),v?.stack&&(h+=`
${v.stack}`)}else{var R;h=(R=c?.stack)!==null&&R!==void 0?R:""}const A=this.url.toString().length;return c?.name==="AbortError"||c?.code==="ABORT_ERR"?(g="",m="Request was aborted (timeout or manual cancellation)",A>this.urlLengthLimit&&(m+=`. Note: Your request URL is ${A} characters, which may exceed server limits. If selecting many fields, consider using views. If filtering with large arrays (e.g., .in('id', [many IDs])), consider using an RPC function to pass values server-side.`)):(v?.name==="HeadersOverflowError"||v?.code==="UND_ERR_HEADERS_OVERFLOW")&&(g="",m="HTTP headers exceeded server limits (typically 16KB)",A>this.urlLengthLimit&&(m+=`. Your request URL is ${A} characters. If selecting many fields, consider using views. If filtering with large arrays (e.g., .in('id', [200+ IDs])), consider using an RPC function instead.`)),{error:{message:`${(d=c?.name)!==null&&d!==void 0?d:"FetchError"}: ${c?.message}`,details:h,hint:m,code:g},data:null,count:null,status:0,statusText:""}})),o.then(r,n)}returns(){return this}overrideTypes(){return this}},NS=class extends OS{select(r){let n=!1;const i=(r??"*").split("").map(l=>/\s/.test(l)&&!n?"":(l==='"'&&(n=!n),l)).join("");return this.url.searchParams.set("select",i),this.headers.append("Prefer","return=representation"),this}order(r,{ascending:n=!0,nullsFirst:i,foreignTable:l,referencedTable:o=l}={}){const c=o?`${o}.order`:"order",d=this.url.searchParams.get(c);return this.url.searchParams.set(c,`${d?`${d},`:""}${r}.${n?"asc":"desc"}${i===void 0?"":i?".nullsfirst":".nullslast"}`),this}limit(r,{foreignTable:n,referencedTable:i=n}={}){const l=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(l,`${r}`),this}range(r,n,{foreignTable:i,referencedTable:l=i}={}){const o=typeof l>"u"?"offset":`${l}.offset`,c=typeof l>"u"?"limit":`${l}.limit`;return this.url.searchParams.set(o,`${r}`),this.url.searchParams.set(c,`${n-r+1}`),this}abortSignal(r){return this.signal=r,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:r=!1,verbose:n=!1,settings:i=!1,buffers:l=!1,wal:o=!1,format:c="text"}={}){var d;const h=[r?"analyze":null,n?"verbose":null,i?"settings":null,l?"buffers":null,o?"wal":null].filter(Boolean).join("|"),m=(d=this.headers.get("Accept"))!==null&&d!==void 0?d:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${c}; for="${m}"; options=${h};`),c==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(r){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${r}`),this}};const Vp=new RegExp("[,()]");var Er=class extends NS{eq(r,n){return this.url.searchParams.append(r,`eq.${n}`),this}neq(r,n){return this.url.searchParams.append(r,`neq.${n}`),this}gt(r,n){return this.url.searchParams.append(r,`gt.${n}`),this}gte(r,n){return this.url.searchParams.append(r,`gte.${n}`),this}lt(r,n){return this.url.searchParams.append(r,`lt.${n}`),this}lte(r,n){return this.url.searchParams.append(r,`lte.${n}`),this}like(r,n){return this.url.searchParams.append(r,`like.${n}`),this}likeAllOf(r,n){return this.url.searchParams.append(r,`like(all).{${n.join(",")}}`),this}likeAnyOf(r,n){return this.url.searchParams.append(r,`like(any).{${n.join(",")}}`),this}ilike(r,n){return this.url.searchParams.append(r,`ilike.${n}`),this}ilikeAllOf(r,n){return this.url.searchParams.append(r,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(r,n){return this.url.searchParams.append(r,`ilike(any).{${n.join(",")}}`),this}regexMatch(r,n){return this.url.searchParams.append(r,`match.${n}`),this}regexIMatch(r,n){return this.url.searchParams.append(r,`imatch.${n}`),this}is(r,n){return this.url.searchParams.append(r,`is.${n}`),this}isDistinct(r,n){return this.url.searchParams.append(r,`isdistinct.${n}`),this}in(r,n){const i=Array.from(new Set(n)).map(l=>typeof l=="string"&&Vp.test(l)?`"${l}"`:`${l}`).join(",");return this.url.searchParams.append(r,`in.(${i})`),this}notIn(r,n){const i=Array.from(new Set(n)).map(l=>typeof l=="string"&&Vp.test(l)?`"${l}"`:`${l}`).join(",");return this.url.searchParams.append(r,`not.in.(${i})`),this}contains(r,n){return typeof n=="string"?this.url.searchParams.append(r,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(r,`cs.{${n.join(",")}}`):this.url.searchParams.append(r,`cs.${JSON.stringify(n)}`),this}containedBy(r,n){return typeof n=="string"?this.url.searchParams.append(r,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(r,`cd.{${n.join(",")}}`):this.url.searchParams.append(r,`cd.${JSON.stringify(n)}`),this}rangeGt(r,n){return this.url.searchParams.append(r,`sr.${n}`),this}rangeGte(r,n){return this.url.searchParams.append(r,`nxl.${n}`),this}rangeLt(r,n){return this.url.searchParams.append(r,`sl.${n}`),this}rangeLte(r,n){return this.url.searchParams.append(r,`nxr.${n}`),this}rangeAdjacent(r,n){return this.url.searchParams.append(r,`adj.${n}`),this}overlaps(r,n){return typeof n=="string"?this.url.searchParams.append(r,`ov.${n}`):this.url.searchParams.append(r,`ov.{${n.join(",")}}`),this}textSearch(r,n,{config:i,type:l}={}){let o="";l==="plain"?o="pl":l==="phrase"?o="ph":l==="websearch"&&(o="w");const c=i===void 0?"":`(${i})`;return this.url.searchParams.append(r,`${o}fts${c}.${n}`),this}match(r){return Object.entries(r).forEach(([n,i])=>{this.url.searchParams.append(n,`eq.${i}`)}),this}not(r,n,i){return this.url.searchParams.append(r,`not.${n}.${i}`),this}or(r,{foreignTable:n,referencedTable:i=n}={}){const l=i?`${i}.or`:"or";return this.url.searchParams.append(l,`(${r})`),this}filter(r,n,i){return this.url.searchParams.append(r,`${n}.${i}`),this}},CS=class{constructor(r,{headers:n={},schema:i,fetch:l,urlLengthLimit:o=8e3}){this.url=r,this.headers=new Headers(n),this.schema=i,this.fetch=l,this.urlLengthLimit=o}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(r,n){const{head:i=!1,count:l}=n??{},o=i?"HEAD":"GET";let c=!1;const d=(r??"*").split("").map(g=>/\s/.test(g)&&!c?"":(g==='"'&&(c=!c),g)).join(""),{url:h,headers:m}=this.cloneRequestState();return h.searchParams.set("select",d),l&&m.append("Prefer",`count=${l}`),new Er({method:o,url:h,headers:m,schema:this.schema,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}insert(r,{count:n,defaultToNull:i=!0}={}){var l;const o="POST",{url:c,headers:d}=this.cloneRequestState();if(n&&d.append("Prefer",`count=${n}`),i||d.append("Prefer","missing=default"),Array.isArray(r)){const h=r.reduce((m,g)=>m.concat(Object.keys(g)),[]);if(h.length>0){const m=[...new Set(h)].map(g=>`"${g}"`);c.searchParams.set("columns",m.join(","))}}return new Er({method:o,url:c,headers:d,schema:this.schema,body:r,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch,urlLengthLimit:this.urlLengthLimit})}upsert(r,{onConflict:n,ignoreDuplicates:i=!1,count:l,defaultToNull:o=!0}={}){var c;const d="POST",{url:h,headers:m}=this.cloneRequestState();if(m.append("Prefer",`resolution=${i?"ignore":"merge"}-duplicates`),n!==void 0&&h.searchParams.set("on_conflict",n),l&&m.append("Prefer",`count=${l}`),o||m.append("Prefer","missing=default"),Array.isArray(r)){const g=r.reduce((v,_)=>v.concat(Object.keys(_)),[]);if(g.length>0){const v=[...new Set(g)].map(_=>`"${_}"`);h.searchParams.set("columns",v.join(","))}}return new Er({method:d,url:h,headers:m,schema:this.schema,body:r,fetch:(c=this.fetch)!==null&&c!==void 0?c:fetch,urlLengthLimit:this.urlLengthLimit})}update(r,{count:n}={}){var i;const l="PATCH",{url:o,headers:c}=this.cloneRequestState();return n&&c.append("Prefer",`count=${n}`),new Er({method:l,url:o,headers:c,schema:this.schema,body:r,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch,urlLengthLimit:this.urlLengthLimit})}delete({count:r}={}){var n;const i="DELETE",{url:l,headers:o}=this.cloneRequestState();return r&&o.append("Prefer",`count=${r}`),new Er({method:i,url:l,headers:o,schema:this.schema,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch,urlLengthLimit:this.urlLengthLimit})}};function zi(r){"@babel/helpers - typeof";return zi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},zi(r)}function LS(r,n){if(zi(r)!="object"||!r)return r;var i=r[Symbol.toPrimitive];if(i!==void 0){var l=i.call(r,n);if(zi(l)!="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(r)}function kS(r){var n=LS(r,"string");return zi(n)=="symbol"?n:n+""}function DS(r,n,i){return(n=kS(n))in r?Object.defineProperty(r,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):r[n]=i,r}function Kp(r,n){var i=Object.keys(r);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(r);n&&(l=l.filter(function(o){return Object.getOwnPropertyDescriptor(r,o).enumerable})),i.push.apply(i,l)}return i}function ml(r){for(var n=1;n<arguments.length;n++){var i=arguments[n]!=null?arguments[n]:{};n%2?Kp(Object(i),!0).forEach(function(l){DS(r,l,i[l])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(i)):Kp(Object(i)).forEach(function(l){Object.defineProperty(r,l,Object.getOwnPropertyDescriptor(i,l))})}return r}var US=class cy{constructor(n,{headers:i={},schema:l,fetch:o,timeout:c,urlLengthLimit:d=8e3}={}){this.url=n,this.headers=new Headers(i),this.schemaName=l,this.urlLengthLimit=d;const h=o??globalThis.fetch;c!==void 0&&c>0?this.fetch=(m,g)=>{const v=new AbortController,_=setTimeout(()=>v.abort(),c),w=g?.signal;if(w){if(w.aborted)return clearTimeout(_),h(m,g);const S=()=>{clearTimeout(_),v.abort()};return w.addEventListener("abort",S,{once:!0}),h(m,ml(ml({},g),{},{signal:v.signal})).finally(()=>{clearTimeout(_),w.removeEventListener("abort",S)})}return h(m,ml(ml({},g),{},{signal:v.signal})).finally(()=>clearTimeout(_))}:this.fetch=h}from(n){if(!n||typeof n!="string"||n.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new CS(new URL(`${this.url}/${n}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}schema(n){return new cy(this.url,{headers:this.headers,schema:n,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}rpc(n,i={},{head:l=!1,get:o=!1,count:c}={}){var d;let h;const m=new URL(`${this.url}/rpc/${n}`);let g;const v=S=>S!==null&&typeof S=="object"&&(!Array.isArray(S)||S.some(v)),_=l&&Object.values(i).some(v);_?(h="POST",g=i):l||o?(h=l?"HEAD":"GET",Object.entries(i).filter(([S,O])=>O!==void 0).map(([S,O])=>[S,Array.isArray(O)?`{${O.join(",")}}`:`${O}`]).forEach(([S,O])=>{m.searchParams.append(S,O)})):(h="POST",g=i);const w=new Headers(this.headers);return _?w.set("Prefer",c?`count=${c},return=minimal`:"return=minimal"):c&&w.set("Prefer",`count=${c}`),new Er({method:h,url:m,headers:w,schema:this.schemaName,body:g,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch,urlLengthLimit:this.urlLengthLimit})}};class MS{constructor(){}static detectEnvironment(){var n;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((n=navigator.userAgent)===null||n===void 0)&&n.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const i=globalThis.process;if(i){const l=i.versions;if(l&&l.node){const o=l.node,c=parseInt(o.replace(/^v/,"").split(".")[0]);return c>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${c} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${c} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const n=this.detectEnvironment();if(n.constructor)return n.constructor;let i=n.error||"WebSocket not supported in this environment.";throw n.workaround&&(i+=`

Suggested solution: ${n.workaround}`),new Error(i)}static createWebSocket(n,i){const l=this.getWebSocketConstructor();return new l(n,i)}static isWebSocketSupported(){try{const n=this.detectEnvironment();return n.type==="native"||n.type==="ws"}catch{return!1}}}const zS="2.95.3",BS=`realtime-js/${zS}`,qS="1.0.0",fy="2.0.0",Yp=fy,Mc=1e4,$S=1e3,HS=100;var Fn;(function(r){r[r.connecting=0]="connecting",r[r.open=1]="open",r[r.closing=2]="closing",r[r.closed=3]="closed"})(Fn||(Fn={}));var Je;(function(r){r.closed="closed",r.errored="errored",r.joined="joined",r.joining="joining",r.leaving="leaving"})(Je||(Je={}));var Wt;(function(r){r.close="phx_close",r.error="phx_error",r.join="phx_join",r.reply="phx_reply",r.leave="phx_leave",r.access_token="access_token"})(Wt||(Wt={}));var zc;(function(r){r.websocket="websocket"})(zc||(zc={}));var Ta;(function(r){r.Connecting="connecting",r.Open="open",r.Closing="closing",r.Closed="closed"})(Ta||(Ta={}));class GS{constructor(n){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=n??[]}encode(n,i){if(n.event===this.BROADCAST_EVENT&&!(n.payload instanceof ArrayBuffer)&&typeof n.payload.event=="string")return i(this._binaryEncodeUserBroadcastPush(n));let l=[n.join_ref,n.ref,n.topic,n.event,n.payload];return i(JSON.stringify(l))}_binaryEncodeUserBroadcastPush(n){var i;return this._isArrayBuffer((i=n.payload)===null||i===void 0?void 0:i.payload)?this._encodeBinaryUserBroadcastPush(n):this._encodeJsonUserBroadcastPush(n)}_encodeBinaryUserBroadcastPush(n){var i,l;const o=(l=(i=n.payload)===null||i===void 0?void 0:i.payload)!==null&&l!==void 0?l:new ArrayBuffer(0);return this._encodeUserBroadcastPush(n,this.BINARY_ENCODING,o)}_encodeJsonUserBroadcastPush(n){var i,l;const o=(l=(i=n.payload)===null||i===void 0?void 0:i.payload)!==null&&l!==void 0?l:{},d=new TextEncoder().encode(JSON.stringify(o)).buffer;return this._encodeUserBroadcastPush(n,this.JSON_ENCODING,d)}_encodeUserBroadcastPush(n,i,l){var o,c;const d=n.topic,h=(o=n.ref)!==null&&o!==void 0?o:"",m=(c=n.join_ref)!==null&&c!==void 0?c:"",g=n.payload.event,v=this.allowedMetadataKeys?this._pick(n.payload,this.allowedMetadataKeys):{},_=Object.keys(v).length===0?"":JSON.stringify(v);if(m.length>255)throw new Error(`joinRef length ${m.length} exceeds maximum of 255`);if(h.length>255)throw new Error(`ref length ${h.length} exceeds maximum of 255`);if(d.length>255)throw new Error(`topic length ${d.length} exceeds maximum of 255`);if(g.length>255)throw new Error(`userEvent length ${g.length} exceeds maximum of 255`);if(_.length>255)throw new Error(`metadata length ${_.length} exceeds maximum of 255`);const w=this.USER_BROADCAST_PUSH_META_LENGTH+m.length+h.length+d.length+g.length+_.length,S=new ArrayBuffer(this.HEADER_LENGTH+w);let O=new DataView(S),R=0;O.setUint8(R++,this.KINDS.userBroadcastPush),O.setUint8(R++,m.length),O.setUint8(R++,h.length),O.setUint8(R++,d.length),O.setUint8(R++,g.length),O.setUint8(R++,_.length),O.setUint8(R++,i),Array.from(m,z=>O.setUint8(R++,z.charCodeAt(0))),Array.from(h,z=>O.setUint8(R++,z.charCodeAt(0))),Array.from(d,z=>O.setUint8(R++,z.charCodeAt(0))),Array.from(g,z=>O.setUint8(R++,z.charCodeAt(0))),Array.from(_,z=>O.setUint8(R++,z.charCodeAt(0)));var A=new Uint8Array(S.byteLength+l.byteLength);return A.set(new Uint8Array(S),0),A.set(new Uint8Array(l),S.byteLength),A.buffer}decode(n,i){if(this._isArrayBuffer(n)){let l=this._binaryDecode(n);return i(l)}if(typeof n=="string"){const l=JSON.parse(n),[o,c,d,h,m]=l;return i({join_ref:o,ref:c,topic:d,event:h,payload:m})}return i({})}_binaryDecode(n){const i=new DataView(n),l=i.getUint8(0),o=new TextDecoder;if(l===this.KINDS.userBroadcast)return this._decodeUserBroadcast(n,i,o)}_decodeUserBroadcast(n,i,l){const o=i.getUint8(1),c=i.getUint8(2),d=i.getUint8(3),h=i.getUint8(4);let m=this.HEADER_LENGTH+4;const g=l.decode(n.slice(m,m+o));m=m+o;const v=l.decode(n.slice(m,m+c));m=m+c;const _=l.decode(n.slice(m,m+d));m=m+d;const w=n.slice(m,n.byteLength),S=h===this.JSON_ENCODING?JSON.parse(l.decode(w)):w,O={type:this.BROADCAST_EVENT,event:v,payload:S};return d>0&&(O.meta=JSON.parse(_)),{join_ref:null,ref:null,topic:g,event:this.BROADCAST_EVENT,payload:O}}_isArrayBuffer(n){var i;return n instanceof ArrayBuffer||((i=n?.constructor)===null||i===void 0?void 0:i.name)==="ArrayBuffer"}_pick(n,i){return!n||typeof n!="object"?{}:Object.fromEntries(Object.entries(n).filter(([l])=>i.includes(l)))}}class dy{constructor(n,i){this.callback=n,this.timerCalc=i,this.timer=void 0,this.tries=0,this.callback=n,this.timerCalc=i}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Oe;(function(r){r.abstime="abstime",r.bool="bool",r.date="date",r.daterange="daterange",r.float4="float4",r.float8="float8",r.int2="int2",r.int4="int4",r.int4range="int4range",r.int8="int8",r.int8range="int8range",r.json="json",r.jsonb="jsonb",r.money="money",r.numeric="numeric",r.oid="oid",r.reltime="reltime",r.text="text",r.time="time",r.timestamp="timestamp",r.timestamptz="timestamptz",r.timetz="timetz",r.tsrange="tsrange",r.tstzrange="tstzrange"})(Oe||(Oe={}));const Ip=(r,n,i={})=>{var l;const o=(l=i.skipTypes)!==null&&l!==void 0?l:[];return n?Object.keys(n).reduce((c,d)=>(c[d]=VS(d,r,n,o),c),{}):{}},VS=(r,n,i,l)=>{const o=n.find(h=>h.name===r),c=o?.type,d=i[r];return c&&!l.includes(c)?hy(c,d):Bc(d)},hy=(r,n)=>{if(r.charAt(0)==="_"){const i=r.slice(1,r.length);return PS(n,i)}switch(r){case Oe.bool:return KS(n);case Oe.float4:case Oe.float8:case Oe.int2:case Oe.int4:case Oe.int8:case Oe.numeric:case Oe.oid:return YS(n);case Oe.json:case Oe.jsonb:return IS(n);case Oe.timestamp:return ZS(n);case Oe.abstime:case Oe.date:case Oe.daterange:case Oe.int4range:case Oe.int8range:case Oe.money:case Oe.reltime:case Oe.text:case Oe.time:case Oe.timestamptz:case Oe.timetz:case Oe.tsrange:case Oe.tstzrange:return Bc(n);default:return Bc(n)}},Bc=r=>r,KS=r=>{switch(r){case"t":return!0;case"f":return!1;default:return r}},YS=r=>{if(typeof r=="string"){const n=parseFloat(r);if(!Number.isNaN(n))return n}return r},IS=r=>{if(typeof r=="string")try{return JSON.parse(r)}catch{return r}return r},PS=(r,n)=>{if(typeof r!="string")return r;const i=r.length-1,l=r[i];if(r[0]==="{"&&l==="}"){let c;const d=r.slice(1,i);try{c=JSON.parse("["+d+"]")}catch{c=d?d.split(","):[]}return c.map(h=>hy(n,h))}return r},ZS=r=>typeof r=="string"?r.replace(" ","T"):r,my=r=>{const n=new URL(r);return n.protocol=n.protocol.replace(/^ws/i,"http"),n.pathname=n.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),n.pathname===""||n.pathname==="/"?n.pathname="/api/broadcast":n.pathname=n.pathname+"/api/broadcast",n.href};class bc{constructor(n,i,l={},o=Mc){this.channel=n,this.event=i,this.payload=l,this.timeout=o,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(n){this.timeout=n,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(n){this.payload=Object.assign(Object.assign({},this.payload),n)}receive(n,i){var l;return this._hasReceived(n)&&i((l=this.receivedResp)===null||l===void 0?void 0:l.response),this.recHooks.push({status:n,callback:i}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const n=i=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=i,this._matchReceive(i)};this.channel._on(this.refEvent,{},n),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(n,i){this.refEvent&&this.channel._trigger(this.refEvent,{status:n,response:i})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:n,response:i}){this.recHooks.filter(l=>l.status===n).forEach(l=>l.callback(i))}_hasReceived(n){return this.receivedResp&&this.receivedResp.status===n}}var Pp;(function(r){r.SYNC="sync",r.JOIN="join",r.LEAVE="leave"})(Pp||(Pp={}));class Di{constructor(n,i){this.channel=n,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const l=i?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(l.state,{},o=>{const{onJoin:c,onLeave:d,onSync:h}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Di.syncState(this.state,o,c,d),this.pendingDiffs.forEach(m=>{this.state=Di.syncDiff(this.state,m,c,d)}),this.pendingDiffs=[],h()}),this.channel._on(l.diff,{},o=>{const{onJoin:c,onLeave:d,onSync:h}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(o):(this.state=Di.syncDiff(this.state,o,c,d),h())}),this.onJoin((o,c,d)=>{this.channel._trigger("presence",{event:"join",key:o,currentPresences:c,newPresences:d})}),this.onLeave((o,c,d)=>{this.channel._trigger("presence",{event:"leave",key:o,currentPresences:c,leftPresences:d})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(n,i,l,o){const c=this.cloneDeep(n),d=this.transformState(i),h={},m={};return this.map(c,(g,v)=>{d[g]||(m[g]=v)}),this.map(d,(g,v)=>{const _=c[g];if(_){const w=v.map(A=>A.presence_ref),S=_.map(A=>A.presence_ref),O=v.filter(A=>S.indexOf(A.presence_ref)<0),R=_.filter(A=>w.indexOf(A.presence_ref)<0);O.length>0&&(h[g]=O),R.length>0&&(m[g]=R)}else h[g]=v}),this.syncDiff(c,{joins:h,leaves:m},l,o)}static syncDiff(n,i,l,o){const{joins:c,leaves:d}={joins:this.transformState(i.joins),leaves:this.transformState(i.leaves)};return l||(l=()=>{}),o||(o=()=>{}),this.map(c,(h,m)=>{var g;const v=(g=n[h])!==null&&g!==void 0?g:[];if(n[h]=this.cloneDeep(m),v.length>0){const _=n[h].map(S=>S.presence_ref),w=v.filter(S=>_.indexOf(S.presence_ref)<0);n[h].unshift(...w)}l(h,v,m)}),this.map(d,(h,m)=>{let g=n[h];if(!g)return;const v=m.map(_=>_.presence_ref);g=g.filter(_=>v.indexOf(_.presence_ref)<0),n[h]=g,o(h,g,m),g.length===0&&delete n[h]}),n}static map(n,i){return Object.getOwnPropertyNames(n).map(l=>i(l,n[l]))}static transformState(n){return n=this.cloneDeep(n),Object.getOwnPropertyNames(n).reduce((i,l)=>{const o=n[l];return"metas"in o?i[l]=o.metas.map(c=>(c.presence_ref=c.phx_ref,delete c.phx_ref,delete c.phx_ref_prev,c)):i[l]=o,i},{})}static cloneDeep(n){return JSON.parse(JSON.stringify(n))}onJoin(n){this.caller.onJoin=n}onLeave(n){this.caller.onLeave=n}onSync(n){this.caller.onSync=n}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Zp;(function(r){r.ALL="*",r.INSERT="INSERT",r.UPDATE="UPDATE",r.DELETE="DELETE"})(Zp||(Zp={}));var Ui;(function(r){r.BROADCAST="broadcast",r.PRESENCE="presence",r.POSTGRES_CHANGES="postgres_changes",r.SYSTEM="system"})(Ui||(Ui={}));var Sn;(function(r){r.SUBSCRIBED="SUBSCRIBED",r.TIMED_OUT="TIMED_OUT",r.CLOSED="CLOSED",r.CHANNEL_ERROR="CHANNEL_ERROR"})(Sn||(Sn={}));class Rr{constructor(n,i={config:{}},l){var o,c;if(this.topic=n,this.params=i,this.socket=l,this.bindings={},this.state=Je.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=n.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},i.config),this.timeout=this.socket.timeout,this.joinPush=new bc(this,Wt.join,this.params,this.timeout),this.rejoinTimer=new dy(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Je.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(d=>d.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Je.closed,this.socket._remove(this)}),this._onError(d=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,d),this.state=Je.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Je.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",d=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,d),this.state=Je.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Wt.reply,{},(d,h)=>{this._trigger(this._replyEventName(h),d)}),this.presence=new Di(this),this.broadcastEndpointURL=my(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((c=(o=this.params.config)===null||o===void 0?void 0:o.broadcast)===null||c===void 0)&&c.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(n,i=this.timeout){var l,o,c;if(this.socket.isConnected()||this.socket.connect(),this.state==Je.closed){const{config:{broadcast:d,presence:h,private:m}}=this.params,g=(o=(l=this.bindings.postgres_changes)===null||l===void 0?void 0:l.map(S=>S.filter))!==null&&o!==void 0?o:[],v=!!this.bindings[Ui.PRESENCE]&&this.bindings[Ui.PRESENCE].length>0||((c=this.params.config.presence)===null||c===void 0?void 0:c.enabled)===!0,_={},w={broadcast:d,presence:Object.assign(Object.assign({},h),{enabled:v}),postgres_changes:g,private:m};this.socket.accessTokenValue&&(_.access_token=this.socket.accessTokenValue),this._onError(S=>n?.(Sn.CHANNEL_ERROR,S)),this._onClose(()=>n?.(Sn.CLOSED)),this.updateJoinPayload(Object.assign({config:w},_)),this.joinedOnce=!0,this._rejoin(i),this.joinPush.receive("ok",async({postgres_changes:S})=>{var O;if(this.socket._isManualToken()||this.socket.setAuth(),S===void 0){n?.(Sn.SUBSCRIBED);return}else{const R=this.bindings.postgres_changes,A=(O=R?.length)!==null&&O!==void 0?O:0,z=[];for(let M=0;M<A;M++){const B=R[M],{filter:{event:G,schema:D,table:P,filter:X}}=B,re=S&&S[M];if(re&&re.event===G&&Rr.isFilterValueEqual(re.schema,D)&&Rr.isFilterValueEqual(re.table,P)&&Rr.isFilterValueEqual(re.filter,X))z.push(Object.assign(Object.assign({},B),{id:re.id}));else{this.unsubscribe(),this.state=Je.errored,n?.(Sn.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=z,n&&n(Sn.SUBSCRIBED);return}}).receive("error",S=>{this.state=Je.errored,n?.(Sn.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(S).join(", ")||"error")))}).receive("timeout",()=>{n?.(Sn.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(n,i={}){return await this.send({type:"presence",event:"track",payload:n},i.timeout||this.timeout)}async untrack(n={}){return await this.send({type:"presence",event:"untrack"},n)}on(n,i,l){return this.state===Je.joined&&n===Ui.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(n,i,l)}async httpSend(n,i,l={}){var o;if(i==null)return Promise.reject("Payload is required for httpSend()");const c={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(c.Authorization=`Bearer ${this.socket.accessTokenValue}`);const d={method:"POST",headers:c,body:JSON.stringify({messages:[{topic:this.subTopic,event:n,payload:i,private:this.private}]})},h=await this._fetchWithTimeout(this.broadcastEndpointURL,d,(o=l.timeout)!==null&&o!==void 0?o:this.timeout);if(h.status===202)return{success:!0};let m=h.statusText;try{const g=await h.json();m=g.error||g.message||m}catch{}return Promise.reject(new Error(m))}async send(n,i={}){var l,o;if(!this._canPush()&&n.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:c,payload:d}=n,h={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(h.Authorization=`Bearer ${this.socket.accessTokenValue}`);const m={method:"POST",headers:h,body:JSON.stringify({messages:[{topic:this.subTopic,event:c,payload:d,private:this.private}]})};try{const g=await this._fetchWithTimeout(this.broadcastEndpointURL,m,(l=i.timeout)!==null&&l!==void 0?l:this.timeout);return await((o=g.body)===null||o===void 0?void 0:o.cancel()),g.ok?"ok":"error"}catch(g){return g.name==="AbortError"?"timed out":"error"}}else return new Promise(c=>{var d,h,m;const g=this._push(n.type,n,i.timeout||this.timeout);n.type==="broadcast"&&!(!((m=(h=(d=this.params)===null||d===void 0?void 0:d.config)===null||h===void 0?void 0:h.broadcast)===null||m===void 0)&&m.ack)&&c("ok"),g.receive("ok",()=>c("ok")),g.receive("error",()=>c("error")),g.receive("timeout",()=>c("timed out"))})}updateJoinPayload(n){this.joinPush.updatePayload(n)}unsubscribe(n=this.timeout){this.state=Je.leaving;const i=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Wt.close,"leave",this._joinRef())};this.joinPush.destroy();let l=null;return new Promise(o=>{l=new bc(this,Wt.leave,{},n),l.receive("ok",()=>{i(),o("ok")}).receive("timeout",()=>{i(),o("timed out")}).receive("error",()=>{o("error")}),l.send(),this._canPush()||l.trigger("ok",{})}).finally(()=>{l?.destroy()})}teardown(){this.pushBuffer.forEach(n=>n.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Je.closed,this.bindings={}}async _fetchWithTimeout(n,i,l){const o=new AbortController,c=setTimeout(()=>o.abort(),l),d=await this.socket.fetch(n,Object.assign(Object.assign({},i),{signal:o.signal}));return clearTimeout(c),d}_push(n,i,l=this.timeout){if(!this.joinedOnce)throw`tried to push '${n}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let o=new bc(this,n,i,l);return this._canPush()?o.send():this._addToPushBuffer(o),o}_addToPushBuffer(n){if(n.startTimeout(),this.pushBuffer.push(n),this.pushBuffer.length>HS){const i=this.pushBuffer.shift();i&&(i.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${i.event}`,i.payload))}}_onMessage(n,i,l){return i}_isMember(n){return this.topic===n}_joinRef(){return this.joinPush.ref}_trigger(n,i,l){var o,c;const d=n.toLocaleLowerCase(),{close:h,error:m,leave:g,join:v}=Wt;if(l&&[h,m,g,v].indexOf(d)>=0&&l!==this._joinRef())return;let w=this._onMessage(d,i,l);if(i&&!w)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(d)?(o=this.bindings.postgres_changes)===null||o===void 0||o.filter(S=>{var O,R,A;return((O=S.filter)===null||O===void 0?void 0:O.event)==="*"||((A=(R=S.filter)===null||R===void 0?void 0:R.event)===null||A===void 0?void 0:A.toLocaleLowerCase())===d}).map(S=>S.callback(w,l)):(c=this.bindings[d])===null||c===void 0||c.filter(S=>{var O,R,A,z,M,B;if(["broadcast","presence","postgres_changes"].includes(d))if("id"in S){const G=S.id,D=(O=S.filter)===null||O===void 0?void 0:O.event;return G&&((R=i.ids)===null||R===void 0?void 0:R.includes(G))&&(D==="*"||D?.toLocaleLowerCase()===((A=i.data)===null||A===void 0?void 0:A.type.toLocaleLowerCase()))}else{const G=(M=(z=S?.filter)===null||z===void 0?void 0:z.event)===null||M===void 0?void 0:M.toLocaleLowerCase();return G==="*"||G===((B=i?.event)===null||B===void 0?void 0:B.toLocaleLowerCase())}else return S.type.toLocaleLowerCase()===d}).map(S=>{if(typeof w=="object"&&"ids"in w){const O=w.data,{schema:R,table:A,commit_timestamp:z,type:M,errors:B}=O;w=Object.assign(Object.assign({},{schema:R,table:A,commit_timestamp:z,eventType:M,new:{},old:{},errors:B}),this._getPayloadRecords(O))}S.callback(w,l)})}_isClosed(){return this.state===Je.closed}_isJoined(){return this.state===Je.joined}_isJoining(){return this.state===Je.joining}_isLeaving(){return this.state===Je.leaving}_replyEventName(n){return`chan_reply_${n}`}_on(n,i,l){const o=n.toLocaleLowerCase(),c={type:o,filter:i,callback:l};return this.bindings[o]?this.bindings[o].push(c):this.bindings[o]=[c],this}_off(n,i){const l=n.toLocaleLowerCase();return this.bindings[l]&&(this.bindings[l]=this.bindings[l].filter(o=>{var c;return!(((c=o.type)===null||c===void 0?void 0:c.toLocaleLowerCase())===l&&Rr.isEqual(o.filter,i))})),this}static isEqual(n,i){if(Object.keys(n).length!==Object.keys(i).length)return!1;for(const l in n)if(n[l]!==i[l])return!1;return!0}static isFilterValueEqual(n,i){return(n??void 0)===(i??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(n){this._on(Wt.close,{},n)}_onError(n){this._on(Wt.error,{},i=>n(i))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(n=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Je.joining,this.joinPush.resend(n))}_getPayloadRecords(n){const i={new:{},old:{}};return(n.type==="INSERT"||n.type==="UPDATE")&&(i.new=Ip(n.columns,n.record)),(n.type==="UPDATE"||n.type==="DELETE")&&(i.old=Ip(n.columns,n.old_record)),i}}const _c=()=>{},pl={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},XS=[1e3,2e3,5e3,1e4],JS=1e4,QS=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class WS{constructor(n,i){var l;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Mc,this.transport=null,this.heartbeatIntervalMs=pl.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=_c,this.ref=0,this.reconnectTimer=null,this.vsn=Yp,this.logger=_c,this.conn=null,this.sendBuffer=[],this.serializer=new GS,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=o=>o?(...c)=>o(...c):(...c)=>fetch(...c),!(!((l=i?.params)===null||l===void 0)&&l.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=i.params.apikey,this.endPoint=`${n}/${zc.websocket}`,this.httpEndpoint=my(n),this._initializeOptions(i),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(i?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=MS.createWebSocket(this.endpointURL())}catch(n){this._setConnectionState("disconnected");const i=n.message;throw i.includes("Node.js")?new Error(`${i}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${i}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(n,i){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const l=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(l),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(n?this.conn.close(n,i??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(n){const i=await n.unsubscribe();return i==="ok"&&this._remove(n),this.channels.length===0&&this.disconnect(),i}async removeAllChannels(){const n=await Promise.all(this.channels.map(i=>i.unsubscribe()));return this.channels=[],this.disconnect(),n}log(n,i,l){this.logger(n,i,l)}connectionState(){switch(this.conn&&this.conn.readyState){case Fn.connecting:return Ta.Connecting;case Fn.open:return Ta.Open;case Fn.closing:return Ta.Closing;default:return Ta.Closed}}isConnected(){return this.connectionState()===Ta.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(n,i={config:{}}){const l=`realtime:${n}`,o=this.getChannels().find(c=>c.topic===l);if(o)return o;{const c=new Rr(`realtime:${n}`,i,this);return this.channels.push(c),c}}push(n){const{topic:i,event:l,payload:o,ref:c}=n,d=()=>{this.encode(n,h=>{var m;(m=this.conn)===null||m===void 0||m.send(h)})};this.log("push",`${i} ${l} (${c})`,o),this.isConnected()?d():this.sendBuffer.push(d)}async setAuth(n=null){this._authPromise=this._performAuth(n);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var n;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(i){this.log("error","error in heartbeat callback",i)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(i){this.log("error","error in heartbeat callback",i)}this._wasManualDisconnect=!1,(n=this.conn)===null||n===void 0||n.close($S,"heartbeat timeout"),setTimeout(()=>{var i;this.isConnected()||(i=this.reconnectTimer)===null||i===void 0||i.scheduleTimeout()},pl.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(i){this.log("error","error in heartbeat callback",i)}this._setAuthSafely("heartbeat")}onHeartbeat(n){this.heartbeatCallback=n}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(n=>n()),this.sendBuffer=[])}_makeRef(){let n=this.ref+1;return n===this.ref?this.ref=0:this.ref=n,this.ref.toString()}_leaveOpenTopic(n){let i=this.channels.find(l=>l.topic===n&&(l._isJoined()||l._isJoining()));i&&(this.log("transport",`leaving duplicate topic "${n}"`),i.unsubscribe())}_remove(n){this.channels=this.channels.filter(i=>i.topic!==n.topic)}_onConnMessage(n){this.decode(n.data,i=>{if(i.topic==="phoenix"&&i.event==="phx_reply"&&i.ref&&i.ref===this.pendingHeartbeatRef){const g=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(i.payload.status==="ok"?"ok":"error",g)}catch(v){this.log("error","error in heartbeat callback",v)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:l,event:o,payload:c,ref:d}=i,h=d?`(${d})`:"",m=c.status||"";this.log("receive",`${m} ${l} ${o} ${h}`.trim(),c),this.channels.filter(g=>g._isMember(l)).forEach(g=>g._trigger(o,c,d)),this._triggerStateCallbacks("message",i)})}_clearTimer(n){var i;n==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):n==="reconnect"&&((i=this.reconnectTimer)===null||i===void 0||i.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=n=>this._onConnError(n),this.conn.onmessage=n=>this._onConnMessage(n),this.conn.onclose=n=>this._onConnClose(n),this.conn.readyState===Fn.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===Fn.open||this.conn.readyState===Fn.connecting)try{this.conn.close()}catch(n){this.log("error","Error closing connection",n)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(n=>n.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(i=>{this.log("error","error waiting for auth on connect",i),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const n=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(n),this.workerRef.onerror=i=>{this.log("worker","worker error",i.message),this._terminateWorker()},this.workerRef.onmessage=i=>{i.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(n){var i;this._setConnectionState("disconnected"),this.log("transport","close",n),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(i=this.reconnectTimer)===null||i===void 0||i.scheduleTimeout(),this._triggerStateCallbacks("close",n)}_onConnError(n){this._setConnectionState("disconnected"),this.log("transport",`${n}`),this._triggerChanError(),this._triggerStateCallbacks("error",n);try{this.heartbeatCallback("error")}catch(i){this.log("error","error in heartbeat callback",i)}}_triggerChanError(){this.channels.forEach(n=>n._trigger(Wt.error))}_appendParams(n,i){if(Object.keys(i).length===0)return n;const l=n.match(/\?/)?"&":"?",o=new URLSearchParams(i);return`${n}${l}${o}`}_workerObjectUrl(n){let i;if(n)i=n;else{const l=new Blob([QS],{type:"application/javascript"});i=URL.createObjectURL(l)}return i}_setConnectionState(n,i=!1){this._connectionState=n,n==="connecting"?this._wasManualDisconnect=!1:n==="disconnecting"&&(this._wasManualDisconnect=i)}async _performAuth(n=null){let i,l=!1;if(n)i=n,l=!0;else if(this.accessToken)try{i=await this.accessToken()}catch(o){this.log("error","Error fetching access token from callback",o),i=this.accessTokenValue}else i=this.accessTokenValue;l?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=i&&(this.accessTokenValue=i,this.channels.forEach(o=>{const c={access_token:i,version:BS};i&&o.updateJoinPayload(c),o.joinedOnce&&o._isJoined()&&o._push(Wt.access_token,{access_token:i})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(n="general"){this._isManualToken()||this.setAuth().catch(i=>{this.log("error",`Error setting auth in ${n}`,i)})}_triggerStateCallbacks(n,i){try{this.stateChangeCallbacks[n].forEach(l=>{try{l(i)}catch(o){this.log("error",`error in ${n} callback`,o)}})}catch(l){this.log("error",`error triggering ${n} callbacks`,l)}}_setupReconnectionTimer(){this.reconnectTimer=new dy(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},pl.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(n){var i,l,o,c,d,h,m,g,v,_,w,S;switch(this.transport=(i=n?.transport)!==null&&i!==void 0?i:null,this.timeout=(l=n?.timeout)!==null&&l!==void 0?l:Mc,this.heartbeatIntervalMs=(o=n?.heartbeatIntervalMs)!==null&&o!==void 0?o:pl.HEARTBEAT_INTERVAL,this.worker=(c=n?.worker)!==null&&c!==void 0?c:!1,this.accessToken=(d=n?.accessToken)!==null&&d!==void 0?d:null,this.heartbeatCallback=(h=n?.heartbeatCallback)!==null&&h!==void 0?h:_c,this.vsn=(m=n?.vsn)!==null&&m!==void 0?m:Yp,n?.params&&(this.params=n.params),n?.logger&&(this.logger=n.logger),(n?.logLevel||n?.log_level)&&(this.logLevel=n.logLevel||n.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(g=n?.reconnectAfterMs)!==null&&g!==void 0?g:(O=>XS[O-1]||JS),this.vsn){case qS:this.encode=(v=n?.encode)!==null&&v!==void 0?v:((O,R)=>R(JSON.stringify(O))),this.decode=(_=n?.decode)!==null&&_!==void 0?_:((O,R)=>R(JSON.parse(O)));break;case fy:this.encode=(w=n?.encode)!==null&&w!==void 0?w:this.serializer.encode.bind(this.serializer),this.decode=(S=n?.decode)!==null&&S!==void 0?S:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=n?.workerUrl}}}var Bi=class extends Error{constructor(r,n){super(r),this.name="IcebergError",this.status=n.status,this.icebergType=n.icebergType,this.icebergCode=n.icebergCode,this.details=n.details,this.isCommitStateUnknown=n.icebergType==="CommitStateUnknownException"||[500,502,504].includes(n.status)&&n.icebergType?.includes("CommitState")===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function FS(r,n,i){const l=new URL(n,r);if(i)for(const[o,c]of Object.entries(i))c!==void 0&&l.searchParams.set(o,c);return l.toString()}async function ex(r){return!r||r.type==="none"?{}:r.type==="bearer"?{Authorization:`Bearer ${r.token}`}:r.type==="header"?{[r.name]:r.value}:r.type==="custom"?await r.getHeaders():{}}function tx(r){const n=r.fetchImpl??globalThis.fetch;return{async request({method:i,path:l,query:o,body:c,headers:d}){const h=FS(r.baseUrl,l,o),m=await ex(r.auth),g=await n(h,{method:i,headers:{...c?{"Content-Type":"application/json"}:{},...m,...d},body:c?JSON.stringify(c):void 0}),v=await g.text(),_=(g.headers.get("content-type")||"").includes("application/json"),w=_&&v?JSON.parse(v):v;if(!g.ok){const S=_?w:void 0,O=S?.error;throw new Bi(O?.message??`Request failed with status ${g.status}`,{status:g.status,icebergType:O?.type,icebergCode:O?.code,details:S})}return{status:g.status,headers:g.headers,data:w}}}}function gl(r){return r.join("")}var nx=class{constructor(r,n=""){this.client=r,this.prefix=n}async listNamespaces(r){const n=r?{parent:gl(r.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:n})).data.namespaces.map(l=>({namespace:l}))}async createNamespace(r,n){const i={namespace:r.namespace,properties:n?.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:i})).data}async dropNamespace(r){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${gl(r.namespace)}`})}async loadNamespaceMetadata(r){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${gl(r.namespace)}`})).data.properties}}async namespaceExists(r){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${gl(r.namespace)}`}),!0}catch(n){if(n instanceof Bi&&n.status===404)return!1;throw n}}async createNamespaceIfNotExists(r,n){try{return await this.createNamespace(r,n)}catch(i){if(i instanceof Bi&&i.status===409)return;throw i}}};function pr(r){return r.join("")}var ax=class{constructor(r,n="",i){this.client=r,this.prefix=n,this.accessDelegation=i}async listTables(r){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${pr(r.namespace)}/tables`})).data.identifiers}async createTable(r,n){const i={};return this.accessDelegation&&(i["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${pr(r.namespace)}/tables`,body:n,headers:i})).data.metadata}async updateTable(r,n){const i=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${pr(r.namespace)}/tables/${r.name}`,body:n});return{"metadata-location":i.data["metadata-location"],metadata:i.data.metadata}}async dropTable(r,n){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${pr(r.namespace)}/tables/${r.name}`,query:{purgeRequested:String(n?.purge??!1)}})}async loadTable(r){const n={};return this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${pr(r.namespace)}/tables/${r.name}`,headers:n})).data.metadata}async tableExists(r){const n={};this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${pr(r.namespace)}/tables/${r.name}`,headers:n}),!0}catch(i){if(i instanceof Bi&&i.status===404)return!1;throw i}}async createTableIfNotExists(r,n){try{return await this.createTable(r,n)}catch(i){if(i instanceof Bi&&i.status===409)return await this.loadTable({namespace:r.namespace,name:n.name});throw i}}},rx=class{constructor(r){let n="v1";r.catalogName&&(n+=`/${r.catalogName}`);const i=r.baseUrl.endsWith("/")?r.baseUrl:`${r.baseUrl}/`;this.client=tx({baseUrl:i,auth:r.auth,fetchImpl:r.fetch}),this.accessDelegation=r.accessDelegation?.join(","),this.namespaceOps=new nx(this.client,n),this.tableOps=new ax(this.client,n,this.accessDelegation)}async listNamespaces(r){return this.namespaceOps.listNamespaces(r)}async createNamespace(r,n){return this.namespaceOps.createNamespace(r,n)}async dropNamespace(r){await this.namespaceOps.dropNamespace(r)}async loadNamespaceMetadata(r){return this.namespaceOps.loadNamespaceMetadata(r)}async listTables(r){return this.tableOps.listTables(r)}async createTable(r,n){return this.tableOps.createTable(r,n)}async updateTable(r,n){return this.tableOps.updateTable(r,n)}async dropTable(r,n){await this.tableOps.dropTable(r,n)}async loadTable(r){return this.tableOps.loadTable(r)}async namespaceExists(r){return this.namespaceOps.namespaceExists(r)}async tableExists(r){return this.tableOps.tableExists(r)}async createNamespaceIfNotExists(r,n){return this.namespaceOps.createNamespaceIfNotExists(r,n)}async createTableIfNotExists(r,n){return this.tableOps.createTableIfNotExists(r,n)}},ql=class extends Error{constructor(r,n="storage",i,l){super(r),this.__isStorageError=!0,this.namespace=n,this.name=n==="vectors"?"StorageVectorsError":"StorageError",this.status=i,this.statusCode=l}};function $l(r){return typeof r=="object"&&r!==null&&"__isStorageError"in r}var yl=class extends ql{constructor(r,n,i,l="storage"){super(r,l,n,i),this.name=l==="vectors"?"StorageVectorsApiError":"StorageApiError",this.status=n,this.statusCode=i}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},py=class extends ql{constructor(r,n,i="storage"){super(r,i),this.name=i==="vectors"?"StorageVectorsUnknownError":"StorageUnknownError",this.originalError=n}};const ix=r=>r?(...n)=>r(...n):(...n)=>fetch(...n),sx=r=>{if(typeof r!="object"||r===null)return!1;const n=Object.getPrototypeOf(r);return(n===null||n===Object.prototype||Object.getPrototypeOf(n)===null)&&!(Symbol.toStringTag in r)&&!(Symbol.iterator in r)},qc=r=>{if(Array.isArray(r))return r.map(i=>qc(i));if(typeof r=="function"||r!==Object(r))return r;const n={};return Object.entries(r).forEach(([i,l])=>{const o=i.replace(/([-_][a-z])/gi,c=>c.toUpperCase().replace(/[-_]/g,""));n[o]=qc(l)}),n},lx=r=>!r||typeof r!="string"||r.length===0||r.length>100||r.trim()!==r||r.includes("/")||r.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(r);function qi(r){"@babel/helpers - typeof";return qi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},qi(r)}function ux(r,n){if(qi(r)!="object"||!r)return r;var i=r[Symbol.toPrimitive];if(i!==void 0){var l=i.call(r,n);if(qi(l)!="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(r)}function ox(r){var n=ux(r,"string");return qi(n)=="symbol"?n:n+""}function cx(r,n,i){return(n=ox(n))in r?Object.defineProperty(r,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):r[n]=i,r}function Xp(r,n){var i=Object.keys(r);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(r);n&&(l=l.filter(function(o){return Object.getOwnPropertyDescriptor(r,o).enumerable})),i.push.apply(i,l)}return i}function oe(r){for(var n=1;n<arguments.length;n++){var i=arguments[n]!=null?arguments[n]:{};n%2?Xp(Object(i),!0).forEach(function(l){cx(r,l,i[l])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(i)):Xp(Object(i)).forEach(function(l){Object.defineProperty(r,l,Object.getOwnPropertyDescriptor(i,l))})}return r}const Jp=r=>{var n;return r.msg||r.message||r.error_description||(typeof r.error=="string"?r.error:(n=r.error)===null||n===void 0?void 0:n.message)||JSON.stringify(r)},fx=async(r,n,i,l)=>{if(r&&typeof r=="object"&&"status"in r&&"ok"in r&&typeof r.status=="number"&&!i?.noResolveJson){const o=r,c=o.status||500;if(typeof o.json=="function")o.json().then(d=>{const h=d?.statusCode||d?.code||c+"";n(new yl(Jp(d),c,h,l))}).catch(()=>{if(l==="vectors"){const d=c+"";n(new yl(o.statusText||`HTTP ${c} error`,c,d,l))}else{const d=c+"";n(new yl(o.statusText||`HTTP ${c} error`,c,d,l))}});else{const d=c+"";n(new yl(o.statusText||`HTTP ${c} error`,c,d,l))}}else n(new py(Jp(r),r,l))},dx=(r,n,i,l)=>{const o={method:r,headers:n?.headers||{}};return r==="GET"||r==="HEAD"||!l?oe(oe({},o),i):(sx(l)?(o.headers=oe({"Content-Type":"application/json"},n?.headers),o.body=JSON.stringify(l)):o.body=l,n?.duplex&&(o.duplex=n.duplex),oe(oe({},o),i))};async function Ci(r,n,i,l,o,c,d){return new Promise((h,m)=>{r(i,dx(n,l,o,c)).then(g=>{if(!g.ok)throw g;if(l?.noResolveJson)return g;if(d==="vectors"){const v=g.headers.get("content-type");if(g.headers.get("content-length")==="0"||g.status===204)return{};if(!v||!v.includes("application/json"))return{}}return g.json()}).then(g=>h(g)).catch(g=>fx(g,m,l,d))})}function gy(r="storage"){return{get:async(n,i,l,o)=>Ci(n,"GET",i,l,o,void 0,r),post:async(n,i,l,o,c)=>Ci(n,"POST",i,o,c,l,r),put:async(n,i,l,o,c)=>Ci(n,"PUT",i,o,c,l,r),head:async(n,i,l,o)=>Ci(n,"HEAD",i,oe(oe({},l),{},{noResolveJson:!0}),o,void 0,r),remove:async(n,i,l,o,c)=>Ci(n,"DELETE",i,o,c,l,r)}}const hx=gy("storage"),{get:$i,post:Qt,put:$c,head:mx,remove:of}=hx,Ct=gy("vectors");var Dr=class{constructor(r,n={},i,l="storage"){this.shouldThrowOnError=!1,this.url=r,this.headers=n,this.fetch=ix(i),this.namespace=l}throwOnError(){return this.shouldThrowOnError=!0,this}async handleOperation(r){var n=this;try{return{data:await r(),error:null}}catch(i){if(n.shouldThrowOnError)throw i;if($l(i))return{data:null,error:i};throw i}}},px=class{constructor(r,n){this.downloadFn=r,this.shouldThrowOnError=n}then(r,n){return this.execute().then(r,n)}async execute(){var r=this;try{return{data:(await r.downloadFn()).body,error:null}}catch(n){if(r.shouldThrowOnError)throw n;if($l(n))return{data:null,error:n};throw n}}};let yy;yy=Symbol.toStringTag;var gx=class{constructor(r,n){this.downloadFn=r,this.shouldThrowOnError=n,this[yy]="BlobDownloadBuilder",this.promise=null}asStream(){return new px(this.downloadFn,this.shouldThrowOnError)}then(r,n){return this.getPromise().then(r,n)}catch(r){return this.getPromise().catch(r)}finally(r){return this.getPromise().finally(r)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var r=this;try{return{data:await(await r.downloadFn()).blob(),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if($l(n))return{data:null,error:n};throw n}}};const yx={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Qp={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var vx=class extends Dr{constructor(r,n={},i,l){super(r,n,l,"storage"),this.bucketId=i}async uploadOrUpdate(r,n,i,l){var o=this;return o.handleOperation(async()=>{let c;const d=oe(oe({},Qp),l);let h=oe(oe({},o.headers),r==="POST"&&{"x-upsert":String(d.upsert)});const m=d.metadata;typeof Blob<"u"&&i instanceof Blob?(c=new FormData,c.append("cacheControl",d.cacheControl),m&&c.append("metadata",o.encodeMetadata(m)),c.append("",i)):typeof FormData<"u"&&i instanceof FormData?(c=i,c.has("cacheControl")||c.append("cacheControl",d.cacheControl),m&&!c.has("metadata")&&c.append("metadata",o.encodeMetadata(m))):(c=i,h["cache-control"]=`max-age=${d.cacheControl}`,h["content-type"]=d.contentType,m&&(h["x-metadata"]=o.toBase64(o.encodeMetadata(m))),(typeof ReadableStream<"u"&&c instanceof ReadableStream||c&&typeof c=="object"&&"pipe"in c&&typeof c.pipe=="function")&&!d.duplex&&(d.duplex="half")),l?.headers&&(h=oe(oe({},h),l.headers));const g=o._removeEmptyFolders(n),v=o._getFinalPath(g),_=await(r=="PUT"?$c:Qt)(o.fetch,`${o.url}/object/${v}`,c,oe({headers:h},d?.duplex?{duplex:d.duplex}:{}));return{path:g,id:_.Id,fullPath:_.Key}})}async upload(r,n,i){return this.uploadOrUpdate("POST",r,n,i)}async uploadToSignedUrl(r,n,i,l){var o=this;const c=o._removeEmptyFolders(r),d=o._getFinalPath(c),h=new URL(o.url+`/object/upload/sign/${d}`);return h.searchParams.set("token",n),o.handleOperation(async()=>{let m;const g=oe({upsert:Qp.upsert},l),v=oe(oe({},o.headers),{"x-upsert":String(g.upsert)});return typeof Blob<"u"&&i instanceof Blob?(m=new FormData,m.append("cacheControl",g.cacheControl),m.append("",i)):typeof FormData<"u"&&i instanceof FormData?(m=i,m.append("cacheControl",g.cacheControl)):(m=i,v["cache-control"]=`max-age=${g.cacheControl}`,v["content-type"]=g.contentType),{path:c,fullPath:(await $c(o.fetch,h.toString(),m,{headers:v})).Key}})}async createSignedUploadUrl(r,n){var i=this;return i.handleOperation(async()=>{let l=i._getFinalPath(r);const o=oe({},i.headers);n?.upsert&&(o["x-upsert"]="true");const c=await Qt(i.fetch,`${i.url}/object/upload/sign/${l}`,{},{headers:o}),d=new URL(i.url+c.url),h=d.searchParams.get("token");if(!h)throw new ql("No token returned by API");return{signedUrl:d.toString(),path:r,token:h}})}async update(r,n,i){return this.uploadOrUpdate("PUT",r,n,i)}async move(r,n,i){var l=this;return l.handleOperation(async()=>await Qt(l.fetch,`${l.url}/object/move`,{bucketId:l.bucketId,sourceKey:r,destinationKey:n,destinationBucket:i?.destinationBucket},{headers:l.headers}))}async copy(r,n,i){var l=this;return l.handleOperation(async()=>({path:(await Qt(l.fetch,`${l.url}/object/copy`,{bucketId:l.bucketId,sourceKey:r,destinationKey:n,destinationBucket:i?.destinationBucket},{headers:l.headers})).Key}))}async createSignedUrl(r,n,i){var l=this;return l.handleOperation(async()=>{let o=l._getFinalPath(r),c=await Qt(l.fetch,`${l.url}/object/sign/${o}`,oe({expiresIn:n},i?.transform?{transform:i.transform}:{}),{headers:l.headers});const d=i?.download?`&download=${i.download===!0?"":i.download}`:"";return{signedUrl:encodeURI(`${l.url}${c.signedURL}${d}`)}})}async createSignedUrls(r,n,i){var l=this;return l.handleOperation(async()=>{const o=await Qt(l.fetch,`${l.url}/object/sign/${l.bucketId}`,{expiresIn:n,paths:r},{headers:l.headers}),c=i?.download?`&download=${i.download===!0?"":i.download}`:"";return o.map(d=>oe(oe({},d),{},{signedUrl:d.signedURL?encodeURI(`${l.url}${d.signedURL}${c}`):null}))})}download(r,n,i){const l=typeof n?.transform<"u"?"render/image/authenticated":"object",o=this.transformOptsToQueryString(n?.transform||{}),c=o?`?${o}`:"",d=this._getFinalPath(r),h=()=>$i(this.fetch,`${this.url}/${l}/${d}${c}`,{headers:this.headers,noResolveJson:!0},i);return new gx(h,this.shouldThrowOnError)}async info(r){var n=this;const i=n._getFinalPath(r);return n.handleOperation(async()=>qc(await $i(n.fetch,`${n.url}/object/info/${i}`,{headers:n.headers})))}async exists(r){var n=this;const i=n._getFinalPath(r);try{return await mx(n.fetch,`${n.url}/object/${i}`,{headers:n.headers}),{data:!0,error:null}}catch(l){if(n.shouldThrowOnError)throw l;if($l(l)&&l instanceof py){const o=l.originalError;if([400,404].includes(o?.status))return{data:!1,error:l}}throw l}}getPublicUrl(r,n){const i=this._getFinalPath(r),l=[],o=n?.download?`download=${n.download===!0?"":n.download}`:"";o!==""&&l.push(o);const c=typeof n?.transform<"u"?"render/image":"object",d=this.transformOptsToQueryString(n?.transform||{});d!==""&&l.push(d);let h=l.join("&");return h!==""&&(h=`?${h}`),{data:{publicUrl:encodeURI(`${this.url}/${c}/public/${i}${h}`)}}}async remove(r){var n=this;return n.handleOperation(async()=>await of(n.fetch,`${n.url}/object/${n.bucketId}`,{prefixes:r},{headers:n.headers}))}async list(r,n,i){var l=this;return l.handleOperation(async()=>{const o=oe(oe(oe({},yx),n),{},{prefix:r||""});return await Qt(l.fetch,`${l.url}/object/list/${l.bucketId}`,o,{headers:l.headers},i)})}async listV2(r,n){var i=this;return i.handleOperation(async()=>{const l=oe({},r);return await Qt(i.fetch,`${i.url}/object/list-v2/${i.bucketId}`,l,{headers:i.headers},n)})}encodeMetadata(r){return JSON.stringify(r)}toBase64(r){return typeof Buffer<"u"?Buffer.from(r).toString("base64"):btoa(r)}_getFinalPath(r){return`${this.bucketId}/${r.replace(/^\/+/,"")}`}_removeEmptyFolders(r){return r.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(r){const n=[];return r.width&&n.push(`width=${r.width}`),r.height&&n.push(`height=${r.height}`),r.resize&&n.push(`resize=${r.resize}`),r.format&&n.push(`format=${r.format}`),r.quality&&n.push(`quality=${r.quality}`),n.join("&")}};const bx="2.95.3",Zi={"X-Client-Info":`storage-js/${bx}`};var _x=class extends Dr{constructor(r,n={},i,l){const o=new URL(r);l?.useNewHostname&&/supabase\.(co|in|red)$/.test(o.hostname)&&!o.hostname.includes("storage.supabase.")&&(o.hostname=o.hostname.replace("supabase.","storage.supabase."));const c=o.href.replace(/\/$/,""),d=oe(oe({},Zi),n);super(c,d,i,"storage")}async listBuckets(r){var n=this;return n.handleOperation(async()=>{const i=n.listBucketOptionsToQueryString(r);return await $i(n.fetch,`${n.url}/bucket${i}`,{headers:n.headers})})}async getBucket(r){var n=this;return n.handleOperation(async()=>await $i(n.fetch,`${n.url}/bucket/${r}`,{headers:n.headers}))}async createBucket(r,n={public:!1}){var i=this;return i.handleOperation(async()=>await Qt(i.fetch,`${i.url}/bucket`,{id:r,name:r,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:i.headers}))}async updateBucket(r,n){var i=this;return i.handleOperation(async()=>await $c(i.fetch,`${i.url}/bucket/${r}`,{id:r,name:r,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:i.headers}))}async emptyBucket(r){var n=this;return n.handleOperation(async()=>await Qt(n.fetch,`${n.url}/bucket/${r}/empty`,{},{headers:n.headers}))}async deleteBucket(r){var n=this;return n.handleOperation(async()=>await of(n.fetch,`${n.url}/bucket/${r}`,{},{headers:n.headers}))}listBucketOptionsToQueryString(r){const n={};return r&&("limit"in r&&(n.limit=String(r.limit)),"offset"in r&&(n.offset=String(r.offset)),r.search&&(n.search=r.search),r.sortColumn&&(n.sortColumn=r.sortColumn),r.sortOrder&&(n.sortOrder=r.sortOrder)),Object.keys(n).length>0?"?"+new URLSearchParams(n).toString():""}},wx=class extends Dr{constructor(r,n={},i){const l=r.replace(/\/$/,""),o=oe(oe({},Zi),n);super(l,o,i,"storage")}async createBucket(r){var n=this;return n.handleOperation(async()=>await Qt(n.fetch,`${n.url}/bucket`,{name:r},{headers:n.headers}))}async listBuckets(r){var n=this;return n.handleOperation(async()=>{const i=new URLSearchParams;r?.limit!==void 0&&i.set("limit",r.limit.toString()),r?.offset!==void 0&&i.set("offset",r.offset.toString()),r?.sortColumn&&i.set("sortColumn",r.sortColumn),r?.sortOrder&&i.set("sortOrder",r.sortOrder),r?.search&&i.set("search",r.search);const l=i.toString(),o=l?`${n.url}/bucket?${l}`:`${n.url}/bucket`;return await $i(n.fetch,o,{headers:n.headers})})}async deleteBucket(r){var n=this;return n.handleOperation(async()=>await of(n.fetch,`${n.url}/bucket/${r}`,{},{headers:n.headers}))}from(r){var n=this;if(!lx(r))throw new ql("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const i=new rx({baseUrl:this.url,catalogName:r,auth:{type:"custom",getHeaders:async()=>n.headers},fetch:this.fetch}),l=this.shouldThrowOnError;return new Proxy(i,{get(o,c){const d=o[c];return typeof d!="function"?d:async(...h)=>{try{return{data:await d.apply(o,h),error:null}}catch(m){if(l)throw m;return{data:null,error:m}}}}})}},Sx=class extends Dr{constructor(r,n={},i){const l=r.replace(/\/$/,""),o=oe(oe({},Zi),{},{"Content-Type":"application/json"},n);super(l,o,i,"vectors")}async createIndex(r){var n=this;return n.handleOperation(async()=>await Ct.post(n.fetch,`${n.url}/CreateIndex`,r,{headers:n.headers})||{})}async getIndex(r,n){var i=this;return i.handleOperation(async()=>await Ct.post(i.fetch,`${i.url}/GetIndex`,{vectorBucketName:r,indexName:n},{headers:i.headers}))}async listIndexes(r){var n=this;return n.handleOperation(async()=>await Ct.post(n.fetch,`${n.url}/ListIndexes`,r,{headers:n.headers}))}async deleteIndex(r,n){var i=this;return i.handleOperation(async()=>await Ct.post(i.fetch,`${i.url}/DeleteIndex`,{vectorBucketName:r,indexName:n},{headers:i.headers})||{})}},xx=class extends Dr{constructor(r,n={},i){const l=r.replace(/\/$/,""),o=oe(oe({},Zi),{},{"Content-Type":"application/json"},n);super(l,o,i,"vectors")}async putVectors(r){var n=this;if(r.vectors.length<1||r.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return n.handleOperation(async()=>await Ct.post(n.fetch,`${n.url}/PutVectors`,r,{headers:n.headers})||{})}async getVectors(r){var n=this;return n.handleOperation(async()=>await Ct.post(n.fetch,`${n.url}/GetVectors`,r,{headers:n.headers}))}async listVectors(r){var n=this;if(r.segmentCount!==void 0){if(r.segmentCount<1||r.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(r.segmentIndex!==void 0&&(r.segmentIndex<0||r.segmentIndex>=r.segmentCount))throw new Error(`segmentIndex must be between 0 and ${r.segmentCount-1}`)}return n.handleOperation(async()=>await Ct.post(n.fetch,`${n.url}/ListVectors`,r,{headers:n.headers}))}async queryVectors(r){var n=this;return n.handleOperation(async()=>await Ct.post(n.fetch,`${n.url}/QueryVectors`,r,{headers:n.headers}))}async deleteVectors(r){var n=this;if(r.keys.length<1||r.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return n.handleOperation(async()=>await Ct.post(n.fetch,`${n.url}/DeleteVectors`,r,{headers:n.headers})||{})}},Ex=class extends Dr{constructor(r,n={},i){const l=r.replace(/\/$/,""),o=oe(oe({},Zi),{},{"Content-Type":"application/json"},n);super(l,o,i,"vectors")}async createBucket(r){var n=this;return n.handleOperation(async()=>await Ct.post(n.fetch,`${n.url}/CreateVectorBucket`,{vectorBucketName:r},{headers:n.headers})||{})}async getBucket(r){var n=this;return n.handleOperation(async()=>await Ct.post(n.fetch,`${n.url}/GetVectorBucket`,{vectorBucketName:r},{headers:n.headers}))}async listBuckets(r={}){var n=this;return n.handleOperation(async()=>await Ct.post(n.fetch,`${n.url}/ListVectorBuckets`,r,{headers:n.headers}))}async deleteBucket(r){var n=this;return n.handleOperation(async()=>await Ct.post(n.fetch,`${n.url}/DeleteVectorBucket`,{vectorBucketName:r},{headers:n.headers})||{})}},Tx=class extends Ex{constructor(r,n={}){super(r,n.headers||{},n.fetch)}from(r){return new Ax(this.url,this.headers,r,this.fetch)}async createBucket(r){var n=()=>super.createBucket,i=this;return n().call(i,r)}async getBucket(r){var n=()=>super.getBucket,i=this;return n().call(i,r)}async listBuckets(r={}){var n=()=>super.listBuckets,i=this;return n().call(i,r)}async deleteBucket(r){var n=()=>super.deleteBucket,i=this;return n().call(i,r)}},Ax=class extends Sx{constructor(r,n,i,l){super(r,n,l),this.vectorBucketName=i}async createIndex(r){var n=()=>super.createIndex,i=this;return n().call(i,oe(oe({},r),{},{vectorBucketName:i.vectorBucketName}))}async listIndexes(r={}){var n=()=>super.listIndexes,i=this;return n().call(i,oe(oe({},r),{},{vectorBucketName:i.vectorBucketName}))}async getIndex(r){var n=()=>super.getIndex,i=this;return n().call(i,i.vectorBucketName,r)}async deleteIndex(r){var n=()=>super.deleteIndex,i=this;return n().call(i,i.vectorBucketName,r)}index(r){return new Rx(this.url,this.headers,this.vectorBucketName,r,this.fetch)}},Rx=class extends xx{constructor(r,n,i,l,o){super(r,n,o),this.vectorBucketName=i,this.indexName=l}async putVectors(r){var n=()=>super.putVectors,i=this;return n().call(i,oe(oe({},r),{},{vectorBucketName:i.vectorBucketName,indexName:i.indexName}))}async getVectors(r){var n=()=>super.getVectors,i=this;return n().call(i,oe(oe({},r),{},{vectorBucketName:i.vectorBucketName,indexName:i.indexName}))}async listVectors(r={}){var n=()=>super.listVectors,i=this;return n().call(i,oe(oe({},r),{},{vectorBucketName:i.vectorBucketName,indexName:i.indexName}))}async queryVectors(r){var n=()=>super.queryVectors,i=this;return n().call(i,oe(oe({},r),{},{vectorBucketName:i.vectorBucketName,indexName:i.indexName}))}async deleteVectors(r){var n=()=>super.deleteVectors,i=this;return n().call(i,oe(oe({},r),{},{vectorBucketName:i.vectorBucketName,indexName:i.indexName}))}},jx=class extends _x{constructor(r,n={},i,l){super(r,n,i,l)}from(r){return new vx(this.url,this.headers,r,this.fetch)}get vectors(){return new Tx(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new wx(this.url+"/iceberg",this.headers,this.fetch)}};const vy="2.95.3",Tr=30*1e3,Hc=3,wc=Hc*Tr,Ox="http://localhost:9999",Nx="supabase.auth.token",Cx={"X-Client-Info":`gotrue-js/${vy}`},Gc="X-Supabase-Api-Version",by={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Lx=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,kx=600*1e3;class Hi extends Error{constructor(n,i,l){super(n),this.__isAuthError=!0,this.name="AuthError",this.status=i,this.code=l}}function ae(r){return typeof r=="object"&&r!==null&&"__isAuthError"in r}class Dx extends Hi{constructor(n,i,l){super(n,i,l),this.name="AuthApiError",this.status=i,this.code=l}}function Ux(r){return ae(r)&&r.name==="AuthApiError"}class Aa extends Hi{constructor(n,i){super(n),this.name="AuthUnknownError",this.originalError=i}}class Rn extends Hi{constructor(n,i,l,o){super(n,l,o),this.name=i,this.status=l}}class Nt extends Rn{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Sc(r){return ae(r)&&r.name==="AuthSessionMissingError"}class gr extends Rn{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class vl extends Rn{constructor(n){super(n,"AuthInvalidCredentialsError",400,void 0)}}class bl extends Rn{constructor(n,i=null){super(n,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=i}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Mx(r){return ae(r)&&r.name==="AuthImplicitGrantRedirectError"}class Wp extends Rn{constructor(n,i=null){super(n,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=i}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class zx extends Rn{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class Vc extends Rn{constructor(n,i){super(n,"AuthRetryableFetchError",i,void 0)}}function xc(r){return ae(r)&&r.name==="AuthRetryableFetchError"}class Fp extends Rn{constructor(n,i,l){super(n,"AuthWeakPasswordError",i,"weak_password"),this.reasons=l}}class Kc extends Rn{constructor(n){super(n,"AuthInvalidJwtError",400,"invalid_jwt")}}const jl="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),eg=` 	
\r=`.split(""),Bx=(()=>{const r=new Array(128);for(let n=0;n<r.length;n+=1)r[n]=-1;for(let n=0;n<eg.length;n+=1)r[eg[n].charCodeAt(0)]=-2;for(let n=0;n<jl.length;n+=1)r[jl[n].charCodeAt(0)]=n;return r})();function tg(r,n,i){if(r!==null)for(n.queue=n.queue<<8|r,n.queuedBits+=8;n.queuedBits>=6;){const l=n.queue>>n.queuedBits-6&63;i(jl[l]),n.queuedBits-=6}else if(n.queuedBits>0)for(n.queue=n.queue<<6-n.queuedBits,n.queuedBits=6;n.queuedBits>=6;){const l=n.queue>>n.queuedBits-6&63;i(jl[l]),n.queuedBits-=6}}function _y(r,n,i){const l=Bx[r];if(l>-1)for(n.queue=n.queue<<6|l,n.queuedBits+=6;n.queuedBits>=8;)i(n.queue>>n.queuedBits-8&255),n.queuedBits-=8;else{if(l===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(r)}"`)}}function ng(r){const n=[],i=d=>{n.push(String.fromCodePoint(d))},l={utf8seq:0,codepoint:0},o={queue:0,queuedBits:0},c=d=>{Hx(d,l,i)};for(let d=0;d<r.length;d+=1)_y(r.charCodeAt(d),o,c);return n.join("")}function qx(r,n){if(r<=127){n(r);return}else if(r<=2047){n(192|r>>6),n(128|r&63);return}else if(r<=65535){n(224|r>>12),n(128|r>>6&63),n(128|r&63);return}else if(r<=1114111){n(240|r>>18),n(128|r>>12&63),n(128|r>>6&63),n(128|r&63);return}throw new Error(`Unrecognized Unicode codepoint: ${r.toString(16)}`)}function $x(r,n){for(let i=0;i<r.length;i+=1){let l=r.charCodeAt(i);if(l>55295&&l<=56319){const o=(l-55296)*1024&65535;l=(r.charCodeAt(i+1)-56320&65535|o)+65536,i+=1}qx(l,n)}}function Hx(r,n,i){if(n.utf8seq===0){if(r<=127){i(r);return}for(let l=1;l<6;l+=1)if((r>>7-l&1)===0){n.utf8seq=l;break}if(n.utf8seq===2)n.codepoint=r&31;else if(n.utf8seq===3)n.codepoint=r&15;else if(n.utf8seq===4)n.codepoint=r&7;else throw new Error("Invalid UTF-8 sequence");n.utf8seq-=1}else if(n.utf8seq>0){if(r<=127)throw new Error("Invalid UTF-8 sequence");n.codepoint=n.codepoint<<6|r&63,n.utf8seq-=1,n.utf8seq===0&&i(n.codepoint)}}function Nr(r){const n=[],i={queue:0,queuedBits:0},l=o=>{n.push(o)};for(let o=0;o<r.length;o+=1)_y(r.charCodeAt(o),i,l);return new Uint8Array(n)}function Gx(r){const n=[];return $x(r,i=>n.push(i)),new Uint8Array(n)}function ja(r){const n=[],i={queue:0,queuedBits:0},l=o=>{n.push(o)};return r.forEach(o=>tg(o,i,l)),tg(null,i,l),n.join("")}function Vx(r){return Math.round(Date.now()/1e3)+r}function Kx(){return Symbol("auth-callback")}const lt=()=>typeof window<"u"&&typeof document<"u",Sa={tested:!1,writable:!1},wy=()=>{if(!lt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Sa.tested)return Sa.writable;const r=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(r,r),globalThis.localStorage.removeItem(r),Sa.tested=!0,Sa.writable=!0}catch{Sa.tested=!0,Sa.writable=!1}return Sa.writable};function Yx(r){const n={},i=new URL(r);if(i.hash&&i.hash[0]==="#")try{new URLSearchParams(i.hash.substring(1)).forEach((o,c)=>{n[c]=o})}catch{}return i.searchParams.forEach((l,o)=>{n[o]=l}),n}const Sy=r=>r?(...n)=>r(...n):(...n)=>fetch(...n),Ix=r=>typeof r=="object"&&r!==null&&"status"in r&&"ok"in r&&"json"in r&&typeof r.json=="function",Ar=async(r,n,i)=>{await r.setItem(n,JSON.stringify(i))},xa=async(r,n)=>{const i=await r.getItem(n);if(!i)return null;try{return JSON.parse(i)}catch{return i}},st=async(r,n)=>{await r.removeItem(n)};class Hl{constructor(){this.promise=new Hl.promiseConstructor((n,i)=>{this.resolve=n,this.reject=i})}}Hl.promiseConstructor=Promise;function _l(r){const n=r.split(".");if(n.length!==3)throw new Kc("Invalid JWT structure");for(let l=0;l<n.length;l++)if(!Lx.test(n[l]))throw new Kc("JWT not in base64url format");return{header:JSON.parse(ng(n[0])),payload:JSON.parse(ng(n[1])),signature:Nr(n[2]),raw:{header:n[0],payload:n[1]}}}async function Px(r){return await new Promise(n=>{setTimeout(()=>n(null),r)})}function Zx(r,n){return new Promise((l,o)=>{(async()=>{for(let c=0;c<1/0;c++)try{const d=await r(c);if(!n(c,null,d)){l(d);return}}catch(d){if(!n(c,d)){o(d);return}}})()})}function Xx(r){return("0"+r.toString(16)).substr(-2)}function Jx(){const n=new Uint32Array(56);if(typeof crypto>"u"){const i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",l=i.length;let o="";for(let c=0;c<56;c++)o+=i.charAt(Math.floor(Math.random()*l));return o}return crypto.getRandomValues(n),Array.from(n,Xx).join("")}async function Qx(r){const i=new TextEncoder().encode(r),l=await crypto.subtle.digest("SHA-256",i),o=new Uint8Array(l);return Array.from(o).map(c=>String.fromCharCode(c)).join("")}async function Wx(r){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),r;const i=await Qx(r);return btoa(i).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function yr(r,n,i=!1){const l=Jx();let o=l;i&&(o+="/PASSWORD_RECOVERY"),await Ar(r,`${n}-code-verifier`,o);const c=await Wx(l);return[c,l===c?"plain":"s256"]}const Fx=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function e1(r){const n=r.headers.get(Gc);if(!n||!n.match(Fx))return null;try{return new Date(`${n}T00:00:00.0Z`)}catch{return null}}function t1(r){if(!r)throw new Error("Missing exp claim");const n=Math.floor(Date.now()/1e3);if(r<=n)throw new Error("JWT has expired")}function n1(r){switch(r){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const a1=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function vr(r){if(!a1.test(r))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Ec(){const r={};return new Proxy(r,{get:(n,i)=>{if(i==="__isUserNotAvailableProxy")return!0;if(typeof i=="symbol"){const l=i.toString();if(l==="Symbol(Symbol.toPrimitive)"||l==="Symbol(Symbol.toStringTag)"||l==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${i}" property of the session object is not supported. Please use getUser() instead.`)},set:(n,i)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${i}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(n,i)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${i}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function r1(r,n){return new Proxy(r,{get:(i,l,o)=>{if(l==="__isInsecureUserWarningProxy")return!0;if(typeof l=="symbol"){const c=l.toString();if(c==="Symbol(Symbol.toPrimitive)"||c==="Symbol(Symbol.toStringTag)"||c==="Symbol(util.inspect.custom)"||c==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(i,l,o)}return!n.value&&typeof l=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),n.value=!0),Reflect.get(i,l,o)}})}function ag(r){return JSON.parse(JSON.stringify(r))}const Ea=r=>r.msg||r.message||r.error_description||r.error||JSON.stringify(r),i1=[502,503,504];async function rg(r){var n;if(!Ix(r))throw new Vc(Ea(r),0);if(i1.includes(r.status))throw new Vc(Ea(r),r.status);let i;try{i=await r.json()}catch(c){throw new Aa(Ea(c),c)}let l;const o=e1(r);if(o&&o.getTime()>=by["2024-01-01"].timestamp&&typeof i=="object"&&i&&typeof i.code=="string"?l=i.code:typeof i=="object"&&i&&typeof i.error_code=="string"&&(l=i.error_code),l){if(l==="weak_password")throw new Fp(Ea(i),r.status,((n=i.weak_password)===null||n===void 0?void 0:n.reasons)||[]);if(l==="session_not_found")throw new Nt}else if(typeof i=="object"&&i&&typeof i.weak_password=="object"&&i.weak_password&&Array.isArray(i.weak_password.reasons)&&i.weak_password.reasons.length&&i.weak_password.reasons.reduce((c,d)=>c&&typeof d=="string",!0))throw new Fp(Ea(i),r.status,i.weak_password.reasons);throw new Dx(Ea(i),r.status||500,l)}const s1=(r,n,i,l)=>{const o={method:r,headers:n?.headers||{}};return r==="GET"?o:(o.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},n?.headers),o.body=JSON.stringify(l),Object.assign(Object.assign({},o),i))};async function ue(r,n,i,l){var o;const c=Object.assign({},l?.headers);c[Gc]||(c[Gc]=by["2024-01-01"].name),l?.jwt&&(c.Authorization=`Bearer ${l.jwt}`);const d=(o=l?.query)!==null&&o!==void 0?o:{};l?.redirectTo&&(d.redirect_to=l.redirectTo);const h=Object.keys(d).length?"?"+new URLSearchParams(d).toString():"",m=await l1(r,n,i+h,{headers:c,noResolveJson:l?.noResolveJson},{},l?.body);return l?.xform?l?.xform(m):{data:Object.assign({},m),error:null}}async function l1(r,n,i,l,o,c){const d=s1(n,l,o,c);let h;try{h=await r(i,Object.assign({},d))}catch(m){throw console.error(m),new Vc(Ea(m),0)}if(h.ok||await rg(h),l?.noResolveJson)return h;try{return await h.json()}catch(m){await rg(m)}}function Jt(r){var n;let i=null;c1(r)&&(i=Object.assign({},r),r.expires_at||(i.expires_at=Vx(r.expires_in)));const l=(n=r.user)!==null&&n!==void 0?n:r;return{data:{session:i,user:l},error:null}}function ig(r){const n=Jt(r);return!n.error&&r.weak_password&&typeof r.weak_password=="object"&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.message&&typeof r.weak_password.message=="string"&&r.weak_password.reasons.reduce((i,l)=>i&&typeof l=="string",!0)&&(n.data.weak_password=r.weak_password),n}function ea(r){var n;return{data:{user:(n=r.user)!==null&&n!==void 0?n:r},error:null}}function u1(r){return{data:r,error:null}}function o1(r){const{action_link:n,email_otp:i,hashed_token:l,redirect_to:o,verification_type:c}=r,d=Bl(r,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),h={action_link:n,email_otp:i,hashed_token:l,redirect_to:o,verification_type:c},m=Object.assign({},d);return{data:{properties:h,user:m},error:null}}function sg(r){return r}function c1(r){return r.access_token&&r.refresh_token&&r.expires_in}const Tc=["global","local","others"];class f1{constructor({url:n="",headers:i={},fetch:l}){this.url=n,this.headers=i,this.fetch=Sy(l),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(n,i=Tc[0]){if(Tc.indexOf(i)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Tc.join(", ")}`);try{return await ue(this.fetch,"POST",`${this.url}/logout?scope=${i}`,{headers:this.headers,jwt:n,noResolveJson:!0}),{data:null,error:null}}catch(l){if(ae(l))return{data:null,error:l};throw l}}async inviteUserByEmail(n,i={}){try{return await ue(this.fetch,"POST",`${this.url}/invite`,{body:{email:n,data:i.data},headers:this.headers,redirectTo:i.redirectTo,xform:ea})}catch(l){if(ae(l))return{data:{user:null},error:l};throw l}}async generateLink(n){try{const{options:i}=n,l=Bl(n,["options"]),o=Object.assign(Object.assign({},l),i);return"newEmail"in l&&(o.new_email=l?.newEmail,delete o.newEmail),await ue(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:o,headers:this.headers,xform:o1,redirectTo:i?.redirectTo})}catch(i){if(ae(i))return{data:{properties:null,user:null},error:i};throw i}}async createUser(n){try{return await ue(this.fetch,"POST",`${this.url}/admin/users`,{body:n,headers:this.headers,xform:ea})}catch(i){if(ae(i))return{data:{user:null},error:i};throw i}}async listUsers(n){var i,l,o,c,d,h,m;try{const g={nextPage:null,lastPage:0,total:0},v=await ue(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(l=(i=n?.page)===null||i===void 0?void 0:i.toString())!==null&&l!==void 0?l:"",per_page:(c=(o=n?.perPage)===null||o===void 0?void 0:o.toString())!==null&&c!==void 0?c:""},xform:sg});if(v.error)throw v.error;const _=await v.json(),w=(d=v.headers.get("x-total-count"))!==null&&d!==void 0?d:0,S=(m=(h=v.headers.get("link"))===null||h===void 0?void 0:h.split(","))!==null&&m!==void 0?m:[];return S.length>0&&(S.forEach(O=>{const R=parseInt(O.split(";")[0].split("=")[1].substring(0,1)),A=JSON.parse(O.split(";")[1].split("=")[1]);g[`${A}Page`]=R}),g.total=parseInt(w)),{data:Object.assign(Object.assign({},_),g),error:null}}catch(g){if(ae(g))return{data:{users:[]},error:g};throw g}}async getUserById(n){vr(n);try{return await ue(this.fetch,"GET",`${this.url}/admin/users/${n}`,{headers:this.headers,xform:ea})}catch(i){if(ae(i))return{data:{user:null},error:i};throw i}}async updateUserById(n,i){vr(n);try{return await ue(this.fetch,"PUT",`${this.url}/admin/users/${n}`,{body:i,headers:this.headers,xform:ea})}catch(l){if(ae(l))return{data:{user:null},error:l};throw l}}async deleteUser(n,i=!1){vr(n);try{return await ue(this.fetch,"DELETE",`${this.url}/admin/users/${n}`,{headers:this.headers,body:{should_soft_delete:i},xform:ea})}catch(l){if(ae(l))return{data:{user:null},error:l};throw l}}async _listFactors(n){vr(n.userId);try{const{data:i,error:l}=await ue(this.fetch,"GET",`${this.url}/admin/users/${n.userId}/factors`,{headers:this.headers,xform:o=>({data:{factors:o},error:null})});return{data:i,error:l}}catch(i){if(ae(i))return{data:null,error:i};throw i}}async _deleteFactor(n){vr(n.userId),vr(n.id);try{return{data:await ue(this.fetch,"DELETE",`${this.url}/admin/users/${n.userId}/factors/${n.id}`,{headers:this.headers}),error:null}}catch(i){if(ae(i))return{data:null,error:i};throw i}}async _listOAuthClients(n){var i,l,o,c,d,h,m;try{const g={nextPage:null,lastPage:0,total:0},v=await ue(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(l=(i=n?.page)===null||i===void 0?void 0:i.toString())!==null&&l!==void 0?l:"",per_page:(c=(o=n?.perPage)===null||o===void 0?void 0:o.toString())!==null&&c!==void 0?c:""},xform:sg});if(v.error)throw v.error;const _=await v.json(),w=(d=v.headers.get("x-total-count"))!==null&&d!==void 0?d:0,S=(m=(h=v.headers.get("link"))===null||h===void 0?void 0:h.split(","))!==null&&m!==void 0?m:[];return S.length>0&&(S.forEach(O=>{const R=parseInt(O.split(";")[0].split("=")[1].substring(0,1)),A=JSON.parse(O.split(";")[1].split("=")[1]);g[`${A}Page`]=R}),g.total=parseInt(w)),{data:Object.assign(Object.assign({},_),g),error:null}}catch(g){if(ae(g))return{data:{clients:[]},error:g};throw g}}async _createOAuthClient(n){try{return await ue(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:n,headers:this.headers,xform:i=>({data:i,error:null})})}catch(i){if(ae(i))return{data:null,error:i};throw i}}async _getOAuthClient(n){try{return await ue(this.fetch,"GET",`${this.url}/admin/oauth/clients/${n}`,{headers:this.headers,xform:i=>({data:i,error:null})})}catch(i){if(ae(i))return{data:null,error:i};throw i}}async _updateOAuthClient(n,i){try{return await ue(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${n}`,{body:i,headers:this.headers,xform:l=>({data:l,error:null})})}catch(l){if(ae(l))return{data:null,error:l};throw l}}async _deleteOAuthClient(n){try{return await ue(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${n}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(i){if(ae(i))return{data:null,error:i};throw i}}async _regenerateOAuthClientSecret(n){try{return await ue(this.fetch,"POST",`${this.url}/admin/oauth/clients/${n}/regenerate_secret`,{headers:this.headers,xform:i=>({data:i,error:null})})}catch(i){if(ae(i))return{data:null,error:i};throw i}}}function lg(r={}){return{getItem:n=>r[n]||null,setItem:(n,i)=>{r[n]=i},removeItem:n=>{delete r[n]}}}const br={debug:!!(globalThis&&wy()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class xy extends Error{constructor(n){super(n),this.isAcquireTimeout=!0}}class d1 extends xy{}async function h1(r,n,i){br.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",r,n);const l=new globalThis.AbortController;return n>0&&setTimeout(()=>{l.abort(),br.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",r)},n),await Promise.resolve().then(()=>globalThis.navigator.locks.request(r,n===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:l.signal},async o=>{if(o){br.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",r,o.name);try{return await i()}finally{br.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",r,o.name)}}else{if(n===0)throw br.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",r),new d1(`Acquiring an exclusive Navigator LockManager lock "${r}" immediately failed`);if(br.debug)try{const c=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(c,null,"  "))}catch(c){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",c)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await i()}}))}function m1(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function Ey(r){if(!/^0x[a-fA-F0-9]{40}$/.test(r))throw new Error(`@supabase/auth-js: Address "${r}" is invalid.`);return r.toLowerCase()}function p1(r){return parseInt(r,16)}function g1(r){const n=new TextEncoder().encode(r);return"0x"+Array.from(n,l=>l.toString(16).padStart(2,"0")).join("")}function y1(r){var n;const{chainId:i,domain:l,expirationTime:o,issuedAt:c=new Date,nonce:d,notBefore:h,requestId:m,resources:g,scheme:v,uri:_,version:w}=r;{if(!Number.isInteger(i))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${i}`);if(!l)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(d&&d.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${d}`);if(!_)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(w!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${w}`);if(!((n=r.statement)===null||n===void 0)&&n.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${r.statement}`)}const S=Ey(r.address),O=v?`${v}://${l}`:l,R=r.statement?`${r.statement}
`:"",A=`${O} wants you to sign in with your Ethereum account:
${S}

${R}`;let z=`URI: ${_}
Version: ${w}
Chain ID: ${i}${d?`
Nonce: ${d}`:""}
Issued At: ${c.toISOString()}`;if(o&&(z+=`
Expiration Time: ${o.toISOString()}`),h&&(z+=`
Not Before: ${h.toISOString()}`),m&&(z+=`
Request ID: ${m}`),g){let M=`
Resources:`;for(const B of g){if(!B||typeof B!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${B}`);M+=`
- ${B}`}z+=M}return`${A}
${z}`}class Pe extends Error{constructor({message:n,code:i,cause:l,name:o}){var c;super(n,{cause:l}),this.__isWebAuthnError=!0,this.name=(c=o??(l instanceof Error?l.name:void 0))!==null&&c!==void 0?c:"Unknown Error",this.code=i}}class Ol extends Pe{constructor(n,i){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:i,message:n}),this.name="WebAuthnUnknownError",this.originalError=i}}function v1({error:r,options:n}){var i,l,o;const{publicKey:c}=n;if(!c)throw Error("options was missing required publicKey property");if(r.name==="AbortError"){if(n.signal instanceof AbortSignal)return new Pe({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:r})}else if(r.name==="ConstraintError"){if(((i=c.authenticatorSelection)===null||i===void 0?void 0:i.requireResidentKey)===!0)return new Pe({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:r});if(n.mediation==="conditional"&&((l=c.authenticatorSelection)===null||l===void 0?void 0:l.userVerification)==="required")return new Pe({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:r});if(((o=c.authenticatorSelection)===null||o===void 0?void 0:o.userVerification)==="required")return new Pe({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:r})}else{if(r.name==="InvalidStateError")return new Pe({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:r});if(r.name==="NotAllowedError")return new Pe({message:r.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r});if(r.name==="NotSupportedError")return c.pubKeyCredParams.filter(h=>h.type==="public-key").length===0?new Pe({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:r}):new Pe({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:r});if(r.name==="SecurityError"){const d=window.location.hostname;if(Ty(d)){if(c.rp.id!==d)return new Pe({message:`The RP ID "${c.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:r})}else return new Pe({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:r})}else if(r.name==="TypeError"){if(c.user.id.byteLength<1||c.user.id.byteLength>64)return new Pe({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:r})}else if(r.name==="UnknownError")return new Pe({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:r})}return new Pe({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r})}function b1({error:r,options:n}){const{publicKey:i}=n;if(!i)throw Error("options was missing required publicKey property");if(r.name==="AbortError"){if(n.signal instanceof AbortSignal)return new Pe({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:r})}else{if(r.name==="NotAllowedError")return new Pe({message:r.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r});if(r.name==="SecurityError"){const l=window.location.hostname;if(Ty(l)){if(i.rpId!==l)return new Pe({message:`The RP ID "${i.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:r})}else return new Pe({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:r})}else if(r.name==="UnknownError")return new Pe({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:r})}return new Pe({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r})}class _1{createNewAbortSignal(){if(this.controller){const i=new Error("Cancelling existing WebAuthn API call for new one");i.name="AbortError",this.controller.abort(i)}const n=new AbortController;return this.controller=n,n.signal}cancelCeremony(){if(this.controller){const n=new Error("Manually cancelling existing WebAuthn API call");n.name="AbortError",this.controller.abort(n),this.controller=void 0}}}const w1=new _1;function S1(r){if(!r)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(r);const{challenge:n,user:i,excludeCredentials:l}=r,o=Bl(r,["challenge","user","excludeCredentials"]),c=Nr(n).buffer,d=Object.assign(Object.assign({},i),{id:Nr(i.id).buffer}),h=Object.assign(Object.assign({},o),{challenge:c,user:d});if(l&&l.length>0){h.excludeCredentials=new Array(l.length);for(let m=0;m<l.length;m++){const g=l[m];h.excludeCredentials[m]=Object.assign(Object.assign({},g),{id:Nr(g.id).buffer,type:g.type||"public-key",transports:g.transports})}}return h}function x1(r){if(!r)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(r);const{challenge:n,allowCredentials:i}=r,l=Bl(r,["challenge","allowCredentials"]),o=Nr(n).buffer,c=Object.assign(Object.assign({},l),{challenge:o});if(i&&i.length>0){c.allowCredentials=new Array(i.length);for(let d=0;d<i.length;d++){const h=i[d];c.allowCredentials[d]=Object.assign(Object.assign({},h),{id:Nr(h.id).buffer,type:h.type||"public-key",transports:h.transports})}}return c}function E1(r){var n;if("toJSON"in r&&typeof r.toJSON=="function")return r.toJSON();const i=r;return{id:r.id,rawId:r.id,response:{attestationObject:ja(new Uint8Array(r.response.attestationObject)),clientDataJSON:ja(new Uint8Array(r.response.clientDataJSON))},type:"public-key",clientExtensionResults:r.getClientExtensionResults(),authenticatorAttachment:(n=i.authenticatorAttachment)!==null&&n!==void 0?n:void 0}}function T1(r){var n;if("toJSON"in r&&typeof r.toJSON=="function")return r.toJSON();const i=r,l=r.getClientExtensionResults(),o=r.response;return{id:r.id,rawId:r.id,response:{authenticatorData:ja(new Uint8Array(o.authenticatorData)),clientDataJSON:ja(new Uint8Array(o.clientDataJSON)),signature:ja(new Uint8Array(o.signature)),userHandle:o.userHandle?ja(new Uint8Array(o.userHandle)):void 0},type:"public-key",clientExtensionResults:l,authenticatorAttachment:(n=i.authenticatorAttachment)!==null&&n!==void 0?n:void 0}}function Ty(r){return r==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(r)}function ug(){var r,n;return!!(lt()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((r=navigator?.credentials)===null||r===void 0?void 0:r.create)=="function"&&typeof((n=navigator?.credentials)===null||n===void 0?void 0:n.get)=="function")}async function A1(r){try{const n=await navigator.credentials.create(r);return n?n instanceof PublicKeyCredential?{data:n,error:null}:{data:null,error:new Ol("Browser returned unexpected credential type",n)}:{data:null,error:new Ol("Empty credential response",n)}}catch(n){return{data:null,error:v1({error:n,options:r})}}}async function R1(r){try{const n=await navigator.credentials.get(r);return n?n instanceof PublicKeyCredential?{data:n,error:null}:{data:null,error:new Ol("Browser returned unexpected credential type",n)}:{data:null,error:new Ol("Empty credential response",n)}}catch(n){return{data:null,error:b1({error:n,options:r})}}}const j1={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},O1={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Nl(...r){const n=o=>o!==null&&typeof o=="object"&&!Array.isArray(o),i=o=>o instanceof ArrayBuffer||ArrayBuffer.isView(o),l={};for(const o of r)if(o)for(const c in o){const d=o[c];if(d!==void 0)if(Array.isArray(d))l[c]=d;else if(i(d))l[c]=d;else if(n(d)){const h=l[c];n(h)?l[c]=Nl(h,d):l[c]=Nl(d)}else l[c]=d}return l}function N1(r,n){return Nl(j1,r,n||{})}function C1(r,n){return Nl(O1,r,n||{})}class L1{constructor(n){this.client=n,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(n){return this.client.mfa.enroll(Object.assign(Object.assign({},n),{factorType:"webauthn"}))}async _challenge({factorId:n,webauthn:i,friendlyName:l,signal:o},c){var d;try{const{data:h,error:m}=await this.client.mfa.challenge({factorId:n,webauthn:i});if(!h)return{data:null,error:m};const g=o??w1.createNewAbortSignal();if(h.webauthn.type==="create"){const{user:v}=h.webauthn.credential_options.publicKey;if(!v.name){const _=l;if(_)v.name=`${v.id}:${_}`;else{const S=(await this.client.getUser()).data.user,O=((d=S?.user_metadata)===null||d===void 0?void 0:d.name)||S?.email||S?.id||"User";v.name=`${v.id}:${O}`}}v.displayName||(v.displayName=v.name)}switch(h.webauthn.type){case"create":{const v=N1(h.webauthn.credential_options.publicKey,c?.create),{data:_,error:w}=await A1({publicKey:v,signal:g});return _?{data:{factorId:n,challengeId:h.id,webauthn:{type:h.webauthn.type,credential_response:_}},error:null}:{data:null,error:w}}case"request":{const v=C1(h.webauthn.credential_options.publicKey,c?.request),{data:_,error:w}=await R1(Object.assign(Object.assign({},h.webauthn.credential_options),{publicKey:v,signal:g}));return _?{data:{factorId:n,challengeId:h.id,webauthn:{type:h.webauthn.type,credential_response:_}},error:null}:{data:null,error:w}}}}catch(h){return ae(h)?{data:null,error:h}:{data:null,error:new Aa("Unexpected error in challenge",h)}}}async _verify({challengeId:n,factorId:i,webauthn:l}){return this.client.mfa.verify({factorId:i,challengeId:n,webauthn:l})}async _authenticate({factorId:n,webauthn:{rpId:i=typeof window<"u"?window.location.hostname:void 0,rpOrigins:l=typeof window<"u"?[window.location.origin]:void 0,signal:o}={}},c){if(!i)return{data:null,error:new Hi("rpId is required for WebAuthn authentication")};try{if(!ug())return{data:null,error:new Aa("Browser does not support WebAuthn",null)};const{data:d,error:h}=await this.challenge({factorId:n,webauthn:{rpId:i,rpOrigins:l},signal:o},{request:c});if(!d)return{data:null,error:h};const{webauthn:m}=d;return this._verify({factorId:n,challengeId:d.challengeId,webauthn:{type:m.type,rpId:i,rpOrigins:l,credential_response:m.credential_response}})}catch(d){return ae(d)?{data:null,error:d}:{data:null,error:new Aa("Unexpected error in authenticate",d)}}}async _register({friendlyName:n,webauthn:{rpId:i=typeof window<"u"?window.location.hostname:void 0,rpOrigins:l=typeof window<"u"?[window.location.origin]:void 0,signal:o}={}},c){if(!i)return{data:null,error:new Hi("rpId is required for WebAuthn registration")};try{if(!ug())return{data:null,error:new Aa("Browser does not support WebAuthn",null)};const{data:d,error:h}=await this._enroll({friendlyName:n});if(!d)return await this.client.mfa.listFactors().then(v=>{var _;return(_=v.data)===null||_===void 0?void 0:_.all.find(w=>w.factor_type==="webauthn"&&w.friendly_name===n&&w.status!=="unverified")}).then(v=>v?this.client.mfa.unenroll({factorId:v?.id}):void 0),{data:null,error:h};const{data:m,error:g}=await this._challenge({factorId:d.id,friendlyName:d.friendly_name,webauthn:{rpId:i,rpOrigins:l},signal:o},{create:c});return m?this._verify({factorId:d.id,challengeId:m.challengeId,webauthn:{rpId:i,rpOrigins:l,type:m.webauthn.type,credential_response:m.webauthn.credential_response}}):{data:null,error:g}}catch(d){return ae(d)?{data:null,error:d}:{data:null,error:new Aa("Unexpected error in register",d)}}}}m1();const k1={url:Ox,storageKey:Nx,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Cx,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function og(r,n,i){return await i()}const _r={};class Gi{get jwks(){var n,i;return(i=(n=_r[this.storageKey])===null||n===void 0?void 0:n.jwks)!==null&&i!==void 0?i:{keys:[]}}set jwks(n){_r[this.storageKey]=Object.assign(Object.assign({},_r[this.storageKey]),{jwks:n})}get jwks_cached_at(){var n,i;return(i=(n=_r[this.storageKey])===null||n===void 0?void 0:n.cachedAt)!==null&&i!==void 0?i:Number.MIN_SAFE_INTEGER}set jwks_cached_at(n){_r[this.storageKey]=Object.assign(Object.assign({},_r[this.storageKey]),{cachedAt:n})}constructor(n){var i,l,o;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const c=Object.assign(Object.assign({},k1),n);if(this.storageKey=c.storageKey,this.instanceID=(i=Gi.nextInstanceID[this.storageKey])!==null&&i!==void 0?i:0,Gi.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!c.debug,typeof c.debug=="function"&&(this.logger=c.debug),this.instanceID>0&&lt()){const d=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(d),this.logDebugMessages&&console.trace(d)}if(this.persistSession=c.persistSession,this.autoRefreshToken=c.autoRefreshToken,this.admin=new f1({url:c.url,headers:c.headers,fetch:c.fetch}),this.url=c.url,this.headers=c.headers,this.fetch=Sy(c.fetch),this.lock=c.lock||og,this.detectSessionInUrl=c.detectSessionInUrl,this.flowType=c.flowType,this.hasCustomAuthorizationHeader=c.hasCustomAuthorizationHeader,this.throwOnError=c.throwOnError,this.lockAcquireTimeout=c.lockAcquireTimeout,c.lock?this.lock=c.lock:this.persistSession&&lt()&&(!((l=globalThis?.navigator)===null||l===void 0)&&l.locks)?this.lock=h1:this.lock=og,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new L1(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(c.storage?this.storage=c.storage:wy()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=lg(this.memoryStorage)),c.userStorage&&(this.userStorage=c.userStorage)):(this.memoryStorage={},this.storage=lg(this.memoryStorage)),lt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(d){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",d)}(o=this.broadcastChannel)===null||o===void 0||o.addEventListener("message",async d=>{this._debug("received broadcast notification from other tab or client",d);try{await this._notifyAllSubscribers(d.data.event,d.data.session,!1)}catch(h){this._debug("#broadcastChannel","error",h)}})}this.initialize().catch(d=>{this._debug("#initialize()","error",d)})}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(n){if(this.throwOnError&&n&&n.error)throw n.error;return n}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${vy}) ${new Date().toISOString()}`}_debug(...n){return this.logDebugMessages&&this.logger(this._logPrefix(),...n),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var n;try{let i={},l="none";if(lt()&&(i=Yx(window.location.href),this._isImplicitGrantCallback(i)?l="implicit":await this._isPKCECallback(i)&&(l="pkce")),lt()&&this.detectSessionInUrl&&l!=="none"){const{data:o,error:c}=await this._getSessionFromURL(i,l);if(c){if(this._debug("#_initialize()","error detecting session from URL",c),Mx(c)){const m=(n=c.details)===null||n===void 0?void 0:n.code;if(m==="identity_already_exists"||m==="identity_not_found"||m==="single_identity_not_deletable")return{error:c}}return{error:c}}const{session:d,redirectType:h}=o;return this._debug("#_initialize()","detected session in URL",d,"redirect type",h),await this._saveSession(d),setTimeout(async()=>{h==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",d):await this._notifyAllSubscribers("SIGNED_IN",d)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(i){return ae(i)?this._returnResult({error:i}):this._returnResult({error:new Aa("Unexpected error during initialization",i)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(n){var i,l,o;try{const c=await ue(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(l=(i=n?.options)===null||i===void 0?void 0:i.data)!==null&&l!==void 0?l:{},gotrue_meta_security:{captcha_token:(o=n?.options)===null||o===void 0?void 0:o.captchaToken}},xform:Jt}),{data:d,error:h}=c;if(h||!d)return this._returnResult({data:{user:null,session:null},error:h});const m=d.session,g=d.user;return d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",m)),this._returnResult({data:{user:g,session:m},error:null})}catch(c){if(ae(c))return this._returnResult({data:{user:null,session:null},error:c});throw c}}async signUp(n){var i,l,o;try{let c;if("email"in n){const{email:v,password:_,options:w}=n;let S=null,O=null;this.flowType==="pkce"&&([S,O]=await yr(this.storage,this.storageKey)),c=await ue(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:w?.emailRedirectTo,body:{email:v,password:_,data:(i=w?.data)!==null&&i!==void 0?i:{},gotrue_meta_security:{captcha_token:w?.captchaToken},code_challenge:S,code_challenge_method:O},xform:Jt})}else if("phone"in n){const{phone:v,password:_,options:w}=n;c=await ue(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:v,password:_,data:(l=w?.data)!==null&&l!==void 0?l:{},channel:(o=w?.channel)!==null&&o!==void 0?o:"sms",gotrue_meta_security:{captcha_token:w?.captchaToken}},xform:Jt})}else throw new vl("You must provide either an email or phone number and a password");const{data:d,error:h}=c;if(h||!d)return await st(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:h});const m=d.session,g=d.user;return d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",m)),this._returnResult({data:{user:g,session:m},error:null})}catch(c){if(await st(this.storage,`${this.storageKey}-code-verifier`),ae(c))return this._returnResult({data:{user:null,session:null},error:c});throw c}}async signInWithPassword(n){try{let i;if("email"in n){const{email:c,password:d,options:h}=n;i=await ue(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:c,password:d,gotrue_meta_security:{captcha_token:h?.captchaToken}},xform:ig})}else if("phone"in n){const{phone:c,password:d,options:h}=n;i=await ue(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:c,password:d,gotrue_meta_security:{captcha_token:h?.captchaToken}},xform:ig})}else throw new vl("You must provide either an email or phone number and a password");const{data:l,error:o}=i;if(o)return this._returnResult({data:{user:null,session:null},error:o});if(!l||!l.session||!l.user){const c=new gr;return this._returnResult({data:{user:null,session:null},error:c})}return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),this._returnResult({data:Object.assign({user:l.user,session:l.session},l.weak_password?{weakPassword:l.weak_password}:null),error:o})}catch(i){if(ae(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithOAuth(n){var i,l,o,c;return await this._handleProviderSignIn(n.provider,{redirectTo:(i=n.options)===null||i===void 0?void 0:i.redirectTo,scopes:(l=n.options)===null||l===void 0?void 0:l.scopes,queryParams:(o=n.options)===null||o===void 0?void 0:o.queryParams,skipBrowserRedirect:(c=n.options)===null||c===void 0?void 0:c.skipBrowserRedirect})}async exchangeCodeForSession(n){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(n))}async signInWithWeb3(n){const{chain:i}=n;switch(i){case"ethereum":return await this.signInWithEthereum(n);case"solana":return await this.signInWithSolana(n);default:throw new Error(`@supabase/auth-js: Unsupported chain "${i}"`)}}async signInWithEthereum(n){var i,l,o,c,d,h,m,g,v,_,w;let S,O;if("message"in n)S=n.message,O=n.signature;else{const{chain:R,wallet:A,statement:z,options:M}=n;let B;if(lt())if(typeof A=="object")B=A;else{const se=window;if("ethereum"in se&&typeof se.ethereum=="object"&&"request"in se.ethereum&&typeof se.ethereum.request=="function")B=se.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof A!="object"||!M?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");B=A}const G=new URL((i=M?.url)!==null&&i!==void 0?i:window.location.href),D=await B.request({method:"eth_requestAccounts"}).then(se=>se).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!D||D.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const P=Ey(D[0]);let X=(l=M?.signInWithEthereum)===null||l===void 0?void 0:l.chainId;if(!X){const se=await B.request({method:"eth_chainId"});X=p1(se)}const re={domain:G.host,address:P,statement:z,uri:G.href,version:"1",chainId:X,nonce:(o=M?.signInWithEthereum)===null||o===void 0?void 0:o.nonce,issuedAt:(d=(c=M?.signInWithEthereum)===null||c===void 0?void 0:c.issuedAt)!==null&&d!==void 0?d:new Date,expirationTime:(h=M?.signInWithEthereum)===null||h===void 0?void 0:h.expirationTime,notBefore:(m=M?.signInWithEthereum)===null||m===void 0?void 0:m.notBefore,requestId:(g=M?.signInWithEthereum)===null||g===void 0?void 0:g.requestId,resources:(v=M?.signInWithEthereum)===null||v===void 0?void 0:v.resources};S=y1(re),O=await B.request({method:"personal_sign",params:[g1(S),P]})}try{const{data:R,error:A}=await ue(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:S,signature:O},!((_=n.options)===null||_===void 0)&&_.captchaToken?{gotrue_meta_security:{captcha_token:(w=n.options)===null||w===void 0?void 0:w.captchaToken}}:null),xform:Jt});if(A)throw A;if(!R||!R.session||!R.user){const z=new gr;return this._returnResult({data:{user:null,session:null},error:z})}return R.session&&(await this._saveSession(R.session),await this._notifyAllSubscribers("SIGNED_IN",R.session)),this._returnResult({data:Object.assign({},R),error:A})}catch(R){if(ae(R))return this._returnResult({data:{user:null,session:null},error:R});throw R}}async signInWithSolana(n){var i,l,o,c,d,h,m,g,v,_,w,S;let O,R;if("message"in n)O=n.message,R=n.signature;else{const{chain:A,wallet:z,statement:M,options:B}=n;let G;if(lt())if(typeof z=="object")G=z;else{const P=window;if("solana"in P&&typeof P.solana=="object"&&("signIn"in P.solana&&typeof P.solana.signIn=="function"||"signMessage"in P.solana&&typeof P.solana.signMessage=="function"))G=P.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof z!="object"||!B?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");G=z}const D=new URL((i=B?.url)!==null&&i!==void 0?i:window.location.href);if("signIn"in G&&G.signIn){const P=await G.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},B?.signInWithSolana),{version:"1",domain:D.host,uri:D.href}),M?{statement:M}:null));let X;if(Array.isArray(P)&&P[0]&&typeof P[0]=="object")X=P[0];else if(P&&typeof P=="object"&&"signedMessage"in P&&"signature"in P)X=P;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in X&&"signature"in X&&(typeof X.signedMessage=="string"||X.signedMessage instanceof Uint8Array)&&X.signature instanceof Uint8Array)O=typeof X.signedMessage=="string"?X.signedMessage:new TextDecoder().decode(X.signedMessage),R=X.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in G)||typeof G.signMessage!="function"||!("publicKey"in G)||typeof G!="object"||!G.publicKey||!("toBase58"in G.publicKey)||typeof G.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");O=[`${D.host} wants you to sign in with your Solana account:`,G.publicKey.toBase58(),...M?["",M,""]:[""],"Version: 1",`URI: ${D.href}`,`Issued At: ${(o=(l=B?.signInWithSolana)===null||l===void 0?void 0:l.issuedAt)!==null&&o!==void 0?o:new Date().toISOString()}`,...!((c=B?.signInWithSolana)===null||c===void 0)&&c.notBefore?[`Not Before: ${B.signInWithSolana.notBefore}`]:[],...!((d=B?.signInWithSolana)===null||d===void 0)&&d.expirationTime?[`Expiration Time: ${B.signInWithSolana.expirationTime}`]:[],...!((h=B?.signInWithSolana)===null||h===void 0)&&h.chainId?[`Chain ID: ${B.signInWithSolana.chainId}`]:[],...!((m=B?.signInWithSolana)===null||m===void 0)&&m.nonce?[`Nonce: ${B.signInWithSolana.nonce}`]:[],...!((g=B?.signInWithSolana)===null||g===void 0)&&g.requestId?[`Request ID: ${B.signInWithSolana.requestId}`]:[],...!((_=(v=B?.signInWithSolana)===null||v===void 0?void 0:v.resources)===null||_===void 0)&&_.length?["Resources",...B.signInWithSolana.resources.map(X=>`- ${X}`)]:[]].join(`
`);const P=await G.signMessage(new TextEncoder().encode(O),"utf8");if(!P||!(P instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");R=P}}try{const{data:A,error:z}=await ue(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:O,signature:ja(R)},!((w=n.options)===null||w===void 0)&&w.captchaToken?{gotrue_meta_security:{captcha_token:(S=n.options)===null||S===void 0?void 0:S.captchaToken}}:null),xform:Jt});if(z)throw z;if(!A||!A.session||!A.user){const M=new gr;return this._returnResult({data:{user:null,session:null},error:M})}return A.session&&(await this._saveSession(A.session),await this._notifyAllSubscribers("SIGNED_IN",A.session)),this._returnResult({data:Object.assign({},A),error:z})}catch(A){if(ae(A))return this._returnResult({data:{user:null,session:null},error:A});throw A}}async _exchangeCodeForSession(n){const i=await xa(this.storage,`${this.storageKey}-code-verifier`),[l,o]=(i??"").split("/");try{if(!l&&this.flowType==="pkce")throw new zx;const{data:c,error:d}=await ue(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:n,code_verifier:l},xform:Jt});if(await st(this.storage,`${this.storageKey}-code-verifier`),d)throw d;if(!c||!c.session||!c.user){const h=new gr;return this._returnResult({data:{user:null,session:null,redirectType:null},error:h})}return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),this._returnResult({data:Object.assign(Object.assign({},c),{redirectType:o??null}),error:d})}catch(c){if(await st(this.storage,`${this.storageKey}-code-verifier`),ae(c))return this._returnResult({data:{user:null,session:null,redirectType:null},error:c});throw c}}async signInWithIdToken(n){try{const{options:i,provider:l,token:o,access_token:c,nonce:d}=n,h=await ue(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:l,id_token:o,access_token:c,nonce:d,gotrue_meta_security:{captcha_token:i?.captchaToken}},xform:Jt}),{data:m,error:g}=h;if(g)return this._returnResult({data:{user:null,session:null},error:g});if(!m||!m.session||!m.user){const v=new gr;return this._returnResult({data:{user:null,session:null},error:v})}return m.session&&(await this._saveSession(m.session),await this._notifyAllSubscribers("SIGNED_IN",m.session)),this._returnResult({data:m,error:g})}catch(i){if(ae(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithOtp(n){var i,l,o,c,d;try{if("email"in n){const{email:h,options:m}=n;let g=null,v=null;this.flowType==="pkce"&&([g,v]=await yr(this.storage,this.storageKey));const{error:_}=await ue(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:h,data:(i=m?.data)!==null&&i!==void 0?i:{},create_user:(l=m?.shouldCreateUser)!==null&&l!==void 0?l:!0,gotrue_meta_security:{captcha_token:m?.captchaToken},code_challenge:g,code_challenge_method:v},redirectTo:m?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:_})}if("phone"in n){const{phone:h,options:m}=n,{data:g,error:v}=await ue(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:h,data:(o=m?.data)!==null&&o!==void 0?o:{},create_user:(c=m?.shouldCreateUser)!==null&&c!==void 0?c:!0,gotrue_meta_security:{captcha_token:m?.captchaToken},channel:(d=m?.channel)!==null&&d!==void 0?d:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:g?.message_id},error:v})}throw new vl("You must provide either an email or phone number.")}catch(h){if(await st(this.storage,`${this.storageKey}-code-verifier`),ae(h))return this._returnResult({data:{user:null,session:null},error:h});throw h}}async verifyOtp(n){var i,l;try{let o,c;"options"in n&&(o=(i=n.options)===null||i===void 0?void 0:i.redirectTo,c=(l=n.options)===null||l===void 0?void 0:l.captchaToken);const{data:d,error:h}=await ue(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},n),{gotrue_meta_security:{captcha_token:c}}),redirectTo:o,xform:Jt});if(h)throw h;if(!d)throw new Error("An error occurred on token verification.");const m=d.session,g=d.user;return m?.access_token&&(await this._saveSession(m),await this._notifyAllSubscribers(n.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",m)),this._returnResult({data:{user:g,session:m},error:null})}catch(o){if(ae(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async signInWithSSO(n){var i,l,o,c,d;try{let h=null,m=null;this.flowType==="pkce"&&([h,m]=await yr(this.storage,this.storageKey));const g=await ue(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in n?{provider_id:n.providerId}:null),"domain"in n?{domain:n.domain}:null),{redirect_to:(l=(i=n.options)===null||i===void 0?void 0:i.redirectTo)!==null&&l!==void 0?l:void 0}),!((o=n?.options)===null||o===void 0)&&o.captchaToken?{gotrue_meta_security:{captcha_token:n.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:h,code_challenge_method:m}),headers:this.headers,xform:u1});return!((c=g.data)===null||c===void 0)&&c.url&&lt()&&!(!((d=n.options)===null||d===void 0)&&d.skipBrowserRedirect)&&window.location.assign(g.data.url),this._returnResult(g)}catch(h){if(await st(this.storage,`${this.storageKey}-code-verifier`),ae(h))return this._returnResult({data:null,error:h});throw h}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async n=>{const{data:{session:i},error:l}=n;if(l)throw l;if(!i)throw new Nt;const{error:o}=await ue(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:i.access_token});return this._returnResult({data:{user:null,session:null},error:o})})}catch(n){if(ae(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async resend(n){try{const i=`${this.url}/resend`;if("email"in n){const{email:l,type:o,options:c}=n,{error:d}=await ue(this.fetch,"POST",i,{headers:this.headers,body:{email:l,type:o,gotrue_meta_security:{captcha_token:c?.captchaToken}},redirectTo:c?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:d})}else if("phone"in n){const{phone:l,type:o,options:c}=n,{data:d,error:h}=await ue(this.fetch,"POST",i,{headers:this.headers,body:{phone:l,type:o,gotrue_meta_security:{captcha_token:c?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:d?.message_id},error:h})}throw new vl("You must provide either an email or phone number and a type")}catch(i){if(ae(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async i=>i))}async _acquireLock(n,i){this._debug("#_acquireLock","begin",n);try{if(this.lockAcquired){const l=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),o=(async()=>(await l,await i()))();return this.pendingInLock.push((async()=>{try{await o}catch{}})()),o}return await this.lock(`lock:${this.storageKey}`,n,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const l=i();for(this.pendingInLock.push((async()=>{try{await l}catch{}})()),await l;this.pendingInLock.length;){const o=[...this.pendingInLock];await Promise.all(o),this.pendingInLock.splice(0,o.length)}return await l}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(n){this._debug("#_useSession","begin");try{const i=await this.__loadSession();return await n(i)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let n=null;const i=await xa(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",i),i!==null&&(this._isValidSession(i)?n=i:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!n)return{data:{session:null},error:null};const l=n.expires_at?n.expires_at*1e3-Date.now()<wc:!1;if(this._debug("#__loadSession()",`session has${l?"":" not"} expired`,"expires_at",n.expires_at),!l){if(this.userStorage){const d=await xa(this.userStorage,this.storageKey+"-user");d?.user?n.user=d.user:n.user=Ec()}if(this.storage.isServer&&n.user&&!n.user.__isUserNotAvailableProxy){const d={value:this.suppressGetSessionWarning};n.user=r1(n.user,d),d.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:n},error:null}}const{data:o,error:c}=await this._callRefreshToken(n.refresh_token);return c?this._returnResult({data:{session:null},error:c}):this._returnResult({data:{session:o},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(n){if(n)return await this._getUser(n);await this.initializePromise;const i=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return i.data.user&&(this.suppressGetSessionWarning=!0),i}async _getUser(n){try{return n?await ue(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:n,xform:ea}):await this._useSession(async i=>{var l,o,c;const{data:d,error:h}=i;if(h)throw h;return!(!((l=d.session)===null||l===void 0)&&l.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Nt}:await ue(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(c=(o=d.session)===null||o===void 0?void 0:o.access_token)!==null&&c!==void 0?c:void 0,xform:ea})})}catch(i){if(ae(i))return Sc(i)&&(await this._removeSession(),await st(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:i});throw i}}async updateUser(n,i={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(n,i))}async _updateUser(n,i={}){try{return await this._useSession(async l=>{const{data:o,error:c}=l;if(c)throw c;if(!o.session)throw new Nt;const d=o.session;let h=null,m=null;this.flowType==="pkce"&&n.email!=null&&([h,m]=await yr(this.storage,this.storageKey));const{data:g,error:v}=await ue(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:i?.emailRedirectTo,body:Object.assign(Object.assign({},n),{code_challenge:h,code_challenge_method:m}),jwt:d.access_token,xform:ea});if(v)throw v;return d.user=g.user,await this._saveSession(d),await this._notifyAllSubscribers("USER_UPDATED",d),this._returnResult({data:{user:d.user},error:null})})}catch(l){if(await st(this.storage,`${this.storageKey}-code-verifier`),ae(l))return this._returnResult({data:{user:null},error:l});throw l}}async setSession(n){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(n))}async _setSession(n){try{if(!n.access_token||!n.refresh_token)throw new Nt;const i=Date.now()/1e3;let l=i,o=!0,c=null;const{payload:d}=_l(n.access_token);if(d.exp&&(l=d.exp,o=l<=i),o){const{data:h,error:m}=await this._callRefreshToken(n.refresh_token);if(m)return this._returnResult({data:{user:null,session:null},error:m});if(!h)return{data:{user:null,session:null},error:null};c=h}else{const{data:h,error:m}=await this._getUser(n.access_token);if(m)return this._returnResult({data:{user:null,session:null},error:m});c={access_token:n.access_token,refresh_token:n.refresh_token,user:h.user,token_type:"bearer",expires_in:l-i,expires_at:l},await this._saveSession(c),await this._notifyAllSubscribers("SIGNED_IN",c)}return this._returnResult({data:{user:c.user,session:c},error:null})}catch(i){if(ae(i))return this._returnResult({data:{session:null,user:null},error:i});throw i}}async refreshSession(n){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(n))}async _refreshSession(n){try{return await this._useSession(async i=>{var l;if(!n){const{data:d,error:h}=i;if(h)throw h;n=(l=d.session)!==null&&l!==void 0?l:void 0}if(!n?.refresh_token)throw new Nt;const{data:o,error:c}=await this._callRefreshToken(n.refresh_token);return c?this._returnResult({data:{user:null,session:null},error:c}):o?this._returnResult({data:{user:o.user,session:o},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(i){if(ae(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async _getSessionFromURL(n,i){try{if(!lt())throw new bl("No browser detected.");if(n.error||n.error_description||n.error_code)throw new bl(n.error_description||"Error in URL with unspecified error_description",{error:n.error||"unspecified_error",code:n.error_code||"unspecified_code"});switch(i){case"implicit":if(this.flowType==="pkce")throw new Wp("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new bl("Not a valid implicit grant flow url.");break;default:}if(i==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!n.code)throw new Wp("No code detected.");const{data:M,error:B}=await this._exchangeCodeForSession(n.code);if(B)throw B;const G=new URL(window.location.href);return G.searchParams.delete("code"),window.history.replaceState(window.history.state,"",G.toString()),{data:{session:M.session,redirectType:null},error:null}}const{provider_token:l,provider_refresh_token:o,access_token:c,refresh_token:d,expires_in:h,expires_at:m,token_type:g}=n;if(!c||!h||!d||!g)throw new bl("No session defined in URL");const v=Math.round(Date.now()/1e3),_=parseInt(h);let w=v+_;m&&(w=parseInt(m));const S=w-v;S*1e3<=Tr&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${S}s, should have been closer to ${_}s`);const O=w-_;v-O>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",O,w,v):v-O<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",O,w,v);const{data:R,error:A}=await this._getUser(c);if(A)throw A;const z={provider_token:l,provider_refresh_token:o,access_token:c,expires_in:_,expires_at:w,refresh_token:d,token_type:g,user:R.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:z,redirectType:n.type},error:null})}catch(l){if(ae(l))return this._returnResult({data:{session:null,redirectType:null},error:l});throw l}}_isImplicitGrantCallback(n){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),n):!!(n.access_token||n.error_description)}async _isPKCECallback(n){const i=await xa(this.storage,`${this.storageKey}-code-verifier`);return!!(n.code&&i)}async signOut(n={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(n))}async _signOut({scope:n}={scope:"global"}){return await this._useSession(async i=>{var l;const{data:o,error:c}=i;if(c&&!Sc(c))return this._returnResult({error:c});const d=(l=o.session)===null||l===void 0?void 0:l.access_token;if(d){const{error:h}=await this.admin.signOut(d,n);if(h&&!(Ux(h)&&(h.status===404||h.status===401||h.status===403)||Sc(h)))return this._returnResult({error:h})}return n!=="others"&&(await this._removeSession(),await st(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(n){const i=Kx(),l={id:i,callback:n,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",i),this.stateChangeEmitters.delete(i)}};return this._debug("#onAuthStateChange()","registered callback with id",i),this.stateChangeEmitters.set(i,l),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(i)})))(),{data:{subscription:l}}}async _emitInitialSession(n){return await this._useSession(async i=>{var l,o;try{const{data:{session:c},error:d}=i;if(d)throw d;await((l=this.stateChangeEmitters.get(n))===null||l===void 0?void 0:l.callback("INITIAL_SESSION",c)),this._debug("INITIAL_SESSION","callback id",n,"session",c)}catch(c){await((o=this.stateChangeEmitters.get(n))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",n,"error",c),console.error(c)}})}async resetPasswordForEmail(n,i={}){let l=null,o=null;this.flowType==="pkce"&&([l,o]=await yr(this.storage,this.storageKey,!0));try{return await ue(this.fetch,"POST",`${this.url}/recover`,{body:{email:n,code_challenge:l,code_challenge_method:o,gotrue_meta_security:{captcha_token:i.captchaToken}},headers:this.headers,redirectTo:i.redirectTo})}catch(c){if(await st(this.storage,`${this.storageKey}-code-verifier`),ae(c))return this._returnResult({data:null,error:c});throw c}}async getUserIdentities(){var n;try{const{data:i,error:l}=await this.getUser();if(l)throw l;return this._returnResult({data:{identities:(n=i.user.identities)!==null&&n!==void 0?n:[]},error:null})}catch(i){if(ae(i))return this._returnResult({data:null,error:i});throw i}}async linkIdentity(n){return"token"in n?this.linkIdentityIdToken(n):this.linkIdentityOAuth(n)}async linkIdentityOAuth(n){var i;try{const{data:l,error:o}=await this._useSession(async c=>{var d,h,m,g,v;const{data:_,error:w}=c;if(w)throw w;const S=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,n.provider,{redirectTo:(d=n.options)===null||d===void 0?void 0:d.redirectTo,scopes:(h=n.options)===null||h===void 0?void 0:h.scopes,queryParams:(m=n.options)===null||m===void 0?void 0:m.queryParams,skipBrowserRedirect:!0});return await ue(this.fetch,"GET",S,{headers:this.headers,jwt:(v=(g=_.session)===null||g===void 0?void 0:g.access_token)!==null&&v!==void 0?v:void 0})});if(o)throw o;return lt()&&!(!((i=n.options)===null||i===void 0)&&i.skipBrowserRedirect)&&window.location.assign(l?.url),this._returnResult({data:{provider:n.provider,url:l?.url},error:null})}catch(l){if(ae(l))return this._returnResult({data:{provider:n.provider,url:null},error:l});throw l}}async linkIdentityIdToken(n){return await this._useSession(async i=>{var l;try{const{error:o,data:{session:c}}=i;if(o)throw o;const{options:d,provider:h,token:m,access_token:g,nonce:v}=n,_=await ue(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(l=c?.access_token)!==null&&l!==void 0?l:void 0,body:{provider:h,id_token:m,access_token:g,nonce:v,link_identity:!0,gotrue_meta_security:{captcha_token:d?.captchaToken}},xform:Jt}),{data:w,error:S}=_;return S?this._returnResult({data:{user:null,session:null},error:S}):!w||!w.session||!w.user?this._returnResult({data:{user:null,session:null},error:new gr}):(w.session&&(await this._saveSession(w.session),await this._notifyAllSubscribers("USER_UPDATED",w.session)),this._returnResult({data:w,error:S}))}catch(o){if(await st(this.storage,`${this.storageKey}-code-verifier`),ae(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}})}async unlinkIdentity(n){try{return await this._useSession(async i=>{var l,o;const{data:c,error:d}=i;if(d)throw d;return await ue(this.fetch,"DELETE",`${this.url}/user/identities/${n.identity_id}`,{headers:this.headers,jwt:(o=(l=c.session)===null||l===void 0?void 0:l.access_token)!==null&&o!==void 0?o:void 0})})}catch(i){if(ae(i))return this._returnResult({data:null,error:i});throw i}}async _refreshAccessToken(n){const i=`#_refreshAccessToken(${n.substring(0,5)}...)`;this._debug(i,"begin");try{const l=Date.now();return await Zx(async o=>(o>0&&await Px(200*Math.pow(2,o-1)),this._debug(i,"refreshing attempt",o),await ue(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:n},headers:this.headers,xform:Jt})),(o,c)=>{const d=200*Math.pow(2,o);return c&&xc(c)&&Date.now()+d-l<Tr})}catch(l){if(this._debug(i,"error",l),ae(l))return this._returnResult({data:{session:null,user:null},error:l});throw l}finally{this._debug(i,"end")}}_isValidSession(n){return typeof n=="object"&&n!==null&&"access_token"in n&&"refresh_token"in n&&"expires_at"in n}async _handleProviderSignIn(n,i){const l=await this._getUrlForProvider(`${this.url}/authorize`,n,{redirectTo:i.redirectTo,scopes:i.scopes,queryParams:i.queryParams});return this._debug("#_handleProviderSignIn()","provider",n,"options",i,"url",l),lt()&&!i.skipBrowserRedirect&&window.location.assign(l),{data:{provider:n,url:l},error:null}}async _recoverAndRefresh(){var n,i;const l="#_recoverAndRefresh()";this._debug(l,"begin");try{const o=await xa(this.storage,this.storageKey);if(o&&this.userStorage){let d=await xa(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!d&&(d={user:o.user},await Ar(this.userStorage,this.storageKey+"-user",d)),o.user=(n=d?.user)!==null&&n!==void 0?n:Ec()}else if(o&&!o.user&&!o.user){const d=await xa(this.storage,this.storageKey+"-user");d&&d?.user?(o.user=d.user,await st(this.storage,this.storageKey+"-user"),await Ar(this.storage,this.storageKey,o)):o.user=Ec()}if(this._debug(l,"session from storage",o),!this._isValidSession(o)){this._debug(l,"session is not valid"),o!==null&&await this._removeSession();return}const c=((i=o.expires_at)!==null&&i!==void 0?i:1/0)*1e3-Date.now()<wc;if(this._debug(l,`session has${c?"":" not"} expired with margin of ${wc}s`),c){if(this.autoRefreshToken&&o.refresh_token){const{error:d}=await this._callRefreshToken(o.refresh_token);d&&(console.error(d),xc(d)||(this._debug(l,"refresh failed with a non-retryable error, removing the session",d),await this._removeSession()))}}else if(o.user&&o.user.__isUserNotAvailableProxy===!0)try{const{data:d,error:h}=await this._getUser(o.access_token);!h&&d?.user?(o.user=d.user,await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)):this._debug(l,"could not get user data, skipping SIGNED_IN notification")}catch(d){console.error("Error getting user data:",d),this._debug(l,"error getting user data, skipping SIGNED_IN notification",d)}else await this._notifyAllSubscribers("SIGNED_IN",o)}catch(o){this._debug(l,"error",o),console.error(o);return}finally{this._debug(l,"end")}}async _callRefreshToken(n){var i,l;if(!n)throw new Nt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const o=`#_callRefreshToken(${n.substring(0,5)}...)`;this._debug(o,"begin");try{this.refreshingDeferred=new Hl;const{data:c,error:d}=await this._refreshAccessToken(n);if(d)throw d;if(!c.session)throw new Nt;await this._saveSession(c.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",c.session);const h={data:c.session,error:null};return this.refreshingDeferred.resolve(h),h}catch(c){if(this._debug(o,"error",c),ae(c)){const d={data:null,error:c};return xc(c)||await this._removeSession(),(i=this.refreshingDeferred)===null||i===void 0||i.resolve(d),d}throw(l=this.refreshingDeferred)===null||l===void 0||l.reject(c),c}finally{this.refreshingDeferred=null,this._debug(o,"end")}}async _notifyAllSubscribers(n,i,l=!0){const o=`#_notifyAllSubscribers(${n})`;this._debug(o,"begin",i,`broadcast = ${l}`);try{this.broadcastChannel&&l&&this.broadcastChannel.postMessage({event:n,session:i});const c=[],d=Array.from(this.stateChangeEmitters.values()).map(async h=>{try{await h.callback(n,i)}catch(m){c.push(m)}});if(await Promise.all(d),c.length>0){for(let h=0;h<c.length;h+=1)console.error(c[h]);throw c[0]}}finally{this._debug(o,"end")}}async _saveSession(n){this._debug("#_saveSession()",n),this.suppressGetSessionWarning=!0,await st(this.storage,`${this.storageKey}-code-verifier`);const i=Object.assign({},n),l=i.user&&i.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!l&&i.user&&await Ar(this.userStorage,this.storageKey+"-user",{user:i.user});const o=Object.assign({},i);delete o.user;const c=ag(o);await Ar(this.storage,this.storageKey,c)}else{const o=ag(i);await Ar(this.storage,this.storageKey,o)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await st(this.storage,this.storageKey),await st(this.storage,this.storageKey+"-code-verifier"),await st(this.storage,this.storageKey+"-user"),this.userStorage&&await st(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const n=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{n&&lt()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",n)}catch(i){console.error("removing visibilitychange callback failed",i)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const n=setInterval(()=>this._autoRefreshTokenTick(),Tr);this.autoRefreshTicker=n,n&&typeof n=="object"&&typeof n.unref=="function"?n.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(n);const i=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=i,i&&typeof i=="object"&&typeof i.unref=="function"?i.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(i)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const n=this.autoRefreshTicker;this.autoRefreshTicker=null,n&&clearInterval(n);const i=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,i&&clearTimeout(i)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const n=Date.now();try{return await this._useSession(async i=>{const{data:{session:l}}=i;if(!l||!l.refresh_token||!l.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const o=Math.floor((l.expires_at*1e3-n)/Tr);this._debug("#_autoRefreshTokenTick()",`access token expires in ${o} ticks, a tick lasts ${Tr}ms, refresh threshold is ${Hc} ticks`),o<=Hc&&await this._callRefreshToken(l.refresh_token)})}catch(i){console.error("Auto refresh tick failed with error. This is likely a transient error.",i)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(n){if(n.isAcquireTimeout||n instanceof xy)this._debug("auto refresh token tick lock not available");else throw n}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!lt()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>{try{await this._onVisibilityChanged(!1)}catch(n){this._debug("#visibilityChangedCallback","error",n)}},window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(n){console.error("_handleVisibilityChange",n)}}async _onVisibilityChanged(n){const i=`#_onVisibilityChanged(${n})`;this._debug(i,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),n||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(i,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(n,i,l){const o=[`provider=${encodeURIComponent(i)}`];if(l?.redirectTo&&o.push(`redirect_to=${encodeURIComponent(l.redirectTo)}`),l?.scopes&&o.push(`scopes=${encodeURIComponent(l.scopes)}`),this.flowType==="pkce"){const[c,d]=await yr(this.storage,this.storageKey),h=new URLSearchParams({code_challenge:`${encodeURIComponent(c)}`,code_challenge_method:`${encodeURIComponent(d)}`});o.push(h.toString())}if(l?.queryParams){const c=new URLSearchParams(l.queryParams);o.push(c.toString())}return l?.skipBrowserRedirect&&o.push(`skip_http_redirect=${l.skipBrowserRedirect}`),`${n}?${o.join("&")}`}async _unenroll(n){try{return await this._useSession(async i=>{var l;const{data:o,error:c}=i;return c?this._returnResult({data:null,error:c}):await ue(this.fetch,"DELETE",`${this.url}/factors/${n.factorId}`,{headers:this.headers,jwt:(l=o?.session)===null||l===void 0?void 0:l.access_token})})}catch(i){if(ae(i))return this._returnResult({data:null,error:i});throw i}}async _enroll(n){try{return await this._useSession(async i=>{var l,o;const{data:c,error:d}=i;if(d)return this._returnResult({data:null,error:d});const h=Object.assign({friendly_name:n.friendlyName,factor_type:n.factorType},n.factorType==="phone"?{phone:n.phone}:n.factorType==="totp"?{issuer:n.issuer}:{}),{data:m,error:g}=await ue(this.fetch,"POST",`${this.url}/factors`,{body:h,headers:this.headers,jwt:(l=c?.session)===null||l===void 0?void 0:l.access_token});return g?this._returnResult({data:null,error:g}):(n.factorType==="totp"&&m.type==="totp"&&(!((o=m?.totp)===null||o===void 0)&&o.qr_code)&&(m.totp.qr_code=`data:image/svg+xml;utf-8,${m.totp.qr_code}`),this._returnResult({data:m,error:null}))})}catch(i){if(ae(i))return this._returnResult({data:null,error:i});throw i}}async _verify(n){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async i=>{var l;const{data:o,error:c}=i;if(c)return this._returnResult({data:null,error:c});const d=Object.assign({challenge_id:n.challengeId},"webauthn"in n?{webauthn:Object.assign(Object.assign({},n.webauthn),{credential_response:n.webauthn.type==="create"?E1(n.webauthn.credential_response):T1(n.webauthn.credential_response)})}:{code:n.code}),{data:h,error:m}=await ue(this.fetch,"POST",`${this.url}/factors/${n.factorId}/verify`,{body:d,headers:this.headers,jwt:(l=o?.session)===null||l===void 0?void 0:l.access_token});return m?this._returnResult({data:null,error:m}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+h.expires_in},h)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",h),this._returnResult({data:h,error:m}))})}catch(i){if(ae(i))return this._returnResult({data:null,error:i});throw i}})}async _challenge(n){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async i=>{var l;const{data:o,error:c}=i;if(c)return this._returnResult({data:null,error:c});const d=await ue(this.fetch,"POST",`${this.url}/factors/${n.factorId}/challenge`,{body:n,headers:this.headers,jwt:(l=o?.session)===null||l===void 0?void 0:l.access_token});if(d.error)return d;const{data:h}=d;if(h.type!=="webauthn")return{data:h,error:null};switch(h.webauthn.type){case"create":return{data:Object.assign(Object.assign({},h),{webauthn:Object.assign(Object.assign({},h.webauthn),{credential_options:Object.assign(Object.assign({},h.webauthn.credential_options),{publicKey:S1(h.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},h),{webauthn:Object.assign(Object.assign({},h.webauthn),{credential_options:Object.assign(Object.assign({},h.webauthn.credential_options),{publicKey:x1(h.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(i){if(ae(i))return this._returnResult({data:null,error:i});throw i}})}async _challengeAndVerify(n){const{data:i,error:l}=await this._challenge({factorId:n.factorId});return l?this._returnResult({data:null,error:l}):await this._verify({factorId:n.factorId,challengeId:i.id,code:n.code})}async _listFactors(){var n;const{data:{user:i},error:l}=await this.getUser();if(l)return{data:null,error:l};const o={all:[],phone:[],totp:[],webauthn:[]};for(const c of(n=i?.factors)!==null&&n!==void 0?n:[])o.all.push(c),c.status==="verified"&&o[c.factor_type].push(c);return{data:o,error:null}}async _getAuthenticatorAssuranceLevel(n){var i,l,o,c;if(n)try{const{payload:S}=_l(n);let O=null;S.aal&&(O=S.aal);let R=O;const{data:{user:A},error:z}=await this.getUser(n);if(z)return this._returnResult({data:null,error:z});((l=(i=A?.factors)===null||i===void 0?void 0:i.filter(G=>G.status==="verified"))!==null&&l!==void 0?l:[]).length>0&&(R="aal2");const B=S.amr||[];return{data:{currentLevel:O,nextLevel:R,currentAuthenticationMethods:B},error:null}}catch(S){if(ae(S))return this._returnResult({data:null,error:S});throw S}const{data:{session:d},error:h}=await this.getSession();if(h)return this._returnResult({data:null,error:h});if(!d)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:m}=_l(d.access_token);let g=null;m.aal&&(g=m.aal);let v=g;((c=(o=d.user.factors)===null||o===void 0?void 0:o.filter(S=>S.status==="verified"))!==null&&c!==void 0?c:[]).length>0&&(v="aal2");const w=m.amr||[];return{data:{currentLevel:g,nextLevel:v,currentAuthenticationMethods:w},error:null}}async _getAuthorizationDetails(n){try{return await this._useSession(async i=>{const{data:{session:l},error:o}=i;return o?this._returnResult({data:null,error:o}):l?await ue(this.fetch,"GET",`${this.url}/oauth/authorizations/${n}`,{headers:this.headers,jwt:l.access_token,xform:c=>({data:c,error:null})}):this._returnResult({data:null,error:new Nt})})}catch(i){if(ae(i))return this._returnResult({data:null,error:i});throw i}}async _approveAuthorization(n,i){try{return await this._useSession(async l=>{const{data:{session:o},error:c}=l;if(c)return this._returnResult({data:null,error:c});if(!o)return this._returnResult({data:null,error:new Nt});const d=await ue(this.fetch,"POST",`${this.url}/oauth/authorizations/${n}/consent`,{headers:this.headers,jwt:o.access_token,body:{action:"approve"},xform:h=>({data:h,error:null})});return d.data&&d.data.redirect_url&&lt()&&!i?.skipBrowserRedirect&&window.location.assign(d.data.redirect_url),d})}catch(l){if(ae(l))return this._returnResult({data:null,error:l});throw l}}async _denyAuthorization(n,i){try{return await this._useSession(async l=>{const{data:{session:o},error:c}=l;if(c)return this._returnResult({data:null,error:c});if(!o)return this._returnResult({data:null,error:new Nt});const d=await ue(this.fetch,"POST",`${this.url}/oauth/authorizations/${n}/consent`,{headers:this.headers,jwt:o.access_token,body:{action:"deny"},xform:h=>({data:h,error:null})});return d.data&&d.data.redirect_url&&lt()&&!i?.skipBrowserRedirect&&window.location.assign(d.data.redirect_url),d})}catch(l){if(ae(l))return this._returnResult({data:null,error:l});throw l}}async _listOAuthGrants(){try{return await this._useSession(async n=>{const{data:{session:i},error:l}=n;return l?this._returnResult({data:null,error:l}):i?await ue(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:i.access_token,xform:o=>({data:o,error:null})}):this._returnResult({data:null,error:new Nt})})}catch(n){if(ae(n))return this._returnResult({data:null,error:n});throw n}}async _revokeOAuthGrant(n){try{return await this._useSession(async i=>{const{data:{session:l},error:o}=i;return o?this._returnResult({data:null,error:o}):l?(await ue(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:l.access_token,query:{client_id:n.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new Nt})})}catch(i){if(ae(i))return this._returnResult({data:null,error:i});throw i}}async fetchJwk(n,i={keys:[]}){let l=i.keys.find(h=>h.kid===n);if(l)return l;const o=Date.now();if(l=this.jwks.keys.find(h=>h.kid===n),l&&this.jwks_cached_at+kx>o)return l;const{data:c,error:d}=await ue(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(d)throw d;return!c.keys||c.keys.length===0||(this.jwks=c,this.jwks_cached_at=o,l=c.keys.find(h=>h.kid===n),!l)?null:l}async getClaims(n,i={}){try{let l=n;if(!l){const{data:S,error:O}=await this.getSession();if(O||!S.session)return this._returnResult({data:null,error:O});l=S.session.access_token}const{header:o,payload:c,signature:d,raw:{header:h,payload:m}}=_l(l);i?.allowExpired||t1(c.exp);const g=!o.alg||o.alg.startsWith("HS")||!o.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(o.kid,i?.keys?{keys:i.keys}:i?.jwks);if(!g){const{error:S}=await this.getUser(l);if(S)throw S;return{data:{claims:c,header:o,signature:d},error:null}}const v=n1(o.alg),_=await crypto.subtle.importKey("jwk",g,v,!0,["verify"]);if(!await crypto.subtle.verify(v,_,d,Gx(`${h}.${m}`)))throw new Kc("Invalid JWT signature");return{data:{claims:c,header:o,signature:d},error:null}}catch(l){if(ae(l))return this._returnResult({data:null,error:l});throw l}}}Gi.nextInstanceID={};const D1=Gi,U1="2.95.3";let Li="";typeof Deno<"u"?Li="deno":typeof document<"u"?Li="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Li="react-native":Li="node";const M1={"X-Client-Info":`supabase-js-${Li}/${U1}`},z1={headers:M1},B1={schema:"public"},q1={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},$1={};function Vi(r){"@babel/helpers - typeof";return Vi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Vi(r)}function H1(r,n){if(Vi(r)!="object"||!r)return r;var i=r[Symbol.toPrimitive];if(i!==void 0){var l=i.call(r,n);if(Vi(l)!="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(r)}function G1(r){var n=H1(r,"string");return Vi(n)=="symbol"?n:n+""}function V1(r,n,i){return(n=G1(n))in r?Object.defineProperty(r,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):r[n]=i,r}function cg(r,n){var i=Object.keys(r);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(r);n&&(l=l.filter(function(o){return Object.getOwnPropertyDescriptor(r,o).enumerable})),i.push.apply(i,l)}return i}function Be(r){for(var n=1;n<arguments.length;n++){var i=arguments[n]!=null?arguments[n]:{};n%2?cg(Object(i),!0).forEach(function(l){V1(r,l,i[l])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(i)):cg(Object(i)).forEach(function(l){Object.defineProperty(r,l,Object.getOwnPropertyDescriptor(i,l))})}return r}const K1=r=>r?(...n)=>r(...n):(...n)=>fetch(...n),Y1=()=>Headers,I1=(r,n,i)=>{const l=K1(i),o=Y1();return async(c,d)=>{var h;const m=(h=await n())!==null&&h!==void 0?h:r;let g=new o(d?.headers);return g.has("apikey")||g.set("apikey",r),g.has("Authorization")||g.set("Authorization",`Bearer ${m}`),l(c,Be(Be({},d),{},{headers:g}))}};function P1(r){return r.endsWith("/")?r:r+"/"}function Z1(r,n){var i,l;const{db:o,auth:c,realtime:d,global:h}=r,{db:m,auth:g,realtime:v,global:_}=n,w={db:Be(Be({},m),o),auth:Be(Be({},g),c),realtime:Be(Be({},v),d),storage:{},global:Be(Be(Be({},_),h),{},{headers:Be(Be({},(i=_?.headers)!==null&&i!==void 0?i:{}),(l=h?.headers)!==null&&l!==void 0?l:{})}),accessToken:async()=>""};return r.accessToken?w.accessToken=r.accessToken:delete w.accessToken,w}function X1(r){const n=r?.trim();if(!n)throw new Error("supabaseUrl is required.");if(!n.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(P1(n))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var J1=class extends D1{constructor(r){super(r)}},Q1=class{constructor(r,n,i){var l,o;this.supabaseUrl=r,this.supabaseKey=n;const c=X1(r);if(!n)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",c),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",c),this.storageUrl=new URL("storage/v1",c),this.functionsUrl=new URL("functions/v1",c);const d=`sb-${c.hostname.split(".")[0]}-auth-token`,h={db:B1,realtime:$1,auth:Be(Be({},q1),{},{storageKey:d}),global:z1},m=Z1(i??{},h);if(this.storageKey=(l=m.auth.storageKey)!==null&&l!==void 0?l:"",this.headers=(o=m.global.headers)!==null&&o!==void 0?o:{},m.accessToken)this.accessToken=m.accessToken,this.auth=new Proxy({},{get:(v,_)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(_)} is not possible`)}});else{var g;this.auth=this._initSupabaseAuthClient((g=m.auth)!==null&&g!==void 0?g:{},this.headers,m.global.fetch)}this.fetch=I1(n,this._getAccessToken.bind(this),m.global.fetch),this.realtime=this._initRealtimeClient(Be({headers:this.headers,accessToken:this._getAccessToken.bind(this)},m.realtime)),this.accessToken&&Promise.resolve(this.accessToken()).then(v=>this.realtime.setAuth(v)).catch(v=>console.warn("Failed to set initial Realtime auth token:",v)),this.rest=new US(new URL("rest/v1",c).href,{headers:this.headers,schema:m.db.schema,fetch:this.fetch,timeout:m.db.timeout,urlLengthLimit:m.db.urlLengthLimit}),this.storage=new jx(this.storageUrl.href,this.headers,this.fetch,i?.storage),m.accessToken||this._listenForAuthEvents()}get functions(){return new RS(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(r){return this.rest.from(r)}schema(r){return this.rest.schema(r)}rpc(r,n={},i={head:!1,get:!1,count:void 0}){return this.rest.rpc(r,n,i)}channel(r,n={config:{}}){return this.realtime.channel(r,n)}getChannels(){return this.realtime.getChannels()}removeChannel(r){return this.realtime.removeChannel(r)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var r=this,n,i;if(r.accessToken)return await r.accessToken();const{data:l}=await r.auth.getSession();return(n=(i=l.session)===null||i===void 0?void 0:i.access_token)!==null&&n!==void 0?n:r.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:r,persistSession:n,detectSessionInUrl:i,storage:l,userStorage:o,storageKey:c,flowType:d,lock:h,debug:m,throwOnError:g},v,_){const w={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new J1({url:this.authUrl.href,headers:Be(Be({},w),v),storageKey:c,autoRefreshToken:r,persistSession:n,detectSessionInUrl:i,storage:l,userStorage:o,flowType:d,lock:h,debug:m,throwOnError:g,fetch:_,hasCustomAuthorizationHeader:Object.keys(this.headers).some(S=>S.toLowerCase()==="authorization")})}_initRealtimeClient(r){return new WS(this.realtimeUrl.href,Be(Be({},r),{},{params:Be(Be({},{apikey:this.supabaseKey}),r?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n?.access_token)})}_handleTokenChanged(r,n,i){(r==="TOKEN_REFRESHED"||r==="SIGNED_IN")&&this.changedAccessToken!==i?(this.changedAccessToken=i,this.realtime.setAuth(i)):r==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const W1=(r,n,i)=>new Q1(r,n,i);function F1(){if(typeof window<"u")return!1;const r=globalThis.process;if(!r)return!1;const n=r.version;if(n==null)return!1;const i=n.match(/^v(\d+)\./);return i?parseInt(i[1],10)<=18:!1}F1()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const eE=void 0,tE=void 0;throw new Error("[Supabase]    VITE_SUPABASE_URL / VITE_SUPABASE_ANON_KEY.  .env  (. .env.example)");const Yt=W1(eE,tE),nE=[" ","","",". "],aE=["  "," ","  ","  ","",""],rE=[" ","  "," / ","    ","  ",""," "," "," ()","   / "],fg=["today","week","month","3months+"],iE={today:"",week:"",month:"","3months+":" 3 "},Ay="plemya_intake_draft";function sE(r){localStorage.setItem(Ay,JSON.stringify({data:r,savedAt:new Date().toISOString()}))}function lE(){localStorage.removeItem(Ay)}function uE(r){let n=0;for(const i of r.values()){const l=fg.indexOf(i.duration);l>n&&(n=l)}return iE[fg[n]]??""}function oE(){const{userName:r,userId:n,startParam:i,isReady:l}=lf(),[o,c]=j.useState(1),[d,h]=j.useState("front"),[m,g]=j.useState([]),[v,_]=j.useState(null),[w,S]=j.useState(new Map),[O,R]=j.useState(""),[A,z]=j.useState([]),[M,B]=j.useState(""),[G,D]=j.useState(""),[P,X]=j.useState(!1),[re,se]=j.useState(null),[De,Ze]=j.useState(!1),Qe=j.useCallback(H=>{if(m.find(F=>F.zoneId===H))_(H);else{const F=uy.get(H);if(!F)return;const ye={zoneId:F.id,nameRu:F.nameRu,anatomicalName:F.anatomicalName,touchPoint:F.center,intensity:5};g(qe=>[...qe,ye]),_(H)}},[m]),kt=j.useCallback(H=>{v&&(g(J=>J.map(F=>F.zoneId===v?{...F,intensity:H.intensity,painType:H.painType}:F)),S(J=>{const F=new Map(J);return F.set(v,{painType:H.painType,duration:H.duration,description:H.description}),F}),_(null))},[v]),ut=j.useCallback(()=>{v&&(g(H=>H.filter(J=>J.zoneId!==v)),S(H=>{const J=new Map(H);return J.delete(v),J}),_(null))},[v]),et=j.useCallback(H=>{g(J=>J.filter(F=>F.zoneId!==H)),S(J=>{const F=new Map(J);return F.delete(H),F}),v===H&&_(null)},[v]),q=j.useCallback(H=>{z(J=>J.includes(H)?J.filter(F=>F!==H):[...J,H])},[]),V=H=>{switch(H){case 1:return m.length>0;case 2:return O.trim().length>=3;case 3:return!0;case 4:return!0;default:return!1}},Z=()=>{const H=m.map(J=>{const F=w.get(J.zoneId);return{bodyArea:J.anatomicalName,coordinates:J.touchPoint,intensity:J.intensity,painType:F?.painType??J.painType,source:"mini_app"}});return{chiefComplaint:O,painZones:H,painSeverity:m.length>0?Math.max(...m.map(J=>J.intensity)):0,painDuration:uE(w),contraindications:A,medicalHistory:M,additionalNotes:G}},W=async()=>{X(!0),se(null);const H=Z();sE(H);try{let J=null;if(n){const{data:qe}=await Yt.from("practitioners").select("id").eq("telegram_id",String(n)).maybeSingle();J=qe?.id??null}const F=i??null;if(!J||!F){console.warn("[IntakePage] Missing IDs  practitioner:",J,"client:",F),se("  .   ."),Ze(!0);return}const{error:ye}=await Yt.from("pre_session_assessments").insert({practitioner_id:J,client_id:F,chief_complaint:H.chiefComplaint,pain_locations:H.painZones.map(qe=>qe.bodyArea),pain_severity:H.painSeverity,pain_duration:H.painDuration,additional_info:H.additionalNotes||null,contraindications:H.contraindications,status:"in_progress",channels_used:["mini_app"],engine_version:"2.0",subjective_data:{chiefComplaint:H.chiefComplaint,painZones:H.painZones,painSeverity:H.painSeverity,painDuration:H.painDuration,medicalHistory:H.medicalHistory||null,additionalInfo:H.additionalNotes||null}});ye?(console.error("[IntakePage] Supabase insert error:",ye),se("  .    .")):lE(),Ze(!0)}catch(J){console.error("[IntakePage] Submit exception:",J),se("  .    ."),Ze(!0)}finally{X(!1)}},te=()=>{o<4&&V(o)&&c(H=>H+1)},E=()=>{o>1&&c(H=>H-1)};if(!l)return y.jsx("div",{className:"p-4 text-center",children:"..."});if(De)return y.jsxs("div",{className:"p-4 text-center",children:[y.jsx("div",{className:"text-4xl mb-4",children:re?"":""}),y.jsx("h2",{className:"text-xl font-bold mb-2",children:re?" ":" "}),re&&y.jsx("p",{className:"text-sm text-yellow-400 mb-4",children:re}),y.jsx("p",{className:"text-gray-400 text-sm",children:re?"     .":"   ."})]});const K=m.find(H=>H.zoneId===v),Q=v?w.get(v):void 0;return y.jsxs("div",{className:"p-4 pb-24",children:[y.jsx("h1",{className:"text-xl font-bold mb-1",children:" "}),y.jsxs("p",{className:"text-gray-400 text-sm mb-4",children:[": ",r]}),y.jsx(xS,{currentStep:o,totalSteps:4,labels:nE}),o===1&&y.jsxs("section",{className:"border border-gray-700 rounded-lg p-4",children:[y.jsx("h2",{className:"font-semibold mb-3",children:" "}),y.jsx(yS,{view:d,onViewChange:h,children:y.jsx(oy,{view:d,zones:m,onZoneClick:Qe,selectedZoneId:v??void 0})}),y.jsx("div",{className:"mt-4",children:y.jsx(SS,{zones:m,onRemove:et,onSelect:_,selectedZoneId:v??void 0})}),K&&v&&y.jsx(wS,{zone:K,painType:Q?.painType,duration:Q?.duration??"today",description:Q?.description??"",onSave:kt,onDelete:ut,onClose:()=>_(null)})]}),o===2&&y.jsxs("section",{className:"border border-gray-700 rounded-lg p-4",children:[y.jsx("h2",{className:"font-semibold mb-3",children:" "}),y.jsx("textarea",{value:O,onChange:H=>R(H.target.value),placeholder:"   ...",rows:4,className:"w-full bg-gray-800 border border-gray-700 rounded-lg px-3 py-2 text-sm resize-none focus:outline-none focus:border-blue-500 mb-3"}),y.jsx("div",{className:"flex flex-wrap gap-2",children:aE.map(H=>y.jsx("button",{type:"button",className:"px-3 py-1.5 rounded-full text-xs bg-gray-800 text-gray-300 border border-gray-700 active:bg-gray-700",onClick:()=>{R(J=>J.trim()?`${J.trim()}, ${H.toLowerCase()}`:H)},children:H},H))}),O.trim().length>0&&O.trim().length<3&&y.jsx("p",{className:"text-xs text-red-400 mt-2",children:" 3 "})]}),o===3&&y.jsxs("section",{className:"border border-gray-700 rounded-lg p-4",children:[y.jsx("h2",{className:"font-semibold mb-3",children:""}),y.jsx("p",{className:"text-xs text-gray-500 mb-4",children:",     "}),y.jsx("div",{className:"space-y-2",children:rE.map(H=>{const J=A.includes(H);return y.jsxs("label",{className:`flex items-center gap-3 p-3 rounded-lg border cursor-pointer transition-colors ${J?"border-red-500/50 bg-red-500/10":"border-gray-700"}`,children:[y.jsx("input",{type:"checkbox",checked:J,onChange:()=>q(H),className:"w-4 h-4 rounded border-gray-600 text-red-500 focus:ring-red-500 bg-gray-800"}),y.jsx("span",{className:"text-sm",children:H})]},H)})}),A.length>0&&y.jsxs("p",{className:"text-xs text-red-400 mt-3",children:[" : ",A.length]})]}),o===4&&y.jsxs("section",{className:"border border-gray-700 rounded-lg p-4 space-y-4",children:[y.jsx("h2",{className:"font-semibold mb-1",children:" "}),y.jsxs("div",{children:[y.jsxs("label",{className:"text-sm font-medium mb-1.5 block",children:[" ",y.jsx("span",{className:"text-gray-500 font-normal ml-1",children:"()"})]}),y.jsx("textarea",{value:M,onChange:H=>B(H.target.value),placeholder:" , , ...",rows:3,className:"w-full bg-gray-800 border border-gray-700 rounded-lg px-3 py-2 text-sm resize-none focus:outline-none focus:border-blue-500"})]}),y.jsxs("div",{children:[y.jsxs("label",{className:"text-sm font-medium mb-1.5 block",children:[" ",y.jsx("span",{className:"text-gray-500 font-normal ml-1",children:"()"})]}),y.jsx("textarea",{value:G,onChange:H=>D(H.target.value),placeholder:", ,   ...",rows:3,className:"w-full bg-gray-800 border border-gray-700 rounded-lg px-3 py-2 text-sm resize-none focus:outline-none focus:border-blue-500"})]})]}),y.jsx("div",{className:"fixed bottom-0 left-0 right-0 bg-gray-900/95 backdrop-blur border-t border-gray-800 p-4",children:y.jsxs("div",{className:"flex gap-3 max-w-lg mx-auto",children:[o>1&&y.jsx("button",{type:"button",className:"flex-1 py-2.5 rounded-lg text-sm font-medium bg-gray-800 text-gray-300 border border-gray-700",onClick:E,children:"\\u2190 "}),o<4?y.jsx("button",{type:"button",className:`flex-1 py-2.5 rounded-lg text-sm font-medium transition-colors ${V(o)?"bg-blue-600 text-white":"bg-gray-800 text-gray-500 cursor-not-allowed"}`,disabled:!V(o),onClick:te,children:" \\u2192"}):y.jsx("button",{type:"button",className:`flex-1 py-2.5 rounded-lg text-sm font-medium transition-colors ${P?"bg-gray-700 text-gray-400 cursor-not-allowed":"bg-green-600 text-white"}`,disabled:P,onClick:W,children:P?"...":" "})]})})]})}const cE=new Set(["video_started","pose_detected","rom_measured","video_completed","photo_analyzed"]),fE=new Set(["pose_detected"]),dE=500;function Yc(){return{romMeasurements:[],asymmetries:[],snapshots:[],quality:0,status:"recording"}}function hE(r,n){switch(n.type){case"video_started":return{...Yc(),status:"recording"};case"rom_measured":{const i=n.payload;return{...r,romMeasurements:[...r.romMeasurements,i]}}case"pose_detected":{const i=n.payload;return{...r,asymmetries:i.asymmetries??r.asymmetries,quality:i.quality??r.quality}}case"video_completed":{const i=n.payload;return{romMeasurements:i.romMeasurements??r.romMeasurements,asymmetries:i.asymmetries??r.asymmetries,snapshots:i.snapshots??r.snapshots,quality:i.quality??r.quality,status:"completed"}}case"photo_analyzed":{const i=n.payload;return{...r,snapshots:[...r.snapshots,i]}}default:return r}}function cf(r){const[n,i]=j.useState(null),[l,o]=j.useState(!1),[c,d]=j.useState(null),[h,m]=j.useState(0),g=j.useRef(null),v=j.useRef(Yc()),_=j.useRef(!0);j.useEffect(()=>{if(_.current=!0,!r){o(!1);return}v.current=Yc(),i(null),m(0),d(null);const S=Yt.channel(`session-sync:${r}`).on("broadcast",{event:"sync"},A=>{if(!_.current)return;const z=A.payload;d(z.type),cE.has(z.type)&&(v.current=hE(v.current,z),fE.has(z.type)||i({...v.current}))}).subscribe((A,z)=>{_.current&&(A==="SUBSCRIBED"?(o(!0),m(0)):A==="CHANNEL_ERROR"||A==="TIMED_OUT"?(o(!1),m(M=>M+1),console.warn(`[useSessionSync] ${A}:`,z?.message)):A==="CLOSED"&&o(!1))});g.current=S;const O=setInterval(()=>{_.current&&v.current.status==="recording"&&i({...v.current})},dE);function R(){document.visibilityState==="visible"&&g.current&&console.log("[useSessionSync] Tab visible, reconnecting if needed")}return document.addEventListener("visibilitychange",R),()=>{_.current=!1,clearInterval(O),document.removeEventListener("visibilitychange",R),g.current=null,Yt.removeChannel(S)}},[r]);const w=j.useCallback(async(S,O)=>{const R=g.current;if(!R||!r){console.warn("[useSessionSync] sendEvent:    sessionSyncId");return}const A={sessionSyncId:r,source:"mini_app",type:S,payload:O,timestamp:Date.now()};await R.send({type:"broadcast",event:"sync",payload:A})},[r]);return{videoAiResults:n,isConnected:l,lastEvent:c,connectionAttempts:h,sendEvent:w}}function mE(){return y.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"48",height:"48",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",className:"text-gray-500",children:[y.jsx("path",{d:"M23 19a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h4l2-3h6l2 3h4a2 2 0 0 1 2 2z"}),y.jsx("circle",{cx:"12",cy:"13",r:"4"})]})}function pE(){return y.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-2 border-gray-400 border-t-blue-500"})}function gE({photo:r,label:n,instruction:i,onCapture:l,onRetake:o}){const c=j.useRef(null),d=()=>{r.uploadStatus!=="uploading"&&c.current?.click()},h=S=>{const O=S.target.files?.[0];O&&(l(r.viewAngle,O),S.target.value="")},m=S=>{S.stopPropagation(),o(r.viewAngle),setTimeout(()=>c.current?.click(),100)},g=r.preview.length>0,v=r.uploadStatus==="uploading",_=r.uploadStatus==="completed",w=r.uploadStatus==="error";return y.jsxs("section",{className:"border border-gray-700 rounded-lg overflow-hidden bg-gray-800/50",children:[y.jsx("input",{ref:c,type:"file",accept:"image/*",capture:"environment",onChange:h,className:"hidden"}),y.jsxs("div",{className:"flex items-center justify-between px-4 pt-3 pb-2",children:[y.jsx("h3",{className:"font-semibold text-sm",children:n}),_&&y.jsxs("span",{className:"text-xs text-green-400 flex items-center gap-1",children:[y.jsx("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:y.jsx("polyline",{points:"20 6 9 17 4 12"})}),""]}),w&&y.jsx("span",{className:"text-xs text-red-400",children:""})]}),g?y.jsxs("div",{className:"relative mx-4 mb-3",children:[y.jsx("img",{src:r.preview,alt:n,className:"w-full aspect-[3/4] object-cover rounded-lg"}),v&&y.jsxs("div",{className:"absolute inset-0 bg-black/50 rounded-lg flex flex-col items-center justify-center gap-2",children:[y.jsx(pE,{}),y.jsx("span",{className:"text-sm text-gray-300",children:"..."})]}),y.jsxs("div",{className:"mt-2 flex gap-2",children:[w&&y.jsx("button",{type:"button",onClick:d,className:"flex-1 py-2 text-sm rounded-lg bg-red-500/20 text-red-400 border border-red-500/30 active:bg-red-500/30 transition-colors",children:""}),!v&&y.jsx("button",{type:"button",onClick:m,className:"flex-1 py-2 text-sm rounded-lg bg-gray-700/50 text-gray-300 border border-gray-600 active:bg-gray-600/50 transition-colors",children:""})]})]}):y.jsx("button",{type:"button",onClick:d,className:"w-full px-4 pb-4",children:y.jsxs("div",{className:"w-full aspect-[3/4] rounded-lg border-2 border-dashed border-gray-600 flex flex-col items-center justify-center gap-3 active:bg-gray-700/30 transition-colors cursor-pointer",children:[y.jsx(mE,{}),y.jsx("span",{className:"text-sm text-gray-400 text-center px-4",children:i}),y.jsx("span",{className:"text-xs text-blue-400",children:"  "})]})})]})}const yE=1920,vE=1280,bE=400,_E=.6,wE=1e6,dg=.85,hg=.3,SE=5,xE=2e7;function EE(r){return new Promise((n,i)=>{const l=new Image;l.onload=()=>n(l),l.onerror=()=>i(new Error("   ")),l.src=r})}function TE(r,n,i){if(r<=i&&n<=i)return{w:r,h:n};const l=Math.min(i/r,i/n);return{w:Math.round(r*l),h:Math.round(n*l)}}function Ac(r,n){return new Promise((i,l)=>{r.toBlob(o=>o?i(o):l(new Error("toBlob  null")),"image/jpeg",n)})}function Rc(r,n){const{w:i,h:l}=TE(r.naturalWidth,r.naturalHeight,n),o=document.createElement("canvas");o.width=i,o.height=l;const c=o.getContext("2d");if(!c)throw new Error("Canvas 2D context ");return c.drawImage(r,0,0,i,l),o}async function AE(r,n=wE){if(!r.type.startsWith("image/"))throw new Error("   ");if(r.size>xE)throw new Error("   ( 20MB)");const i=URL.createObjectURL(r);try{const l=await EE(i),c=Rc(l,bE).toDataURL("image/jpeg",_E);let d=Rc(l,yE),h=await mg(d,n);return h.size>n&&(d=Rc(l,vE),h=await mg(d,n)),{blob:h,preview:c,originalSize:r.size,compressedSize:h.size}}finally{URL.revokeObjectURL(i)}}async function mg(r,n){let i=await Ac(r,dg);if(i.size<=n)return i;let l=hg,o=dg,c=i;for(let d=0;d<SE;d++){const h=(l+o)/2;i=await Ac(r,h),i.size<=n?(c=i,l=h):o=h}return c.size>n&&(c=await Ac(r,hg)),c}async function RE(r,n,i,l){const o=`${n}/${i}/${l}.jpg`,{error:c}=await Yt.storage.from("masterbot-media").upload(o,r,{contentType:"image/jpeg",upsert:!0});if(c)throw new Error(`[upload-photo]  : ${c.message}`);const{data:d,error:h}=await Yt.storage.from("masterbot-media").createSignedUrl(o,3600);if(h||!d?.signedUrl)throw new Error(`[upload-photo]  signed URL: ${h?.message??"no data"}`);return{storagePath:o,signedUrl:d.signedUrl}}async function jE(r,n,i,l,o,c){const{error:d}=await Yt.from("session_media").insert({assessment_id:r,practitioner_id:n,client_id:i,media_type:"pre_session",view_angle:l,storage_path:o,file_url:c});d&&console.warn("[upload-photo]    session_media:",d.message)}const wr=[{angle:"front",label:"",instruction:"  ,   "},{angle:"side_right",label:" ()",instruction:"  ,    "},{angle:"back",label:"",instruction:"    "}];function OE(r){return{tempId:crypto.randomUUID(),viewAngle:r,preview:"",file:null,storageUrl:null,uploadStatus:"pending",aiAnalysis:null}}const NE="plemya_photos_draft";function CE(){const{userId:r,startParam:n}=lf(),[i]=Wc(),l=Ii(),o=i.get("assessmentId"),c=n??null,d=i.get("sessionSyncId"),{sendEvent:h}=cf(d),[m,g]=j.useState(()=>new Map(wr.map(G=>[G.angle,OE(G.angle)]))),[v,_]=j.useState(null);j.useEffect(()=>{r&&(async()=>{const{data:G}=await Yt.from("practitioners").select("id").eq("telegram_id",String(r)).maybeSingle();_(G?.id??null)})()},[r]);function w(G,D){g(P=>{const X=new Map(P),re=X.get(G);return re?(X.set(G,{...re,...D}),X):P})}async function S(G,D){w(G,{uploadStatus:"uploading"});try{const{blob:P,preview:X,compressedSize:re}=await AE(D);if(console.log(`[PhotoPage] ${G}: ${D.size}  ${re} bytes`),w(G,{preview:X,file:P}),c&&o){const{signedUrl:se,storagePath:De}=await RE(P,c,o,G);w(G,{storageUrl:se,uploadStatus:"completed"}),v&&await jE(o,v,c,G,De,se),await h("photo_uploaded",{viewAngle:G,storageUrl:se})}else w(G,{uploadStatus:"completed"}),R()}catch(P){console.error(`[PhotoPage]   ${G}:`,P),w(G,{uploadStatus:"error"})}}function O(G){w(G,{tempId:crypto.randomUUID(),preview:"",file:null,storageUrl:null,uploadStatus:"pending",aiAnalysis:null})}function R(){const G={};m.forEach((D,P)=>{D.preview&&(G[P]=D.preview)}),localStorage.setItem(NE,JSON.stringify({drafts:G,savedAt:new Date().toISOString()}))}const A=Array.from(m.values()),z=A.filter(G=>G.uploadStatus==="completed").length,M=A.some(G=>G.uploadStatus==="uploading"),B=z===wr.length;return y.jsxs("div",{className:"p-4 pb-28 min-h-screen",children:[y.jsx("h1",{className:"text-xl font-bold mb-1",children:" "}),y.jsx("p",{className:"text-sm text-gray-400 mb-4",children:" 3     "}),(!c||!o)&&y.jsx("div",{className:"mb-4 p-3 rounded-lg bg-yellow-500/10 border border-yellow-500/30",children:y.jsx("p",{className:"text-sm text-yellow-400",children:"   .       ."})}),y.jsxs("div",{className:"mb-4 flex items-center gap-2",children:[y.jsx("div",{className:"flex-1 h-2 bg-gray-700 rounded-full overflow-hidden",children:y.jsx("div",{className:"h-full bg-blue-500 rounded-full transition-all duration-300",style:{width:`${z/wr.length*100}%`}})}),y.jsxs("span",{className:"text-sm text-gray-400 whitespace-nowrap",children:[z,"  ",wr.length]})]}),y.jsx("div",{className:"space-y-4",children:wr.map(G=>{const D=m.get(G.angle);return D?y.jsx(gE,{photo:D,label:G.label,instruction:G.instruction,onCapture:S,onRetake:O},G.angle):null})}),y.jsx("div",{className:"fixed bottom-0 left-0 right-0 p-4 bg-gray-900/95 border-t border-gray-800 backdrop-blur-sm",children:y.jsxs("div",{className:"flex gap-3",children:[y.jsx("button",{type:"button",onClick:()=>l(-1),className:"px-4 py-3 rounded-lg bg-gray-800 text-gray-300 border border-gray-700 text-sm",children:""}),y.jsx("button",{type:"button",onClick:()=>{if(!B)return;const G=new URLSearchParams;o&&G.set("assessmentId",o),d&&G.set("sessionSyncId",d),l(`/assessment?${G.toString()}`)},disabled:!B||M,className:`flex-1 py-3 rounded-lg text-sm font-semibold transition-colors ${B&&!M?"bg-blue-600 text-white active:bg-blue-700":"bg-gray-700 text-gray-500 cursor-not-allowed"}`,children:M?"...":B?"":`  ${wr.length} `})]})})]})}const pg={S:{bg:"bg-blue-500/20",text:"text-blue-400"},O:{bg:"bg-green-500/20",text:"text-green-400"},A:{bg:"bg-purple-500/20",text:"text-purple-400"},P:{bg:"bg-orange-500/20",text:"text-orange-400"}},LE={S:"Subjective",O:"Objective",A:"Assessment",P:"Plan"};function wl({letter:r,title:n,hasData:i,children:l,defaultExpanded:o}){const[c,d]=j.useState(o??i),h=pg[r]??pg.S;return y.jsxs("div",{className:"border border-gray-700 rounded-lg overflow-hidden",children:[y.jsxs("button",{type:"button",onClick:()=>d(!c),className:"w-full flex items-center gap-3 p-3 hover:bg-gray-800/50 transition-colors",children:[y.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center font-bold text-sm ${h.bg} ${h.text}`,children:r}),y.jsxs("div",{className:"flex-1 text-left",children:[y.jsx("span",{className:"text-sm font-semibold text-gray-200",children:n}),y.jsx("span",{className:"text-xs text-gray-500 ml-2",children:LE[r]})]}),!i&&y.jsx("span",{className:"text-xs text-gray-600 px-2 py-0.5 rounded bg-gray-800",children:" "}),y.jsx("svg",{className:`w-4 h-4 text-gray-500 transition-transform flex-shrink-0 ${c?"rotate-180":""}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),c&&y.jsx("div",{className:"px-3 pb-3 border-t border-gray-700/50",children:i?y.jsx("div",{className:"pt-3",children:l}):y.jsxs("div",{className:"pt-3 text-center py-6",children:[y.jsx("p",{className:"text-sm text-gray-500",children:" ..."}),y.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"   "})]})})]})}const kE={video_good_quality:"Video AI:   (FPS  25)",no_video:"Video AI  ",rom_stable_3plus:"3+  ROM ",master_senior:": 5+  ",ai_confidence_high:"AI confidence  85%",ai_confidence_low:"AI confidence < 50%",returning_client:"  (3+ )",first_visit:"  "};function DE(r){return r>=.8?"text-green-400":r>=.5?"text-yellow-400":"text-red-400"}function UE(r){return r>=.8?"bg-green-400/20":r>=.5?"bg-yellow-400/20":"bg-red-400/20"}function ME(r){return r>=80?"bg-green-500":r>=50?"bg-yellow-500":"bg-red-500"}function zE({weights:r,overallConfidence:n,appliedModifiers:i}){const[l,o]=j.useState(!1),c=[{label:"AI",value:r.ai},{label:"",value:r.tests},{label:"",value:r.master}];return y.jsxs("div",{className:"rounded-lg border border-gray-700 bg-gray-800/50 p-3",children:[y.jsxs("button",{type:"button",onClick:()=>o(!l),className:"w-full flex items-center justify-between mb-2",children:[y.jsx("span",{className:"text-sm font-medium text-gray-300",children:""}),y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsxs("span",{className:`text-sm font-bold ${n>=80?"text-green-400":n>=50?"text-yellow-400":"text-red-400"}`,children:[n,"%"]}),y.jsx("svg",{className:`w-4 h-4 text-gray-500 transition-transform ${l?"rotate-180":""}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]})]}),y.jsx("div",{className:"h-1.5 bg-gray-700 rounded-full overflow-hidden mb-3",children:y.jsx("div",{className:`h-full rounded-full transition-all ${ME(n)}`,style:{width:`${Math.min(n,100)}%`}})}),y.jsx("div",{className:"flex gap-2",children:c.map(({label:d,value:h})=>y.jsxs("div",{className:`flex-1 rounded-md px-2 py-1.5 text-center ${UE(h)}`,children:[y.jsx("div",{className:"text-xs text-gray-400",children:d}),y.jsxs("div",{className:`text-sm font-semibold ${DE(h)}`,children:[Math.round(h*100),"%"]})]},d))}),l&&i&&i.length>0&&y.jsxs("div",{className:"mt-3 pt-3 border-t border-gray-700",children:[y.jsx("p",{className:"text-xs text-gray-500 mb-1.5",children:" :"}),y.jsx("ul",{className:"space-y-1",children:i.map(d=>y.jsxs("li",{className:"text-xs text-gray-400 flex items-start gap-1.5",children:[y.jsx("span",{className:"text-blue-400 mt-0.5",children:""}),y.jsx("span",{children:kE[d]??d})]},d))})]}),l&&(!i||i.length===0)&&y.jsx("div",{className:"mt-3 pt-3 border-t border-gray-700",children:y.jsx("p",{className:"text-xs text-gray-500",children:"   ( )"})})]})}const BE={sharp:"",dull:"",burning:"",aching:"",throbbing:"",other:""},qE={today:"",week:"",month:"","3months+":"3+ "};function $E({severity:r}){const n={mild:"bg-green-500/20 text-green-400",moderate:"bg-yellow-500/20 text-yellow-400",severe:"bg-red-500/20 text-red-400"},i={mild:"",moderate:"",severe:""};return y.jsx("span",{className:`text-xs px-2 py-0.5 rounded ${n[r]??"bg-gray-700 text-gray-400"}`,children:i[r]??r})}function HE(){const[r]=Wc(),n=Ii(),i=r.get("assessmentId"),l=r.get("sessionSyncId"),{videoAiResults:o,lastEvent:c}=cf(l),[d,h]=j.useState(null),[m,g]=j.useState(!0),[v,_]=j.useState(null),w=j.useCallback(async()=>{if(!i){_(" assessmentId"),g(!1);return}try{const{data:D,error:P}=await Yt.from("pre_session_assessments").select("id, status, chief_complaint, subjective_data, objective_data, structured_assessment, plan_data, trust_weights, overall_confidence, channels_used, sources").eq("id",i).maybeSingle();if(P){console.error("[AssessmentPage] DB error:",P),_("  ");return}if(!D){_("Assessment  ");return}h(D)}catch(D){console.error("[AssessmentPage] Unexpected error:",D),_(" ")}finally{g(!1)}},[i]);j.useEffect(()=>{w()},[w]),j.useEffect(()=>{(c==="assessment_updated"||c==="plan_approved")&&w()},[c,w]);const S=d?.subjective_data??null,O=d?.objective_data??null,R=d?.structured_assessment??null,A=d?.plan_data??null,z=d?.trust_weights??{ai:.4,tests:.35,master:.25},M=d?.overall_confidence??0,B=[...O?.romMeasurements??[],...o?.romMeasurements?.map(D=>({joint:D.joint,movement:D.movement,degrees:D.degrees,normalRange:{min:0,max:180},source:"video_ai",confidence:D.confidence}))??[]],G=(S?.painZones??[]).map(D=>({zoneId:D.bodyArea,nameRu:D.bodyArea,anatomicalName:D.bodyArea,touchPoint:D.coordinates??{x:0,y:0},intensity:D.intensity,painType:D.painType}));return m?y.jsx("div",{className:"flex items-center justify-center min-h-screen",children:y.jsxs("div",{className:"text-center",children:[y.jsx("div",{className:"w-8 h-8 border-2 border-blue-400 border-t-transparent rounded-full animate-spin mx-auto mb-3"}),y.jsx("p",{className:"text-sm text-gray-400",children:" ..."})]})}):v?y.jsx("div",{className:"flex items-center justify-center min-h-screen p-4",children:y.jsxs("div",{className:"text-center max-w-sm",children:[y.jsx("p",{className:"text-red-400 mb-2",children:v}),y.jsx("button",{type:"button",onClick:()=>n(-1),className:"text-sm text-blue-400 underline",children:""})]})}):y.jsxs("div",{className:"p-4 pb-24 min-h-screen",children:[y.jsxs("div",{className:"flex items-center justify-between mb-4",children:[y.jsx("h1",{className:"text-xl font-bold",children:"SOAP "}),d?.status&&y.jsx("span",{className:"text-xs px-2 py-1 rounded bg-gray-800 text-gray-400",children:d.status})]}),d?.channels_used&&d.channels_used.length>0&&y.jsx("div",{className:"flex gap-1.5 mb-4",children:d.channels_used.map(D=>y.jsx("span",{className:"text-xs px-2 py-0.5 rounded bg-blue-500/10 text-blue-400",children:D},D))}),y.jsxs("div",{className:"space-y-3",children:[y.jsxs(wl,{letter:"S",title:" ",hasData:!!S?.chiefComplaint||(S?.painZones?.length??0)>0,defaultExpanded:!0,children:[S?.chiefComplaint&&y.jsxs("div",{className:"mb-3",children:[y.jsx("p",{className:"text-xs text-gray-500 mb-1",children:" "}),y.jsx("p",{className:"text-sm text-gray-200",children:S.chiefComplaint})]}),G.length>0&&y.jsxs("div",{className:"mb-3",children:[y.jsx("p",{className:"text-xs text-gray-500 mb-1",children:" "}),y.jsx("div",{className:"h-48 flex justify-center",children:y.jsx(oy,{view:"front",zones:G,onZoneClick:()=>{}})})]}),(S?.painZones?.length??0)>0&&y.jsxs("div",{className:"mb-3",children:[y.jsx("p",{className:"text-xs text-gray-500 mb-1",children:" "}),y.jsx("div",{className:"space-y-1.5",children:S.painZones.map((D,P)=>y.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[y.jsx("div",{className:"w-3 h-3 rounded-full flex-shrink-0",style:{backgroundColor:Rl(D.intensity)}}),y.jsx("span",{className:"text-gray-300",children:D.bodyArea}),y.jsxs("span",{className:"text-gray-500",children:["NRS ",D.intensity,"/10"]}),D.painType&&y.jsx("span",{className:"text-xs text-gray-600",children:BE[D.painType]??D.painType})]},`${D.bodyArea}-${P}`))})]}),y.jsxs("div",{className:"flex gap-4 text-sm",children:[S?.painSeverity!=null&&y.jsxs("div",{children:[y.jsx("span",{className:"text-gray-500",children:": "}),y.jsxs("span",{className:"text-gray-300",children:[S.painSeverity,"/10"]})]}),S?.painDuration&&y.jsxs("div",{children:[y.jsx("span",{className:"text-gray-500",children:": "}),y.jsx("span",{className:"text-gray-300",children:qE[S.painDuration]??S.painDuration})]})]}),S?.medicalHistory&&y.jsxs("div",{className:"mt-3",children:[y.jsx("p",{className:"text-xs text-gray-500 mb-1",children:""}),y.jsx("p",{className:"text-sm text-gray-400",children:S.medicalHistory})]})]}),y.jsxs(wl,{letter:"O",title:" ",hasData:B.length>0||(O?.photos?.length??0)>0,defaultExpanded:!0,children:[B.length>0&&y.jsxs("div",{className:"mb-3",children:[y.jsx("p",{className:"text-xs text-gray-500 mb-2",children:"ROM "}),y.jsx("div",{className:"overflow-x-auto",children:y.jsxs("table",{className:"w-full text-xs",children:[y.jsx("thead",{children:y.jsxs("tr",{className:"text-gray-500 border-b border-gray-700",children:[y.jsx("th",{className:"text-left py-1 pr-2",children:""}),y.jsx("th",{className:"text-left py-1 pr-2",children:""}),y.jsx("th",{className:"text-right py-1 pr-2",children:""}),y.jsx("th",{className:"text-right py-1",children:""})]})}),y.jsx("tbody",{children:B.map((D,P)=>{const X=D.degrees>=D.normalRange.min&&D.degrees<=D.normalRange.max;return y.jsxs("tr",{className:"border-b border-gray-800",children:[y.jsx("td",{className:"py-1.5 pr-2 text-gray-300",children:D.joint}),y.jsx("td",{className:"py-1.5 pr-2 text-gray-400",children:D.movement}),y.jsxs("td",{className:`py-1.5 pr-2 text-right font-medium ${X?"text-green-400":"text-red-400"}`,children:[D.degrees,""]}),y.jsxs("td",{className:"py-1.5 text-right text-gray-500",children:[D.normalRange.min,"-",D.normalRange.max,""]})]},`${D.joint}-${D.movement}-${P}`)})})]})})]}),(o?.asymmetries?.length??0)>0&&y.jsxs("div",{className:"mb-3",children:[y.jsx("p",{className:"text-xs text-gray-500 mb-2",children:""}),y.jsx("div",{className:"space-y-1",children:o.asymmetries.map((D,P)=>y.jsxs("div",{className:"flex items-center justify-between text-xs bg-gray-800/50 rounded px-2 py-1.5",children:[y.jsx("span",{className:"text-gray-300",children:D.joint}),y.jsxs("div",{className:"flex gap-3 text-gray-400",children:[y.jsxs("span",{children:["L: ",D.leftDegrees,""]}),y.jsxs("span",{children:["R: ",D.rightDegrees,""]}),y.jsxs("span",{className:Math.abs(D.leftDegrees-D.rightDegrees)>10?"text-yellow-400":"text-green-400",children:["",Math.abs(D.leftDegrees-D.rightDegrees),""]})]})]},`${D.joint}-${P}`))})]}),(O?.photos?.length??0)>0&&y.jsxs("div",{className:"mb-3",children:[y.jsx("p",{className:"text-xs text-gray-500 mb-2",children:""}),y.jsx("div",{className:"grid grid-cols-3 gap-2",children:O.photos.map(D=>y.jsx("div",{className:"aspect-[3/4] rounded-lg bg-gray-800 overflow-hidden",children:D.fileUrl?y.jsx("img",{src:D.fileUrl,alt:D.viewAngle,className:"w-full h-full object-cover"}):y.jsx("div",{className:"w-full h-full flex items-center justify-center text-xs text-gray-600",children:D.viewAngle})},D.viewAngle))})]}),O?.practitionerNotes&&y.jsxs("div",{children:[y.jsx("p",{className:"text-xs text-gray-500 mb-1",children:" "}),y.jsx("p",{className:"text-sm text-gray-400",children:O.practitionerNotes})]})]}),y.jsxs(wl,{letter:"A",title:"AI ",hasData:!!R?.text||!!R?.structured,children:[y.jsx("div",{className:"mb-3",children:y.jsx(zE,{weights:z,overallConfidence:M,appliedModifiers:d?.sources?.map(D=>D.id).filter(D=>!!D)??[]})}),R?.text&&y.jsx("div",{className:"mb-3",children:y.jsx("p",{className:"text-sm text-gray-300",children:R.text})}),R?.structured&&y.jsxs(y.Fragment,{children:[R.structured.primaryDiagnosis&&y.jsxs("div",{className:"mb-3 p-2 rounded bg-purple-500/10 border border-purple-500/20",children:[y.jsx("p",{className:"text-xs text-purple-400 mb-0.5",children:" "}),y.jsx("p",{className:"text-sm text-gray-200",children:R.structured.primaryDiagnosis})]}),R.structured.problems?.length>0&&y.jsxs("div",{className:"mb-3",children:[y.jsx("p",{className:"text-xs text-gray-500 mb-1.5",children:""}),y.jsx("div",{className:"space-y-1.5",children:R.structured.problems.map((D,P)=>y.jsxs("div",{className:"text-sm bg-gray-800/50 rounded px-2 py-1.5",children:[y.jsxs("div",{className:"flex items-center gap-2 mb-0.5",children:[y.jsx("span",{className:"text-gray-200",children:D.name}),y.jsx($E,{severity:D.severity})]}),y.jsxs("p",{className:"text-xs text-gray-500",children:[D.bodyArea,"  ",D.evidence]})]},`problem-${P}`))})]}),R.structured.recommendations?.length>0&&y.jsxs("div",{className:"mb-3",children:[y.jsx("p",{className:"text-xs text-gray-500 mb-1",children:""}),y.jsx("ul",{className:"space-y-0.5",children:R.structured.recommendations.map((D,P)=>y.jsxs("li",{className:"text-sm text-gray-400 flex gap-1.5",children:[y.jsx("span",{className:"text-green-400",children:""}),y.jsx("span",{children:D})]},`rec-${P}`))})]}),R.structured.contraindications?.length>0&&y.jsxs("div",{className:"mb-3",children:[y.jsx("p",{className:"text-xs text-gray-500 mb-1",children:""}),y.jsx("ul",{className:"space-y-0.5",children:R.structured.contraindications.map((D,P)=>y.jsxs("li",{className:"text-sm text-red-400 flex gap-1.5",children:[y.jsx("span",{children:"!"}),y.jsx("span",{children:D})]},`contra-${P}`))})]})]}),(R?.riskFlags?.length??0)>0&&y.jsxs("div",{className:"mb-3",children:[y.jsx("p",{className:"text-xs text-gray-500 mb-1",children:" "}),R.riskFlags.map((D,P)=>y.jsx("div",{className:"mb-1 p-2 rounded bg-red-500/10 border border-red-500/20 text-sm text-red-300",children:D},`flag-${P}`))]}),R?.llmModel&&y.jsxs("p",{className:"text-xs text-gray-600",children:[": ",R.llmModel," | Confidence: ",R.aiConfidence,"%"]})]}),y.jsxs(wl,{letter:"P",title:" ",hasData:!!A?.treatmentPlan,children:[A?.treatmentPlan&&y.jsxs(y.Fragment,{children:[y.jsxs("div",{className:"flex items-center justify-between mb-3",children:[y.jsxs("span",{className:"text-sm text-gray-400",children:[" : ",A.treatmentPlan.totalDuration," "]}),A.approvedByPractitioner&&y.jsx("span",{className:"text-xs px-2 py-0.5 rounded bg-green-500/20 text-green-400",children:""})]}),y.jsx("div",{className:"space-y-2 mb-3",children:A.treatmentPlan.blocks.map(D=>y.jsxs("div",{className:"bg-gray-800/50 rounded-lg p-2.5",children:[y.jsxs("div",{className:"flex items-center justify-between mb-1",children:[y.jsxs("span",{className:"text-sm font-medium text-gray-200",children:[" ",D.phase,": ",D.name]}),y.jsxs("span",{className:"text-xs text-gray-500",children:[D.duration," "]})]}),D.bodyArea&&y.jsxs("span",{className:"text-xs text-gray-500 block mb-1",children:[": ",D.bodyArea]}),D.techniques.length>0&&y.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:D.techniques.map((P,X)=>y.jsx("span",{className:"text-xs px-1.5 py-0.5 rounded bg-blue-500/10 text-blue-400",children:P},`tech-${X}`))})]},`block-${D.phase}`))}),A.treatmentPlan.clientSummary&&y.jsxs("div",{className:"mb-3",children:[y.jsx("p",{className:"text-xs text-gray-500 mb-1",children:""}),y.jsx("p",{className:"text-sm text-gray-400",children:A.treatmentPlan.clientSummary})]})]}),(A?.contraindications?.length??0)>0&&y.jsxs("div",{className:"mb-3",children:[y.jsx("p",{className:"text-xs text-gray-500 mb-1",children:""}),y.jsx("div",{className:"flex flex-wrap gap-1",children:A.contraindications.map((D,P)=>y.jsx("span",{className:"text-xs px-2 py-0.5 rounded bg-red-500/10 text-red-400",children:D},`pc-${P}`))})]}),y.jsx("button",{type:"button",onClick:()=>{const D=new URLSearchParams;i&&D.set("assessmentId",i),l&&D.set("sessionSyncId",l),n(`/plan?${D.toString()}`)},className:"w-full py-2.5 rounded-lg bg-orange-600 text-white text-sm font-semibold active:bg-orange-700 transition-colors",children:A?.treatmentPlan?" ":" "})]})]}),y.jsx("div",{className:"fixed bottom-0 left-0 right-0 p-4 bg-gray-900/95 border-t border-gray-800 backdrop-blur-sm",children:y.jsx("button",{type:"button",onClick:()=>n(-1),className:"w-full py-3 rounded-lg bg-gray-800 text-gray-300 text-sm font-medium border border-gray-700",children:""})})]})}const GE=300;function VE({isOpen:r,onClose:n,onSelect:i,excludeIds:l=[]}){const[o,c]=j.useState(""),[d,h]=j.useState([]),[m,g]=j.useState(!1),[v,_]=j.useState(null),w=j.useRef(null),S=j.useRef();j.useEffect(()=>{r&&(setTimeout(()=>w.current?.focus(),100),c(""),h([]),_(null))},[r]),j.useEffect(()=>{if(!o.trim()||o.trim().length<2){h([]);return}return clearTimeout(S.current),S.current=setTimeout(()=>{O(o.trim())},GE),()=>clearTimeout(S.current)},[o]);async function O(R){g(!0),_(null);try{const{data:A,error:z}=await Yt.rpc("keyword_search",{query_text:R,match_count:15,filter_type:"techniques"});if(z){console.error("[TechniqueSearch] keyword_search error:",z),_(" "),h([]);return}const M=(A||[]).map(G=>({entityType:G.entity_type,entityId:G.entity_id,content:G.content,score:G.rank_score??0})),B=new Set(l);h(M.filter(G=>!B.has(G.entityId)))}catch(A){console.error("[TechniqueSearch] Unexpected error:",A),_(" "),h([])}finally{g(!1)}}return r?y.jsxs("div",{className:"fixed inset-0 z-50 flex items-end justify-center",children:[y.jsx("div",{className:"absolute inset-0 bg-black/60",onClick:n,onKeyDown:()=>{},role:"button",tabIndex:-1,"aria-label":""}),y.jsxs("div",{className:"relative w-full max-w-lg bg-gray-900 rounded-t-2xl border-t border-gray-700 max-h-[80vh] flex flex-col",children:[y.jsx("div",{className:"flex justify-center pt-2 pb-1",children:y.jsx("div",{className:"w-10 h-1 rounded-full bg-gray-600"})}),y.jsxs("div",{className:"px-4 pb-3 border-b border-gray-800",children:[y.jsx("h3",{className:"text-base font-semibold mb-2",children:" "}),y.jsxs("div",{className:"relative",children:[y.jsx("input",{ref:w,type:"text",value:o,onChange:R=>c(R.target.value),placeholder:"  ...",className:"w-full px-3 py-2.5 pl-9 bg-gray-800 border border-gray-700 rounded-lg text-sm text-gray-200 placeholder:text-gray-500 focus:outline-none focus:border-blue-500"}),y.jsx("svg",{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),m&&y.jsx("div",{className:"absolute right-3 top-1/2 -translate-y-1/2",children:y.jsx("div",{className:"w-4 h-4 border-2 border-blue-400 border-t-transparent rounded-full animate-spin"})})]})]}),y.jsxs("div",{className:"flex-1 overflow-y-auto px-4 py-2",children:[v&&y.jsx("p",{className:"text-sm text-red-400 text-center py-4",children:v}),!o.trim()&&!v&&y.jsx("p",{className:"text-sm text-gray-500 text-center py-8",children:"     566 "}),o.trim().length>=2&&!m&&d.length===0&&!v&&y.jsx("p",{className:"text-sm text-gray-500 text-center py-8",children:"  "}),d.map(R=>y.jsxs("button",{type:"button",onClick:()=>{i({id:R.entityId,name:R.content}),n()},className:"w-full text-left px-3 py-2.5 rounded-lg hover:bg-gray-800 active:bg-gray-700 transition-colors mb-1",children:[y.jsx("p",{className:"text-sm text-gray-200 line-clamp-2",children:R.content}),y.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[y.jsx("span",{className:"text-xs text-gray-500",children:R.entityType}),R.score>0&&y.jsxs("span",{className:"text-xs text-gray-600",children:[": ",R.score.toFixed(2)]})]})]},R.entityId))]}),y.jsx("div",{className:"px-4 py-3 border-t border-gray-800",children:y.jsx("button",{type:"button",onClick:n,className:"w-full py-2.5 rounded-lg bg-gray-800 text-gray-300 text-sm font-medium",children:""})})]})]}):null}function gg(r){return{order:r,name:r===1?"":r===2?" ":` ${r}`,duration:15,techniques:[],bodyArea:"",notes:""}}function KE(r){return r.map(n=>({order:n.phase,name:n.name,duration:n.duration,techniques:n.techniques.map(i=>({id:i,name:i,fromKnowledgeBase:!0})),bodyArea:n.bodyArea??"",notes:n.instructions??""}))}function YE(r){return{blocks:r.map((n,i)=>({phase:i+1,name:n.name,duration:n.duration,techniques:n.techniques.map(l=>l.name),instructions:n.notes||void 0,bodyArea:n.bodyArea||void 0})),totalDuration:r.reduce((n,i)=>n+i.duration,0)}}function IE(){const[r]=Wc(),n=Ii(),i=r.get("assessmentId"),l=r.get("sessionSyncId"),{sendEvent:o}=cf(l),[c,d]=j.useState([gg(1)]),[h,m]=j.useState(!0),[g,v]=j.useState(!1),[_,w]=j.useState(null),[S,O]=j.useState(!1),[R,A]=j.useState(!1),[z,M]=j.useState(0),[B,G]=j.useState(null),D=j.useCallback(async()=>{if(!i){m(!1);return}try{const{data:V,error:Z}=await Yt.from("pre_session_assessments").select("plan_data").eq("id",i).maybeSingle();if(Z){console.error("[PlanPage] DB error:",Z),w("  ");return}const W=V?.plan_data;G(W),W?.treatmentPlan?.blocks?.length&&d(KE(W.treatmentPlan.blocks))}catch(V){console.error("[PlanPage] Unexpected error:",V),w(" ")}finally{m(!1)}},[i]);j.useEffect(()=>{D()},[D]);function P(V,Z){d(W=>W.map((te,E)=>E===V?{...te,...Z}:te))}function X(){d(V=>[...V,gg(V.length+1)])}function re(V){c.length<=1||d(Z=>Z.filter((W,te)=>te!==V).map((W,te)=>({...W,order:te+1})))}function se(V){V!==0&&d(Z=>{const W=[...Z];return[W[V-1],W[V]]=[W[V],W[V-1]],W.map((te,E)=>({...te,order:E+1}))})}function De(V){V>=c.length-1||d(Z=>{const W=[...Z];return[W[V],W[V+1]]=[W[V+1],W[V]],W.map((te,E)=>({...te,order:E+1}))})}function Ze(V,Z){d(W=>W.map((te,E)=>E!==V||te.techniques.some(K=>K.id===Z.id)?te:{...te,techniques:[...te.techniques,{...Z,fromKnowledgeBase:!0}]}))}function Qe(V,Z){d(W=>W.map((te,E)=>E!==V?te:{...te,techniques:te.techniques.filter((K,Q)=>Q!==Z)}))}function kt(V,Z){d(W=>W.map((te,E)=>{if(E!==V)return te;const K=Math.max(5,Math.min(60,te.duration+Z));return{...te,duration:K}}))}const ut=c.reduce((V,Z)=>V+Z.duration,0),et=c.flatMap(V=>V.techniques.map(Z=>Z.id));async function q(){if(i){v(!0),O(!1);try{const Z={treatmentPlan:YE(c),contraindications:B?.contraindications??[],recommendedTechniques:B?.recommendedTechniques??[],estimatedDuration:ut,approvedByPractitioner:!0,practitionerOverrides:B?.practitionerOverrides??null},{error:W}=await Yt.from("pre_session_assessments").update({plan_data:Z}).eq("id",i);if(W){console.error("[PlanPage] Update error:",W),w(" ");return}await o("plan_approved",{assessmentId:i,totalDuration:ut,phaseCount:c.length,techniqueCount:et.length}),O(!0),setTimeout(()=>{const te=new URLSearchParams;i&&te.set("assessmentId",i),l&&te.set("sessionSyncId",l),n(`/assessment?${te.toString()}`)},1500)}catch(V){console.error("[PlanPage] Confirm error:",V),w(" ")}finally{v(!1)}}}return h?y.jsx("div",{className:"flex items-center justify-center min-h-screen",children:y.jsxs("div",{className:"text-center",children:[y.jsx("div",{className:"w-8 h-8 border-2 border-orange-400 border-t-transparent rounded-full animate-spin mx-auto mb-3"}),y.jsx("p",{className:"text-sm text-gray-400",children:" ..."})]})}):_&&!c.length?y.jsx("div",{className:"flex items-center justify-center min-h-screen p-4",children:y.jsxs("div",{className:"text-center max-w-sm",children:[y.jsx("p",{className:"text-red-400 mb-2",children:_}),y.jsx("button",{type:"button",onClick:()=>n(-1),className:"text-sm text-blue-400 underline",children:""})]})}):y.jsxs("div",{className:"p-4 pb-40 min-h-screen",children:[y.jsx("h1",{className:"text-xl font-bold mb-1",children:" "}),y.jsxs("p",{className:"text-sm text-gray-400 mb-4",children:[ut,"  | ",c.length," ",c.length===1?"":""]}),_&&y.jsx("div",{className:"mb-3 p-2 rounded bg-red-500/10 border border-red-500/20 text-sm text-red-400",children:_}),S&&y.jsx("div",{className:"mb-3 p-2 rounded bg-green-500/10 border border-green-500/20 text-sm text-green-400",children:" !"}),y.jsx("div",{className:"space-y-3",children:c.map((V,Z)=>y.jsxs("div",{className:"border border-gray-700 rounded-lg bg-gray-800/30",children:[y.jsxs("div",{className:"p-3 border-b border-gray-700/50",children:[y.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[y.jsx("div",{className:"w-6 h-6 rounded-full bg-orange-500/20 text-orange-400 text-xs font-bold flex items-center justify-center flex-shrink-0",children:Z+1}),y.jsx("input",{type:"text",value:V.name,onChange:W=>P(Z,{name:W.target.value}),className:"flex-1 bg-transparent text-sm font-medium text-gray-200 border-b border-transparent focus:border-gray-600 focus:outline-none px-1 py-0.5"}),y.jsxs("div",{className:"flex gap-1",children:[y.jsx("button",{type:"button",onClick:()=>se(Z),disabled:Z===0,className:"p-1 rounded text-gray-500 hover:text-gray-300 disabled:opacity-30",children:y.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 15l7-7 7 7"})})}),y.jsx("button",{type:"button",onClick:()=>De(Z),disabled:Z>=c.length-1,className:"p-1 rounded text-gray-500 hover:text-gray-300 disabled:opacity-30",children:y.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})}),c.length>1&&y.jsx("button",{type:"button",onClick:()=>re(Z),className:"p-1 rounded text-red-500/50 hover:text-red-400",children:y.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})]}),y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx("input",{type:"text",value:V.bodyArea,onChange:W=>P(Z,{bodyArea:W.target.value}),placeholder:" ...",className:"flex-1 bg-gray-800 text-xs text-gray-400 px-2 py-1 rounded border border-gray-700 focus:outline-none focus:border-gray-600 placeholder:text-gray-600"}),y.jsxs("div",{className:"flex items-center gap-1",children:[y.jsx("button",{type:"button",onClick:()=>kt(Z,-5),disabled:V.duration<=5,className:"w-6 h-6 rounded bg-gray-700 text-gray-400 text-xs font-bold disabled:opacity-30 active:bg-gray-600",children:"-"}),y.jsxs("span",{className:"text-sm text-gray-300 w-12 text-center",children:[V.duration," "]}),y.jsx("button",{type:"button",onClick:()=>kt(Z,5),disabled:V.duration>=60,className:"w-6 h-6 rounded bg-gray-700 text-gray-400 text-xs font-bold disabled:opacity-30 active:bg-gray-600",children:"+"})]})]})]}),y.jsxs("div",{className:"p-3",children:[V.techniques.length===0?y.jsx("p",{className:"text-xs text-gray-600 mb-2",children:" .   ."}):y.jsx("div",{className:"space-y-1 mb-2",children:V.techniques.map((W,te)=>y.jsxs("div",{className:"flex items-center gap-2 bg-gray-800/50 rounded px-2 py-1.5",children:[y.jsx("span",{className:"flex-1 text-xs text-gray-300 line-clamp-1",children:W.name}),W.fromKnowledgeBase&&y.jsx("span",{className:"text-[10px] text-blue-400/60 flex-shrink-0",children:"KB"}),y.jsx("button",{type:"button",onClick:()=>Qe(Z,te),className:"p-0.5 text-gray-600 hover:text-red-400 flex-shrink-0",children:y.jsx("svg",{className:"w-3.5 h-3.5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]},`${W.id}-${te}`))}),y.jsx("button",{type:"button",onClick:()=>{M(Z),A(!0)},className:"w-full py-1.5 rounded border border-dashed border-gray-700 text-xs text-gray-500 hover:text-blue-400 hover:border-blue-500/30 transition-colors",children:"+  "})]})]},`phase-${Z}`))}),y.jsx("button",{type:"button",onClick:X,className:"w-full mt-3 py-2.5 rounded-lg border border-dashed border-gray-700 text-sm text-gray-500 hover:text-orange-400 hover:border-orange-500/30 transition-colors",children:"+  "}),et.length===0&&y.jsx("div",{className:"mt-4 text-center",children:y.jsx("p",{className:"text-sm text-gray-600",children:"    (566 )"})}),y.jsx(VE,{isOpen:R,onClose:()=>A(!1),onSelect:V=>Ze(z,V),excludeIds:et}),y.jsxs("div",{className:"fixed bottom-0 left-0 right-0 p-4 bg-gray-900/95 border-t border-gray-800 backdrop-blur-sm",children:[y.jsxs("div",{className:"flex items-center justify-between mb-3",children:[y.jsx("span",{className:"text-sm text-gray-400",children:" "}),y.jsxs("span",{className:"text-sm font-bold text-gray-200",children:[ut," "]})]}),y.jsxs("div",{className:"flex gap-3",children:[y.jsx("button",{type:"button",onClick:()=>n(-1),className:"px-4 py-3 rounded-lg bg-gray-800 text-gray-300 border border-gray-700 text-sm",children:""}),y.jsx("button",{type:"button",onClick:()=>{q()},disabled:g||S,className:`flex-1 py-3 rounded-lg text-sm font-semibold transition-colors ${g||S?"bg-gray-700 text-gray-500 cursor-not-allowed":"bg-orange-600 text-white active:bg-orange-700"}`,children:g?"...":S?"!":" "})]})]})]})}function PE(){return y.jsxs("div",{className:"p-4",children:[y.jsx("h1",{className:"text-xl font-bold mb-4",children:" "}),y.jsx("div",{className:"border border-gray-700 rounded-lg p-4",children:y.jsx("p",{className:"text-sm text-gray-500",children:"      Week 3-4"})})]})}function ZE(){const r=lf();return r.isReady?r.error?y.jsx("div",{className:"flex items-center justify-center min-h-screen p-4",children:y.jsxs("div",{className:"text-center max-w-sm",children:[y.jsx("h1",{className:"text-xl font-bold mb-2",children:"  Telegram"}),y.jsx("p",{className:"text-gray-400 mb-4",children:r.error}),y.jsx("p",{className:"text-sm text-gray-500",children:"    @MASTER_plemya_BOT"})]})}):y.jsxs(n_,{children:[y.jsx(Sr,{path:"/",element:y.jsx(oE,{})}),y.jsx(Sr,{path:"/photo",element:y.jsx(CE,{})}),y.jsx(Sr,{path:"/assessment",element:y.jsx(HE,{})}),y.jsx(Sr,{path:"/plan",element:y.jsx(IE,{})}),y.jsx(Sr,{path:"/history",element:y.jsx(PE,{})})]}):y.jsx("div",{className:"flex items-center justify-center min-h-screen",children:y.jsx("p",{className:"text-gray-400",children:"..."})})}try{mS()}catch(r){console.error("[TMA SDK]  :",r)}ib.createRoot(document.getElementById("root")).render(y.jsx(j.StrictMode,{children:y.jsx(R_,{children:y.jsx(ZE,{})})}));
