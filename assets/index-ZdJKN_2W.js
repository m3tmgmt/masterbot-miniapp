(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const h of u.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&i(h)}).observe(document,{childList:!0,subtree:!0});function r(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function i(o){if(o.ep)return;o.ep=!0;const u=r(o);fetch(o.href,u)}})();function M0(a){return a&&a.__esModule&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a}var _h={exports:{}},gi={};var wy;function Vx(){if(wy)return gi;wy=1;var a=Symbol.for("react.transitional.element"),n=Symbol.for("react.fragment");function r(i,o,u){var h=null;if(u!==void 0&&(h=""+u),o.key!==void 0&&(h=""+o.key),"key"in o){u={};for(var d in o)d!=="key"&&(u[d]=o[d])}else u=o;return o=u.ref,{$$typeof:a,type:i,key:h,ref:o!==void 0?o:null,props:u}}return gi.Fragment=n,gi.jsx=r,gi.jsxs=r,gi}var xy;function Fx(){return xy||(xy=1,_h.exports=Vx()),_h.exports}var v=Fx(),wh={exports:{}},_e={};var Sy;function Px(){if(Sy)return _e;Sy=1;var a=Symbol.for("react.transitional.element"),n=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),h=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),_=Symbol.for("react.activity"),S=Symbol.iterator;function E(y){return y===null||typeof y!="object"?null:(y=S&&y[S]||y["@@iterator"],typeof y=="function"?y:null)}var R={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},j=Object.assign,A={};function k(y,T,D){this.props=y,this.context=T,this.refs=A,this.updater=D||R}k.prototype.isReactComponent={},k.prototype.setState=function(y,T){if(typeof y!="object"&&typeof y!="function"&&y!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,y,T,"setState")},k.prototype.forceUpdate=function(y){this.updater.enqueueForceUpdate(this,y,"forceUpdate")};function O(){}O.prototype=k.prototype;function U(y,T,D){this.props=y,this.context=T,this.refs=A,this.updater=D||R}var X=U.prototype=new O;X.constructor=U,j(X,k.prototype),X.isPureReactComponent=!0;var ee=Array.isArray;function te(){}var F={H:null,A:null,T:null,S:null},ie=Object.prototype.hasOwnProperty;function H(y,T,D){var I=D.ref;return{$$typeof:a,type:y,key:T,ref:I!==void 0?I:null,props:D}}function me(y,T){return H(y.type,T,y.props)}function fe(y){return typeof y=="object"&&y!==null&&y.$$typeof===a}function Ee(y){var T={"=":"=0",":":"=2"};return"$"+y.replace(/[=:]/g,function(D){return T[D]})}var Ne=/\/+/g;function ge(y,T){return typeof y=="object"&&y!==null&&y.key!=null?Ee(""+y.key):T.toString(36)}function le(y){switch(y.status){case"fulfilled":return y.value;case"rejected":throw y.reason;default:switch(typeof y.status=="string"?y.then(te,te):(y.status="pending",y.then(function(T){y.status==="pending"&&(y.status="fulfilled",y.value=T)},function(T){y.status==="pending"&&(y.status="rejected",y.reason=T)})),y.status){case"fulfilled":return y.value;case"rejected":throw y.reason}}throw y}function $(y,T,D,I,ae){var ne=typeof y;(ne==="undefined"||ne==="boolean")&&(y=null);var oe=!1;if(y===null)oe=!0;else switch(ne){case"bigint":case"string":case"number":oe=!0;break;case"object":switch(y.$$typeof){case a:case n:oe=!0;break;case b:return oe=y._init,$(oe(y._payload),T,D,I,ae)}}if(oe)return ae=ae(y),oe=I===""?"."+ge(y,0):I,ee(ae)?(D="",oe!=null&&(D=oe.replace(Ne,"$&/")+"/"),$(ae,T,D,"",function(Ha){return Ha})):ae!=null&&(fe(ae)&&(ae=me(ae,D+(ae.key==null||y&&y.key===ae.key?"":(""+ae.key).replace(Ne,"$&/")+"/")+oe)),T.push(ae)),1;oe=0;var be=I===""?".":I+":";if(ee(y))for(var Ce=0;Ce<y.length;Ce++)I=y[Ce],ne=be+ge(I,Ce),oe+=$(I,T,D,ne,ae);else if(Ce=E(y),typeof Ce=="function")for(y=Ce.call(y),Ce=0;!(I=y.next()).done;)I=I.value,ne=be+ge(I,Ce++),oe+=$(I,T,D,ne,ae);else if(ne==="object"){if(typeof y.then=="function")return $(le(y),T,D,I,ae);throw T=String(y),Error("Objects are not valid as a React child (found: "+(T==="[object Object]"?"object with keys {"+Object.keys(y).join(", ")+"}":T)+"). If you meant to render a collection of children, use an array instead.")}return oe}function W(y,T,D){if(y==null)return y;var I=[],ae=0;return $(y,I,"","",function(ne){return T.call(D,ne,ae++)}),I}function P(y){if(y._status===-1){var T=y._result;T=T(),T.then(function(D){(y._status===0||y._status===-1)&&(y._status=1,y._result=D)},function(D){(y._status===0||y._status===-1)&&(y._status=2,y._result=D)}),y._status===-1&&(y._status=0,y._result=T)}if(y._status===1)return y._result.default;throw y._result}var Z=typeof reportError=="function"?reportError:function(y){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var T=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof y=="object"&&y!==null&&typeof y.message=="string"?String(y.message):String(y),error:y});if(!window.dispatchEvent(T))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",y);return}console.error(y)},C={map:W,forEach:function(y,T,D){W(y,function(){T.apply(this,arguments)},D)},count:function(y){var T=0;return W(y,function(){T++}),T},toArray:function(y){return W(y,function(T){return T})||[]},only:function(y){if(!fe(y))throw Error("React.Children.only expected to receive a single React element child.");return y}};return _e.Activity=_,_e.Children=C,_e.Component=k,_e.Fragment=r,_e.Profiler=o,_e.PureComponent=U,_e.StrictMode=i,_e.Suspense=p,_e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=F,_e.__COMPILER_RUNTIME={__proto__:null,c:function(y){return F.H.useMemoCache(y)}},_e.cache=function(y){return function(){return y.apply(null,arguments)}},_e.cacheSignal=function(){return null},_e.cloneElement=function(y,T,D){if(y==null)throw Error("The argument must be a React element, but you passed "+y+".");var I=j({},y.props),ae=y.key;if(T!=null)for(ne in T.key!==void 0&&(ae=""+T.key),T)!ie.call(T,ne)||ne==="key"||ne==="__self"||ne==="__source"||ne==="ref"&&T.ref===void 0||(I[ne]=T[ne]);var ne=arguments.length-2;if(ne===1)I.children=D;else if(1<ne){for(var oe=Array(ne),be=0;be<ne;be++)oe[be]=arguments[be+2];I.children=oe}return H(y.type,ae,I)},_e.createContext=function(y){return y={$$typeof:h,_currentValue:y,_currentValue2:y,_threadCount:0,Provider:null,Consumer:null},y.Provider=y,y.Consumer={$$typeof:u,_context:y},y},_e.createElement=function(y,T,D){var I,ae={},ne=null;if(T!=null)for(I in T.key!==void 0&&(ne=""+T.key),T)ie.call(T,I)&&I!=="key"&&I!=="__self"&&I!=="__source"&&(ae[I]=T[I]);var oe=arguments.length-2;if(oe===1)ae.children=D;else if(1<oe){for(var be=Array(oe),Ce=0;Ce<oe;Ce++)be[Ce]=arguments[Ce+2];ae.children=be}if(y&&y.defaultProps)for(I in oe=y.defaultProps,oe)ae[I]===void 0&&(ae[I]=oe[I]);return H(y,ne,ae)},_e.createRef=function(){return{current:null}},_e.forwardRef=function(y){return{$$typeof:d,render:y}},_e.isValidElement=fe,_e.lazy=function(y){return{$$typeof:b,_payload:{_status:-1,_result:y},_init:P}},_e.memo=function(y,T){return{$$typeof:m,type:y,compare:T===void 0?null:T}},_e.startTransition=function(y){var T=F.T,D={};F.T=D;try{var I=y(),ae=F.S;ae!==null&&ae(D,I),typeof I=="object"&&I!==null&&typeof I.then=="function"&&I.then(te,Z)}catch(ne){Z(ne)}finally{T!==null&&D.types!==null&&(T.types=D.types),F.T=T}},_e.unstable_useCacheRefresh=function(){return F.H.useCacheRefresh()},_e.use=function(y){return F.H.use(y)},_e.useActionState=function(y,T,D){return F.H.useActionState(y,T,D)},_e.useCallback=function(y,T){return F.H.useCallback(y,T)},_e.useContext=function(y){return F.H.useContext(y)},_e.useDebugValue=function(){},_e.useDeferredValue=function(y,T){return F.H.useDeferredValue(y,T)},_e.useEffect=function(y,T){return F.H.useEffect(y,T)},_e.useEffectEvent=function(y){return F.H.useEffectEvent(y)},_e.useId=function(){return F.H.useId()},_e.useImperativeHandle=function(y,T,D){return F.H.useImperativeHandle(y,T,D)},_e.useInsertionEffect=function(y,T){return F.H.useInsertionEffect(y,T)},_e.useLayoutEffect=function(y,T){return F.H.useLayoutEffect(y,T)},_e.useMemo=function(y,T){return F.H.useMemo(y,T)},_e.useOptimistic=function(y,T){return F.H.useOptimistic(y,T)},_e.useReducer=function(y,T,D){return F.H.useReducer(y,T,D)},_e.useRef=function(y){return F.H.useRef(y)},_e.useState=function(y){return F.H.useState(y)},_e.useSyncExternalStore=function(y,T,D){return F.H.useSyncExternalStore(y,T,D)},_e.useTransition=function(){return F.H.useTransition()},_e.version="19.2.4",_e}var Ey;function wf(){return Ey||(Ey=1,wh.exports=Px()),wh.exports}var se=wf();const fO=M0(se);var xh={exports:{}},yi={},Sh={exports:{}},Eh={};var Ty;function Gx(){return Ty||(Ty=1,(function(a){function n($,W){var P=$.length;$.push(W);e:for(;0<P;){var Z=P-1>>>1,C=$[Z];if(0<o(C,W))$[Z]=W,$[P]=C,P=Z;else break e}}function r($){return $.length===0?null:$[0]}function i($){if($.length===0)return null;var W=$[0],P=$.pop();if(P!==W){$[0]=P;e:for(var Z=0,C=$.length,y=C>>>1;Z<y;){var T=2*(Z+1)-1,D=$[T],I=T+1,ae=$[I];if(0>o(D,P))I<C&&0>o(ae,D)?($[Z]=ae,$[I]=P,Z=I):($[Z]=D,$[T]=P,Z=T);else if(I<C&&0>o(ae,P))$[Z]=ae,$[I]=P,Z=I;else break e}}return W}function o($,W){var P=$.sortIndex-W.sortIndex;return P!==0?P:$.id-W.id}if(a.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;a.unstable_now=function(){return u.now()}}else{var h=Date,d=h.now();a.unstable_now=function(){return h.now()-d}}var p=[],m=[],b=1,_=null,S=3,E=!1,R=!1,j=!1,A=!1,k=typeof setTimeout=="function"?setTimeout:null,O=typeof clearTimeout=="function"?clearTimeout:null,U=typeof setImmediate<"u"?setImmediate:null;function X($){for(var W=r(m);W!==null;){if(W.callback===null)i(m);else if(W.startTime<=$)i(m),W.sortIndex=W.expirationTime,n(p,W);else break;W=r(m)}}function ee($){if(j=!1,X($),!R)if(r(p)!==null)R=!0,te||(te=!0,Ee());else{var W=r(m);W!==null&&le(ee,W.startTime-$)}}var te=!1,F=-1,ie=5,H=-1;function me(){return A?!0:!(a.unstable_now()-H<ie)}function fe(){if(A=!1,te){var $=a.unstable_now();H=$;var W=!0;try{e:{R=!1,j&&(j=!1,O(F),F=-1),E=!0;var P=S;try{t:{for(X($),_=r(p);_!==null&&!(_.expirationTime>$&&me());){var Z=_.callback;if(typeof Z=="function"){_.callback=null,S=_.priorityLevel;var C=Z(_.expirationTime<=$);if($=a.unstable_now(),typeof C=="function"){_.callback=C,X($),W=!0;break t}_===r(p)&&i(p),X($)}else i(p);_=r(p)}if(_!==null)W=!0;else{var y=r(m);y!==null&&le(ee,y.startTime-$),W=!1}}break e}finally{_=null,S=P,E=!1}W=void 0}}finally{W?Ee():te=!1}}}var Ee;if(typeof U=="function")Ee=function(){U(fe)};else if(typeof MessageChannel<"u"){var Ne=new MessageChannel,ge=Ne.port2;Ne.port1.onmessage=fe,Ee=function(){ge.postMessage(null)}}else Ee=function(){k(fe,0)};function le($,W){F=k(function(){$(a.unstable_now())},W)}a.unstable_IdlePriority=5,a.unstable_ImmediatePriority=1,a.unstable_LowPriority=4,a.unstable_NormalPriority=3,a.unstable_Profiling=null,a.unstable_UserBlockingPriority=2,a.unstable_cancelCallback=function($){$.callback=null},a.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ie=0<$?Math.floor(1e3/$):5},a.unstable_getCurrentPriorityLevel=function(){return S},a.unstable_next=function($){switch(S){case 1:case 2:case 3:var W=3;break;default:W=S}var P=S;S=W;try{return $()}finally{S=P}},a.unstable_requestPaint=function(){A=!0},a.unstable_runWithPriority=function($,W){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var P=S;S=$;try{return W()}finally{S=P}},a.unstable_scheduleCallback=function($,W,P){var Z=a.unstable_now();switch(typeof P=="object"&&P!==null?(P=P.delay,P=typeof P=="number"&&0<P?Z+P:Z):P=Z,$){case 1:var C=-1;break;case 2:C=250;break;case 5:C=1073741823;break;case 4:C=1e4;break;default:C=5e3}return C=P+C,$={id:b++,callback:W,priorityLevel:$,startTime:P,expirationTime:C,sortIndex:-1},P>Z?($.sortIndex=P,n(m,$),r(p)===null&&$===r(m)&&(j?(O(F),F=-1):j=!0,le(ee,P-Z))):($.sortIndex=C,n(p,$),R||E||(R=!0,te||(te=!0,Ee()))),$},a.unstable_shouldYield=me,a.unstable_wrapCallback=function($){var W=S;return function(){var P=S;S=W;try{return $.apply(this,arguments)}finally{S=P}}}})(Eh)),Eh}var Ay;function Yx(){return Ay||(Ay=1,Sh.exports=Gx()),Sh.exports}var Th={exports:{}},jt={};var Cy;function Kx(){if(Cy)return jt;Cy=1;var a=wf();function n(p){var m="https://react.dev/errors/"+p;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var b=2;b<arguments.length;b++)m+="&args[]="+encodeURIComponent(arguments[b])}return"Minified React error #"+p+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var i={d:{f:r,r:function(){throw Error(n(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,m,b){var _=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:_==null?null:""+_,children:p,containerInfo:m,implementation:b}}var h=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(p,m){if(p==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return jt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,jt.createPortal=function(p,m){var b=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(n(299));return u(p,m,null,b)},jt.flushSync=function(p){var m=h.T,b=i.p;try{if(h.T=null,i.p=2,p)return p()}finally{h.T=m,i.p=b,i.d.f()}},jt.preconnect=function(p,m){typeof p=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,i.d.C(p,m))},jt.prefetchDNS=function(p){typeof p=="string"&&i.d.D(p)},jt.preinit=function(p,m){if(typeof p=="string"&&m&&typeof m.as=="string"){var b=m.as,_=d(b,m.crossOrigin),S=typeof m.integrity=="string"?m.integrity:void 0,E=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;b==="style"?i.d.S(p,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:_,integrity:S,fetchPriority:E}):b==="script"&&i.d.X(p,{crossOrigin:_,integrity:S,fetchPriority:E,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},jt.preinitModule=function(p,m){if(typeof p=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var b=d(m.as,m.crossOrigin);i.d.M(p,{crossOrigin:b,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&i.d.M(p)},jt.preload=function(p,m){if(typeof p=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var b=m.as,_=d(b,m.crossOrigin);i.d.L(p,b,{crossOrigin:_,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},jt.preloadModule=function(p,m){if(typeof p=="string")if(m){var b=d(m.as,m.crossOrigin);i.d.m(p,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:b,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else i.d.m(p)},jt.requestFormReset=function(p){i.d.r(p)},jt.unstable_batchedUpdates=function(p,m){return p(m)},jt.useFormState=function(p,m,b){return h.H.useFormState(p,m,b)},jt.useFormStatus=function(){return h.H.useHostTransitionStatus()},jt.version="19.2.4",jt}var Ry;function Jx(){if(Ry)return Th.exports;Ry=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(n){console.error(n)}}return a(),Th.exports=Kx(),Th.exports}var jy;function Zx(){if(jy)return yi;jy=1;var a=Yx(),n=wf(),r=Jx();function i(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)t+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function u(e){var t=e,s=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(s=t.return),e=t.return;while(e)}return t.tag===3?s:null}function h(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function d(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function p(e){if(u(e)!==e)throw Error(i(188))}function m(e){var t=e.alternate;if(!t){if(t=u(e),t===null)throw Error(i(188));return t!==e?null:e}for(var s=e,l=t;;){var c=s.return;if(c===null)break;var f=c.alternate;if(f===null){if(l=c.return,l!==null){s=l;continue}break}if(c.child===f.child){for(f=c.child;f;){if(f===s)return p(c),e;if(f===l)return p(c),t;f=f.sibling}throw Error(i(188))}if(s.return!==l.return)s=c,l=f;else{for(var g=!1,w=c.child;w;){if(w===s){g=!0,s=c,l=f;break}if(w===l){g=!0,l=c,s=f;break}w=w.sibling}if(!g){for(w=f.child;w;){if(w===s){g=!0,s=f,l=c;break}if(w===l){g=!0,l=f,s=c;break}w=w.sibling}if(!g)throw Error(i(189))}}if(s.alternate!==l)throw Error(i(190))}if(s.tag!==3)throw Error(i(188));return s.stateNode.current===s?e:t}function b(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=b(e),t!==null)return t;e=e.sibling}return null}var _=Object.assign,S=Symbol.for("react.element"),E=Symbol.for("react.transitional.element"),R=Symbol.for("react.portal"),j=Symbol.for("react.fragment"),A=Symbol.for("react.strict_mode"),k=Symbol.for("react.profiler"),O=Symbol.for("react.consumer"),U=Symbol.for("react.context"),X=Symbol.for("react.forward_ref"),ee=Symbol.for("react.suspense"),te=Symbol.for("react.suspense_list"),F=Symbol.for("react.memo"),ie=Symbol.for("react.lazy"),H=Symbol.for("react.activity"),me=Symbol.for("react.memo_cache_sentinel"),fe=Symbol.iterator;function Ee(e){return e===null||typeof e!="object"?null:(e=fe&&e[fe]||e["@@iterator"],typeof e=="function"?e:null)}var Ne=Symbol.for("react.client.reference");function ge(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===Ne?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case j:return"Fragment";case k:return"Profiler";case A:return"StrictMode";case ee:return"Suspense";case te:return"SuspenseList";case H:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case R:return"Portal";case U:return e.displayName||"Context";case O:return(e._context.displayName||"Context")+".Consumer";case X:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case F:return t=e.displayName||null,t!==null?t:ge(e.type)||"Memo";case ie:t=e._payload,e=e._init;try{return ge(e(t))}catch{}}return null}var le=Array.isArray,$=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,W=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,P={pending:!1,data:null,method:null,action:null},Z=[],C=-1;function y(e){return{current:e}}function T(e){0>C||(e.current=Z[C],Z[C]=null,C--)}function D(e,t){C++,Z[C]=e.current,e.current=t}var I=y(null),ae=y(null),ne=y(null),oe=y(null);function be(e,t){switch(D(ne,t),D(ae,e),D(I,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?Fg(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=Fg(t),e=Pg(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}T(I),D(I,e)}function Ce(){T(I),T(ae),T(ne)}function Ha(e){e.memoizedState!==null&&D(oe,e);var t=I.current,s=Pg(t,e.type);t!==s&&(D(ae,e),D(I,s))}function Qi(e){ae.current===e&&(T(I),T(ae)),oe.current===e&&(T(oe),fi._currentValue=P)}var nu,_d;function Ia(e){if(nu===void 0)try{throw Error()}catch(s){var t=s.stack.trim().match(/\n( *(at )?)/);nu=t&&t[1]||"",_d=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+nu+e+_d}var au=!1;function su(e,t){if(!e||au)return"";au=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(t){var Q=function(){throw Error()};if(Object.defineProperty(Q.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Q,[])}catch(V){var z=V}Reflect.construct(e,[],Q)}else{try{Q.call()}catch(V){z=V}e.call(Q.prototype)}}else{try{throw Error()}catch(V){z=V}(Q=e())&&typeof Q.catch=="function"&&Q.catch(function(){})}}catch(V){if(V&&z&&typeof V.stack=="string")return[V.stack,z.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),g=f[0],w=f[1];if(g&&w){var N=g.split(`
`),q=w.split(`
`);for(c=l=0;l<N.length&&!N[l].includes("DetermineComponentFrameRoot");)l++;for(;c<q.length&&!q[c].includes("DetermineComponentFrameRoot");)c++;if(l===N.length||c===q.length)for(l=N.length-1,c=q.length-1;1<=l&&0<=c&&N[l]!==q[c];)c--;for(;1<=l&&0<=c;l--,c--)if(N[l]!==q[c]){if(l!==1||c!==1)do if(l--,c--,0>c||N[l]!==q[c]){var G=`
`+N[l].replace(" at new "," at ");return e.displayName&&G.includes("<anonymous>")&&(G=G.replace("<anonymous>",e.displayName)),G}while(1<=l&&0<=c);break}}}finally{au=!1,Error.prepareStackTrace=s}return(s=e?e.displayName||e.name:"")?Ia(s):""}function __(e,t){switch(e.tag){case 26:case 27:case 5:return Ia(e.type);case 16:return Ia("Lazy");case 13:return e.child!==t&&t!==null?Ia("Suspense Fallback"):Ia("Suspense");case 19:return Ia("SuspenseList");case 0:case 15:return su(e.type,!1);case 11:return su(e.type.render,!1);case 1:return su(e.type,!0);case 31:return Ia("Activity");default:return""}}function wd(e){try{var t="",s=null;do t+=__(e,s),s=e,e=e.return;while(e);return t}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var ru=Object.prototype.hasOwnProperty,iu=a.unstable_scheduleCallback,lu=a.unstable_cancelCallback,w_=a.unstable_shouldYield,x_=a.unstable_requestPaint,Pt=a.unstable_now,S_=a.unstable_getCurrentPriorityLevel,xd=a.unstable_ImmediatePriority,Sd=a.unstable_UserBlockingPriority,Xi=a.unstable_NormalPriority,E_=a.unstable_LowPriority,Ed=a.unstable_IdlePriority,T_=a.log,A_=a.unstable_setDisableYieldValue,Er=null,Gt=null;function oa(e){if(typeof T_=="function"&&A_(e),Gt&&typeof Gt.setStrictMode=="function")try{Gt.setStrictMode(Er,e)}catch{}}var Yt=Math.clz32?Math.clz32:j_,C_=Math.log,R_=Math.LN2;function j_(e){return e>>>=0,e===0?32:31-(C_(e)/R_|0)|0}var Wi=256,el=262144,tl=4194304;function Va(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function nl(e,t,s){var l=e.pendingLanes;if(l===0)return 0;var c=0,f=e.suspendedLanes,g=e.pingedLanes;e=e.warmLanes;var w=l&134217727;return w!==0?(l=w&~f,l!==0?c=Va(l):(g&=w,g!==0?c=Va(g):s||(s=w&~e,s!==0&&(c=Va(s))))):(w=l&~f,w!==0?c=Va(w):g!==0?c=Va(g):s||(s=l&~e,s!==0&&(c=Va(s)))),c===0?0:t!==0&&t!==c&&(t&f)===0&&(f=c&-c,s=t&-t,f>=s||f===32&&(s&4194048)!==0)?t:c}function Tr(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function O_(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Td(){var e=tl;return tl<<=1,(tl&62914560)===0&&(tl=4194304),e}function ou(e){for(var t=[],s=0;31>s;s++)t.push(e);return t}function Ar(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function N_(e,t,s,l,c,f){var g=e.pendingLanes;e.pendingLanes=s,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=s,e.entangledLanes&=s,e.errorRecoveryDisabledLanes&=s,e.shellSuspendCounter=0;var w=e.entanglements,N=e.expirationTimes,q=e.hiddenUpdates;for(s=g&~s;0<s;){var G=31-Yt(s),Q=1<<G;w[G]=0,N[G]=-1;var z=q[G];if(z!==null)for(q[G]=null,G=0;G<z.length;G++){var V=z[G];V!==null&&(V.lane&=-536870913)}s&=~Q}l!==0&&Ad(e,l,0),f!==0&&c===0&&e.tag!==0&&(e.suspendedLanes|=f&~(g&~t))}function Ad(e,t,s){e.pendingLanes|=t,e.suspendedLanes&=~t;var l=31-Yt(t);e.entangledLanes|=t,e.entanglements[l]=e.entanglements[l]|1073741824|s&261930}function Cd(e,t){var s=e.entangledLanes|=t;for(e=e.entanglements;s;){var l=31-Yt(s),c=1<<l;c&t|e[l]&t&&(e[l]|=t),s&=~c}}function Rd(e,t){var s=t&-t;return s=(s&42)!==0?1:uu(s),(s&(e.suspendedLanes|t))!==0?0:s}function uu(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function cu(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function jd(){var e=W.p;return e!==0?e:(e=window.event,e===void 0?32:py(e.type))}function Od(e,t){var s=W.p;try{return W.p=e,t()}finally{W.p=s}}var ua=Math.random().toString(36).slice(2),wt="__reactFiber$"+ua,Bt="__reactProps$"+ua,_s="__reactContainer$"+ua,hu="__reactEvents$"+ua,k_="__reactListeners$"+ua,L_="__reactHandles$"+ua,Nd="__reactResources$"+ua,Cr="__reactMarker$"+ua;function fu(e){delete e[wt],delete e[Bt],delete e[hu],delete e[k_],delete e[L_]}function ws(e){var t=e[wt];if(t)return t;for(var s=e.parentNode;s;){if(t=s[_s]||s[wt]){if(s=t.alternate,t.child!==null||s!==null&&s.child!==null)for(e=Xg(e);e!==null;){if(s=e[wt])return s;e=Xg(e)}return t}e=s,s=e.parentNode}return null}function xs(e){if(e=e[wt]||e[_s]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function Rr(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(i(33))}function Ss(e){var t=e[Nd];return t||(t=e[Nd]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function vt(e){e[Cr]=!0}var kd=new Set,Ld={};function Fa(e,t){Es(e,t),Es(e+"Capture",t)}function Es(e,t){for(Ld[e]=t,e=0;e<t.length;e++)kd.add(t[e])}var D_=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Dd={},Md={};function M_(e){return ru.call(Md,e)?!0:ru.call(Dd,e)?!1:D_.test(e)?Md[e]=!0:(Dd[e]=!0,!1)}function al(e,t,s){if(M_(t))if(s===null)e.removeAttribute(t);else{switch(typeof s){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var l=t.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+s)}}function sl(e,t,s){if(s===null)e.removeAttribute(t);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+s)}}function kn(e,t,s,l){if(l===null)e.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(s);return}e.setAttributeNS(t,s,""+l)}}function sn(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Ud(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function U_(e,t,s){var l=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var c=l.get,f=l.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return c.call(this)},set:function(g){s=""+g,f.call(this,g)}}),Object.defineProperty(e,t,{enumerable:l.enumerable}),{getValue:function(){return s},setValue:function(g){s=""+g},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function du(e){if(!e._valueTracker){var t=Ud(e)?"checked":"value";e._valueTracker=U_(e,t,""+e[t])}}function Bd(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var s=t.getValue(),l="";return e&&(l=Ud(e)?e.checked?"true":"false":e.value),e=l,e!==s?(t.setValue(e),!0):!1}function rl(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var B_=/[\n"\\]/g;function rn(e){return e.replace(B_,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function pu(e,t,s,l,c,f,g,w){e.name="",g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?e.type=g:e.removeAttribute("type"),t!=null?g==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+sn(t)):e.value!==""+sn(t)&&(e.value=""+sn(t)):g!=="submit"&&g!=="reset"||e.removeAttribute("value"),t!=null?mu(e,g,sn(t)):s!=null?mu(e,g,sn(s)):l!=null&&e.removeAttribute("value"),c==null&&f!=null&&(e.defaultChecked=!!f),c!=null&&(e.checked=c&&typeof c!="function"&&typeof c!="symbol"),w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?e.name=""+sn(w):e.removeAttribute("name")}function qd(e,t,s,l,c,f,g,w){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),t!=null||s!=null){if(!(f!=="submit"&&f!=="reset"||t!=null)){du(e);return}s=s!=null?""+sn(s):"",t=t!=null?""+sn(t):s,w||t===e.value||(e.value=t),e.defaultValue=t}l=l??c,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=w?e.checked:!!l,e.defaultChecked=!!l,g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(e.name=g),du(e)}function mu(e,t,s){t==="number"&&rl(e.ownerDocument)===e||e.defaultValue===""+s||(e.defaultValue=""+s)}function Ts(e,t,s,l){if(e=e.options,t){t={};for(var c=0;c<s.length;c++)t["$"+s[c]]=!0;for(s=0;s<e.length;s++)c=t.hasOwnProperty("$"+e[s].value),e[s].selected!==c&&(e[s].selected=c),c&&l&&(e[s].defaultSelected=!0)}else{for(s=""+sn(s),t=null,c=0;c<e.length;c++){if(e[c].value===s){e[c].selected=!0,l&&(e[c].defaultSelected=!0);return}t!==null||e[c].disabled||(t=e[c])}t!==null&&(t.selected=!0)}}function $d(e,t,s){if(t!=null&&(t=""+sn(t),t!==e.value&&(e.value=t),s==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=s!=null?""+sn(s):""}function zd(e,t,s,l){if(t==null){if(l!=null){if(s!=null)throw Error(i(92));if(le(l)){if(1<l.length)throw Error(i(93));l=l[0]}s=l}s==null&&(s=""),t=s}s=sn(t),e.defaultValue=s,l=e.textContent,l===s&&l!==""&&l!==null&&(e.value=l),du(e)}function As(e,t){if(t){var s=e.firstChild;if(s&&s===e.lastChild&&s.nodeType===3){s.nodeValue=t;return}}e.textContent=t}var q_=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Hd(e,t,s){var l=t.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?l?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":l?e.setProperty(t,s):typeof s!="number"||s===0||q_.has(t)?t==="float"?e.cssFloat=s:e[t]=(""+s).trim():e[t]=s+"px"}function Id(e,t,s){if(t!=null&&typeof t!="object")throw Error(i(62));if(e=e.style,s!=null){for(var l in s)!s.hasOwnProperty(l)||t!=null&&t.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var c in t)l=t[c],t.hasOwnProperty(c)&&s[c]!==l&&Hd(e,c,l)}else for(var f in t)t.hasOwnProperty(f)&&Hd(e,f,t[f])}function gu(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var $_=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),z_=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function il(e){return z_.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Ln(){}var yu=null;function vu(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Cs=null,Rs=null;function Vd(e){var t=xs(e);if(t&&(e=t.stateNode)){var s=e[Bt]||null;e:switch(e=t.stateNode,t.type){case"input":if(pu(e,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),t=s.name,s.type==="radio"&&t!=null){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+rn(""+t)+'"][type="radio"]'),t=0;t<s.length;t++){var l=s[t];if(l!==e&&l.form===e.form){var c=l[Bt]||null;if(!c)throw Error(i(90));pu(l,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(t=0;t<s.length;t++)l=s[t],l.form===e.form&&Bd(l)}break e;case"textarea":$d(e,s.value,s.defaultValue);break e;case"select":t=s.value,t!=null&&Ts(e,!!s.multiple,t,!1)}}}var bu=!1;function Fd(e,t,s){if(bu)return e(t,s);bu=!0;try{var l=e(t);return l}finally{if(bu=!1,(Cs!==null||Rs!==null)&&(Yl(),Cs&&(t=Cs,e=Rs,Rs=Cs=null,Vd(t),e)))for(t=0;t<e.length;t++)Vd(e[t])}}function jr(e,t){var s=e.stateNode;if(s===null)return null;var l=s[Bt]||null;if(l===null)return null;s=l[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break e;default:e=!1}if(e)return null;if(s&&typeof s!="function")throw Error(i(231,t,typeof s));return s}var Dn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),_u=!1;if(Dn)try{var Or={};Object.defineProperty(Or,"passive",{get:function(){_u=!0}}),window.addEventListener("test",Or,Or),window.removeEventListener("test",Or,Or)}catch{_u=!1}var ca=null,wu=null,ll=null;function Pd(){if(ll)return ll;var e,t=wu,s=t.length,l,c="value"in ca?ca.value:ca.textContent,f=c.length;for(e=0;e<s&&t[e]===c[e];e++);var g=s-e;for(l=1;l<=g&&t[s-l]===c[f-l];l++);return ll=c.slice(e,1<l?1-l:void 0)}function ol(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function ul(){return!0}function Gd(){return!1}function qt(e){function t(s,l,c,f,g){this._reactName=s,this._targetInst=c,this.type=l,this.nativeEvent=f,this.target=g,this.currentTarget=null;for(var w in e)e.hasOwnProperty(w)&&(s=e[w],this[w]=s?s(f):f[w]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?ul:Gd,this.isPropagationStopped=Gd,this}return _(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=ul)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=ul)},persist:function(){},isPersistent:ul}),t}var Pa={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},cl=qt(Pa),Nr=_({},Pa,{view:0,detail:0}),H_=qt(Nr),xu,Su,kr,hl=_({},Nr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Tu,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==kr&&(kr&&e.type==="mousemove"?(xu=e.screenX-kr.screenX,Su=e.screenY-kr.screenY):Su=xu=0,kr=e),xu)},movementY:function(e){return"movementY"in e?e.movementY:Su}}),Yd=qt(hl),I_=_({},hl,{dataTransfer:0}),V_=qt(I_),F_=_({},Nr,{relatedTarget:0}),Eu=qt(F_),P_=_({},Pa,{animationName:0,elapsedTime:0,pseudoElement:0}),G_=qt(P_),Y_=_({},Pa,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),K_=qt(Y_),J_=_({},Pa,{data:0}),Kd=qt(J_),Z_={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Q_={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},X_={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function W_(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=X_[e])?!!t[e]:!1}function Tu(){return W_}var ew=_({},Nr,{key:function(e){if(e.key){var t=Z_[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=ol(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Q_[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Tu,charCode:function(e){return e.type==="keypress"?ol(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ol(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),tw=qt(ew),nw=_({},hl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Jd=qt(nw),aw=_({},Nr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Tu}),sw=qt(aw),rw=_({},Pa,{propertyName:0,elapsedTime:0,pseudoElement:0}),iw=qt(rw),lw=_({},hl,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),ow=qt(lw),uw=_({},Pa,{newState:0,oldState:0}),cw=qt(uw),hw=[9,13,27,32],Au=Dn&&"CompositionEvent"in window,Lr=null;Dn&&"documentMode"in document&&(Lr=document.documentMode);var fw=Dn&&"TextEvent"in window&&!Lr,Zd=Dn&&(!Au||Lr&&8<Lr&&11>=Lr),Qd=" ",Xd=!1;function Wd(e,t){switch(e){case"keyup":return hw.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ep(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var js=!1;function dw(e,t){switch(e){case"compositionend":return ep(t);case"keypress":return t.which!==32?null:(Xd=!0,Qd);case"textInput":return e=t.data,e===Qd&&Xd?null:e;default:return null}}function pw(e,t){if(js)return e==="compositionend"||!Au&&Wd(e,t)?(e=Pd(),ll=wu=ca=null,js=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Zd&&t.locale!=="ko"?null:t.data;default:return null}}var mw={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function tp(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!mw[e.type]:t==="textarea"}function np(e,t,s,l){Cs?Rs?Rs.push(l):Rs=[l]:Cs=l,t=eo(t,"onChange"),0<t.length&&(s=new cl("onChange","change",null,s,l),e.push({event:s,listeners:t}))}var Dr=null,Mr=null;function gw(e){qg(e,0)}function fl(e){var t=Rr(e);if(Bd(t))return e}function ap(e,t){if(e==="change")return t}var sp=!1;if(Dn){var Cu;if(Dn){var Ru="oninput"in document;if(!Ru){var rp=document.createElement("div");rp.setAttribute("oninput","return;"),Ru=typeof rp.oninput=="function"}Cu=Ru}else Cu=!1;sp=Cu&&(!document.documentMode||9<document.documentMode)}function ip(){Dr&&(Dr.detachEvent("onpropertychange",lp),Mr=Dr=null)}function lp(e){if(e.propertyName==="value"&&fl(Mr)){var t=[];np(t,Mr,e,vu(e)),Fd(gw,t)}}function yw(e,t,s){e==="focusin"?(ip(),Dr=t,Mr=s,Dr.attachEvent("onpropertychange",lp)):e==="focusout"&&ip()}function vw(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return fl(Mr)}function bw(e,t){if(e==="click")return fl(t)}function _w(e,t){if(e==="input"||e==="change")return fl(t)}function ww(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Kt=typeof Object.is=="function"?Object.is:ww;function Ur(e,t){if(Kt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var s=Object.keys(e),l=Object.keys(t);if(s.length!==l.length)return!1;for(l=0;l<s.length;l++){var c=s[l];if(!ru.call(t,c)||!Kt(e[c],t[c]))return!1}return!0}function op(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function up(e,t){var s=op(e);e=0;for(var l;s;){if(s.nodeType===3){if(l=e+s.textContent.length,e<=t&&l>=t)return{node:s,offset:t-e};e=l}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=op(s)}}function cp(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?cp(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function hp(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=rl(e.document);t instanceof e.HTMLIFrameElement;){try{var s=typeof t.contentWindow.location.href=="string"}catch{s=!1}if(s)e=t.contentWindow;else break;t=rl(e.document)}return t}function ju(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var xw=Dn&&"documentMode"in document&&11>=document.documentMode,Os=null,Ou=null,Br=null,Nu=!1;function fp(e,t,s){var l=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;Nu||Os==null||Os!==rl(l)||(l=Os,"selectionStart"in l&&ju(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Br&&Ur(Br,l)||(Br=l,l=eo(Ou,"onSelect"),0<l.length&&(t=new cl("onSelect","select",null,t,s),e.push({event:t,listeners:l}),t.target=Os)))}function Ga(e,t){var s={};return s[e.toLowerCase()]=t.toLowerCase(),s["Webkit"+e]="webkit"+t,s["Moz"+e]="moz"+t,s}var Ns={animationend:Ga("Animation","AnimationEnd"),animationiteration:Ga("Animation","AnimationIteration"),animationstart:Ga("Animation","AnimationStart"),transitionrun:Ga("Transition","TransitionRun"),transitionstart:Ga("Transition","TransitionStart"),transitioncancel:Ga("Transition","TransitionCancel"),transitionend:Ga("Transition","TransitionEnd")},ku={},dp={};Dn&&(dp=document.createElement("div").style,"AnimationEvent"in window||(delete Ns.animationend.animation,delete Ns.animationiteration.animation,delete Ns.animationstart.animation),"TransitionEvent"in window||delete Ns.transitionend.transition);function Ya(e){if(ku[e])return ku[e];if(!Ns[e])return e;var t=Ns[e],s;for(s in t)if(t.hasOwnProperty(s)&&s in dp)return ku[e]=t[s];return e}var pp=Ya("animationend"),mp=Ya("animationiteration"),gp=Ya("animationstart"),Sw=Ya("transitionrun"),Ew=Ya("transitionstart"),Tw=Ya("transitioncancel"),yp=Ya("transitionend"),vp=new Map,Lu="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Lu.push("scrollEnd");function bn(e,t){vp.set(e,t),Fa(t,[e])}var dl=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},ln=[],ks=0,Du=0;function pl(){for(var e=ks,t=Du=ks=0;t<e;){var s=ln[t];ln[t++]=null;var l=ln[t];ln[t++]=null;var c=ln[t];ln[t++]=null;var f=ln[t];if(ln[t++]=null,l!==null&&c!==null){var g=l.pending;g===null?c.next=c:(c.next=g.next,g.next=c),l.pending=c}f!==0&&bp(s,c,f)}}function ml(e,t,s,l){ln[ks++]=e,ln[ks++]=t,ln[ks++]=s,ln[ks++]=l,Du|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function Mu(e,t,s,l){return ml(e,t,s,l),gl(e)}function Ka(e,t){return ml(e,null,null,t),gl(e)}function bp(e,t,s){e.lanes|=s;var l=e.alternate;l!==null&&(l.lanes|=s);for(var c=!1,f=e.return;f!==null;)f.childLanes|=s,l=f.alternate,l!==null&&(l.childLanes|=s),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(c=!0)),e=f,f=f.return;return e.tag===3?(f=e.stateNode,c&&t!==null&&(c=31-Yt(s),e=f.hiddenUpdates,l=e[c],l===null?e[c]=[t]:l.push(t),t.lane=s|536870912),f):null}function gl(e){if(50<ri)throw ri=0,Fc=null,Error(i(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var Ls={};function Aw(e,t,s,l){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Jt(e,t,s,l){return new Aw(e,t,s,l)}function Uu(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Mn(e,t){var s=e.alternate;return s===null?(s=Jt(e.tag,t,e.key,e.mode),s.elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=t,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=e.flags&65011712,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,t=e.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s.refCleanup=e.refCleanup,s}function _p(e,t){e.flags&=65011714;var s=e.alternate;return s===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=s.childLanes,e.lanes=s.lanes,e.child=s.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=s.memoizedProps,e.memoizedState=s.memoizedState,e.updateQueue=s.updateQueue,e.type=s.type,t=s.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function yl(e,t,s,l,c,f){var g=0;if(l=e,typeof e=="function")Uu(e)&&(g=1);else if(typeof e=="string")g=Nx(e,s,I.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case H:return e=Jt(31,s,t,c),e.elementType=H,e.lanes=f,e;case j:return Ja(s.children,c,f,t);case A:g=8,c|=24;break;case k:return e=Jt(12,s,t,c|2),e.elementType=k,e.lanes=f,e;case ee:return e=Jt(13,s,t,c),e.elementType=ee,e.lanes=f,e;case te:return e=Jt(19,s,t,c),e.elementType=te,e.lanes=f,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case U:g=10;break e;case O:g=9;break e;case X:g=11;break e;case F:g=14;break e;case ie:g=16,l=null;break e}g=29,s=Error(i(130,e===null?"null":typeof e,"")),l=null}return t=Jt(g,s,t,c),t.elementType=e,t.type=l,t.lanes=f,t}function Ja(e,t,s,l){return e=Jt(7,e,l,t),e.lanes=s,e}function Bu(e,t,s){return e=Jt(6,e,null,t),e.lanes=s,e}function wp(e){var t=Jt(18,null,null,0);return t.stateNode=e,t}function qu(e,t,s){return t=Jt(4,e.children!==null?e.children:[],e.key,t),t.lanes=s,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var xp=new WeakMap;function on(e,t){if(typeof e=="object"&&e!==null){var s=xp.get(e);return s!==void 0?s:(t={value:e,source:t,stack:wd(t)},xp.set(e,t),t)}return{value:e,source:t,stack:wd(t)}}var Ds=[],Ms=0,vl=null,qr=0,un=[],cn=0,ha=null,An=1,Cn="";function Un(e,t){Ds[Ms++]=qr,Ds[Ms++]=vl,vl=e,qr=t}function Sp(e,t,s){un[cn++]=An,un[cn++]=Cn,un[cn++]=ha,ha=e;var l=An;e=Cn;var c=32-Yt(l)-1;l&=~(1<<c),s+=1;var f=32-Yt(t)+c;if(30<f){var g=c-c%5;f=(l&(1<<g)-1).toString(32),l>>=g,c-=g,An=1<<32-Yt(t)+c|s<<c|l,Cn=f+e}else An=1<<f|s<<c|l,Cn=e}function $u(e){e.return!==null&&(Un(e,1),Sp(e,1,0))}function zu(e){for(;e===vl;)vl=Ds[--Ms],Ds[Ms]=null,qr=Ds[--Ms],Ds[Ms]=null;for(;e===ha;)ha=un[--cn],un[cn]=null,Cn=un[--cn],un[cn]=null,An=un[--cn],un[cn]=null}function Ep(e,t){un[cn++]=An,un[cn++]=Cn,un[cn++]=ha,An=t.id,Cn=t.overflow,ha=e}var xt=null,Qe=null,Me=!1,fa=null,hn=!1,Hu=Error(i(519));function da(e){var t=Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw $r(on(t,e)),Hu}function Tp(e){var t=e.stateNode,s=e.type,l=e.memoizedProps;switch(t[wt]=e,t[Bt]=l,s){case"dialog":Oe("cancel",t),Oe("close",t);break;case"iframe":case"object":case"embed":Oe("load",t);break;case"video":case"audio":for(s=0;s<li.length;s++)Oe(li[s],t);break;case"source":Oe("error",t);break;case"img":case"image":case"link":Oe("error",t),Oe("load",t);break;case"details":Oe("toggle",t);break;case"input":Oe("invalid",t),qd(t,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Oe("invalid",t);break;case"textarea":Oe("invalid",t),zd(t,l.value,l.defaultValue,l.children)}s=l.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||t.textContent===""+s||l.suppressHydrationWarning===!0||Ig(t.textContent,s)?(l.popover!=null&&(Oe("beforetoggle",t),Oe("toggle",t)),l.onScroll!=null&&Oe("scroll",t),l.onScrollEnd!=null&&Oe("scrollend",t),l.onClick!=null&&(t.onclick=Ln),t=!0):t=!1,t||da(e,!0)}function Ap(e){for(xt=e.return;xt;)switch(xt.tag){case 5:case 31:case 13:hn=!1;return;case 27:case 3:hn=!0;return;default:xt=xt.return}}function Us(e){if(e!==xt)return!1;if(!Me)return Ap(e),Me=!0,!1;var t=e.tag,s;if((s=t!==3&&t!==27)&&((s=t===5)&&(s=e.type,s=!(s!=="form"&&s!=="button")||rh(e.type,e.memoizedProps)),s=!s),s&&Qe&&da(e),Ap(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(i(317));Qe=Qg(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(i(317));Qe=Qg(e)}else t===27?(t=Qe,Ca(e.type)?(e=ch,ch=null,Qe=e):Qe=t):Qe=xt?dn(e.stateNode.nextSibling):null;return!0}function Za(){Qe=xt=null,Me=!1}function Iu(){var e=fa;return e!==null&&(It===null?It=e:It.push.apply(It,e),fa=null),e}function $r(e){fa===null?fa=[e]:fa.push(e)}var Vu=y(null),Qa=null,Bn=null;function pa(e,t,s){D(Vu,t._currentValue),t._currentValue=s}function qn(e){e._currentValue=Vu.current,T(Vu)}function Fu(e,t,s){for(;e!==null;){var l=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,l!==null&&(l.childLanes|=t)):l!==null&&(l.childLanes&t)!==t&&(l.childLanes|=t),e===s)break;e=e.return}}function Pu(e,t,s,l){var c=e.child;for(c!==null&&(c.return=e);c!==null;){var f=c.dependencies;if(f!==null){var g=c.child;f=f.firstContext;e:for(;f!==null;){var w=f;f=c;for(var N=0;N<t.length;N++)if(w.context===t[N]){f.lanes|=s,w=f.alternate,w!==null&&(w.lanes|=s),Fu(f.return,s,e),l||(g=null);break e}f=w.next}}else if(c.tag===18){if(g=c.return,g===null)throw Error(i(341));g.lanes|=s,f=g.alternate,f!==null&&(f.lanes|=s),Fu(g,s,e),g=null}else g=c.child;if(g!==null)g.return=c;else for(g=c;g!==null;){if(g===e){g=null;break}if(c=g.sibling,c!==null){c.return=g.return,g=c;break}g=g.return}c=g}}function Bs(e,t,s,l){e=null;for(var c=t,f=!1;c!==null;){if(!f){if((c.flags&524288)!==0)f=!0;else if((c.flags&262144)!==0)break}if(c.tag===10){var g=c.alternate;if(g===null)throw Error(i(387));if(g=g.memoizedProps,g!==null){var w=c.type;Kt(c.pendingProps.value,g.value)||(e!==null?e.push(w):e=[w])}}else if(c===oe.current){if(g=c.alternate,g===null)throw Error(i(387));g.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(e!==null?e.push(fi):e=[fi])}c=c.return}e!==null&&Pu(t,e,s,l),t.flags|=262144}function bl(e){for(e=e.firstContext;e!==null;){if(!Kt(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Xa(e){Qa=e,Bn=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function St(e){return Cp(Qa,e)}function _l(e,t){return Qa===null&&Xa(e),Cp(e,t)}function Cp(e,t){var s=t._currentValue;if(t={context:t,memoizedValue:s,next:null},Bn===null){if(e===null)throw Error(i(308));Bn=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else Bn=Bn.next=t;return s}var Cw=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(s,l){e.push(l)}};this.abort=function(){t.aborted=!0,e.forEach(function(s){return s()})}},Rw=a.unstable_scheduleCallback,jw=a.unstable_NormalPriority,ut={$$typeof:U,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Gu(){return{controller:new Cw,data:new Map,refCount:0}}function zr(e){e.refCount--,e.refCount===0&&Rw(jw,function(){e.controller.abort()})}var Hr=null,Yu=0,qs=0,$s=null;function Ow(e,t){if(Hr===null){var s=Hr=[];Yu=0,qs=Zc(),$s={status:"pending",value:void 0,then:function(l){s.push(l)}}}return Yu++,t.then(Rp,Rp),t}function Rp(){if(--Yu===0&&Hr!==null){$s!==null&&($s.status="fulfilled");var e=Hr;Hr=null,qs=0,$s=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function Nw(e,t){var s=[],l={status:"pending",value:null,reason:null,then:function(c){s.push(c)}};return e.then(function(){l.status="fulfilled",l.value=t;for(var c=0;c<s.length;c++)(0,s[c])(t)},function(c){for(l.status="rejected",l.reason=c,c=0;c<s.length;c++)(0,s[c])(void 0)}),l}var jp=$.S;$.S=function(e,t){fg=Pt(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&Ow(e,t),jp!==null&&jp(e,t)};var Wa=y(null);function Ku(){var e=Wa.current;return e!==null?e:Ge.pooledCache}function wl(e,t){t===null?D(Wa,Wa.current):D(Wa,t.pool)}function Op(){var e=Ku();return e===null?null:{parent:ut._currentValue,pool:e}}var zs=Error(i(460)),Ju=Error(i(474)),xl=Error(i(542)),Sl={then:function(){}};function Np(e){return e=e.status,e==="fulfilled"||e==="rejected"}function kp(e,t,s){switch(s=e[s],s===void 0?e.push(t):s!==t&&(t.then(Ln,Ln),t=s),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Dp(e),e;default:if(typeof t.status=="string")t.then(Ln,Ln);else{if(e=Ge,e!==null&&100<e.shellSuspendCounter)throw Error(i(482));e=t,e.status="pending",e.then(function(l){if(t.status==="pending"){var c=t;c.status="fulfilled",c.value=l}},function(l){if(t.status==="pending"){var c=t;c.status="rejected",c.reason=l}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Dp(e),e}throw ts=t,zs}}function es(e){try{var t=e._init;return t(e._payload)}catch(s){throw s!==null&&typeof s=="object"&&typeof s.then=="function"?(ts=s,zs):s}}var ts=null;function Lp(){if(ts===null)throw Error(i(459));var e=ts;return ts=null,e}function Dp(e){if(e===zs||e===xl)throw Error(i(483))}var Hs=null,Ir=0;function El(e){var t=Ir;return Ir+=1,Hs===null&&(Hs=[]),kp(Hs,e,t)}function Vr(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function Tl(e,t){throw t.$$typeof===S?Error(i(525)):(e=Object.prototype.toString.call(t),Error(i(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function Mp(e){function t(M,L){if(e){var B=M.deletions;B===null?(M.deletions=[L],M.flags|=16):B.push(L)}}function s(M,L){if(!e)return null;for(;L!==null;)t(M,L),L=L.sibling;return null}function l(M){for(var L=new Map;M!==null;)M.key!==null?L.set(M.key,M):L.set(M.index,M),M=M.sibling;return L}function c(M,L){return M=Mn(M,L),M.index=0,M.sibling=null,M}function f(M,L,B){return M.index=B,e?(B=M.alternate,B!==null?(B=B.index,B<L?(M.flags|=67108866,L):B):(M.flags|=67108866,L)):(M.flags|=1048576,L)}function g(M){return e&&M.alternate===null&&(M.flags|=67108866),M}function w(M,L,B,J){return L===null||L.tag!==6?(L=Bu(B,M.mode,J),L.return=M,L):(L=c(L,B),L.return=M,L)}function N(M,L,B,J){var de=B.type;return de===j?G(M,L,B.props.children,J,B.key):L!==null&&(L.elementType===de||typeof de=="object"&&de!==null&&de.$$typeof===ie&&es(de)===L.type)?(L=c(L,B.props),Vr(L,B),L.return=M,L):(L=yl(B.type,B.key,B.props,null,M.mode,J),Vr(L,B),L.return=M,L)}function q(M,L,B,J){return L===null||L.tag!==4||L.stateNode.containerInfo!==B.containerInfo||L.stateNode.implementation!==B.implementation?(L=qu(B,M.mode,J),L.return=M,L):(L=c(L,B.children||[]),L.return=M,L)}function G(M,L,B,J,de){return L===null||L.tag!==7?(L=Ja(B,M.mode,J,de),L.return=M,L):(L=c(L,B),L.return=M,L)}function Q(M,L,B){if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return L=Bu(""+L,M.mode,B),L.return=M,L;if(typeof L=="object"&&L!==null){switch(L.$$typeof){case E:return B=yl(L.type,L.key,L.props,null,M.mode,B),Vr(B,L),B.return=M,B;case R:return L=qu(L,M.mode,B),L.return=M,L;case ie:return L=es(L),Q(M,L,B)}if(le(L)||Ee(L))return L=Ja(L,M.mode,B,null),L.return=M,L;if(typeof L.then=="function")return Q(M,El(L),B);if(L.$$typeof===U)return Q(M,_l(M,L),B);Tl(M,L)}return null}function z(M,L,B,J){var de=L!==null?L.key:null;if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return de!==null?null:w(M,L,""+B,J);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case E:return B.key===de?N(M,L,B,J):null;case R:return B.key===de?q(M,L,B,J):null;case ie:return B=es(B),z(M,L,B,J)}if(le(B)||Ee(B))return de!==null?null:G(M,L,B,J,null);if(typeof B.then=="function")return z(M,L,El(B),J);if(B.$$typeof===U)return z(M,L,_l(M,B),J);Tl(M,B)}return null}function V(M,L,B,J,de){if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return M=M.get(B)||null,w(L,M,""+J,de);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case E:return M=M.get(J.key===null?B:J.key)||null,N(L,M,J,de);case R:return M=M.get(J.key===null?B:J.key)||null,q(L,M,J,de);case ie:return J=es(J),V(M,L,B,J,de)}if(le(J)||Ee(J))return M=M.get(B)||null,G(L,M,J,de,null);if(typeof J.then=="function")return V(M,L,B,El(J),de);if(J.$$typeof===U)return V(M,L,B,_l(L,J),de);Tl(L,J)}return null}function ue(M,L,B,J){for(var de=null,Be=null,ce=L,Te=L=0,Le=null;ce!==null&&Te<B.length;Te++){ce.index>Te?(Le=ce,ce=null):Le=ce.sibling;var qe=z(M,ce,B[Te],J);if(qe===null){ce===null&&(ce=Le);break}e&&ce&&qe.alternate===null&&t(M,ce),L=f(qe,L,Te),Be===null?de=qe:Be.sibling=qe,Be=qe,ce=Le}if(Te===B.length)return s(M,ce),Me&&Un(M,Te),de;if(ce===null){for(;Te<B.length;Te++)ce=Q(M,B[Te],J),ce!==null&&(L=f(ce,L,Te),Be===null?de=ce:Be.sibling=ce,Be=ce);return Me&&Un(M,Te),de}for(ce=l(ce);Te<B.length;Te++)Le=V(ce,M,Te,B[Te],J),Le!==null&&(e&&Le.alternate!==null&&ce.delete(Le.key===null?Te:Le.key),L=f(Le,L,Te),Be===null?de=Le:Be.sibling=Le,Be=Le);return e&&ce.forEach(function(ka){return t(M,ka)}),Me&&Un(M,Te),de}function pe(M,L,B,J){if(B==null)throw Error(i(151));for(var de=null,Be=null,ce=L,Te=L=0,Le=null,qe=B.next();ce!==null&&!qe.done;Te++,qe=B.next()){ce.index>Te?(Le=ce,ce=null):Le=ce.sibling;var ka=z(M,ce,qe.value,J);if(ka===null){ce===null&&(ce=Le);break}e&&ce&&ka.alternate===null&&t(M,ce),L=f(ka,L,Te),Be===null?de=ka:Be.sibling=ka,Be=ka,ce=Le}if(qe.done)return s(M,ce),Me&&Un(M,Te),de;if(ce===null){for(;!qe.done;Te++,qe=B.next())qe=Q(M,qe.value,J),qe!==null&&(L=f(qe,L,Te),Be===null?de=qe:Be.sibling=qe,Be=qe);return Me&&Un(M,Te),de}for(ce=l(ce);!qe.done;Te++,qe=B.next())qe=V(ce,M,Te,qe.value,J),qe!==null&&(e&&qe.alternate!==null&&ce.delete(qe.key===null?Te:qe.key),L=f(qe,L,Te),Be===null?de=qe:Be.sibling=qe,Be=qe);return e&&ce.forEach(function(Ix){return t(M,Ix)}),Me&&Un(M,Te),de}function Pe(M,L,B,J){if(typeof B=="object"&&B!==null&&B.type===j&&B.key===null&&(B=B.props.children),typeof B=="object"&&B!==null){switch(B.$$typeof){case E:e:{for(var de=B.key;L!==null;){if(L.key===de){if(de=B.type,de===j){if(L.tag===7){s(M,L.sibling),J=c(L,B.props.children),J.return=M,M=J;break e}}else if(L.elementType===de||typeof de=="object"&&de!==null&&de.$$typeof===ie&&es(de)===L.type){s(M,L.sibling),J=c(L,B.props),Vr(J,B),J.return=M,M=J;break e}s(M,L);break}else t(M,L);L=L.sibling}B.type===j?(J=Ja(B.props.children,M.mode,J,B.key),J.return=M,M=J):(J=yl(B.type,B.key,B.props,null,M.mode,J),Vr(J,B),J.return=M,M=J)}return g(M);case R:e:{for(de=B.key;L!==null;){if(L.key===de)if(L.tag===4&&L.stateNode.containerInfo===B.containerInfo&&L.stateNode.implementation===B.implementation){s(M,L.sibling),J=c(L,B.children||[]),J.return=M,M=J;break e}else{s(M,L);break}else t(M,L);L=L.sibling}J=qu(B,M.mode,J),J.return=M,M=J}return g(M);case ie:return B=es(B),Pe(M,L,B,J)}if(le(B))return ue(M,L,B,J);if(Ee(B)){if(de=Ee(B),typeof de!="function")throw Error(i(150));return B=de.call(B),pe(M,L,B,J)}if(typeof B.then=="function")return Pe(M,L,El(B),J);if(B.$$typeof===U)return Pe(M,L,_l(M,B),J);Tl(M,B)}return typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint"?(B=""+B,L!==null&&L.tag===6?(s(M,L.sibling),J=c(L,B),J.return=M,M=J):(s(M,L),J=Bu(B,M.mode,J),J.return=M,M=J),g(M)):s(M,L)}return function(M,L,B,J){try{Ir=0;var de=Pe(M,L,B,J);return Hs=null,de}catch(ce){if(ce===zs||ce===xl)throw ce;var Be=Jt(29,ce,null,M.mode);return Be.lanes=J,Be.return=M,Be}}}var ns=Mp(!0),Up=Mp(!1),ma=!1;function Zu(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Qu(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function ga(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function ya(e,t,s){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,($e&2)!==0){var c=l.pending;return c===null?t.next=t:(t.next=c.next,c.next=t),l.pending=t,t=gl(e),bp(e,null,s),t}return ml(e,l,t,s),gl(e)}function Fr(e,t,s){if(t=t.updateQueue,t!==null&&(t=t.shared,(s&4194048)!==0)){var l=t.lanes;l&=e.pendingLanes,s|=l,t.lanes=s,Cd(e,s)}}function Xu(e,t){var s=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,s===l)){var c=null,f=null;if(s=s.firstBaseUpdate,s!==null){do{var g={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};f===null?c=f=g:f=f.next=g,s=s.next}while(s!==null);f===null?c=f=t:f=f.next=t}else c=f=t;s={baseState:l.baseState,firstBaseUpdate:c,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},e.updateQueue=s;return}e=s.lastBaseUpdate,e===null?s.firstBaseUpdate=t:e.next=t,s.lastBaseUpdate=t}var Wu=!1;function Pr(){if(Wu){var e=$s;if(e!==null)throw e}}function Gr(e,t,s,l){Wu=!1;var c=e.updateQueue;ma=!1;var f=c.firstBaseUpdate,g=c.lastBaseUpdate,w=c.shared.pending;if(w!==null){c.shared.pending=null;var N=w,q=N.next;N.next=null,g===null?f=q:g.next=q,g=N;var G=e.alternate;G!==null&&(G=G.updateQueue,w=G.lastBaseUpdate,w!==g&&(w===null?G.firstBaseUpdate=q:w.next=q,G.lastBaseUpdate=N))}if(f!==null){var Q=c.baseState;g=0,G=q=N=null,w=f;do{var z=w.lane&-536870913,V=z!==w.lane;if(V?(ke&z)===z:(l&z)===z){z!==0&&z===qs&&(Wu=!0),G!==null&&(G=G.next={lane:0,tag:w.tag,payload:w.payload,callback:null,next:null});e:{var ue=e,pe=w;z=t;var Pe=s;switch(pe.tag){case 1:if(ue=pe.payload,typeof ue=="function"){Q=ue.call(Pe,Q,z);break e}Q=ue;break e;case 3:ue.flags=ue.flags&-65537|128;case 0:if(ue=pe.payload,z=typeof ue=="function"?ue.call(Pe,Q,z):ue,z==null)break e;Q=_({},Q,z);break e;case 2:ma=!0}}z=w.callback,z!==null&&(e.flags|=64,V&&(e.flags|=8192),V=c.callbacks,V===null?c.callbacks=[z]:V.push(z))}else V={lane:z,tag:w.tag,payload:w.payload,callback:w.callback,next:null},G===null?(q=G=V,N=Q):G=G.next=V,g|=z;if(w=w.next,w===null){if(w=c.shared.pending,w===null)break;V=w,w=V.next,V.next=null,c.lastBaseUpdate=V,c.shared.pending=null}}while(!0);G===null&&(N=Q),c.baseState=N,c.firstBaseUpdate=q,c.lastBaseUpdate=G,f===null&&(c.shared.lanes=0),xa|=g,e.lanes=g,e.memoizedState=Q}}function Bp(e,t){if(typeof e!="function")throw Error(i(191,e));e.call(t)}function qp(e,t){var s=e.callbacks;if(s!==null)for(e.callbacks=null,e=0;e<s.length;e++)Bp(s[e],t)}var Is=y(null),Al=y(0);function $p(e,t){e=Yn,D(Al,e),D(Is,t),Yn=e|t.baseLanes}function ec(){D(Al,Yn),D(Is,Is.current)}function tc(){Yn=Al.current,T(Is),T(Al)}var Zt=y(null),fn=null;function va(e){var t=e.alternate;D(lt,lt.current&1),D(Zt,e),fn===null&&(t===null||Is.current!==null||t.memoizedState!==null)&&(fn=e)}function nc(e){D(lt,lt.current),D(Zt,e),fn===null&&(fn=e)}function zp(e){e.tag===22?(D(lt,lt.current),D(Zt,e),fn===null&&(fn=e)):ba()}function ba(){D(lt,lt.current),D(Zt,Zt.current)}function Qt(e){T(Zt),fn===e&&(fn=null),T(lt)}var lt=y(0);function Cl(e){for(var t=e;t!==null;){if(t.tag===13){var s=t.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||oh(s)||uh(s)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var $n=0,Se=null,Ve=null,ct=null,Rl=!1,Vs=!1,as=!1,jl=0,Yr=0,Fs=null,kw=0;function st(){throw Error(i(321))}function ac(e,t){if(t===null)return!1;for(var s=0;s<t.length&&s<e.length;s++)if(!Kt(e[s],t[s]))return!1;return!0}function sc(e,t,s,l,c,f){return $n=f,Se=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,$.H=e===null||e.memoizedState===null?Sm:bc,as=!1,f=s(l,c),as=!1,Vs&&(f=Ip(t,s,l,c)),Hp(e),f}function Hp(e){$.H=Zr;var t=Ve!==null&&Ve.next!==null;if($n=0,ct=Ve=Se=null,Rl=!1,Yr=0,Fs=null,t)throw Error(i(300));e===null||ht||(e=e.dependencies,e!==null&&bl(e)&&(ht=!0))}function Ip(e,t,s,l){Se=e;var c=0;do{if(Vs&&(Fs=null),Yr=0,Vs=!1,25<=c)throw Error(i(301));if(c+=1,ct=Ve=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}$.H=Em,f=t(s,l)}while(Vs);return f}function Lw(){var e=$.H,t=e.useState()[0];return t=typeof t.then=="function"?Kr(t):t,e=e.useState()[0],(Ve!==null?Ve.memoizedState:null)!==e&&(Se.flags|=1024),t}function rc(){var e=jl!==0;return jl=0,e}function ic(e,t,s){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s}function lc(e){if(Rl){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}Rl=!1}$n=0,ct=Ve=Se=null,Vs=!1,Yr=jl=0,Fs=null}function Lt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ct===null?Se.memoizedState=ct=e:ct=ct.next=e,ct}function ot(){if(Ve===null){var e=Se.alternate;e=e!==null?e.memoizedState:null}else e=Ve.next;var t=ct===null?Se.memoizedState:ct.next;if(t!==null)ct=t,Ve=e;else{if(e===null)throw Se.alternate===null?Error(i(467)):Error(i(310));Ve=e,e={memoizedState:Ve.memoizedState,baseState:Ve.baseState,baseQueue:Ve.baseQueue,queue:Ve.queue,next:null},ct===null?Se.memoizedState=ct=e:ct=ct.next=e}return ct}function Ol(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Kr(e){var t=Yr;return Yr+=1,Fs===null&&(Fs=[]),e=kp(Fs,e,t),t=Se,(ct===null?t.memoizedState:ct.next)===null&&(t=t.alternate,$.H=t===null||t.memoizedState===null?Sm:bc),e}function Nl(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Kr(e);if(e.$$typeof===U)return St(e)}throw Error(i(438,String(e)))}function oc(e){var t=null,s=Se.updateQueue;if(s!==null&&(t=s.memoCache),t==null){var l=Se.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(t={data:l.data.map(function(c){return c.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),s===null&&(s=Ol(),Se.updateQueue=s),s.memoCache=t,s=t.data[t.index],s===void 0)for(s=t.data[t.index]=Array(e),l=0;l<e;l++)s[l]=me;return t.index++,s}function zn(e,t){return typeof t=="function"?t(e):t}function kl(e){var t=ot();return uc(t,Ve,e)}function uc(e,t,s){var l=e.queue;if(l===null)throw Error(i(311));l.lastRenderedReducer=s;var c=e.baseQueue,f=l.pending;if(f!==null){if(c!==null){var g=c.next;c.next=f.next,f.next=g}t.baseQueue=c=f,l.pending=null}if(f=e.baseState,c===null)e.memoizedState=f;else{t=c.next;var w=g=null,N=null,q=t,G=!1;do{var Q=q.lane&-536870913;if(Q!==q.lane?(ke&Q)===Q:($n&Q)===Q){var z=q.revertLane;if(z===0)N!==null&&(N=N.next={lane:0,revertLane:0,gesture:null,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null}),Q===qs&&(G=!0);else if(($n&z)===z){q=q.next,z===qs&&(G=!0);continue}else Q={lane:0,revertLane:q.revertLane,gesture:null,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},N===null?(w=N=Q,g=f):N=N.next=Q,Se.lanes|=z,xa|=z;Q=q.action,as&&s(f,Q),f=q.hasEagerState?q.eagerState:s(f,Q)}else z={lane:Q,revertLane:q.revertLane,gesture:q.gesture,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},N===null?(w=N=z,g=f):N=N.next=z,Se.lanes|=Q,xa|=Q;q=q.next}while(q!==null&&q!==t);if(N===null?g=f:N.next=w,!Kt(f,e.memoizedState)&&(ht=!0,G&&(s=$s,s!==null)))throw s;e.memoizedState=f,e.baseState=g,e.baseQueue=N,l.lastRenderedState=f}return c===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function cc(e){var t=ot(),s=t.queue;if(s===null)throw Error(i(311));s.lastRenderedReducer=e;var l=s.dispatch,c=s.pending,f=t.memoizedState;if(c!==null){s.pending=null;var g=c=c.next;do f=e(f,g.action),g=g.next;while(g!==c);Kt(f,t.memoizedState)||(ht=!0),t.memoizedState=f,t.baseQueue===null&&(t.baseState=f),s.lastRenderedState=f}return[f,l]}function Vp(e,t,s){var l=Se,c=ot(),f=Me;if(f){if(s===void 0)throw Error(i(407));s=s()}else s=t();var g=!Kt((Ve||c).memoizedState,s);if(g&&(c.memoizedState=s,ht=!0),c=c.queue,dc(Gp.bind(null,l,c,e),[e]),c.getSnapshot!==t||g||ct!==null&&ct.memoizedState.tag&1){if(l.flags|=2048,Ps(9,{destroy:void 0},Pp.bind(null,l,c,s,t),null),Ge===null)throw Error(i(349));f||($n&127)!==0||Fp(l,t,s)}return s}function Fp(e,t,s){e.flags|=16384,e={getSnapshot:t,value:s},t=Se.updateQueue,t===null?(t=Ol(),Se.updateQueue=t,t.stores=[e]):(s=t.stores,s===null?t.stores=[e]:s.push(e))}function Pp(e,t,s,l){t.value=s,t.getSnapshot=l,Yp(t)&&Kp(e)}function Gp(e,t,s){return s(function(){Yp(t)&&Kp(e)})}function Yp(e){var t=e.getSnapshot;e=e.value;try{var s=t();return!Kt(e,s)}catch{return!0}}function Kp(e){var t=Ka(e,2);t!==null&&Vt(t,e,2)}function hc(e){var t=Lt();if(typeof e=="function"){var s=e;if(e=s(),as){oa(!0);try{s()}finally{oa(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:zn,lastRenderedState:e},t}function Jp(e,t,s,l){return e.baseState=s,uc(e,Ve,typeof l=="function"?l:zn)}function Dw(e,t,s,l,c){if(Ml(e))throw Error(i(485));if(e=t.action,e!==null){var f={payload:c,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(g){f.listeners.push(g)}};$.T!==null?s(!0):f.isTransition=!1,l(f),s=t.pending,s===null?(f.next=t.pending=f,Zp(t,f)):(f.next=s.next,t.pending=s.next=f)}}function Zp(e,t){var s=t.action,l=t.payload,c=e.state;if(t.isTransition){var f=$.T,g={};$.T=g;try{var w=s(c,l),N=$.S;N!==null&&N(g,w),Qp(e,t,w)}catch(q){fc(e,t,q)}finally{f!==null&&g.types!==null&&(f.types=g.types),$.T=f}}else try{f=s(c,l),Qp(e,t,f)}catch(q){fc(e,t,q)}}function Qp(e,t,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(l){Xp(e,t,l)},function(l){return fc(e,t,l)}):Xp(e,t,s)}function Xp(e,t,s){t.status="fulfilled",t.value=s,Wp(t),e.state=s,t=e.pending,t!==null&&(s=t.next,s===t?e.pending=null:(s=s.next,t.next=s,Zp(e,s)))}function fc(e,t,s){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do t.status="rejected",t.reason=s,Wp(t),t=t.next;while(t!==l)}e.action=null}function Wp(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function em(e,t){return t}function tm(e,t){if(Me){var s=Ge.formState;if(s!==null){e:{var l=Se;if(Me){if(Qe){t:{for(var c=Qe,f=hn;c.nodeType!==8;){if(!f){c=null;break t}if(c=dn(c.nextSibling),c===null){c=null;break t}}f=c.data,c=f==="F!"||f==="F"?c:null}if(c){Qe=dn(c.nextSibling),l=c.data==="F!";break e}}da(l)}l=!1}l&&(t=s[0])}}return s=Lt(),s.memoizedState=s.baseState=t,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:em,lastRenderedState:t},s.queue=l,s=_m.bind(null,Se,l),l.dispatch=s,l=hc(!1),f=vc.bind(null,Se,!1,l.queue),l=Lt(),c={state:t,dispatch:null,action:e,pending:null},l.queue=c,s=Dw.bind(null,Se,c,f,s),c.dispatch=s,l.memoizedState=e,[t,s,!1]}function nm(e){var t=ot();return am(t,Ve,e)}function am(e,t,s){if(t=uc(e,t,em)[0],e=kl(zn)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var l=Kr(t)}catch(g){throw g===zs?xl:g}else l=t;t=ot();var c=t.queue,f=c.dispatch;return s!==t.memoizedState&&(Se.flags|=2048,Ps(9,{destroy:void 0},Mw.bind(null,c,s),null)),[l,f,e]}function Mw(e,t){e.action=t}function sm(e){var t=ot(),s=Ve;if(s!==null)return am(t,s,e);ot(),t=t.memoizedState,s=ot();var l=s.queue.dispatch;return s.memoizedState=e,[t,l,!1]}function Ps(e,t,s,l){return e={tag:e,create:s,deps:l,inst:t,next:null},t=Se.updateQueue,t===null&&(t=Ol(),Se.updateQueue=t),s=t.lastEffect,s===null?t.lastEffect=e.next=e:(l=s.next,s.next=e,e.next=l,t.lastEffect=e),e}function rm(){return ot().memoizedState}function Ll(e,t,s,l){var c=Lt();Se.flags|=e,c.memoizedState=Ps(1|t,{destroy:void 0},s,l===void 0?null:l)}function Dl(e,t,s,l){var c=ot();l=l===void 0?null:l;var f=c.memoizedState.inst;Ve!==null&&l!==null&&ac(l,Ve.memoizedState.deps)?c.memoizedState=Ps(t,f,s,l):(Se.flags|=e,c.memoizedState=Ps(1|t,f,s,l))}function im(e,t){Ll(8390656,8,e,t)}function dc(e,t){Dl(2048,8,e,t)}function Uw(e){Se.flags|=4;var t=Se.updateQueue;if(t===null)t=Ol(),Se.updateQueue=t,t.events=[e];else{var s=t.events;s===null?t.events=[e]:s.push(e)}}function lm(e){var t=ot().memoizedState;return Uw({ref:t,nextImpl:e}),function(){if(($e&2)!==0)throw Error(i(440));return t.impl.apply(void 0,arguments)}}function om(e,t){return Dl(4,2,e,t)}function um(e,t){return Dl(4,4,e,t)}function cm(e,t){if(typeof t=="function"){e=e();var s=t(e);return function(){typeof s=="function"?s():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function hm(e,t,s){s=s!=null?s.concat([e]):null,Dl(4,4,cm.bind(null,t,e),s)}function pc(){}function fm(e,t){var s=ot();t=t===void 0?null:t;var l=s.memoizedState;return t!==null&&ac(t,l[1])?l[0]:(s.memoizedState=[e,t],e)}function dm(e,t){var s=ot();t=t===void 0?null:t;var l=s.memoizedState;if(t!==null&&ac(t,l[1]))return l[0];if(l=e(),as){oa(!0);try{e()}finally{oa(!1)}}return s.memoizedState=[l,t],l}function mc(e,t,s){return s===void 0||($n&1073741824)!==0&&(ke&261930)===0?e.memoizedState=t:(e.memoizedState=s,e=pg(),Se.lanes|=e,xa|=e,s)}function pm(e,t,s,l){return Kt(s,t)?s:Is.current!==null?(e=mc(e,s,l),Kt(e,t)||(ht=!0),e):($n&42)===0||($n&1073741824)!==0&&(ke&261930)===0?(ht=!0,e.memoizedState=s):(e=pg(),Se.lanes|=e,xa|=e,t)}function mm(e,t,s,l,c){var f=W.p;W.p=f!==0&&8>f?f:8;var g=$.T,w={};$.T=w,vc(e,!1,t,s);try{var N=c(),q=$.S;if(q!==null&&q(w,N),N!==null&&typeof N=="object"&&typeof N.then=="function"){var G=Nw(N,l);Jr(e,t,G,en(e))}else Jr(e,t,l,en(e))}catch(Q){Jr(e,t,{then:function(){},status:"rejected",reason:Q},en())}finally{W.p=f,g!==null&&w.types!==null&&(g.types=w.types),$.T=g}}function Bw(){}function gc(e,t,s,l){if(e.tag!==5)throw Error(i(476));var c=gm(e).queue;mm(e,c,t,P,s===null?Bw:function(){return ym(e),s(l)})}function gm(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:P,baseState:P,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:zn,lastRenderedState:P},next:null};var s={};return t.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:zn,lastRenderedState:s},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function ym(e){var t=gm(e);t.next===null&&(t=e.alternate.memoizedState),Jr(e,t.next.queue,{},en())}function yc(){return St(fi)}function vm(){return ot().memoizedState}function bm(){return ot().memoizedState}function qw(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var s=en();e=ga(s);var l=ya(t,e,s);l!==null&&(Vt(l,t,s),Fr(l,t,s)),t={cache:Gu()},e.payload=t;return}t=t.return}}function $w(e,t,s){var l=en();s={lane:l,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},Ml(e)?wm(t,s):(s=Mu(e,t,s,l),s!==null&&(Vt(s,e,l),xm(s,t,l)))}function _m(e,t,s){var l=en();Jr(e,t,s,l)}function Jr(e,t,s,l){var c={lane:l,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null};if(Ml(e))wm(t,c);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=t.lastRenderedReducer,f!==null))try{var g=t.lastRenderedState,w=f(g,s);if(c.hasEagerState=!0,c.eagerState=w,Kt(w,g))return ml(e,t,c,0),Ge===null&&pl(),!1}catch{}if(s=Mu(e,t,c,l),s!==null)return Vt(s,e,l),xm(s,t,l),!0}return!1}function vc(e,t,s,l){if(l={lane:2,revertLane:Zc(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Ml(e)){if(t)throw Error(i(479))}else t=Mu(e,s,l,2),t!==null&&Vt(t,e,2)}function Ml(e){var t=e.alternate;return e===Se||t!==null&&t===Se}function wm(e,t){Vs=Rl=!0;var s=e.pending;s===null?t.next=t:(t.next=s.next,s.next=t),e.pending=t}function xm(e,t,s){if((s&4194048)!==0){var l=t.lanes;l&=e.pendingLanes,s|=l,t.lanes=s,Cd(e,s)}}var Zr={readContext:St,use:Nl,useCallback:st,useContext:st,useEffect:st,useImperativeHandle:st,useLayoutEffect:st,useInsertionEffect:st,useMemo:st,useReducer:st,useRef:st,useState:st,useDebugValue:st,useDeferredValue:st,useTransition:st,useSyncExternalStore:st,useId:st,useHostTransitionStatus:st,useFormState:st,useActionState:st,useOptimistic:st,useMemoCache:st,useCacheRefresh:st};Zr.useEffectEvent=st;var Sm={readContext:St,use:Nl,useCallback:function(e,t){return Lt().memoizedState=[e,t===void 0?null:t],e},useContext:St,useEffect:im,useImperativeHandle:function(e,t,s){s=s!=null?s.concat([e]):null,Ll(4194308,4,cm.bind(null,t,e),s)},useLayoutEffect:function(e,t){return Ll(4194308,4,e,t)},useInsertionEffect:function(e,t){Ll(4,2,e,t)},useMemo:function(e,t){var s=Lt();t=t===void 0?null:t;var l=e();if(as){oa(!0);try{e()}finally{oa(!1)}}return s.memoizedState=[l,t],l},useReducer:function(e,t,s){var l=Lt();if(s!==void 0){var c=s(t);if(as){oa(!0);try{s(t)}finally{oa(!1)}}}else c=t;return l.memoizedState=l.baseState=c,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:c},l.queue=e,e=e.dispatch=$w.bind(null,Se,e),[l.memoizedState,e]},useRef:function(e){var t=Lt();return e={current:e},t.memoizedState=e},useState:function(e){e=hc(e);var t=e.queue,s=_m.bind(null,Se,t);return t.dispatch=s,[e.memoizedState,s]},useDebugValue:pc,useDeferredValue:function(e,t){var s=Lt();return mc(s,e,t)},useTransition:function(){var e=hc(!1);return e=mm.bind(null,Se,e.queue,!0,!1),Lt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,s){var l=Se,c=Lt();if(Me){if(s===void 0)throw Error(i(407));s=s()}else{if(s=t(),Ge===null)throw Error(i(349));(ke&127)!==0||Fp(l,t,s)}c.memoizedState=s;var f={value:s,getSnapshot:t};return c.queue=f,im(Gp.bind(null,l,f,e),[e]),l.flags|=2048,Ps(9,{destroy:void 0},Pp.bind(null,l,f,s,t),null),s},useId:function(){var e=Lt(),t=Ge.identifierPrefix;if(Me){var s=Cn,l=An;s=(l&~(1<<32-Yt(l)-1)).toString(32)+s,t="_"+t+"R_"+s,s=jl++,0<s&&(t+="H"+s.toString(32)),t+="_"}else s=kw++,t="_"+t+"r_"+s.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:yc,useFormState:tm,useActionState:tm,useOptimistic:function(e){var t=Lt();t.memoizedState=t.baseState=e;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=s,t=vc.bind(null,Se,!0,s),s.dispatch=t,[e,t]},useMemoCache:oc,useCacheRefresh:function(){return Lt().memoizedState=qw.bind(null,Se)},useEffectEvent:function(e){var t=Lt(),s={impl:e};return t.memoizedState=s,function(){if(($e&2)!==0)throw Error(i(440));return s.impl.apply(void 0,arguments)}}},bc={readContext:St,use:Nl,useCallback:fm,useContext:St,useEffect:dc,useImperativeHandle:hm,useInsertionEffect:om,useLayoutEffect:um,useMemo:dm,useReducer:kl,useRef:rm,useState:function(){return kl(zn)},useDebugValue:pc,useDeferredValue:function(e,t){var s=ot();return pm(s,Ve.memoizedState,e,t)},useTransition:function(){var e=kl(zn)[0],t=ot().memoizedState;return[typeof e=="boolean"?e:Kr(e),t]},useSyncExternalStore:Vp,useId:vm,useHostTransitionStatus:yc,useFormState:nm,useActionState:nm,useOptimistic:function(e,t){var s=ot();return Jp(s,Ve,e,t)},useMemoCache:oc,useCacheRefresh:bm};bc.useEffectEvent=lm;var Em={readContext:St,use:Nl,useCallback:fm,useContext:St,useEffect:dc,useImperativeHandle:hm,useInsertionEffect:om,useLayoutEffect:um,useMemo:dm,useReducer:cc,useRef:rm,useState:function(){return cc(zn)},useDebugValue:pc,useDeferredValue:function(e,t){var s=ot();return Ve===null?mc(s,e,t):pm(s,Ve.memoizedState,e,t)},useTransition:function(){var e=cc(zn)[0],t=ot().memoizedState;return[typeof e=="boolean"?e:Kr(e),t]},useSyncExternalStore:Vp,useId:vm,useHostTransitionStatus:yc,useFormState:sm,useActionState:sm,useOptimistic:function(e,t){var s=ot();return Ve!==null?Jp(s,Ve,e,t):(s.baseState=e,[e,s.queue.dispatch])},useMemoCache:oc,useCacheRefresh:bm};Em.useEffectEvent=lm;function _c(e,t,s,l){t=e.memoizedState,s=s(l,t),s=s==null?t:_({},t,s),e.memoizedState=s,e.lanes===0&&(e.updateQueue.baseState=s)}var wc={enqueueSetState:function(e,t,s){e=e._reactInternals;var l=en(),c=ga(l);c.payload=t,s!=null&&(c.callback=s),t=ya(e,c,l),t!==null&&(Vt(t,e,l),Fr(t,e,l))},enqueueReplaceState:function(e,t,s){e=e._reactInternals;var l=en(),c=ga(l);c.tag=1,c.payload=t,s!=null&&(c.callback=s),t=ya(e,c,l),t!==null&&(Vt(t,e,l),Fr(t,e,l))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var s=en(),l=ga(s);l.tag=2,t!=null&&(l.callback=t),t=ya(e,l,s),t!==null&&(Vt(t,e,s),Fr(t,e,s))}};function Tm(e,t,s,l,c,f,g){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,f,g):t.prototype&&t.prototype.isPureReactComponent?!Ur(s,l)||!Ur(c,f):!0}function Am(e,t,s,l){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(s,l),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(s,l),t.state!==e&&wc.enqueueReplaceState(t,t.state,null)}function ss(e,t){var s=t;if("ref"in t){s={};for(var l in t)l!=="ref"&&(s[l]=t[l])}if(e=e.defaultProps){s===t&&(s=_({},s));for(var c in e)s[c]===void 0&&(s[c]=e[c])}return s}function Cm(e){dl(e)}function Rm(e){console.error(e)}function jm(e){dl(e)}function Ul(e,t){try{var s=e.onUncaughtError;s(t.value,{componentStack:t.stack})}catch(l){setTimeout(function(){throw l})}}function Om(e,t,s){try{var l=e.onCaughtError;l(s.value,{componentStack:s.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function xc(e,t,s){return s=ga(s),s.tag=3,s.payload={element:null},s.callback=function(){Ul(e,t)},s}function Nm(e){return e=ga(e),e.tag=3,e}function km(e,t,s,l){var c=s.type.getDerivedStateFromError;if(typeof c=="function"){var f=l.value;e.payload=function(){return c(f)},e.callback=function(){Om(t,s,l)}}var g=s.stateNode;g!==null&&typeof g.componentDidCatch=="function"&&(e.callback=function(){Om(t,s,l),typeof c!="function"&&(Sa===null?Sa=new Set([this]):Sa.add(this));var w=l.stack;this.componentDidCatch(l.value,{componentStack:w!==null?w:""})})}function zw(e,t,s,l,c){if(s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(t=s.alternate,t!==null&&Bs(t,s,c,!0),s=Zt.current,s!==null){switch(s.tag){case 31:case 13:return fn===null?Kl():s.alternate===null&&rt===0&&(rt=3),s.flags&=-257,s.flags|=65536,s.lanes=c,l===Sl?s.flags|=16384:(t=s.updateQueue,t===null?s.updateQueue=new Set([l]):t.add(l),Yc(e,l,c)),!1;case 22:return s.flags|=65536,l===Sl?s.flags|=16384:(t=s.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([l])},s.updateQueue=t):(s=t.retryQueue,s===null?t.retryQueue=new Set([l]):s.add(l)),Yc(e,l,c)),!1}throw Error(i(435,s.tag))}return Yc(e,l,c),Kl(),!1}if(Me)return t=Zt.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=c,l!==Hu&&(e=Error(i(422),{cause:l}),$r(on(e,s)))):(l!==Hu&&(t=Error(i(423),{cause:l}),$r(on(t,s))),e=e.current.alternate,e.flags|=65536,c&=-c,e.lanes|=c,l=on(l,s),c=xc(e.stateNode,l,c),Xu(e,c),rt!==4&&(rt=2)),!1;var f=Error(i(520),{cause:l});if(f=on(f,s),si===null?si=[f]:si.push(f),rt!==4&&(rt=2),t===null)return!0;l=on(l,s),s=t;do{switch(s.tag){case 3:return s.flags|=65536,e=c&-c,s.lanes|=e,e=xc(s.stateNode,l,e),Xu(s,e),!1;case 1:if(t=s.type,f=s.stateNode,(s.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Sa===null||!Sa.has(f))))return s.flags|=65536,c&=-c,s.lanes|=c,c=Nm(c),km(c,e,s,l),Xu(s,c),!1}s=s.return}while(s!==null);return!1}var Sc=Error(i(461)),ht=!1;function Et(e,t,s,l){t.child=e===null?Up(t,null,s,l):ns(t,e.child,s,l)}function Lm(e,t,s,l,c){s=s.render;var f=t.ref;if("ref"in l){var g={};for(var w in l)w!=="ref"&&(g[w]=l[w])}else g=l;return Xa(t),l=sc(e,t,s,g,f,c),w=rc(),e!==null&&!ht?(ic(e,t,c),Hn(e,t,c)):(Me&&w&&$u(t),t.flags|=1,Et(e,t,l,c),t.child)}function Dm(e,t,s,l,c){if(e===null){var f=s.type;return typeof f=="function"&&!Uu(f)&&f.defaultProps===void 0&&s.compare===null?(t.tag=15,t.type=f,Mm(e,t,f,l,c)):(e=yl(s.type,null,l,t,t.mode,c),e.ref=t.ref,e.return=t,t.child=e)}if(f=e.child,!Nc(e,c)){var g=f.memoizedProps;if(s=s.compare,s=s!==null?s:Ur,s(g,l)&&e.ref===t.ref)return Hn(e,t,c)}return t.flags|=1,e=Mn(f,l),e.ref=t.ref,e.return=t,t.child=e}function Mm(e,t,s,l,c){if(e!==null){var f=e.memoizedProps;if(Ur(f,l)&&e.ref===t.ref)if(ht=!1,t.pendingProps=l=f,Nc(e,c))(e.flags&131072)!==0&&(ht=!0);else return t.lanes=e.lanes,Hn(e,t,c)}return Ec(e,t,s,l,c)}function Um(e,t,s,l){var c=l.children,f=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((t.flags&128)!==0){if(f=f!==null?f.baseLanes|s:s,e!==null){for(l=t.child=e.child,c=0;l!==null;)c=c|l.lanes|l.childLanes,l=l.sibling;l=c&~f}else l=0,t.child=null;return Bm(e,t,f,s,l)}if((s&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&wl(t,f!==null?f.cachePool:null),f!==null?$p(t,f):ec(),zp(t);else return l=t.lanes=536870912,Bm(e,t,f!==null?f.baseLanes|s:s,s,l)}else f!==null?(wl(t,f.cachePool),$p(t,f),ba(),t.memoizedState=null):(e!==null&&wl(t,null),ec(),ba());return Et(e,t,c,s),t.child}function Qr(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function Bm(e,t,s,l,c){var f=Ku();return f=f===null?null:{parent:ut._currentValue,pool:f},t.memoizedState={baseLanes:s,cachePool:f},e!==null&&wl(t,null),ec(),zp(t),e!==null&&Bs(e,t,l,!0),t.childLanes=c,null}function Bl(e,t){return t=$l({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function qm(e,t,s){return ns(t,e.child,null,s),e=Bl(t,t.pendingProps),e.flags|=2,Qt(t),t.memoizedState=null,e}function Hw(e,t,s){var l=t.pendingProps,c=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(Me){if(l.mode==="hidden")return e=Bl(t,l),t.lanes=536870912,Qr(null,e);if(nc(t),(e=Qe)?(e=Zg(e,hn),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:ha!==null?{id:An,overflow:Cn}:null,retryLane:536870912,hydrationErrors:null},s=wp(e),s.return=t,t.child=s,xt=t,Qe=null)):e=null,e===null)throw da(t);return t.lanes=536870912,null}return Bl(t,l)}var f=e.memoizedState;if(f!==null){var g=f.dehydrated;if(nc(t),c)if(t.flags&256)t.flags&=-257,t=qm(e,t,s);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(i(558));else if(ht||Bs(e,t,s,!1),c=(s&e.childLanes)!==0,ht||c){if(l=Ge,l!==null&&(g=Rd(l,s),g!==0&&g!==f.retryLane))throw f.retryLane=g,Ka(e,g),Vt(l,e,g),Sc;Kl(),t=qm(e,t,s)}else e=f.treeContext,Qe=dn(g.nextSibling),xt=t,Me=!0,fa=null,hn=!1,e!==null&&Ep(t,e),t=Bl(t,l),t.flags|=4096;return t}return e=Mn(e.child,{mode:l.mode,children:l.children}),e.ref=t.ref,t.child=e,e.return=t,e}function ql(e,t){var s=t.ref;if(s===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(i(284));(e===null||e.ref!==s)&&(t.flags|=4194816)}}function Ec(e,t,s,l,c){return Xa(t),s=sc(e,t,s,l,void 0,c),l=rc(),e!==null&&!ht?(ic(e,t,c),Hn(e,t,c)):(Me&&l&&$u(t),t.flags|=1,Et(e,t,s,c),t.child)}function $m(e,t,s,l,c,f){return Xa(t),t.updateQueue=null,s=Ip(t,l,s,c),Hp(e),l=rc(),e!==null&&!ht?(ic(e,t,f),Hn(e,t,f)):(Me&&l&&$u(t),t.flags|=1,Et(e,t,s,f),t.child)}function zm(e,t,s,l,c){if(Xa(t),t.stateNode===null){var f=Ls,g=s.contextType;typeof g=="object"&&g!==null&&(f=St(g)),f=new s(l,f),t.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=wc,t.stateNode=f,f._reactInternals=t,f=t.stateNode,f.props=l,f.state=t.memoizedState,f.refs={},Zu(t),g=s.contextType,f.context=typeof g=="object"&&g!==null?St(g):Ls,f.state=t.memoizedState,g=s.getDerivedStateFromProps,typeof g=="function"&&(_c(t,s,g,l),f.state=t.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(g=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),g!==f.state&&wc.enqueueReplaceState(f,f.state,null),Gr(t,l,f,c),Pr(),f.state=t.memoizedState),typeof f.componentDidMount=="function"&&(t.flags|=4194308),l=!0}else if(e===null){f=t.stateNode;var w=t.memoizedProps,N=ss(s,w);f.props=N;var q=f.context,G=s.contextType;g=Ls,typeof G=="object"&&G!==null&&(g=St(G));var Q=s.getDerivedStateFromProps;G=typeof Q=="function"||typeof f.getSnapshotBeforeUpdate=="function",w=t.pendingProps!==w,G||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(w||q!==g)&&Am(t,f,l,g),ma=!1;var z=t.memoizedState;f.state=z,Gr(t,l,f,c),Pr(),q=t.memoizedState,w||z!==q||ma?(typeof Q=="function"&&(_c(t,s,Q,l),q=t.memoizedState),(N=ma||Tm(t,s,N,l,z,q,g))?(G||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(t.flags|=4194308)):(typeof f.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=l,t.memoizedState=q),f.props=l,f.state=q,f.context=g,l=N):(typeof f.componentDidMount=="function"&&(t.flags|=4194308),l=!1)}else{f=t.stateNode,Qu(e,t),g=t.memoizedProps,G=ss(s,g),f.props=G,Q=t.pendingProps,z=f.context,q=s.contextType,N=Ls,typeof q=="object"&&q!==null&&(N=St(q)),w=s.getDerivedStateFromProps,(q=typeof w=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(g!==Q||z!==N)&&Am(t,f,l,N),ma=!1,z=t.memoizedState,f.state=z,Gr(t,l,f,c),Pr();var V=t.memoizedState;g!==Q||z!==V||ma||e!==null&&e.dependencies!==null&&bl(e.dependencies)?(typeof w=="function"&&(_c(t,s,w,l),V=t.memoizedState),(G=ma||Tm(t,s,G,l,z,V,N)||e!==null&&e.dependencies!==null&&bl(e.dependencies))?(q||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,V,N),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,V,N)),typeof f.componentDidUpdate=="function"&&(t.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof f.componentDidUpdate!="function"||g===e.memoizedProps&&z===e.memoizedState||(t.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&z===e.memoizedState||(t.flags|=1024),t.memoizedProps=l,t.memoizedState=V),f.props=l,f.state=V,f.context=N,l=G):(typeof f.componentDidUpdate!="function"||g===e.memoizedProps&&z===e.memoizedState||(t.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&z===e.memoizedState||(t.flags|=1024),l=!1)}return f=l,ql(e,t),l=(t.flags&128)!==0,f||l?(f=t.stateNode,s=l&&typeof s.getDerivedStateFromError!="function"?null:f.render(),t.flags|=1,e!==null&&l?(t.child=ns(t,e.child,null,c),t.child=ns(t,null,s,c)):Et(e,t,s,c),t.memoizedState=f.state,e=t.child):e=Hn(e,t,c),e}function Hm(e,t,s,l){return Za(),t.flags|=256,Et(e,t,s,l),t.child}var Tc={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Ac(e){return{baseLanes:e,cachePool:Op()}}function Cc(e,t,s){return e=e!==null?e.childLanes&~s:0,t&&(e|=Wt),e}function Im(e,t,s){var l=t.pendingProps,c=!1,f=(t.flags&128)!==0,g;if((g=f)||(g=e!==null&&e.memoizedState===null?!1:(lt.current&2)!==0),g&&(c=!0,t.flags&=-129),g=(t.flags&32)!==0,t.flags&=-33,e===null){if(Me){if(c?va(t):ba(),(e=Qe)?(e=Zg(e,hn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:ha!==null?{id:An,overflow:Cn}:null,retryLane:536870912,hydrationErrors:null},s=wp(e),s.return=t,t.child=s,xt=t,Qe=null)):e=null,e===null)throw da(t);return uh(e)?t.lanes=32:t.lanes=536870912,null}var w=l.children;return l=l.fallback,c?(ba(),c=t.mode,w=$l({mode:"hidden",children:w},c),l=Ja(l,c,s,null),w.return=t,l.return=t,w.sibling=l,t.child=w,l=t.child,l.memoizedState=Ac(s),l.childLanes=Cc(e,g,s),t.memoizedState=Tc,Qr(null,l)):(va(t),Rc(t,w))}var N=e.memoizedState;if(N!==null&&(w=N.dehydrated,w!==null)){if(f)t.flags&256?(va(t),t.flags&=-257,t=jc(e,t,s)):t.memoizedState!==null?(ba(),t.child=e.child,t.flags|=128,t=null):(ba(),w=l.fallback,c=t.mode,l=$l({mode:"visible",children:l.children},c),w=Ja(w,c,s,null),w.flags|=2,l.return=t,w.return=t,l.sibling=w,t.child=l,ns(t,e.child,null,s),l=t.child,l.memoizedState=Ac(s),l.childLanes=Cc(e,g,s),t.memoizedState=Tc,t=Qr(null,l));else if(va(t),uh(w)){if(g=w.nextSibling&&w.nextSibling.dataset,g)var q=g.dgst;g=q,l=Error(i(419)),l.stack="",l.digest=g,$r({value:l,source:null,stack:null}),t=jc(e,t,s)}else if(ht||Bs(e,t,s,!1),g=(s&e.childLanes)!==0,ht||g){if(g=Ge,g!==null&&(l=Rd(g,s),l!==0&&l!==N.retryLane))throw N.retryLane=l,Ka(e,l),Vt(g,e,l),Sc;oh(w)||Kl(),t=jc(e,t,s)}else oh(w)?(t.flags|=192,t.child=e.child,t=null):(e=N.treeContext,Qe=dn(w.nextSibling),xt=t,Me=!0,fa=null,hn=!1,e!==null&&Ep(t,e),t=Rc(t,l.children),t.flags|=4096);return t}return c?(ba(),w=l.fallback,c=t.mode,N=e.child,q=N.sibling,l=Mn(N,{mode:"hidden",children:l.children}),l.subtreeFlags=N.subtreeFlags&65011712,q!==null?w=Mn(q,w):(w=Ja(w,c,s,null),w.flags|=2),w.return=t,l.return=t,l.sibling=w,t.child=l,Qr(null,l),l=t.child,w=e.child.memoizedState,w===null?w=Ac(s):(c=w.cachePool,c!==null?(N=ut._currentValue,c=c.parent!==N?{parent:N,pool:N}:c):c=Op(),w={baseLanes:w.baseLanes|s,cachePool:c}),l.memoizedState=w,l.childLanes=Cc(e,g,s),t.memoizedState=Tc,Qr(e.child,l)):(va(t),s=e.child,e=s.sibling,s=Mn(s,{mode:"visible",children:l.children}),s.return=t,s.sibling=null,e!==null&&(g=t.deletions,g===null?(t.deletions=[e],t.flags|=16):g.push(e)),t.child=s,t.memoizedState=null,s)}function Rc(e,t){return t=$l({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function $l(e,t){return e=Jt(22,e,null,t),e.lanes=0,e}function jc(e,t,s){return ns(t,e.child,null,s),e=Rc(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Vm(e,t,s){e.lanes|=t;var l=e.alternate;l!==null&&(l.lanes|=t),Fu(e.return,t,s)}function Oc(e,t,s,l,c,f){var g=e.memoizedState;g===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:l,tail:s,tailMode:c,treeForkCount:f}:(g.isBackwards=t,g.rendering=null,g.renderingStartTime=0,g.last=l,g.tail=s,g.tailMode=c,g.treeForkCount=f)}function Fm(e,t,s){var l=t.pendingProps,c=l.revealOrder,f=l.tail;l=l.children;var g=lt.current,w=(g&2)!==0;if(w?(g=g&1|2,t.flags|=128):g&=1,D(lt,g),Et(e,t,l,s),l=Me?qr:0,!w&&e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Vm(e,s,t);else if(e.tag===19)Vm(e,s,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(c){case"forwards":for(s=t.child,c=null;s!==null;)e=s.alternate,e!==null&&Cl(e)===null&&(c=s),s=s.sibling;s=c,s===null?(c=t.child,t.child=null):(c=s.sibling,s.sibling=null),Oc(t,!1,c,s,f,l);break;case"backwards":case"unstable_legacy-backwards":for(s=null,c=t.child,t.child=null;c!==null;){if(e=c.alternate,e!==null&&Cl(e)===null){t.child=c;break}e=c.sibling,c.sibling=s,s=c,c=e}Oc(t,!0,s,null,f,l);break;case"together":Oc(t,!1,null,null,void 0,l);break;default:t.memoizedState=null}return t.child}function Hn(e,t,s){if(e!==null&&(t.dependencies=e.dependencies),xa|=t.lanes,(s&t.childLanes)===0)if(e!==null){if(Bs(e,t,s,!1),(s&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(i(153));if(t.child!==null){for(e=t.child,s=Mn(e,e.pendingProps),t.child=s,s.return=t;e.sibling!==null;)e=e.sibling,s=s.sibling=Mn(e,e.pendingProps),s.return=t;s.sibling=null}return t.child}function Nc(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&bl(e)))}function Iw(e,t,s){switch(t.tag){case 3:be(t,t.stateNode.containerInfo),pa(t,ut,e.memoizedState.cache),Za();break;case 27:case 5:Ha(t);break;case 4:be(t,t.stateNode.containerInfo);break;case 10:pa(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,nc(t),null;break;case 13:var l=t.memoizedState;if(l!==null)return l.dehydrated!==null?(va(t),t.flags|=128,null):(s&t.child.childLanes)!==0?Im(e,t,s):(va(t),e=Hn(e,t,s),e!==null?e.sibling:null);va(t);break;case 19:var c=(e.flags&128)!==0;if(l=(s&t.childLanes)!==0,l||(Bs(e,t,s,!1),l=(s&t.childLanes)!==0),c){if(l)return Fm(e,t,s);t.flags|=128}if(c=t.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),D(lt,lt.current),l)break;return null;case 22:return t.lanes=0,Um(e,t,s,t.pendingProps);case 24:pa(t,ut,e.memoizedState.cache)}return Hn(e,t,s)}function Pm(e,t,s){if(e!==null)if(e.memoizedProps!==t.pendingProps)ht=!0;else{if(!Nc(e,s)&&(t.flags&128)===0)return ht=!1,Iw(e,t,s);ht=(e.flags&131072)!==0}else ht=!1,Me&&(t.flags&1048576)!==0&&Sp(t,qr,t.index);switch(t.lanes=0,t.tag){case 16:e:{var l=t.pendingProps;if(e=es(t.elementType),t.type=e,typeof e=="function")Uu(e)?(l=ss(e,l),t.tag=1,t=zm(null,t,e,l,s)):(t.tag=0,t=Ec(null,t,e,l,s));else{if(e!=null){var c=e.$$typeof;if(c===X){t.tag=11,t=Lm(null,t,e,l,s);break e}else if(c===F){t.tag=14,t=Dm(null,t,e,l,s);break e}}throw t=ge(e)||e,Error(i(306,t,""))}}return t;case 0:return Ec(e,t,t.type,t.pendingProps,s);case 1:return l=t.type,c=ss(l,t.pendingProps),zm(e,t,l,c,s);case 3:e:{if(be(t,t.stateNode.containerInfo),e===null)throw Error(i(387));l=t.pendingProps;var f=t.memoizedState;c=f.element,Qu(e,t),Gr(t,l,null,s);var g=t.memoizedState;if(l=g.cache,pa(t,ut,l),l!==f.cache&&Pu(t,[ut],s,!0),Pr(),l=g.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:g.cache},t.updateQueue.baseState=f,t.memoizedState=f,t.flags&256){t=Hm(e,t,l,s);break e}else if(l!==c){c=on(Error(i(424)),t),$r(c),t=Hm(e,t,l,s);break e}else for(e=t.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,Qe=dn(e.firstChild),xt=t,Me=!0,fa=null,hn=!0,s=Up(t,null,l,s),t.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling;else{if(Za(),l===c){t=Hn(e,t,s);break e}Et(e,t,l,s)}t=t.child}return t;case 26:return ql(e,t),e===null?(s=ny(t.type,null,t.pendingProps,null))?t.memoizedState=s:Me||(s=t.type,e=t.pendingProps,l=to(ne.current).createElement(s),l[wt]=t,l[Bt]=e,Tt(l,s,e),vt(l),t.stateNode=l):t.memoizedState=ny(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return Ha(t),e===null&&Me&&(l=t.stateNode=Wg(t.type,t.pendingProps,ne.current),xt=t,hn=!0,c=Qe,Ca(t.type)?(ch=c,Qe=dn(l.firstChild)):Qe=c),Et(e,t,t.pendingProps.children,s),ql(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&Me&&((c=l=Qe)&&(l=vx(l,t.type,t.pendingProps,hn),l!==null?(t.stateNode=l,xt=t,Qe=dn(l.firstChild),hn=!1,c=!0):c=!1),c||da(t)),Ha(t),c=t.type,f=t.pendingProps,g=e!==null?e.memoizedProps:null,l=f.children,rh(c,f)?l=null:g!==null&&rh(c,g)&&(t.flags|=32),t.memoizedState!==null&&(c=sc(e,t,Lw,null,null,s),fi._currentValue=c),ql(e,t),Et(e,t,l,s),t.child;case 6:return e===null&&Me&&((e=s=Qe)&&(s=bx(s,t.pendingProps,hn),s!==null?(t.stateNode=s,xt=t,Qe=null,e=!0):e=!1),e||da(t)),null;case 13:return Im(e,t,s);case 4:return be(t,t.stateNode.containerInfo),l=t.pendingProps,e===null?t.child=ns(t,null,l,s):Et(e,t,l,s),t.child;case 11:return Lm(e,t,t.type,t.pendingProps,s);case 7:return Et(e,t,t.pendingProps,s),t.child;case 8:return Et(e,t,t.pendingProps.children,s),t.child;case 12:return Et(e,t,t.pendingProps.children,s),t.child;case 10:return l=t.pendingProps,pa(t,t.type,l.value),Et(e,t,l.children,s),t.child;case 9:return c=t.type._context,l=t.pendingProps.children,Xa(t),c=St(c),l=l(c),t.flags|=1,Et(e,t,l,s),t.child;case 14:return Dm(e,t,t.type,t.pendingProps,s);case 15:return Mm(e,t,t.type,t.pendingProps,s);case 19:return Fm(e,t,s);case 31:return Hw(e,t,s);case 22:return Um(e,t,s,t.pendingProps);case 24:return Xa(t),l=St(ut),e===null?(c=Ku(),c===null&&(c=Ge,f=Gu(),c.pooledCache=f,f.refCount++,f!==null&&(c.pooledCacheLanes|=s),c=f),t.memoizedState={parent:l,cache:c},Zu(t),pa(t,ut,c)):((e.lanes&s)!==0&&(Qu(e,t),Gr(t,null,null,s),Pr()),c=e.memoizedState,f=t.memoizedState,c.parent!==l?(c={parent:l,cache:l},t.memoizedState=c,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=c),pa(t,ut,l)):(l=f.cache,pa(t,ut,l),l!==c.cache&&Pu(t,[ut],s,!0))),Et(e,t,t.pendingProps.children,s),t.child;case 29:throw t.pendingProps}throw Error(i(156,t.tag))}function In(e){e.flags|=4}function kc(e,t,s,l,c){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(c&335544128)===c)if(e.stateNode.complete)e.flags|=8192;else if(vg())e.flags|=8192;else throw ts=Sl,Ju}else e.flags&=-16777217}function Gm(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!ly(t))if(vg())e.flags|=8192;else throw ts=Sl,Ju}function zl(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?Td():536870912,e.lanes|=t,Js|=t)}function Xr(e,t){if(!Me)switch(e.tailMode){case"hidden":t=e.tail;for(var s=null;t!==null;)t.alternate!==null&&(s=t),t=t.sibling;s===null?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function Xe(e){var t=e.alternate!==null&&e.alternate.child===e.child,s=0,l=0;if(t)for(var c=e.child;c!==null;)s|=c.lanes|c.childLanes,l|=c.subtreeFlags&65011712,l|=c.flags&65011712,c.return=e,c=c.sibling;else for(c=e.child;c!==null;)s|=c.lanes|c.childLanes,l|=c.subtreeFlags,l|=c.flags,c.return=e,c=c.sibling;return e.subtreeFlags|=l,e.childLanes=s,t}function Vw(e,t,s){var l=t.pendingProps;switch(zu(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Xe(t),null;case 1:return Xe(t),null;case 3:return s=t.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),t.memoizedState.cache!==l&&(t.flags|=2048),qn(ut),Ce(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(Us(t)?In(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,Iu())),Xe(t),null;case 26:var c=t.type,f=t.memoizedState;return e===null?(In(t),f!==null?(Xe(t),Gm(t,f)):(Xe(t),kc(t,c,null,l,s))):f?f!==e.memoizedState?(In(t),Xe(t),Gm(t,f)):(Xe(t),t.flags&=-16777217):(e=e.memoizedProps,e!==l&&In(t),Xe(t),kc(t,c,e,l,s)),null;case 27:if(Qi(t),s=ne.current,c=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==l&&In(t);else{if(!l){if(t.stateNode===null)throw Error(i(166));return Xe(t),null}e=I.current,Us(t)?Tp(t):(e=Wg(c,l,s),t.stateNode=e,In(t))}return Xe(t),null;case 5:if(Qi(t),c=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==l&&In(t);else{if(!l){if(t.stateNode===null)throw Error(i(166));return Xe(t),null}if(f=I.current,Us(t))Tp(t);else{var g=to(ne.current);switch(f){case 1:f=g.createElementNS("http://www.w3.org/2000/svg",c);break;case 2:f=g.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;default:switch(c){case"svg":f=g.createElementNS("http://www.w3.org/2000/svg",c);break;case"math":f=g.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;case"script":f=g.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof l.is=="string"?g.createElement("select",{is:l.is}):g.createElement("select"),l.multiple?f.multiple=!0:l.size&&(f.size=l.size);break;default:f=typeof l.is=="string"?g.createElement(c,{is:l.is}):g.createElement(c)}}f[wt]=t,f[Bt]=l;e:for(g=t.child;g!==null;){if(g.tag===5||g.tag===6)f.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===t)break e;for(;g.sibling===null;){if(g.return===null||g.return===t)break e;g=g.return}g.sibling.return=g.return,g=g.sibling}t.stateNode=f;e:switch(Tt(f,c,l),c){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&In(t)}}return Xe(t),kc(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,s),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==l&&In(t);else{if(typeof l!="string"&&t.stateNode===null)throw Error(i(166));if(e=ne.current,Us(t)){if(e=t.stateNode,s=t.memoizedProps,l=null,c=xt,c!==null)switch(c.tag){case 27:case 5:l=c.memoizedProps}e[wt]=t,e=!!(e.nodeValue===s||l!==null&&l.suppressHydrationWarning===!0||Ig(e.nodeValue,s)),e||da(t,!0)}else e=to(e).createTextNode(l),e[wt]=t,t.stateNode=e}return Xe(t),null;case 31:if(s=t.memoizedState,e===null||e.memoizedState!==null){if(l=Us(t),s!==null){if(e===null){if(!l)throw Error(i(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(i(557));e[wt]=t}else Za(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Xe(t),e=!1}else s=Iu(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=s),e=!0;if(!e)return t.flags&256?(Qt(t),t):(Qt(t),null);if((t.flags&128)!==0)throw Error(i(558))}return Xe(t),null;case 13:if(l=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(c=Us(t),l!==null&&l.dehydrated!==null){if(e===null){if(!c)throw Error(i(318));if(c=t.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(i(317));c[wt]=t}else Za(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Xe(t),c=!1}else c=Iu(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=c),c=!0;if(!c)return t.flags&256?(Qt(t),t):(Qt(t),null)}return Qt(t),(t.flags&128)!==0?(t.lanes=s,t):(s=l!==null,e=e!==null&&e.memoizedState!==null,s&&(l=t.child,c=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(c=l.alternate.memoizedState.cachePool.pool),f=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==c&&(l.flags|=2048)),s!==e&&s&&(t.child.flags|=8192),zl(t,t.updateQueue),Xe(t),null);case 4:return Ce(),e===null&&eh(t.stateNode.containerInfo),Xe(t),null;case 10:return qn(t.type),Xe(t),null;case 19:if(T(lt),l=t.memoizedState,l===null)return Xe(t),null;if(c=(t.flags&128)!==0,f=l.rendering,f===null)if(c)Xr(l,!1);else{if(rt!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(f=Cl(e),f!==null){for(t.flags|=128,Xr(l,!1),e=f.updateQueue,t.updateQueue=e,zl(t,e),t.subtreeFlags=0,e=s,s=t.child;s!==null;)_p(s,e),s=s.sibling;return D(lt,lt.current&1|2),Me&&Un(t,l.treeForkCount),t.child}e=e.sibling}l.tail!==null&&Pt()>Pl&&(t.flags|=128,c=!0,Xr(l,!1),t.lanes=4194304)}else{if(!c)if(e=Cl(f),e!==null){if(t.flags|=128,c=!0,e=e.updateQueue,t.updateQueue=e,zl(t,e),Xr(l,!0),l.tail===null&&l.tailMode==="hidden"&&!f.alternate&&!Me)return Xe(t),null}else 2*Pt()-l.renderingStartTime>Pl&&s!==536870912&&(t.flags|=128,c=!0,Xr(l,!1),t.lanes=4194304);l.isBackwards?(f.sibling=t.child,t.child=f):(e=l.last,e!==null?e.sibling=f:t.child=f,l.last=f)}return l.tail!==null?(e=l.tail,l.rendering=e,l.tail=e.sibling,l.renderingStartTime=Pt(),e.sibling=null,s=lt.current,D(lt,c?s&1|2:s&1),Me&&Un(t,l.treeForkCount),e):(Xe(t),null);case 22:case 23:return Qt(t),tc(),l=t.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(t.flags|=8192):l&&(t.flags|=8192),l?(s&536870912)!==0&&(t.flags&128)===0&&(Xe(t),t.subtreeFlags&6&&(t.flags|=8192)):Xe(t),s=t.updateQueue,s!==null&&zl(t,s.retryQueue),s=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),l=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(l=t.memoizedState.cachePool.pool),l!==s&&(t.flags|=2048),e!==null&&T(Wa),null;case 24:return s=null,e!==null&&(s=e.memoizedState.cache),t.memoizedState.cache!==s&&(t.flags|=2048),qn(ut),Xe(t),null;case 25:return null;case 30:return null}throw Error(i(156,t.tag))}function Fw(e,t){switch(zu(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return qn(ut),Ce(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return Qi(t),null;case 31:if(t.memoizedState!==null){if(Qt(t),t.alternate===null)throw Error(i(340));Za()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(Qt(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(i(340));Za()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return T(lt),null;case 4:return Ce(),null;case 10:return qn(t.type),null;case 22:case 23:return Qt(t),tc(),e!==null&&T(Wa),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return qn(ut),null;case 25:return null;default:return null}}function Ym(e,t){switch(zu(t),t.tag){case 3:qn(ut),Ce();break;case 26:case 27:case 5:Qi(t);break;case 4:Ce();break;case 31:t.memoizedState!==null&&Qt(t);break;case 13:Qt(t);break;case 19:T(lt);break;case 10:qn(t.type);break;case 22:case 23:Qt(t),tc(),e!==null&&T(Wa);break;case 24:qn(ut)}}function Wr(e,t){try{var s=t.updateQueue,l=s!==null?s.lastEffect:null;if(l!==null){var c=l.next;s=c;do{if((s.tag&e)===e){l=void 0;var f=s.create,g=s.inst;l=f(),g.destroy=l}s=s.next}while(s!==c)}}catch(w){He(t,t.return,w)}}function _a(e,t,s){try{var l=t.updateQueue,c=l!==null?l.lastEffect:null;if(c!==null){var f=c.next;l=f;do{if((l.tag&e)===e){var g=l.inst,w=g.destroy;if(w!==void 0){g.destroy=void 0,c=t;var N=s,q=w;try{q()}catch(G){He(c,N,G)}}}l=l.next}while(l!==f)}}catch(G){He(t,t.return,G)}}function Km(e){var t=e.updateQueue;if(t!==null){var s=e.stateNode;try{qp(t,s)}catch(l){He(e,e.return,l)}}}function Jm(e,t,s){s.props=ss(e.type,e.memoizedProps),s.state=e.memoizedState;try{s.componentWillUnmount()}catch(l){He(e,t,l)}}function ei(e,t){try{var s=e.ref;if(s!==null){switch(e.tag){case 26:case 27:case 5:var l=e.stateNode;break;case 30:l=e.stateNode;break;default:l=e.stateNode}typeof s=="function"?e.refCleanup=s(l):s.current=l}}catch(c){He(e,t,c)}}function Rn(e,t){var s=e.ref,l=e.refCleanup;if(s!==null)if(typeof l=="function")try{l()}catch(c){He(e,t,c)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(c){He(e,t,c)}else s.current=null}function Zm(e){var t=e.type,s=e.memoizedProps,l=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":s.autoFocus&&l.focus();break e;case"img":s.src?l.src=s.src:s.srcSet&&(l.srcset=s.srcSet)}}catch(c){He(e,e.return,c)}}function Lc(e,t,s){try{var l=e.stateNode;fx(l,e.type,s,t),l[Bt]=t}catch(c){He(e,e.return,c)}}function Qm(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Ca(e.type)||e.tag===4}function Dc(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Qm(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Ca(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Mc(e,t,s){var l=e.tag;if(l===5||l===6)e=e.stateNode,t?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(e,t):(t=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,t.appendChild(e),s=s._reactRootContainer,s!=null||t.onclick!==null||(t.onclick=Ln));else if(l!==4&&(l===27&&Ca(e.type)&&(s=e.stateNode,t=null),e=e.child,e!==null))for(Mc(e,t,s),e=e.sibling;e!==null;)Mc(e,t,s),e=e.sibling}function Hl(e,t,s){var l=e.tag;if(l===5||l===6)e=e.stateNode,t?s.insertBefore(e,t):s.appendChild(e);else if(l!==4&&(l===27&&Ca(e.type)&&(s=e.stateNode),e=e.child,e!==null))for(Hl(e,t,s),e=e.sibling;e!==null;)Hl(e,t,s),e=e.sibling}function Xm(e){var t=e.stateNode,s=e.memoizedProps;try{for(var l=e.type,c=t.attributes;c.length;)t.removeAttributeNode(c[0]);Tt(t,l,s),t[wt]=e,t[Bt]=s}catch(f){He(e,e.return,f)}}var Vn=!1,ft=!1,Uc=!1,Wm=typeof WeakSet=="function"?WeakSet:Set,bt=null;function Pw(e,t){if(e=e.containerInfo,ah=oo,e=hp(e),ju(e)){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else e:{s=(s=e.ownerDocument)&&s.defaultView||window;var l=s.getSelection&&s.getSelection();if(l&&l.rangeCount!==0){s=l.anchorNode;var c=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{s.nodeType,f.nodeType}catch{s=null;break e}var g=0,w=-1,N=-1,q=0,G=0,Q=e,z=null;t:for(;;){for(var V;Q!==s||c!==0&&Q.nodeType!==3||(w=g+c),Q!==f||l!==0&&Q.nodeType!==3||(N=g+l),Q.nodeType===3&&(g+=Q.nodeValue.length),(V=Q.firstChild)!==null;)z=Q,Q=V;for(;;){if(Q===e)break t;if(z===s&&++q===c&&(w=g),z===f&&++G===l&&(N=g),(V=Q.nextSibling)!==null)break;Q=z,z=Q.parentNode}Q=V}s=w===-1||N===-1?null:{start:w,end:N}}else s=null}s=s||{start:0,end:0}}else s=null;for(sh={focusedElem:e,selectionRange:s},oo=!1,bt=t;bt!==null;)if(t=bt,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,bt=e;else for(;bt!==null;){switch(t=bt,f=t.alternate,e=t.flags,t.tag){case 0:if((e&4)!==0&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(s=0;s<e.length;s++)c=e[s],c.ref.impl=c.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,s=t,c=f.memoizedProps,f=f.memoizedState,l=s.stateNode;try{var ue=ss(s.type,c);e=l.getSnapshotBeforeUpdate(ue,f),l.__reactInternalSnapshotBeforeUpdate=e}catch(pe){He(s,s.return,pe)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,s=e.nodeType,s===9)lh(e);else if(s===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":lh(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(i(163))}if(e=t.sibling,e!==null){e.return=t.return,bt=e;break}bt=t.return}}function eg(e,t,s){var l=s.flags;switch(s.tag){case 0:case 11:case 15:Pn(e,s),l&4&&Wr(5,s);break;case 1:if(Pn(e,s),l&4)if(e=s.stateNode,t===null)try{e.componentDidMount()}catch(g){He(s,s.return,g)}else{var c=ss(s.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(c,t,e.__reactInternalSnapshotBeforeUpdate)}catch(g){He(s,s.return,g)}}l&64&&Km(s),l&512&&ei(s,s.return);break;case 3:if(Pn(e,s),l&64&&(e=s.updateQueue,e!==null)){if(t=null,s.child!==null)switch(s.child.tag){case 27:case 5:t=s.child.stateNode;break;case 1:t=s.child.stateNode}try{qp(e,t)}catch(g){He(s,s.return,g)}}break;case 27:t===null&&l&4&&Xm(s);case 26:case 5:Pn(e,s),t===null&&l&4&&Zm(s),l&512&&ei(s,s.return);break;case 12:Pn(e,s);break;case 31:Pn(e,s),l&4&&ag(e,s);break;case 13:Pn(e,s),l&4&&sg(e,s),l&64&&(e=s.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(s=ex.bind(null,s),_x(e,s))));break;case 22:if(l=s.memoizedState!==null||Vn,!l){t=t!==null&&t.memoizedState!==null||ft,c=Vn;var f=ft;Vn=l,(ft=t)&&!f?Gn(e,s,(s.subtreeFlags&8772)!==0):Pn(e,s),Vn=c,ft=f}break;case 30:break;default:Pn(e,s)}}function tg(e){var t=e.alternate;t!==null&&(e.alternate=null,tg(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&fu(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var et=null,$t=!1;function Fn(e,t,s){for(s=s.child;s!==null;)ng(e,t,s),s=s.sibling}function ng(e,t,s){if(Gt&&typeof Gt.onCommitFiberUnmount=="function")try{Gt.onCommitFiberUnmount(Er,s)}catch{}switch(s.tag){case 26:ft||Rn(s,t),Fn(e,t,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:ft||Rn(s,t);var l=et,c=$t;Ca(s.type)&&(et=s.stateNode,$t=!1),Fn(e,t,s),ui(s.stateNode),et=l,$t=c;break;case 5:ft||Rn(s,t);case 6:if(l=et,c=$t,et=null,Fn(e,t,s),et=l,$t=c,et!==null)if($t)try{(et.nodeType===9?et.body:et.nodeName==="HTML"?et.ownerDocument.body:et).removeChild(s.stateNode)}catch(f){He(s,t,f)}else try{et.removeChild(s.stateNode)}catch(f){He(s,t,f)}break;case 18:et!==null&&($t?(e=et,Kg(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,s.stateNode),ar(e)):Kg(et,s.stateNode));break;case 4:l=et,c=$t,et=s.stateNode.containerInfo,$t=!0,Fn(e,t,s),et=l,$t=c;break;case 0:case 11:case 14:case 15:_a(2,s,t),ft||_a(4,s,t),Fn(e,t,s);break;case 1:ft||(Rn(s,t),l=s.stateNode,typeof l.componentWillUnmount=="function"&&Jm(s,t,l)),Fn(e,t,s);break;case 21:Fn(e,t,s);break;case 22:ft=(l=ft)||s.memoizedState!==null,Fn(e,t,s),ft=l;break;default:Fn(e,t,s)}}function ag(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{ar(e)}catch(s){He(t,t.return,s)}}}function sg(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{ar(e)}catch(s){He(t,t.return,s)}}function Gw(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new Wm),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new Wm),t;default:throw Error(i(435,e.tag))}}function Il(e,t){var s=Gw(e);t.forEach(function(l){if(!s.has(l)){s.add(l);var c=tx.bind(null,e,l);l.then(c,c)}})}function zt(e,t){var s=t.deletions;if(s!==null)for(var l=0;l<s.length;l++){var c=s[l],f=e,g=t,w=g;e:for(;w!==null;){switch(w.tag){case 27:if(Ca(w.type)){et=w.stateNode,$t=!1;break e}break;case 5:et=w.stateNode,$t=!1;break e;case 3:case 4:et=w.stateNode.containerInfo,$t=!0;break e}w=w.return}if(et===null)throw Error(i(160));ng(f,g,c),et=null,$t=!1,f=c.alternate,f!==null&&(f.return=null),c.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)rg(t,e),t=t.sibling}var _n=null;function rg(e,t){var s=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:zt(t,e),Ht(e),l&4&&(_a(3,e,e.return),Wr(3,e),_a(5,e,e.return));break;case 1:zt(t,e),Ht(e),l&512&&(ft||s===null||Rn(s,s.return)),l&64&&Vn&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(s=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=s===null?l:s.concat(l))));break;case 26:var c=_n;if(zt(t,e),Ht(e),l&512&&(ft||s===null||Rn(s,s.return)),l&4){var f=s!==null?s.memoizedState:null;if(l=e.memoizedState,s===null)if(l===null)if(e.stateNode===null){e:{l=e.type,s=e.memoizedProps,c=c.ownerDocument||c;t:switch(l){case"title":f=c.getElementsByTagName("title")[0],(!f||f[Cr]||f[wt]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=c.createElement(l),c.head.insertBefore(f,c.querySelector("head > title"))),Tt(f,l,s),f[wt]=e,vt(f),l=f;break e;case"link":var g=ry("link","href",c).get(l+(s.href||""));if(g){for(var w=0;w<g.length;w++)if(f=g[w],f.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&f.getAttribute("rel")===(s.rel==null?null:s.rel)&&f.getAttribute("title")===(s.title==null?null:s.title)&&f.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){g.splice(w,1);break t}}f=c.createElement(l),Tt(f,l,s),c.head.appendChild(f);break;case"meta":if(g=ry("meta","content",c).get(l+(s.content||""))){for(w=0;w<g.length;w++)if(f=g[w],f.getAttribute("content")===(s.content==null?null:""+s.content)&&f.getAttribute("name")===(s.name==null?null:s.name)&&f.getAttribute("property")===(s.property==null?null:s.property)&&f.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&f.getAttribute("charset")===(s.charSet==null?null:s.charSet)){g.splice(w,1);break t}}f=c.createElement(l),Tt(f,l,s),c.head.appendChild(f);break;default:throw Error(i(468,l))}f[wt]=e,vt(f),l=f}e.stateNode=l}else iy(c,e.type,e.stateNode);else e.stateNode=sy(c,l,e.memoizedProps);else f!==l?(f===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):f.count--,l===null?iy(c,e.type,e.stateNode):sy(c,l,e.memoizedProps)):l===null&&e.stateNode!==null&&Lc(e,e.memoizedProps,s.memoizedProps)}break;case 27:zt(t,e),Ht(e),l&512&&(ft||s===null||Rn(s,s.return)),s!==null&&l&4&&Lc(e,e.memoizedProps,s.memoizedProps);break;case 5:if(zt(t,e),Ht(e),l&512&&(ft||s===null||Rn(s,s.return)),e.flags&32){c=e.stateNode;try{As(c,"")}catch(ue){He(e,e.return,ue)}}l&4&&e.stateNode!=null&&(c=e.memoizedProps,Lc(e,c,s!==null?s.memoizedProps:c)),l&1024&&(Uc=!0);break;case 6:if(zt(t,e),Ht(e),l&4){if(e.stateNode===null)throw Error(i(162));l=e.memoizedProps,s=e.stateNode;try{s.nodeValue=l}catch(ue){He(e,e.return,ue)}}break;case 3:if(so=null,c=_n,_n=no(t.containerInfo),zt(t,e),_n=c,Ht(e),l&4&&s!==null&&s.memoizedState.isDehydrated)try{ar(t.containerInfo)}catch(ue){He(e,e.return,ue)}Uc&&(Uc=!1,ig(e));break;case 4:l=_n,_n=no(e.stateNode.containerInfo),zt(t,e),Ht(e),_n=l;break;case 12:zt(t,e),Ht(e);break;case 31:zt(t,e),Ht(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Il(e,l)));break;case 13:zt(t,e),Ht(e),e.child.flags&8192&&e.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(Fl=Pt()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Il(e,l)));break;case 22:c=e.memoizedState!==null;var N=s!==null&&s.memoizedState!==null,q=Vn,G=ft;if(Vn=q||c,ft=G||N,zt(t,e),ft=G,Vn=q,Ht(e),l&8192)e:for(t=e.stateNode,t._visibility=c?t._visibility&-2:t._visibility|1,c&&(s===null||N||Vn||ft||rs(e)),s=null,t=e;;){if(t.tag===5||t.tag===26){if(s===null){N=s=t;try{if(f=N.stateNode,c)g=f.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{w=N.stateNode;var Q=N.memoizedProps.style,z=Q!=null&&Q.hasOwnProperty("display")?Q.display:null;w.style.display=z==null||typeof z=="boolean"?"":(""+z).trim()}}catch(ue){He(N,N.return,ue)}}}else if(t.tag===6){if(s===null){N=t;try{N.stateNode.nodeValue=c?"":N.memoizedProps}catch(ue){He(N,N.return,ue)}}}else if(t.tag===18){if(s===null){N=t;try{var V=N.stateNode;c?Jg(V,!0):Jg(N.stateNode,!1)}catch(ue){He(N,N.return,ue)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;s===t&&(s=null),t=t.return}s===t&&(s=null),t.sibling.return=t.return,t=t.sibling}l&4&&(l=e.updateQueue,l!==null&&(s=l.retryQueue,s!==null&&(l.retryQueue=null,Il(e,s))));break;case 19:zt(t,e),Ht(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Il(e,l)));break;case 30:break;case 21:break;default:zt(t,e),Ht(e)}}function Ht(e){var t=e.flags;if(t&2){try{for(var s,l=e.return;l!==null;){if(Qm(l)){s=l;break}l=l.return}if(s==null)throw Error(i(160));switch(s.tag){case 27:var c=s.stateNode,f=Dc(e);Hl(e,f,c);break;case 5:var g=s.stateNode;s.flags&32&&(As(g,""),s.flags&=-33);var w=Dc(e);Hl(e,w,g);break;case 3:case 4:var N=s.stateNode.containerInfo,q=Dc(e);Mc(e,q,N);break;default:throw Error(i(161))}}catch(G){He(e,e.return,G)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function ig(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;ig(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function Pn(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)eg(e,t.alternate,t),t=t.sibling}function rs(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:_a(4,t,t.return),rs(t);break;case 1:Rn(t,t.return);var s=t.stateNode;typeof s.componentWillUnmount=="function"&&Jm(t,t.return,s),rs(t);break;case 27:ui(t.stateNode);case 26:case 5:Rn(t,t.return),rs(t);break;case 22:t.memoizedState===null&&rs(t);break;case 30:rs(t);break;default:rs(t)}e=e.sibling}}function Gn(e,t,s){for(s=s&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var l=t.alternate,c=e,f=t,g=f.flags;switch(f.tag){case 0:case 11:case 15:Gn(c,f,s),Wr(4,f);break;case 1:if(Gn(c,f,s),l=f,c=l.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch(q){He(l,l.return,q)}if(l=f,c=l.updateQueue,c!==null){var w=l.stateNode;try{var N=c.shared.hiddenCallbacks;if(N!==null)for(c.shared.hiddenCallbacks=null,c=0;c<N.length;c++)Bp(N[c],w)}catch(q){He(l,l.return,q)}}s&&g&64&&Km(f),ei(f,f.return);break;case 27:Xm(f);case 26:case 5:Gn(c,f,s),s&&l===null&&g&4&&Zm(f),ei(f,f.return);break;case 12:Gn(c,f,s);break;case 31:Gn(c,f,s),s&&g&4&&ag(c,f);break;case 13:Gn(c,f,s),s&&g&4&&sg(c,f);break;case 22:f.memoizedState===null&&Gn(c,f,s),ei(f,f.return);break;case 30:break;default:Gn(c,f,s)}t=t.sibling}}function Bc(e,t){var s=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==s&&(e!=null&&e.refCount++,s!=null&&zr(s))}function qc(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&zr(e))}function wn(e,t,s,l){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)lg(e,t,s,l),t=t.sibling}function lg(e,t,s,l){var c=t.flags;switch(t.tag){case 0:case 11:case 15:wn(e,t,s,l),c&2048&&Wr(9,t);break;case 1:wn(e,t,s,l);break;case 3:wn(e,t,s,l),c&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&zr(e)));break;case 12:if(c&2048){wn(e,t,s,l),e=t.stateNode;try{var f=t.memoizedProps,g=f.id,w=f.onPostCommit;typeof w=="function"&&w(g,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(N){He(t,t.return,N)}}else wn(e,t,s,l);break;case 31:wn(e,t,s,l);break;case 13:wn(e,t,s,l);break;case 23:break;case 22:f=t.stateNode,g=t.alternate,t.memoizedState!==null?f._visibility&2?wn(e,t,s,l):ti(e,t):f._visibility&2?wn(e,t,s,l):(f._visibility|=2,Gs(e,t,s,l,(t.subtreeFlags&10256)!==0||!1)),c&2048&&Bc(g,t);break;case 24:wn(e,t,s,l),c&2048&&qc(t.alternate,t);break;default:wn(e,t,s,l)}}function Gs(e,t,s,l,c){for(c=c&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var f=e,g=t,w=s,N=l,q=g.flags;switch(g.tag){case 0:case 11:case 15:Gs(f,g,w,N,c),Wr(8,g);break;case 23:break;case 22:var G=g.stateNode;g.memoizedState!==null?G._visibility&2?Gs(f,g,w,N,c):ti(f,g):(G._visibility|=2,Gs(f,g,w,N,c)),c&&q&2048&&Bc(g.alternate,g);break;case 24:Gs(f,g,w,N,c),c&&q&2048&&qc(g.alternate,g);break;default:Gs(f,g,w,N,c)}t=t.sibling}}function ti(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var s=e,l=t,c=l.flags;switch(l.tag){case 22:ti(s,l),c&2048&&Bc(l.alternate,l);break;case 24:ti(s,l),c&2048&&qc(l.alternate,l);break;default:ti(s,l)}t=t.sibling}}var ni=8192;function Ys(e,t,s){if(e.subtreeFlags&ni)for(e=e.child;e!==null;)og(e,t,s),e=e.sibling}function og(e,t,s){switch(e.tag){case 26:Ys(e,t,s),e.flags&ni&&e.memoizedState!==null&&kx(s,_n,e.memoizedState,e.memoizedProps);break;case 5:Ys(e,t,s);break;case 3:case 4:var l=_n;_n=no(e.stateNode.containerInfo),Ys(e,t,s),_n=l;break;case 22:e.memoizedState===null&&(l=e.alternate,l!==null&&l.memoizedState!==null?(l=ni,ni=16777216,Ys(e,t,s),ni=l):Ys(e,t,s));break;default:Ys(e,t,s)}}function ug(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function ai(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var s=0;s<t.length;s++){var l=t[s];bt=l,hg(l,e)}ug(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)cg(e),e=e.sibling}function cg(e){switch(e.tag){case 0:case 11:case 15:ai(e),e.flags&2048&&_a(9,e,e.return);break;case 3:ai(e);break;case 12:ai(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,Vl(e)):ai(e);break;default:ai(e)}}function Vl(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var s=0;s<t.length;s++){var l=t[s];bt=l,hg(l,e)}ug(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:_a(8,t,t.return),Vl(t);break;case 22:s=t.stateNode,s._visibility&2&&(s._visibility&=-3,Vl(t));break;default:Vl(t)}e=e.sibling}}function hg(e,t){for(;bt!==null;){var s=bt;switch(s.tag){case 0:case 11:case 15:_a(8,s,t);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var l=s.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:zr(s.memoizedState.cache)}if(l=s.child,l!==null)l.return=s,bt=l;else e:for(s=e;bt!==null;){l=bt;var c=l.sibling,f=l.return;if(tg(l),l===s){bt=null;break e}if(c!==null){c.return=f,bt=c;break e}bt=f}}}var Yw={getCacheForType:function(e){var t=St(ut),s=t.data.get(e);return s===void 0&&(s=e(),t.data.set(e,s)),s},cacheSignal:function(){return St(ut).controller.signal}},Kw=typeof WeakMap=="function"?WeakMap:Map,$e=0,Ge=null,je=null,ke=0,ze=0,Xt=null,wa=!1,Ks=!1,$c=!1,Yn=0,rt=0,xa=0,is=0,zc=0,Wt=0,Js=0,si=null,It=null,Hc=!1,Fl=0,fg=0,Pl=1/0,Gl=null,Sa=null,mt=0,Ea=null,Zs=null,Kn=0,Ic=0,Vc=null,dg=null,ri=0,Fc=null;function en(){return($e&2)!==0&&ke!==0?ke&-ke:$.T!==null?Zc():jd()}function pg(){if(Wt===0)if((ke&536870912)===0||Me){var e=el;el<<=1,(el&3932160)===0&&(el=262144),Wt=e}else Wt=536870912;return e=Zt.current,e!==null&&(e.flags|=32),Wt}function Vt(e,t,s){(e===Ge&&(ze===2||ze===9)||e.cancelPendingCommit!==null)&&(Qs(e,0),Ta(e,ke,Wt,!1)),Ar(e,s),(($e&2)===0||e!==Ge)&&(e===Ge&&(($e&2)===0&&(is|=s),rt===4&&Ta(e,ke,Wt,!1)),jn(e))}function mg(e,t,s){if(($e&6)!==0)throw Error(i(327));var l=!s&&(t&127)===0&&(t&e.expiredLanes)===0||Tr(e,t),c=l?Qw(e,t):Gc(e,t,!0),f=l;do{if(c===0){Ks&&!l&&Ta(e,t,0,!1);break}else{if(s=e.current.alternate,f&&!Jw(s)){c=Gc(e,t,!1),f=!1;continue}if(c===2){if(f=t,e.errorRecoveryDisabledLanes&f)var g=0;else g=e.pendingLanes&-536870913,g=g!==0?g:g&536870912?536870912:0;if(g!==0){t=g;e:{var w=e;c=si;var N=w.current.memoizedState.isDehydrated;if(N&&(Qs(w,g).flags|=256),g=Gc(w,g,!1),g!==2){if($c&&!N){w.errorRecoveryDisabledLanes|=f,is|=f,c=4;break e}f=It,It=c,f!==null&&(It===null?It=f:It.push.apply(It,f))}c=g}if(f=!1,c!==2)continue}}if(c===1){Qs(e,0),Ta(e,t,0,!0);break}e:{switch(l=e,f=c,f){case 0:case 1:throw Error(i(345));case 4:if((t&4194048)!==t)break;case 6:Ta(l,t,Wt,!wa);break e;case 2:It=null;break;case 3:case 5:break;default:throw Error(i(329))}if((t&62914560)===t&&(c=Fl+300-Pt(),10<c)){if(Ta(l,t,Wt,!wa),nl(l,0,!0)!==0)break e;Kn=t,l.timeoutHandle=Gg(gg.bind(null,l,s,It,Gl,Hc,t,Wt,is,Js,wa,f,"Throttled",-0,0),c);break e}gg(l,s,It,Gl,Hc,t,Wt,is,Js,wa,f,null,-0,0)}}break}while(!0);jn(e)}function gg(e,t,s,l,c,f,g,w,N,q,G,Q,z,V){if(e.timeoutHandle=-1,Q=t.subtreeFlags,Q&8192||(Q&16785408)===16785408){Q={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Ln},og(t,f,Q);var ue=(f&62914560)===f?Fl-Pt():(f&4194048)===f?fg-Pt():0;if(ue=Lx(Q,ue),ue!==null){Kn=f,e.cancelPendingCommit=ue(Eg.bind(null,e,t,f,s,l,c,g,w,N,G,Q,null,z,V)),Ta(e,f,g,!q);return}}Eg(e,t,f,s,l,c,g,w,N)}function Jw(e){for(var t=e;;){var s=t.tag;if((s===0||s===11||s===15)&&t.flags&16384&&(s=t.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var l=0;l<s.length;l++){var c=s[l],f=c.getSnapshot;c=c.value;try{if(!Kt(f(),c))return!1}catch{return!1}}if(s=t.child,t.subtreeFlags&16384&&s!==null)s.return=t,t=s;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Ta(e,t,s,l){t&=~zc,t&=~is,e.suspendedLanes|=t,e.pingedLanes&=~t,l&&(e.warmLanes|=t),l=e.expirationTimes;for(var c=t;0<c;){var f=31-Yt(c),g=1<<f;l[f]=-1,c&=~g}s!==0&&Ad(e,s,t)}function Yl(){return($e&6)===0?(ii(0),!1):!0}function Pc(){if(je!==null){if(ze===0)var e=je.return;else e=je,Bn=Qa=null,lc(e),Hs=null,Ir=0,e=je;for(;e!==null;)Ym(e.alternate,e),e=e.return;je=null}}function Qs(e,t){var s=e.timeoutHandle;s!==-1&&(e.timeoutHandle=-1,mx(s)),s=e.cancelPendingCommit,s!==null&&(e.cancelPendingCommit=null,s()),Kn=0,Pc(),Ge=e,je=s=Mn(e.current,null),ke=t,ze=0,Xt=null,wa=!1,Ks=Tr(e,t),$c=!1,Js=Wt=zc=is=xa=rt=0,It=si=null,Hc=!1,(t&8)!==0&&(t|=t&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=t;0<l;){var c=31-Yt(l),f=1<<c;t|=e[c],l&=~f}return Yn=t,pl(),s}function yg(e,t){Se=null,$.H=Zr,t===zs||t===xl?(t=Lp(),ze=3):t===Ju?(t=Lp(),ze=4):ze=t===Sc?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,Xt=t,je===null&&(rt=1,Ul(e,on(t,e.current)))}function vg(){var e=Zt.current;return e===null?!0:(ke&4194048)===ke?fn===null:(ke&62914560)===ke||(ke&536870912)!==0?e===fn:!1}function bg(){var e=$.H;return $.H=Zr,e===null?Zr:e}function _g(){var e=$.A;return $.A=Yw,e}function Kl(){rt=4,wa||(ke&4194048)!==ke&&Zt.current!==null||(Ks=!0),(xa&134217727)===0&&(is&134217727)===0||Ge===null||Ta(Ge,ke,Wt,!1)}function Gc(e,t,s){var l=$e;$e|=2;var c=bg(),f=_g();(Ge!==e||ke!==t)&&(Gl=null,Qs(e,t)),t=!1;var g=rt;e:do try{if(ze!==0&&je!==null){var w=je,N=Xt;switch(ze){case 8:Pc(),g=6;break e;case 3:case 2:case 9:case 6:Zt.current===null&&(t=!0);var q=ze;if(ze=0,Xt=null,Xs(e,w,N,q),s&&Ks){g=0;break e}break;default:q=ze,ze=0,Xt=null,Xs(e,w,N,q)}}Zw(),g=rt;break}catch(G){yg(e,G)}while(!0);return t&&e.shellSuspendCounter++,Bn=Qa=null,$e=l,$.H=c,$.A=f,je===null&&(Ge=null,ke=0,pl()),g}function Zw(){for(;je!==null;)wg(je)}function Qw(e,t){var s=$e;$e|=2;var l=bg(),c=_g();Ge!==e||ke!==t?(Gl=null,Pl=Pt()+500,Qs(e,t)):Ks=Tr(e,t);e:do try{if(ze!==0&&je!==null){t=je;var f=Xt;t:switch(ze){case 1:ze=0,Xt=null,Xs(e,t,f,1);break;case 2:case 9:if(Np(f)){ze=0,Xt=null,xg(t);break}t=function(){ze!==2&&ze!==9||Ge!==e||(ze=7),jn(e)},f.then(t,t);break e;case 3:ze=7;break e;case 4:ze=5;break e;case 7:Np(f)?(ze=0,Xt=null,xg(t)):(ze=0,Xt=null,Xs(e,t,f,7));break;case 5:var g=null;switch(je.tag){case 26:g=je.memoizedState;case 5:case 27:var w=je;if(g?ly(g):w.stateNode.complete){ze=0,Xt=null;var N=w.sibling;if(N!==null)je=N;else{var q=w.return;q!==null?(je=q,Jl(q)):je=null}break t}}ze=0,Xt=null,Xs(e,t,f,5);break;case 6:ze=0,Xt=null,Xs(e,t,f,6);break;case 8:Pc(),rt=6;break e;default:throw Error(i(462))}}Xw();break}catch(G){yg(e,G)}while(!0);return Bn=Qa=null,$.H=l,$.A=c,$e=s,je!==null?0:(Ge=null,ke=0,pl(),rt)}function Xw(){for(;je!==null&&!w_();)wg(je)}function wg(e){var t=Pm(e.alternate,e,Yn);e.memoizedProps=e.pendingProps,t===null?Jl(e):je=t}function xg(e){var t=e,s=t.alternate;switch(t.tag){case 15:case 0:t=$m(s,t,t.pendingProps,t.type,void 0,ke);break;case 11:t=$m(s,t,t.pendingProps,t.type.render,t.ref,ke);break;case 5:lc(t);default:Ym(s,t),t=je=_p(t,Yn),t=Pm(s,t,Yn)}e.memoizedProps=e.pendingProps,t===null?Jl(e):je=t}function Xs(e,t,s,l){Bn=Qa=null,lc(t),Hs=null,Ir=0;var c=t.return;try{if(zw(e,c,t,s,ke)){rt=1,Ul(e,on(s,e.current)),je=null;return}}catch(f){if(c!==null)throw je=c,f;rt=1,Ul(e,on(s,e.current)),je=null;return}t.flags&32768?(Me||l===1?e=!0:Ks||(ke&536870912)!==0?e=!1:(wa=e=!0,(l===2||l===9||l===3||l===6)&&(l=Zt.current,l!==null&&l.tag===13&&(l.flags|=16384))),Sg(t,e)):Jl(t)}function Jl(e){var t=e;do{if((t.flags&32768)!==0){Sg(t,wa);return}e=t.return;var s=Vw(t.alternate,t,Yn);if(s!==null){je=s;return}if(t=t.sibling,t!==null){je=t;return}je=t=e}while(t!==null);rt===0&&(rt=5)}function Sg(e,t){do{var s=Fw(e.alternate,e);if(s!==null){s.flags&=32767,je=s;return}if(s=e.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!t&&(e=e.sibling,e!==null)){je=e;return}je=e=s}while(e!==null);rt=6,je=null}function Eg(e,t,s,l,c,f,g,w,N){e.cancelPendingCommit=null;do Zl();while(mt!==0);if(($e&6)!==0)throw Error(i(327));if(t!==null){if(t===e.current)throw Error(i(177));if(f=t.lanes|t.childLanes,f|=Du,N_(e,s,f,g,w,N),e===Ge&&(je=Ge=null,ke=0),Zs=t,Ea=e,Kn=s,Ic=f,Vc=c,dg=l,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,nx(Xi,function(){return jg(),null})):(e.callbackNode=null,e.callbackPriority=0),l=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||l){l=$.T,$.T=null,c=W.p,W.p=2,g=$e,$e|=4;try{Pw(e,t,s)}finally{$e=g,W.p=c,$.T=l}}mt=1,Tg(),Ag(),Cg()}}function Tg(){if(mt===1){mt=0;var e=Ea,t=Zs,s=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||s){s=$.T,$.T=null;var l=W.p;W.p=2;var c=$e;$e|=4;try{rg(t,e);var f=sh,g=hp(e.containerInfo),w=f.focusedElem,N=f.selectionRange;if(g!==w&&w&&w.ownerDocument&&cp(w.ownerDocument.documentElement,w)){if(N!==null&&ju(w)){var q=N.start,G=N.end;if(G===void 0&&(G=q),"selectionStart"in w)w.selectionStart=q,w.selectionEnd=Math.min(G,w.value.length);else{var Q=w.ownerDocument||document,z=Q&&Q.defaultView||window;if(z.getSelection){var V=z.getSelection(),ue=w.textContent.length,pe=Math.min(N.start,ue),Pe=N.end===void 0?pe:Math.min(N.end,ue);!V.extend&&pe>Pe&&(g=Pe,Pe=pe,pe=g);var M=up(w,pe),L=up(w,Pe);if(M&&L&&(V.rangeCount!==1||V.anchorNode!==M.node||V.anchorOffset!==M.offset||V.focusNode!==L.node||V.focusOffset!==L.offset)){var B=Q.createRange();B.setStart(M.node,M.offset),V.removeAllRanges(),pe>Pe?(V.addRange(B),V.extend(L.node,L.offset)):(B.setEnd(L.node,L.offset),V.addRange(B))}}}}for(Q=[],V=w;V=V.parentNode;)V.nodeType===1&&Q.push({element:V,left:V.scrollLeft,top:V.scrollTop});for(typeof w.focus=="function"&&w.focus(),w=0;w<Q.length;w++){var J=Q[w];J.element.scrollLeft=J.left,J.element.scrollTop=J.top}}oo=!!ah,sh=ah=null}finally{$e=c,W.p=l,$.T=s}}e.current=t,mt=2}}function Ag(){if(mt===2){mt=0;var e=Ea,t=Zs,s=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||s){s=$.T,$.T=null;var l=W.p;W.p=2;var c=$e;$e|=4;try{eg(e,t.alternate,t)}finally{$e=c,W.p=l,$.T=s}}mt=3}}function Cg(){if(mt===4||mt===3){mt=0,x_();var e=Ea,t=Zs,s=Kn,l=dg;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?mt=5:(mt=0,Zs=Ea=null,Rg(e,e.pendingLanes));var c=e.pendingLanes;if(c===0&&(Sa=null),cu(s),t=t.stateNode,Gt&&typeof Gt.onCommitFiberRoot=="function")try{Gt.onCommitFiberRoot(Er,t,void 0,(t.current.flags&128)===128)}catch{}if(l!==null){t=$.T,c=W.p,W.p=2,$.T=null;try{for(var f=e.onRecoverableError,g=0;g<l.length;g++){var w=l[g];f(w.value,{componentStack:w.stack})}}finally{$.T=t,W.p=c}}(Kn&3)!==0&&Zl(),jn(e),c=e.pendingLanes,(s&261930)!==0&&(c&42)!==0?e===Fc?ri++:(ri=0,Fc=e):ri=0,ii(0)}}function Rg(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,zr(t)))}function Zl(){return Tg(),Ag(),Cg(),jg()}function jg(){if(mt!==5)return!1;var e=Ea,t=Ic;Ic=0;var s=cu(Kn),l=$.T,c=W.p;try{W.p=32>s?32:s,$.T=null,s=Vc,Vc=null;var f=Ea,g=Kn;if(mt=0,Zs=Ea=null,Kn=0,($e&6)!==0)throw Error(i(331));var w=$e;if($e|=4,cg(f.current),lg(f,f.current,g,s),$e=w,ii(0,!1),Gt&&typeof Gt.onPostCommitFiberRoot=="function")try{Gt.onPostCommitFiberRoot(Er,f)}catch{}return!0}finally{W.p=c,$.T=l,Rg(e,t)}}function Og(e,t,s){t=on(s,t),t=xc(e.stateNode,t,2),e=ya(e,t,2),e!==null&&(Ar(e,2),jn(e))}function He(e,t,s){if(e.tag===3)Og(e,e,s);else for(;t!==null;){if(t.tag===3){Og(t,e,s);break}else if(t.tag===1){var l=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Sa===null||!Sa.has(l))){e=on(s,e),s=Nm(2),l=ya(t,s,2),l!==null&&(km(s,l,t,e),Ar(l,2),jn(l));break}}t=t.return}}function Yc(e,t,s){var l=e.pingCache;if(l===null){l=e.pingCache=new Kw;var c=new Set;l.set(t,c)}else c=l.get(t),c===void 0&&(c=new Set,l.set(t,c));c.has(s)||($c=!0,c.add(s),e=Ww.bind(null,e,t,s),t.then(e,e))}function Ww(e,t,s){var l=e.pingCache;l!==null&&l.delete(t),e.pingedLanes|=e.suspendedLanes&s,e.warmLanes&=~s,Ge===e&&(ke&s)===s&&(rt===4||rt===3&&(ke&62914560)===ke&&300>Pt()-Fl?($e&2)===0&&Qs(e,0):zc|=s,Js===ke&&(Js=0)),jn(e)}function Ng(e,t){t===0&&(t=Td()),e=Ka(e,t),e!==null&&(Ar(e,t),jn(e))}function ex(e){var t=e.memoizedState,s=0;t!==null&&(s=t.retryLane),Ng(e,s)}function tx(e,t){var s=0;switch(e.tag){case 31:case 13:var l=e.stateNode,c=e.memoizedState;c!==null&&(s=c.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(i(314))}l!==null&&l.delete(t),Ng(e,s)}function nx(e,t){return iu(e,t)}var Ql=null,Ws=null,Kc=!1,Xl=!1,Jc=!1,Aa=0;function jn(e){e!==Ws&&e.next===null&&(Ws===null?Ql=Ws=e:Ws=Ws.next=e),Xl=!0,Kc||(Kc=!0,sx())}function ii(e,t){if(!Jc&&Xl){Jc=!0;do for(var s=!1,l=Ql;l!==null;){if(e!==0){var c=l.pendingLanes;if(c===0)var f=0;else{var g=l.suspendedLanes,w=l.pingedLanes;f=(1<<31-Yt(42|e)+1)-1,f&=c&~(g&~w),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(s=!0,Mg(l,f))}else f=ke,f=nl(l,l===Ge?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||Tr(l,f)||(s=!0,Mg(l,f));l=l.next}while(s);Jc=!1}}function ax(){kg()}function kg(){Xl=Kc=!1;var e=0;Aa!==0&&px()&&(e=Aa);for(var t=Pt(),s=null,l=Ql;l!==null;){var c=l.next,f=Lg(l,t);f===0?(l.next=null,s===null?Ql=c:s.next=c,c===null&&(Ws=s)):(s=l,(e!==0||(f&3)!==0)&&(Xl=!0)),l=c}mt!==0&&mt!==5||ii(e),Aa!==0&&(Aa=0)}function Lg(e,t){for(var s=e.suspendedLanes,l=e.pingedLanes,c=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var g=31-Yt(f),w=1<<g,N=c[g];N===-1?((w&s)===0||(w&l)!==0)&&(c[g]=O_(w,t)):N<=t&&(e.expiredLanes|=w),f&=~w}if(t=Ge,s=ke,s=nl(e,e===t?s:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l=e.callbackNode,s===0||e===t&&(ze===2||ze===9)||e.cancelPendingCommit!==null)return l!==null&&l!==null&&lu(l),e.callbackNode=null,e.callbackPriority=0;if((s&3)===0||Tr(e,s)){if(t=s&-s,t===e.callbackPriority)return t;switch(l!==null&&lu(l),cu(s)){case 2:case 8:s=Sd;break;case 32:s=Xi;break;case 268435456:s=Ed;break;default:s=Xi}return l=Dg.bind(null,e),s=iu(s,l),e.callbackPriority=t,e.callbackNode=s,t}return l!==null&&l!==null&&lu(l),e.callbackPriority=2,e.callbackNode=null,2}function Dg(e,t){if(mt!==0&&mt!==5)return e.callbackNode=null,e.callbackPriority=0,null;var s=e.callbackNode;if(Zl()&&e.callbackNode!==s)return null;var l=ke;return l=nl(e,e===Ge?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l===0?null:(mg(e,l,t),Lg(e,Pt()),e.callbackNode!=null&&e.callbackNode===s?Dg.bind(null,e):null)}function Mg(e,t){if(Zl())return null;mg(e,t,!0)}function sx(){gx(function(){($e&6)!==0?iu(xd,ax):kg()})}function Zc(){if(Aa===0){var e=qs;e===0&&(e=Wi,Wi<<=1,(Wi&261888)===0&&(Wi=256)),Aa=e}return Aa}function Ug(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:il(""+e)}function Bg(e,t){var s=t.ownerDocument.createElement("input");return s.name=t.name,s.value=t.value,e.id&&s.setAttribute("form",e.id),t.parentNode.insertBefore(s,t),e=new FormData(e),s.parentNode.removeChild(s),e}function rx(e,t,s,l,c){if(t==="submit"&&s&&s.stateNode===c){var f=Ug((c[Bt]||null).action),g=l.submitter;g&&(t=(t=g[Bt]||null)?Ug(t.formAction):g.getAttribute("formAction"),t!==null&&(f=t,g=null));var w=new cl("action","action",null,l,c);e.push({event:w,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Aa!==0){var N=g?Bg(c,g):new FormData(c);gc(s,{pending:!0,data:N,method:c.method,action:f},null,N)}}else typeof f=="function"&&(w.preventDefault(),N=g?Bg(c,g):new FormData(c),gc(s,{pending:!0,data:N,method:c.method,action:f},f,N))},currentTarget:c}]})}}for(var Qc=0;Qc<Lu.length;Qc++){var Xc=Lu[Qc],ix=Xc.toLowerCase(),lx=Xc[0].toUpperCase()+Xc.slice(1);bn(ix,"on"+lx)}bn(pp,"onAnimationEnd"),bn(mp,"onAnimationIteration"),bn(gp,"onAnimationStart"),bn("dblclick","onDoubleClick"),bn("focusin","onFocus"),bn("focusout","onBlur"),bn(Sw,"onTransitionRun"),bn(Ew,"onTransitionStart"),bn(Tw,"onTransitionCancel"),bn(yp,"onTransitionEnd"),Es("onMouseEnter",["mouseout","mouseover"]),Es("onMouseLeave",["mouseout","mouseover"]),Es("onPointerEnter",["pointerout","pointerover"]),Es("onPointerLeave",["pointerout","pointerover"]),Fa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Fa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Fa("onBeforeInput",["compositionend","keypress","textInput","paste"]),Fa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Fa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Fa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var li="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ox=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(li));function qg(e,t){t=(t&4)!==0;for(var s=0;s<e.length;s++){var l=e[s],c=l.event;l=l.listeners;e:{var f=void 0;if(t)for(var g=l.length-1;0<=g;g--){var w=l[g],N=w.instance,q=w.currentTarget;if(w=w.listener,N!==f&&c.isPropagationStopped())break e;f=w,c.currentTarget=q;try{f(c)}catch(G){dl(G)}c.currentTarget=null,f=N}else for(g=0;g<l.length;g++){if(w=l[g],N=w.instance,q=w.currentTarget,w=w.listener,N!==f&&c.isPropagationStopped())break e;f=w,c.currentTarget=q;try{f(c)}catch(G){dl(G)}c.currentTarget=null,f=N}}}}function Oe(e,t){var s=t[hu];s===void 0&&(s=t[hu]=new Set);var l=e+"__bubble";s.has(l)||($g(t,e,2,!1),s.add(l))}function Wc(e,t,s){var l=0;t&&(l|=4),$g(s,e,l,t)}var Wl="_reactListening"+Math.random().toString(36).slice(2);function eh(e){if(!e[Wl]){e[Wl]=!0,kd.forEach(function(s){s!=="selectionchange"&&(ox.has(s)||Wc(s,!1,e),Wc(s,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Wl]||(t[Wl]=!0,Wc("selectionchange",!1,t))}}function $g(e,t,s,l){switch(py(t)){case 2:var c=Ux;break;case 8:c=Bx;break;default:c=mh}s=c.bind(null,t,s,e),c=void 0,!_u||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(c=!0),l?c!==void 0?e.addEventListener(t,s,{capture:!0,passive:c}):e.addEventListener(t,s,!0):c!==void 0?e.addEventListener(t,s,{passive:c}):e.addEventListener(t,s,!1)}function th(e,t,s,l,c){var f=l;if((t&1)===0&&(t&2)===0&&l!==null)e:for(;;){if(l===null)return;var g=l.tag;if(g===3||g===4){var w=l.stateNode.containerInfo;if(w===c)break;if(g===4)for(g=l.return;g!==null;){var N=g.tag;if((N===3||N===4)&&g.stateNode.containerInfo===c)return;g=g.return}for(;w!==null;){if(g=ws(w),g===null)return;if(N=g.tag,N===5||N===6||N===26||N===27){l=f=g;continue e}w=w.parentNode}}l=l.return}Fd(function(){var q=f,G=vu(s),Q=[];e:{var z=vp.get(e);if(z!==void 0){var V=cl,ue=e;switch(e){case"keypress":if(ol(s)===0)break e;case"keydown":case"keyup":V=tw;break;case"focusin":ue="focus",V=Eu;break;case"focusout":ue="blur",V=Eu;break;case"beforeblur":case"afterblur":V=Eu;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":V=Yd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":V=V_;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":V=sw;break;case pp:case mp:case gp:V=G_;break;case yp:V=iw;break;case"scroll":case"scrollend":V=H_;break;case"wheel":V=ow;break;case"copy":case"cut":case"paste":V=K_;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":V=Jd;break;case"toggle":case"beforetoggle":V=cw}var pe=(t&4)!==0,Pe=!pe&&(e==="scroll"||e==="scrollend"),M=pe?z!==null?z+"Capture":null:z;pe=[];for(var L=q,B;L!==null;){var J=L;if(B=J.stateNode,J=J.tag,J!==5&&J!==26&&J!==27||B===null||M===null||(J=jr(L,M),J!=null&&pe.push(oi(L,J,B))),Pe)break;L=L.return}0<pe.length&&(z=new V(z,ue,null,s,G),Q.push({event:z,listeners:pe}))}}if((t&7)===0){e:{if(z=e==="mouseover"||e==="pointerover",V=e==="mouseout"||e==="pointerout",z&&s!==yu&&(ue=s.relatedTarget||s.fromElement)&&(ws(ue)||ue[_s]))break e;if((V||z)&&(z=G.window===G?G:(z=G.ownerDocument)?z.defaultView||z.parentWindow:window,V?(ue=s.relatedTarget||s.toElement,V=q,ue=ue?ws(ue):null,ue!==null&&(Pe=u(ue),pe=ue.tag,ue!==Pe||pe!==5&&pe!==27&&pe!==6)&&(ue=null)):(V=null,ue=q),V!==ue)){if(pe=Yd,J="onMouseLeave",M="onMouseEnter",L="mouse",(e==="pointerout"||e==="pointerover")&&(pe=Jd,J="onPointerLeave",M="onPointerEnter",L="pointer"),Pe=V==null?z:Rr(V),B=ue==null?z:Rr(ue),z=new pe(J,L+"leave",V,s,G),z.target=Pe,z.relatedTarget=B,J=null,ws(G)===q&&(pe=new pe(M,L+"enter",ue,s,G),pe.target=B,pe.relatedTarget=Pe,J=pe),Pe=J,V&&ue)t:{for(pe=ux,M=V,L=ue,B=0,J=M;J;J=pe(J))B++;J=0;for(var de=L;de;de=pe(de))J++;for(;0<B-J;)M=pe(M),B--;for(;0<J-B;)L=pe(L),J--;for(;B--;){if(M===L||L!==null&&M===L.alternate){pe=M;break t}M=pe(M),L=pe(L)}pe=null}else pe=null;V!==null&&zg(Q,z,V,pe,!1),ue!==null&&Pe!==null&&zg(Q,Pe,ue,pe,!0)}}e:{if(z=q?Rr(q):window,V=z.nodeName&&z.nodeName.toLowerCase(),V==="select"||V==="input"&&z.type==="file")var Be=ap;else if(tp(z))if(sp)Be=_w;else{Be=vw;var ce=yw}else V=z.nodeName,!V||V.toLowerCase()!=="input"||z.type!=="checkbox"&&z.type!=="radio"?q&&gu(q.elementType)&&(Be=ap):Be=bw;if(Be&&(Be=Be(e,q))){np(Q,Be,s,G);break e}ce&&ce(e,z,q),e==="focusout"&&q&&z.type==="number"&&q.memoizedProps.value!=null&&mu(z,"number",z.value)}switch(ce=q?Rr(q):window,e){case"focusin":(tp(ce)||ce.contentEditable==="true")&&(Os=ce,Ou=q,Br=null);break;case"focusout":Br=Ou=Os=null;break;case"mousedown":Nu=!0;break;case"contextmenu":case"mouseup":case"dragend":Nu=!1,fp(Q,s,G);break;case"selectionchange":if(xw)break;case"keydown":case"keyup":fp(Q,s,G)}var Te;if(Au)e:{switch(e){case"compositionstart":var Le="onCompositionStart";break e;case"compositionend":Le="onCompositionEnd";break e;case"compositionupdate":Le="onCompositionUpdate";break e}Le=void 0}else js?Wd(e,s)&&(Le="onCompositionEnd"):e==="keydown"&&s.keyCode===229&&(Le="onCompositionStart");Le&&(Zd&&s.locale!=="ko"&&(js||Le!=="onCompositionStart"?Le==="onCompositionEnd"&&js&&(Te=Pd()):(ca=G,wu="value"in ca?ca.value:ca.textContent,js=!0)),ce=eo(q,Le),0<ce.length&&(Le=new Kd(Le,e,null,s,G),Q.push({event:Le,listeners:ce}),Te?Le.data=Te:(Te=ep(s),Te!==null&&(Le.data=Te)))),(Te=fw?dw(e,s):pw(e,s))&&(Le=eo(q,"onBeforeInput"),0<Le.length&&(ce=new Kd("onBeforeInput","beforeinput",null,s,G),Q.push({event:ce,listeners:Le}),ce.data=Te)),rx(Q,e,q,s,G)}qg(Q,t)})}function oi(e,t,s){return{instance:e,listener:t,currentTarget:s}}function eo(e,t){for(var s=t+"Capture",l=[];e!==null;){var c=e,f=c.stateNode;if(c=c.tag,c!==5&&c!==26&&c!==27||f===null||(c=jr(e,s),c!=null&&l.unshift(oi(e,c,f)),c=jr(e,t),c!=null&&l.push(oi(e,c,f))),e.tag===3)return l;e=e.return}return[]}function ux(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function zg(e,t,s,l,c){for(var f=t._reactName,g=[];s!==null&&s!==l;){var w=s,N=w.alternate,q=w.stateNode;if(w=w.tag,N!==null&&N===l)break;w!==5&&w!==26&&w!==27||q===null||(N=q,c?(q=jr(s,f),q!=null&&g.unshift(oi(s,q,N))):c||(q=jr(s,f),q!=null&&g.push(oi(s,q,N)))),s=s.return}g.length!==0&&e.push({event:t,listeners:g})}var cx=/\r\n?/g,hx=/\u0000|\uFFFD/g;function Hg(e){return(typeof e=="string"?e:""+e).replace(cx,`
`).replace(hx,"")}function Ig(e,t){return t=Hg(t),Hg(e)===t}function Fe(e,t,s,l,c,f){switch(s){case"children":typeof l=="string"?t==="body"||t==="textarea"&&l===""||As(e,l):(typeof l=="number"||typeof l=="bigint")&&t!=="body"&&As(e,""+l);break;case"className":sl(e,"class",l);break;case"tabIndex":sl(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":sl(e,s,l);break;case"style":Id(e,l,f);break;case"data":if(t!=="object"){sl(e,"data",l);break}case"src":case"href":if(l===""&&(t!=="a"||s!=="href")){e.removeAttribute(s);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(s);break}l=il(""+l),e.setAttribute(s,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(s==="formAction"?(t!=="input"&&Fe(e,t,"name",c.name,c,null),Fe(e,t,"formEncType",c.formEncType,c,null),Fe(e,t,"formMethod",c.formMethod,c,null),Fe(e,t,"formTarget",c.formTarget,c,null)):(Fe(e,t,"encType",c.encType,c,null),Fe(e,t,"method",c.method,c,null),Fe(e,t,"target",c.target,c,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(s);break}l=il(""+l),e.setAttribute(s,l);break;case"onClick":l!=null&&(e.onclick=Ln);break;case"onScroll":l!=null&&Oe("scroll",e);break;case"onScrollEnd":l!=null&&Oe("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(i(61));if(s=l.__html,s!=null){if(c.children!=null)throw Error(i(60));e.innerHTML=s}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}s=il(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(s,""+l):e.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(s,""):e.removeAttribute(s);break;case"capture":case"download":l===!0?e.setAttribute(s,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(s,l):e.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(s,l):e.removeAttribute(s);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(s):e.setAttribute(s,l);break;case"popover":Oe("beforetoggle",e),Oe("toggle",e),al(e,"popover",l);break;case"xlinkActuate":kn(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":kn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":kn(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":kn(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":kn(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":kn(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":kn(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":kn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":kn(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":al(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=$_.get(s)||s,al(e,s,l))}}function nh(e,t,s,l,c,f){switch(s){case"style":Id(e,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(i(61));if(s=l.__html,s!=null){if(c.children!=null)throw Error(i(60));e.innerHTML=s}}break;case"children":typeof l=="string"?As(e,l):(typeof l=="number"||typeof l=="bigint")&&As(e,""+l);break;case"onScroll":l!=null&&Oe("scroll",e);break;case"onScrollEnd":l!=null&&Oe("scrollend",e);break;case"onClick":l!=null&&(e.onclick=Ln);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ld.hasOwnProperty(s))e:{if(s[0]==="o"&&s[1]==="n"&&(c=s.endsWith("Capture"),t=s.slice(2,c?s.length-7:void 0),f=e[Bt]||null,f=f!=null?f[s]:null,typeof f=="function"&&e.removeEventListener(t,f,c),typeof l=="function")){typeof f!="function"&&f!==null&&(s in e?e[s]=null:e.hasAttribute(s)&&e.removeAttribute(s)),e.addEventListener(t,l,c);break e}s in e?e[s]=l:l===!0?e.setAttribute(s,""):al(e,s,l)}}}function Tt(e,t,s){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Oe("error",e),Oe("load",e);var l=!1,c=!1,f;for(f in s)if(s.hasOwnProperty(f)){var g=s[f];if(g!=null)switch(f){case"src":l=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,t));default:Fe(e,t,f,g,s,null)}}c&&Fe(e,t,"srcSet",s.srcSet,s,null),l&&Fe(e,t,"src",s.src,s,null);return;case"input":Oe("invalid",e);var w=f=g=c=null,N=null,q=null;for(l in s)if(s.hasOwnProperty(l)){var G=s[l];if(G!=null)switch(l){case"name":c=G;break;case"type":g=G;break;case"checked":N=G;break;case"defaultChecked":q=G;break;case"value":f=G;break;case"defaultValue":w=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(i(137,t));break;default:Fe(e,t,l,G,s,null)}}qd(e,f,w,N,q,g,c,!1);return;case"select":Oe("invalid",e),l=g=f=null;for(c in s)if(s.hasOwnProperty(c)&&(w=s[c],w!=null))switch(c){case"value":f=w;break;case"defaultValue":g=w;break;case"multiple":l=w;default:Fe(e,t,c,w,s,null)}t=f,s=g,e.multiple=!!l,t!=null?Ts(e,!!l,t,!1):s!=null&&Ts(e,!!l,s,!0);return;case"textarea":Oe("invalid",e),f=c=l=null;for(g in s)if(s.hasOwnProperty(g)&&(w=s[g],w!=null))switch(g){case"value":l=w;break;case"defaultValue":c=w;break;case"children":f=w;break;case"dangerouslySetInnerHTML":if(w!=null)throw Error(i(91));break;default:Fe(e,t,g,w,s,null)}zd(e,l,c,f);return;case"option":for(N in s)s.hasOwnProperty(N)&&(l=s[N],l!=null)&&(N==="selected"?e.selected=l&&typeof l!="function"&&typeof l!="symbol":Fe(e,t,N,l,s,null));return;case"dialog":Oe("beforetoggle",e),Oe("toggle",e),Oe("cancel",e),Oe("close",e);break;case"iframe":case"object":Oe("load",e);break;case"video":case"audio":for(l=0;l<li.length;l++)Oe(li[l],e);break;case"image":Oe("error",e),Oe("load",e);break;case"details":Oe("toggle",e);break;case"embed":case"source":case"link":Oe("error",e),Oe("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(q in s)if(s.hasOwnProperty(q)&&(l=s[q],l!=null))switch(q){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,t));default:Fe(e,t,q,l,s,null)}return;default:if(gu(t)){for(G in s)s.hasOwnProperty(G)&&(l=s[G],l!==void 0&&nh(e,t,G,l,s,void 0));return}}for(w in s)s.hasOwnProperty(w)&&(l=s[w],l!=null&&Fe(e,t,w,l,s,null))}function fx(e,t,s,l){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,f=null,g=null,w=null,N=null,q=null,G=null;for(V in s){var Q=s[V];if(s.hasOwnProperty(V)&&Q!=null)switch(V){case"checked":break;case"value":break;case"defaultValue":N=Q;default:l.hasOwnProperty(V)||Fe(e,t,V,null,l,Q)}}for(var z in l){var V=l[z];if(Q=s[z],l.hasOwnProperty(z)&&(V!=null||Q!=null))switch(z){case"type":f=V;break;case"name":c=V;break;case"checked":q=V;break;case"defaultChecked":G=V;break;case"value":g=V;break;case"defaultValue":w=V;break;case"children":case"dangerouslySetInnerHTML":if(V!=null)throw Error(i(137,t));break;default:V!==Q&&Fe(e,t,z,V,l,Q)}}pu(e,g,w,N,q,G,f,c);return;case"select":V=g=w=z=null;for(f in s)if(N=s[f],s.hasOwnProperty(f)&&N!=null)switch(f){case"value":break;case"multiple":V=N;default:l.hasOwnProperty(f)||Fe(e,t,f,null,l,N)}for(c in l)if(f=l[c],N=s[c],l.hasOwnProperty(c)&&(f!=null||N!=null))switch(c){case"value":z=f;break;case"defaultValue":w=f;break;case"multiple":g=f;default:f!==N&&Fe(e,t,c,f,l,N)}t=w,s=g,l=V,z!=null?Ts(e,!!s,z,!1):!!l!=!!s&&(t!=null?Ts(e,!!s,t,!0):Ts(e,!!s,s?[]:"",!1));return;case"textarea":V=z=null;for(w in s)if(c=s[w],s.hasOwnProperty(w)&&c!=null&&!l.hasOwnProperty(w))switch(w){case"value":break;case"children":break;default:Fe(e,t,w,null,l,c)}for(g in l)if(c=l[g],f=s[g],l.hasOwnProperty(g)&&(c!=null||f!=null))switch(g){case"value":z=c;break;case"defaultValue":V=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(i(91));break;default:c!==f&&Fe(e,t,g,c,l,f)}$d(e,z,V);return;case"option":for(var ue in s)z=s[ue],s.hasOwnProperty(ue)&&z!=null&&!l.hasOwnProperty(ue)&&(ue==="selected"?e.selected=!1:Fe(e,t,ue,null,l,z));for(N in l)z=l[N],V=s[N],l.hasOwnProperty(N)&&z!==V&&(z!=null||V!=null)&&(N==="selected"?e.selected=z&&typeof z!="function"&&typeof z!="symbol":Fe(e,t,N,z,l,V));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var pe in s)z=s[pe],s.hasOwnProperty(pe)&&z!=null&&!l.hasOwnProperty(pe)&&Fe(e,t,pe,null,l,z);for(q in l)if(z=l[q],V=s[q],l.hasOwnProperty(q)&&z!==V&&(z!=null||V!=null))switch(q){case"children":case"dangerouslySetInnerHTML":if(z!=null)throw Error(i(137,t));break;default:Fe(e,t,q,z,l,V)}return;default:if(gu(t)){for(var Pe in s)z=s[Pe],s.hasOwnProperty(Pe)&&z!==void 0&&!l.hasOwnProperty(Pe)&&nh(e,t,Pe,void 0,l,z);for(G in l)z=l[G],V=s[G],!l.hasOwnProperty(G)||z===V||z===void 0&&V===void 0||nh(e,t,G,z,l,V);return}}for(var M in s)z=s[M],s.hasOwnProperty(M)&&z!=null&&!l.hasOwnProperty(M)&&Fe(e,t,M,null,l,z);for(Q in l)z=l[Q],V=s[Q],!l.hasOwnProperty(Q)||z===V||z==null&&V==null||Fe(e,t,Q,z,l,V)}function Vg(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function dx(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,s=performance.getEntriesByType("resource"),l=0;l<s.length;l++){var c=s[l],f=c.transferSize,g=c.initiatorType,w=c.duration;if(f&&w&&Vg(g)){for(g=0,w=c.responseEnd,l+=1;l<s.length;l++){var N=s[l],q=N.startTime;if(q>w)break;var G=N.transferSize,Q=N.initiatorType;G&&Vg(Q)&&(N=N.responseEnd,g+=G*(N<w?1:(w-q)/(N-q)))}if(--l,t+=8*(f+g)/(c.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var ah=null,sh=null;function to(e){return e.nodeType===9?e:e.ownerDocument}function Fg(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Pg(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function rh(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var ih=null;function px(){var e=window.event;return e&&e.type==="popstate"?e===ih?!1:(ih=e,!0):(ih=null,!1)}var Gg=typeof setTimeout=="function"?setTimeout:void 0,mx=typeof clearTimeout=="function"?clearTimeout:void 0,Yg=typeof Promise=="function"?Promise:void 0,gx=typeof queueMicrotask=="function"?queueMicrotask:typeof Yg<"u"?function(e){return Yg.resolve(null).then(e).catch(yx)}:Gg;function yx(e){setTimeout(function(){throw e})}function Ca(e){return e==="head"}function Kg(e,t){var s=t,l=0;do{var c=s.nextSibling;if(e.removeChild(s),c&&c.nodeType===8)if(s=c.data,s==="/$"||s==="/&"){if(l===0){e.removeChild(c),ar(t);return}l--}else if(s==="$"||s==="$?"||s==="$~"||s==="$!"||s==="&")l++;else if(s==="html")ui(e.ownerDocument.documentElement);else if(s==="head"){s=e.ownerDocument.head,ui(s);for(var f=s.firstChild;f;){var g=f.nextSibling,w=f.nodeName;f[Cr]||w==="SCRIPT"||w==="STYLE"||w==="LINK"&&f.rel.toLowerCase()==="stylesheet"||s.removeChild(f),f=g}}else s==="body"&&ui(e.ownerDocument.body);s=c}while(s);ar(t)}function Jg(e,t){var s=e;e=0;do{var l=s.nextSibling;if(s.nodeType===1?t?(s._stashedDisplay=s.style.display,s.style.display="none"):(s.style.display=s._stashedDisplay||"",s.getAttribute("style")===""&&s.removeAttribute("style")):s.nodeType===3&&(t?(s._stashedText=s.nodeValue,s.nodeValue=""):s.nodeValue=s._stashedText||""),l&&l.nodeType===8)if(s=l.data,s==="/$"){if(e===0)break;e--}else s!=="$"&&s!=="$?"&&s!=="$~"&&s!=="$!"||e++;s=l}while(s)}function lh(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var s=t;switch(t=t.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":lh(s),fu(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}e.removeChild(s)}}function vx(e,t,s,l){for(;e.nodeType===1;){var c=s;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[Cr])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==c.rel||e.getAttribute("href")!==(c.href==null||c.href===""?null:c.href)||e.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||e.getAttribute("title")!==(c.title==null?null:c.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(c.src==null?null:c.src)||e.getAttribute("type")!==(c.type==null?null:c.type)||e.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var f=c.name==null?null:""+c.name;if(c.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=dn(e.nextSibling),e===null)break}return null}function bx(e,t,s){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!s||(e=dn(e.nextSibling),e===null))return null;return e}function Zg(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=dn(e.nextSibling),e===null))return null;return e}function oh(e){return e.data==="$?"||e.data==="$~"}function uh(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function _x(e,t){var s=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||s.readyState!=="loading")t();else{var l=function(){t(),s.removeEventListener("DOMContentLoaded",l)};s.addEventListener("DOMContentLoaded",l),e._reactRetry=l}}function dn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var ch=null;function Qg(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var s=e.data;if(s==="/$"||s==="/&"){if(t===0)return dn(e.nextSibling);t--}else s!=="$"&&s!=="$!"&&s!=="$?"&&s!=="$~"&&s!=="&"||t++}e=e.nextSibling}return null}function Xg(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var s=e.data;if(s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"){if(t===0)return e;t--}else s!=="/$"&&s!=="/&"||t++}e=e.previousSibling}return null}function Wg(e,t,s){switch(t=to(s),e){case"html":if(e=t.documentElement,!e)throw Error(i(452));return e;case"head":if(e=t.head,!e)throw Error(i(453));return e;case"body":if(e=t.body,!e)throw Error(i(454));return e;default:throw Error(i(451))}}function ui(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);fu(e)}var pn=new Map,ey=new Set;function no(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Jn=W.d;W.d={f:wx,r:xx,D:Sx,C:Ex,L:Tx,m:Ax,X:Rx,S:Cx,M:jx};function wx(){var e=Jn.f(),t=Yl();return e||t}function xx(e){var t=xs(e);t!==null&&t.tag===5&&t.type==="form"?ym(t):Jn.r(e)}var er=typeof document>"u"?null:document;function ty(e,t,s){var l=er;if(l&&typeof t=="string"&&t){var c=rn(t);c='link[rel="'+e+'"][href="'+c+'"]',typeof s=="string"&&(c+='[crossorigin="'+s+'"]'),ey.has(c)||(ey.add(c),e={rel:e,crossOrigin:s,href:t},l.querySelector(c)===null&&(t=l.createElement("link"),Tt(t,"link",e),vt(t),l.head.appendChild(t)))}}function Sx(e){Jn.D(e),ty("dns-prefetch",e,null)}function Ex(e,t){Jn.C(e,t),ty("preconnect",e,t)}function Tx(e,t,s){Jn.L(e,t,s);var l=er;if(l&&e&&t){var c='link[rel="preload"][as="'+rn(t)+'"]';t==="image"&&s&&s.imageSrcSet?(c+='[imagesrcset="'+rn(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(c+='[imagesizes="'+rn(s.imageSizes)+'"]')):c+='[href="'+rn(e)+'"]';var f=c;switch(t){case"style":f=tr(e);break;case"script":f=nr(e)}pn.has(f)||(e=_({rel:"preload",href:t==="image"&&s&&s.imageSrcSet?void 0:e,as:t},s),pn.set(f,e),l.querySelector(c)!==null||t==="style"&&l.querySelector(ci(f))||t==="script"&&l.querySelector(hi(f))||(t=l.createElement("link"),Tt(t,"link",e),vt(t),l.head.appendChild(t)))}}function Ax(e,t){Jn.m(e,t);var s=er;if(s&&e){var l=t&&typeof t.as=="string"?t.as:"script",c='link[rel="modulepreload"][as="'+rn(l)+'"][href="'+rn(e)+'"]',f=c;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=nr(e)}if(!pn.has(f)&&(e=_({rel:"modulepreload",href:e},t),pn.set(f,e),s.querySelector(c)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(hi(f)))return}l=s.createElement("link"),Tt(l,"link",e),vt(l),s.head.appendChild(l)}}}function Cx(e,t,s){Jn.S(e,t,s);var l=er;if(l&&e){var c=Ss(l).hoistableStyles,f=tr(e);t=t||"default";var g=c.get(f);if(!g){var w={loading:0,preload:null};if(g=l.querySelector(ci(f)))w.loading=5;else{e=_({rel:"stylesheet",href:e,"data-precedence":t},s),(s=pn.get(f))&&hh(e,s);var N=g=l.createElement("link");vt(N),Tt(N,"link",e),N._p=new Promise(function(q,G){N.onload=q,N.onerror=G}),N.addEventListener("load",function(){w.loading|=1}),N.addEventListener("error",function(){w.loading|=2}),w.loading|=4,ao(g,t,l)}g={type:"stylesheet",instance:g,count:1,state:w},c.set(f,g)}}}function Rx(e,t){Jn.X(e,t);var s=er;if(s&&e){var l=Ss(s).hoistableScripts,c=nr(e),f=l.get(c);f||(f=s.querySelector(hi(c)),f||(e=_({src:e,async:!0},t),(t=pn.get(c))&&fh(e,t),f=s.createElement("script"),vt(f),Tt(f,"link",e),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(c,f))}}function jx(e,t){Jn.M(e,t);var s=er;if(s&&e){var l=Ss(s).hoistableScripts,c=nr(e),f=l.get(c);f||(f=s.querySelector(hi(c)),f||(e=_({src:e,async:!0,type:"module"},t),(t=pn.get(c))&&fh(e,t),f=s.createElement("script"),vt(f),Tt(f,"link",e),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(c,f))}}function ny(e,t,s,l){var c=(c=ne.current)?no(c):null;if(!c)throw Error(i(446));switch(e){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(t=tr(s.href),s=Ss(c).hoistableStyles,l=s.get(t),l||(l={type:"style",instance:null,count:0,state:null},s.set(t,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){e=tr(s.href);var f=Ss(c).hoistableStyles,g=f.get(e);if(g||(c=c.ownerDocument||c,g={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,g),(f=c.querySelector(ci(e)))&&!f._p&&(g.instance=f,g.state.loading=5),pn.has(e)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},pn.set(e,s),f||Ox(c,e,s,g.state))),t&&l===null)throw Error(i(528,""));return g}if(t&&l!==null)throw Error(i(529,""));return null;case"script":return t=s.async,s=s.src,typeof s=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=nr(s),s=Ss(c).hoistableScripts,l=s.get(t),l||(l={type:"script",instance:null,count:0,state:null},s.set(t,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,e))}}function tr(e){return'href="'+rn(e)+'"'}function ci(e){return'link[rel="stylesheet"]['+e+"]"}function ay(e){return _({},e,{"data-precedence":e.precedence,precedence:null})}function Ox(e,t,s,l){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?l.loading=1:(t=e.createElement("link"),l.preload=t,t.addEventListener("load",function(){return l.loading|=1}),t.addEventListener("error",function(){return l.loading|=2}),Tt(t,"link",s),vt(t),e.head.appendChild(t))}function nr(e){return'[src="'+rn(e)+'"]'}function hi(e){return"script[async]"+e}function sy(e,t,s){if(t.count++,t.instance===null)switch(t.type){case"style":var l=e.querySelector('style[data-href~="'+rn(s.href)+'"]');if(l)return t.instance=l,vt(l),l;var c=_({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),vt(l),Tt(l,"style",c),ao(l,s.precedence,e),t.instance=l;case"stylesheet":c=tr(s.href);var f=e.querySelector(ci(c));if(f)return t.state.loading|=4,t.instance=f,vt(f),f;l=ay(s),(c=pn.get(c))&&hh(l,c),f=(e.ownerDocument||e).createElement("link"),vt(f);var g=f;return g._p=new Promise(function(w,N){g.onload=w,g.onerror=N}),Tt(f,"link",l),t.state.loading|=4,ao(f,s.precedence,e),t.instance=f;case"script":return f=nr(s.src),(c=e.querySelector(hi(f)))?(t.instance=c,vt(c),c):(l=s,(c=pn.get(f))&&(l=_({},s),fh(l,c)),e=e.ownerDocument||e,c=e.createElement("script"),vt(c),Tt(c,"link",l),e.head.appendChild(c),t.instance=c);case"void":return null;default:throw Error(i(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(l=t.instance,t.state.loading|=4,ao(l,s.precedence,e));return t.instance}function ao(e,t,s){for(var l=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=l.length?l[l.length-1]:null,f=c,g=0;g<l.length;g++){var w=l[g];if(w.dataset.precedence===t)f=w;else if(f!==c)break}f?f.parentNode.insertBefore(e,f.nextSibling):(t=s.nodeType===9?s.head:s,t.insertBefore(e,t.firstChild))}function hh(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function fh(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var so=null;function ry(e,t,s){if(so===null){var l=new Map,c=so=new Map;c.set(s,l)}else c=so,l=c.get(s),l||(l=new Map,c.set(s,l));if(l.has(e))return l;for(l.set(e,null),s=s.getElementsByTagName(e),c=0;c<s.length;c++){var f=s[c];if(!(f[Cr]||f[wt]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var g=f.getAttribute(t)||"";g=e+g;var w=l.get(g);w?w.push(f):l.set(g,[f])}}return l}function iy(e,t,s){e=e.ownerDocument||e,e.head.insertBefore(s,t==="title"?e.querySelector("head > title"):null)}function Nx(e,t,s){if(s===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;return t.rel==="stylesheet"?(e=t.disabled,typeof t.precedence=="string"&&e==null):!0;case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function ly(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function kx(e,t,s,l){if(s.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var c=tr(l.href),f=t.querySelector(ci(c));if(f){t=f._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=ro.bind(e),t.then(e,e)),s.state.loading|=4,s.instance=f,vt(f);return}f=t.ownerDocument||t,l=ay(l),(c=pn.get(c))&&hh(l,c),f=f.createElement("link"),vt(f);var g=f;g._p=new Promise(function(w,N){g.onload=w,g.onerror=N}),Tt(f,"link",l),s.instance=f}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(s,t),(t=s.state.preload)&&(s.state.loading&3)===0&&(e.count++,s=ro.bind(e),t.addEventListener("load",s),t.addEventListener("error",s))}}var dh=0;function Lx(e,t){return e.stylesheets&&e.count===0&&lo(e,e.stylesheets),0<e.count||0<e.imgCount?function(s){var l=setTimeout(function(){if(e.stylesheets&&lo(e,e.stylesheets),e.unsuspend){var f=e.unsuspend;e.unsuspend=null,f()}},6e4+t);0<e.imgBytes&&dh===0&&(dh=62500*dx());var c=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&lo(e,e.stylesheets),e.unsuspend)){var f=e.unsuspend;e.unsuspend=null,f()}},(e.imgBytes>dh?50:800)+t);return e.unsuspend=s,function(){e.unsuspend=null,clearTimeout(l),clearTimeout(c)}}:null}function ro(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)lo(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var io=null;function lo(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,io=new Map,t.forEach(Dx,e),io=null,ro.call(e))}function Dx(e,t){if(!(t.state.loading&4)){var s=io.get(e);if(s)var l=s.get(null);else{s=new Map,io.set(e,s);for(var c=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<c.length;f++){var g=c[f];(g.nodeName==="LINK"||g.getAttribute("media")!=="not all")&&(s.set(g.dataset.precedence,g),l=g)}l&&s.set(null,l)}c=t.instance,g=c.getAttribute("data-precedence"),f=s.get(g)||l,f===l&&s.set(null,c),s.set(g,c),this.count++,l=ro.bind(this),c.addEventListener("load",l),c.addEventListener("error",l),f?f.parentNode.insertBefore(c,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(c,e.firstChild)),t.state.loading|=4}}var fi={$$typeof:U,Provider:null,Consumer:null,_currentValue:P,_currentValue2:P,_threadCount:0};function Mx(e,t,s,l,c,f,g,w,N){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ou(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ou(0),this.hiddenUpdates=ou(null),this.identifierPrefix=l,this.onUncaughtError=c,this.onCaughtError=f,this.onRecoverableError=g,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=N,this.incompleteTransitions=new Map}function oy(e,t,s,l,c,f,g,w,N,q,G,Q){return e=new Mx(e,t,s,g,N,q,G,Q,w),t=1,f===!0&&(t|=24),f=Jt(3,null,null,t),e.current=f,f.stateNode=e,t=Gu(),t.refCount++,e.pooledCache=t,t.refCount++,f.memoizedState={element:l,isDehydrated:s,cache:t},Zu(f),e}function uy(e){return e?(e=Ls,e):Ls}function cy(e,t,s,l,c,f){c=uy(c),l.context===null?l.context=c:l.pendingContext=c,l=ga(t),l.payload={element:s},f=f===void 0?null:f,f!==null&&(l.callback=f),s=ya(e,l,t),s!==null&&(Vt(s,e,t),Fr(s,e,t))}function hy(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var s=e.retryLane;e.retryLane=s!==0&&s<t?s:t}}function ph(e,t){hy(e,t),(e=e.alternate)&&hy(e,t)}function fy(e){if(e.tag===13||e.tag===31){var t=Ka(e,67108864);t!==null&&Vt(t,e,67108864),ph(e,67108864)}}function dy(e){if(e.tag===13||e.tag===31){var t=en();t=uu(t);var s=Ka(e,t);s!==null&&Vt(s,e,t),ph(e,t)}}var oo=!0;function Ux(e,t,s,l){var c=$.T;$.T=null;var f=W.p;try{W.p=2,mh(e,t,s,l)}finally{W.p=f,$.T=c}}function Bx(e,t,s,l){var c=$.T;$.T=null;var f=W.p;try{W.p=8,mh(e,t,s,l)}finally{W.p=f,$.T=c}}function mh(e,t,s,l){if(oo){var c=gh(l);if(c===null)th(e,t,l,uo,s),my(e,l);else if($x(c,e,t,s,l))l.stopPropagation();else if(my(e,l),t&4&&-1<qx.indexOf(e)){for(;c!==null;){var f=xs(c);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var g=Va(f.pendingLanes);if(g!==0){var w=f;for(w.pendingLanes|=2,w.entangledLanes|=2;g;){var N=1<<31-Yt(g);w.entanglements[1]|=N,g&=~N}jn(f),($e&6)===0&&(Pl=Pt()+500,ii(0))}}break;case 31:case 13:w=Ka(f,2),w!==null&&Vt(w,f,2),Yl(),ph(f,2)}if(f=gh(l),f===null&&th(e,t,l,uo,s),f===c)break;c=f}c!==null&&l.stopPropagation()}else th(e,t,l,null,s)}}function gh(e){return e=vu(e),yh(e)}var uo=null;function yh(e){if(uo=null,e=ws(e),e!==null){var t=u(e);if(t===null)e=null;else{var s=t.tag;if(s===13){if(e=h(t),e!==null)return e;e=null}else if(s===31){if(e=d(t),e!==null)return e;e=null}else if(s===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return uo=e,null}function py(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(S_()){case xd:return 2;case Sd:return 8;case Xi:case E_:return 32;case Ed:return 268435456;default:return 32}default:return 32}}var vh=!1,Ra=null,ja=null,Oa=null,di=new Map,pi=new Map,Na=[],qx="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function my(e,t){switch(e){case"focusin":case"focusout":Ra=null;break;case"dragenter":case"dragleave":ja=null;break;case"mouseover":case"mouseout":Oa=null;break;case"pointerover":case"pointerout":di.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":pi.delete(t.pointerId)}}function mi(e,t,s,l,c,f){return e===null||e.nativeEvent!==f?(e={blockedOn:t,domEventName:s,eventSystemFlags:l,nativeEvent:f,targetContainers:[c]},t!==null&&(t=xs(t),t!==null&&fy(t)),e):(e.eventSystemFlags|=l,t=e.targetContainers,c!==null&&t.indexOf(c)===-1&&t.push(c),e)}function $x(e,t,s,l,c){switch(t){case"focusin":return Ra=mi(Ra,e,t,s,l,c),!0;case"dragenter":return ja=mi(ja,e,t,s,l,c),!0;case"mouseover":return Oa=mi(Oa,e,t,s,l,c),!0;case"pointerover":var f=c.pointerId;return di.set(f,mi(di.get(f)||null,e,t,s,l,c)),!0;case"gotpointercapture":return f=c.pointerId,pi.set(f,mi(pi.get(f)||null,e,t,s,l,c)),!0}return!1}function gy(e){var t=ws(e.target);if(t!==null){var s=u(t);if(s!==null){if(t=s.tag,t===13){if(t=h(s),t!==null){e.blockedOn=t,Od(e.priority,function(){dy(s)});return}}else if(t===31){if(t=d(s),t!==null){e.blockedOn=t,Od(e.priority,function(){dy(s)});return}}else if(t===3&&s.stateNode.current.memoizedState.isDehydrated){e.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}e.blockedOn=null}function co(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var s=gh(e.nativeEvent);if(s===null){s=e.nativeEvent;var l=new s.constructor(s.type,s);yu=l,s.target.dispatchEvent(l),yu=null}else return t=xs(s),t!==null&&fy(t),e.blockedOn=s,!1;t.shift()}return!0}function yy(e,t,s){co(e)&&s.delete(t)}function zx(){vh=!1,Ra!==null&&co(Ra)&&(Ra=null),ja!==null&&co(ja)&&(ja=null),Oa!==null&&co(Oa)&&(Oa=null),di.forEach(yy),pi.forEach(yy)}function ho(e,t){e.blockedOn===t&&(e.blockedOn=null,vh||(vh=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,zx)))}var fo=null;function vy(e){fo!==e&&(fo=e,a.unstable_scheduleCallback(a.unstable_NormalPriority,function(){fo===e&&(fo=null);for(var t=0;t<e.length;t+=3){var s=e[t],l=e[t+1],c=e[t+2];if(typeof l!="function"){if(yh(l||s)===null)continue;break}var f=xs(s);f!==null&&(e.splice(t,3),t-=3,gc(f,{pending:!0,data:c,method:s.method,action:l},l,c))}}))}function ar(e){function t(N){return ho(N,e)}Ra!==null&&ho(Ra,e),ja!==null&&ho(ja,e),Oa!==null&&ho(Oa,e),di.forEach(t),pi.forEach(t);for(var s=0;s<Na.length;s++){var l=Na[s];l.blockedOn===e&&(l.blockedOn=null)}for(;0<Na.length&&(s=Na[0],s.blockedOn===null);)gy(s),s.blockedOn===null&&Na.shift();if(s=(e.ownerDocument||e).$$reactFormReplay,s!=null)for(l=0;l<s.length;l+=3){var c=s[l],f=s[l+1],g=c[Bt]||null;if(typeof f=="function")g||vy(s);else if(g){var w=null;if(f&&f.hasAttribute("formAction")){if(c=f,g=f[Bt]||null)w=g.formAction;else if(yh(c)!==null)continue}else w=g.action;typeof w=="function"?s[l+1]=w:(s.splice(l,3),l-=3),vy(s)}}}function by(){function e(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(g){return c=g})},focusReset:"manual",scroll:"manual"})}function t(){c!==null&&(c(),c=null),l||setTimeout(s,20)}function s(){if(!l&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,c=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(s,100),function(){l=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),c!==null&&(c(),c=null)}}}function bh(e){this._internalRoot=e}po.prototype.render=bh.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(i(409));var s=t.current,l=en();cy(s,l,e,t,null,null)},po.prototype.unmount=bh.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;cy(e.current,2,null,e,null,null),Yl(),t[_s]=null}};function po(e){this._internalRoot=e}po.prototype.unstable_scheduleHydration=function(e){if(e){var t=jd();e={blockedOn:null,target:e,priority:t};for(var s=0;s<Na.length&&t!==0&&t<Na[s].priority;s++);Na.splice(s,0,e),s===0&&gy(e)}};var _y=n.version;if(_y!=="19.2.4")throw Error(i(527,_y,"19.2.4"));W.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(i(188)):(e=Object.keys(e).join(","),Error(i(268,e)));return e=m(t),e=e!==null?b(e):null,e=e===null?null:e.stateNode,e};var Hx={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:$,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var mo=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!mo.isDisabled&&mo.supportsFiber)try{Er=mo.inject(Hx),Gt=mo}catch{}}return yi.createRoot=function(e,t){if(!o(e))throw Error(i(299));var s=!1,l="",c=Cm,f=Rm,g=jm;return t!=null&&(t.unstable_strictMode===!0&&(s=!0),t.identifierPrefix!==void 0&&(l=t.identifierPrefix),t.onUncaughtError!==void 0&&(c=t.onUncaughtError),t.onCaughtError!==void 0&&(f=t.onCaughtError),t.onRecoverableError!==void 0&&(g=t.onRecoverableError)),t=oy(e,1,!1,null,null,s,l,null,c,f,g,by),e[_s]=t.current,eh(e),new bh(t)},yi.hydrateRoot=function(e,t,s){if(!o(e))throw Error(i(299));var l=!1,c="",f=Cm,g=Rm,w=jm,N=null;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(c=s.identifierPrefix),s.onUncaughtError!==void 0&&(f=s.onUncaughtError),s.onCaughtError!==void 0&&(g=s.onCaughtError),s.onRecoverableError!==void 0&&(w=s.onRecoverableError),s.formState!==void 0&&(N=s.formState)),t=oy(e,1,!0,t,s??null,l,c,N,f,g,w,by),t.context=uy(null),s=t.current,l=en(),l=uu(l),c=ga(l),c.callback=null,ya(s,c,l),s=l,t.current.lanes=s,Ar(t,s),jn(t),e[_s]=t.current,eh(e),new po(t)},yi.version="19.2.4",yi}var Oy;function Qx(){if(Oy)return xh.exports;Oy=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(n){console.error(n)}}return a(),xh.exports=Zx(),xh.exports}var Xx=Qx(),Ah={exports:{}},Ae={};var Ny;function Wx(){if(Ny)return Ae;Ny=1;var a=Symbol.for("react.transitional.element"),n=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),h=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),_=Symbol.iterator;function S(C){return C===null||typeof C!="object"?null:(C=_&&C[_]||C["@@iterator"],typeof C=="function"?C:null)}var E={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},R=Object.assign,j={};function A(C,y,T){this.props=C,this.context=y,this.refs=j,this.updater=T||E}A.prototype.isReactComponent={},A.prototype.setState=function(C,y){if(typeof C!="object"&&typeof C!="function"&&C!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,C,y,"setState")},A.prototype.forceUpdate=function(C){this.updater.enqueueForceUpdate(this,C,"forceUpdate")};function k(){}k.prototype=A.prototype;function O(C,y,T){this.props=C,this.context=y,this.refs=j,this.updater=T||E}var U=O.prototype=new k;U.constructor=O,R(U,A.prototype),U.isPureReactComponent=!0;var X=Array.isArray,ee={H:null,A:null,T:null,S:null,V:null},te=Object.prototype.hasOwnProperty;function F(C,y,T,D,I,ae){return T=ae.ref,{$$typeof:a,type:C,key:y,ref:T!==void 0?T:null,props:ae}}function ie(C,y){return F(C.type,y,void 0,void 0,void 0,C.props)}function H(C){return typeof C=="object"&&C!==null&&C.$$typeof===a}function me(C){var y={"=":"=0",":":"=2"};return"$"+C.replace(/[=:]/g,function(T){return y[T]})}var fe=/\/+/g;function Ee(C,y){return typeof C=="object"&&C!==null&&C.key!=null?me(""+C.key):y.toString(36)}function Ne(){}function ge(C){switch(C.status){case"fulfilled":return C.value;case"rejected":throw C.reason;default:switch(typeof C.status=="string"?C.then(Ne,Ne):(C.status="pending",C.then(function(y){C.status==="pending"&&(C.status="fulfilled",C.value=y)},function(y){C.status==="pending"&&(C.status="rejected",C.reason=y)})),C.status){case"fulfilled":return C.value;case"rejected":throw C.reason}}throw C}function le(C,y,T,D,I){var ae=typeof C;(ae==="undefined"||ae==="boolean")&&(C=null);var ne=!1;if(C===null)ne=!0;else switch(ae){case"bigint":case"string":case"number":ne=!0;break;case"object":switch(C.$$typeof){case a:case n:ne=!0;break;case b:return ne=C._init,le(ne(C._payload),y,T,D,I)}}if(ne)return I=I(C),ne=D===""?"."+Ee(C,0):D,X(I)?(T="",ne!=null&&(T=ne.replace(fe,"$&/")+"/"),le(I,y,T,"",function(Ce){return Ce})):I!=null&&(H(I)&&(I=ie(I,T+(I.key==null||C&&C.key===I.key?"":(""+I.key).replace(fe,"$&/")+"/")+ne)),y.push(I)),1;ne=0;var oe=D===""?".":D+":";if(X(C))for(var be=0;be<C.length;be++)D=C[be],ae=oe+Ee(D,be),ne+=le(D,y,T,ae,I);else if(be=S(C),typeof be=="function")for(C=be.call(C),be=0;!(D=C.next()).done;)D=D.value,ae=oe+Ee(D,be++),ne+=le(D,y,T,ae,I);else if(ae==="object"){if(typeof C.then=="function")return le(ge(C),y,T,D,I);throw y=String(C),Error("Objects are not valid as a React child (found: "+(y==="[object Object]"?"object with keys {"+Object.keys(C).join(", ")+"}":y)+"). If you meant to render a collection of children, use an array instead.")}return ne}function $(C,y,T){if(C==null)return C;var D=[],I=0;return le(C,D,"","",function(ae){return y.call(T,ae,I++)}),D}function W(C){if(C._status===-1){var y=C._result;y=y(),y.then(function(T){(C._status===0||C._status===-1)&&(C._status=1,C._result=T)},function(T){(C._status===0||C._status===-1)&&(C._status=2,C._result=T)}),C._status===-1&&(C._status=0,C._result=y)}if(C._status===1)return C._result.default;throw C._result}var P=typeof reportError=="function"?reportError:function(C){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var y=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof C=="object"&&C!==null&&typeof C.message=="string"?String(C.message):String(C),error:C});if(!window.dispatchEvent(y))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",C);return}console.error(C)};function Z(){}return Ae.Children={map:$,forEach:function(C,y,T){$(C,function(){y.apply(this,arguments)},T)},count:function(C){var y=0;return $(C,function(){y++}),y},toArray:function(C){return $(C,function(y){return y})||[]},only:function(C){if(!H(C))throw Error("React.Children.only expected to receive a single React element child.");return C}},Ae.Component=A,Ae.Fragment=r,Ae.Profiler=o,Ae.PureComponent=O,Ae.StrictMode=i,Ae.Suspense=p,Ae.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ee,Ae.__COMPILER_RUNTIME={__proto__:null,c:function(C){return ee.H.useMemoCache(C)}},Ae.cache=function(C){return function(){return C.apply(null,arguments)}},Ae.cloneElement=function(C,y,T){if(C==null)throw Error("The argument must be a React element, but you passed "+C+".");var D=R({},C.props),I=C.key,ae=void 0;if(y!=null)for(ne in y.ref!==void 0&&(ae=void 0),y.key!==void 0&&(I=""+y.key),y)!te.call(y,ne)||ne==="key"||ne==="__self"||ne==="__source"||ne==="ref"&&y.ref===void 0||(D[ne]=y[ne]);var ne=arguments.length-2;if(ne===1)D.children=T;else if(1<ne){for(var oe=Array(ne),be=0;be<ne;be++)oe[be]=arguments[be+2];D.children=oe}return F(C.type,I,void 0,void 0,ae,D)},Ae.createContext=function(C){return C={$$typeof:h,_currentValue:C,_currentValue2:C,_threadCount:0,Provider:null,Consumer:null},C.Provider=C,C.Consumer={$$typeof:u,_context:C},C},Ae.createElement=function(C,y,T){var D,I={},ae=null;if(y!=null)for(D in y.key!==void 0&&(ae=""+y.key),y)te.call(y,D)&&D!=="key"&&D!=="__self"&&D!=="__source"&&(I[D]=y[D]);var ne=arguments.length-2;if(ne===1)I.children=T;else if(1<ne){for(var oe=Array(ne),be=0;be<ne;be++)oe[be]=arguments[be+2];I.children=oe}if(C&&C.defaultProps)for(D in ne=C.defaultProps,ne)I[D]===void 0&&(I[D]=ne[D]);return F(C,ae,void 0,void 0,null,I)},Ae.createRef=function(){return{current:null}},Ae.forwardRef=function(C){return{$$typeof:d,render:C}},Ae.isValidElement=H,Ae.lazy=function(C){return{$$typeof:b,_payload:{_status:-1,_result:C},_init:W}},Ae.memo=function(C,y){return{$$typeof:m,type:C,compare:y===void 0?null:y}},Ae.startTransition=function(C){var y=ee.T,T={};ee.T=T;try{var D=C(),I=ee.S;I!==null&&I(T,D),typeof D=="object"&&D!==null&&typeof D.then=="function"&&D.then(Z,P)}catch(ae){P(ae)}finally{ee.T=y}},Ae.unstable_useCacheRefresh=function(){return ee.H.useCacheRefresh()},Ae.use=function(C){return ee.H.use(C)},Ae.useActionState=function(C,y,T){return ee.H.useActionState(C,y,T)},Ae.useCallback=function(C,y){return ee.H.useCallback(C,y)},Ae.useContext=function(C){return ee.H.useContext(C)},Ae.useDebugValue=function(){},Ae.useDeferredValue=function(C,y){return ee.H.useDeferredValue(C,y)},Ae.useEffect=function(C,y,T){var D=ee.H;if(typeof T=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return D.useEffect(C,y)},Ae.useId=function(){return ee.H.useId()},Ae.useImperativeHandle=function(C,y,T){return ee.H.useImperativeHandle(C,y,T)},Ae.useInsertionEffect=function(C,y){return ee.H.useInsertionEffect(C,y)},Ae.useLayoutEffect=function(C,y){return ee.H.useLayoutEffect(C,y)},Ae.useMemo=function(C,y){return ee.H.useMemo(C,y)},Ae.useOptimistic=function(C,y){return ee.H.useOptimistic(C,y)},Ae.useReducer=function(C,y,T){return ee.H.useReducer(C,y,T)},Ae.useRef=function(C){return ee.H.useRef(C)},Ae.useState=function(C){return ee.H.useState(C)},Ae.useSyncExternalStore=function(C,y,T){return ee.H.useSyncExternalStore(C,y,T)},Ae.useTransition=function(){return ee.H.useTransition()},Ae.version="19.1.0",Ae}var ky;function eS(){return ky||(ky=1,Ah.exports=Wx()),Ah.exports}var K=eS();const dO=M0(K);var Ly="popstate";function tS(a={}){function n(o,u){let{pathname:h="/",search:d="",hash:p=""}=gs(o.location.hash.substring(1));return!h.startsWith("/")&&!h.startsWith(".")&&(h="/"+h),Yh("",{pathname:h,search:d,hash:p},u.state&&u.state.usr||null,u.state&&u.state.key||"default")}function r(o,u){let h=o.document.querySelector("base"),d="";if(h&&h.getAttribute("href")){let p=o.location.href,m=p.indexOf("#");d=m===-1?p:p.slice(0,m)}return d+"#"+(typeof u=="string"?u:Ci(u))}function i(o,u){mn(o.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(u)})`)}return aS(n,r,i,a)}function nt(a,n){if(a===!1||a===null||typeof a>"u")throw new Error(n)}function mn(a,n){if(!a){typeof console<"u"&&console.warn(n);try{throw new Error(n)}catch{}}}function nS(){return Math.random().toString(36).substring(2,10)}function Dy(a,n){return{usr:a.state,key:a.key,idx:n}}function Yh(a,n,r=null,i){return{pathname:typeof a=="string"?a:a.pathname,search:"",hash:"",...typeof n=="string"?gs(n):n,state:r,key:n&&n.key||i||nS()}}function Ci({pathname:a="/",search:n="",hash:r=""}){return n&&n!=="?"&&(a+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(a+=r.charAt(0)==="#"?r:"#"+r),a}function gs(a){let n={};if(a){let r=a.indexOf("#");r>=0&&(n.hash=a.substring(r),a=a.substring(0,r));let i=a.indexOf("?");i>=0&&(n.search=a.substring(i),a=a.substring(0,i)),a&&(n.pathname=a)}return n}function aS(a,n,r,i={}){let{window:o=document.defaultView,v5Compat:u=!1}=i,h=o.history,d="POP",p=null,m=b();m==null&&(m=0,h.replaceState({...h.state,idx:m},""));function b(){return(h.state||{idx:null}).idx}function _(){d="POP";let A=b(),k=A==null?null:A-m;m=A,p&&p({action:d,location:j.location,delta:k})}function S(A,k){d="PUSH";let O=Yh(j.location,A,k);r&&r(O,A),m=b()+1;let U=Dy(O,m),X=j.createHref(O);try{h.pushState(U,"",X)}catch(ee){if(ee instanceof DOMException&&ee.name==="DataCloneError")throw ee;o.location.assign(X)}u&&p&&p({action:d,location:j.location,delta:1})}function E(A,k){d="REPLACE";let O=Yh(j.location,A,k);r&&r(O,A),m=b();let U=Dy(O,m),X=j.createHref(O);h.replaceState(U,"",X),u&&p&&p({action:d,location:j.location,delta:0})}function R(A){return sS(A)}let j={get action(){return d},get location(){return a(o,h)},listen(A){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(Ly,_),p=A,()=>{o.removeEventListener(Ly,_),p=null}},createHref(A){return n(o,A)},createURL:R,encodeLocation(A){let k=R(A);return{pathname:k.pathname,search:k.search,hash:k.hash}},push:S,replace:E,go(A){return h.go(A)}};return j}function sS(a,n=!1){let r="http://localhost";typeof window<"u"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),nt(r,"No window.location.(origin|href) available to create URL");let i=typeof a=="string"?a:Ci(a);return i=i.replace(/ $/,"%20"),!n&&i.startsWith("//")&&(i=r+i),new URL(i,r)}function U0(a,n,r="/"){return rS(a,n,r,!1)}function rS(a,n,r,i){let o=typeof n=="string"?gs(n):n,u=Wn(o.pathname||"/",r);if(u==null)return null;let h=B0(a);iS(h);let d=null;for(let p=0;d==null&&p<h.length;++p){let m=yS(u);d=mS(h[p],m,i)}return d}function B0(a,n=[],r=[],i="",o=!1){let u=(h,d,p=o,m)=>{let b={relativePath:m===void 0?h.path||"":m,caseSensitive:h.caseSensitive===!0,childrenIndex:d,route:h};if(b.relativePath.startsWith("/")){if(!b.relativePath.startsWith(i)&&p)return;nt(b.relativePath.startsWith(i),`Absolute route path "${b.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),b.relativePath=b.relativePath.slice(i.length)}let _=Xn([i,b.relativePath]),S=r.concat(b);h.children&&h.children.length>0&&(nt(h.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${_}".`),B0(h.children,n,S,_,p)),!(h.path==null&&!h.index)&&n.push({path:_,score:dS(_,h.index),routesMeta:S})};return a.forEach((h,d)=>{if(h.path===""||!h.path?.includes("?"))u(h,d);else for(let p of q0(h.path))u(h,d,!0,p)}),n}function q0(a){let n=a.split("/");if(n.length===0)return[];let[r,...i]=n,o=r.endsWith("?"),u=r.replace(/\?$/,"");if(i.length===0)return o?[u,""]:[u];let h=q0(i.join("/")),d=[];return d.push(...h.map(p=>p===""?u:[u,p].join("/"))),o&&d.push(...h),d.map(p=>a.startsWith("/")&&p===""?"/":p)}function iS(a){a.sort((n,r)=>n.score!==r.score?r.score-n.score:pS(n.routesMeta.map(i=>i.childrenIndex),r.routesMeta.map(i=>i.childrenIndex)))}var lS=/^:[\w-]+$/,oS=3,uS=2,cS=1,hS=10,fS=-2,My=a=>a==="*";function dS(a,n){let r=a.split("/"),i=r.length;return r.some(My)&&(i+=fS),n&&(i+=uS),r.filter(o=>!My(o)).reduce((o,u)=>o+(lS.test(u)?oS:u===""?cS:hS),i)}function pS(a,n){return a.length===n.length&&a.slice(0,-1).every((i,o)=>i===n[o])?a[a.length-1]-n[n.length-1]:0}function mS(a,n,r=!1){let{routesMeta:i}=a,o={},u="/",h=[];for(let d=0;d<i.length;++d){let p=i[d],m=d===i.length-1,b=u==="/"?n:n.slice(u.length)||"/",_=No({path:p.relativePath,caseSensitive:p.caseSensitive,end:m},b),S=p.route;if(!_&&m&&r&&!i[i.length-1].route.index&&(_=No({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},b)),!_)return null;Object.assign(o,_.params),h.push({params:o,pathname:Xn([u,_.pathname]),pathnameBase:wS(Xn([u,_.pathnameBase])),route:S}),_.pathnameBase!=="/"&&(u=Xn([u,_.pathnameBase]))}return h}function No(a,n){typeof a=="string"&&(a={path:a,caseSensitive:!1,end:!0});let[r,i]=gS(a.path,a.caseSensitive,a.end),o=n.match(r);if(!o)return null;let u=o[0],h=u.replace(/(.)\/+$/,"$1"),d=o.slice(1);return{params:i.reduce((m,{paramName:b,isOptional:_},S)=>{if(b==="*"){let R=d[S]||"";h=u.slice(0,u.length-R.length).replace(/(.)\/+$/,"$1")}const E=d[S];return _&&!E?m[b]=void 0:m[b]=(E||"").replace(/%2F/g,"/"),m},{}),pathname:u,pathnameBase:h,pattern:a}}function gS(a,n=!1,r=!0){mn(a==="*"||!a.endsWith("*")||a.endsWith("/*"),`Route path "${a}" will be treated as if it were "${a.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${a.replace(/\*$/,"/*")}".`);let i=[],o="^"+a.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,d,p)=>(i.push({paramName:d,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return a.endsWith("*")?(i.push({paramName:"*"}),o+=a==="*"||a==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?o+="\\/*$":a!==""&&a!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,n?void 0:"i"),i]}function yS(a){try{return a.split("/").map(n=>decodeURIComponent(n).replace(/\//g,"%2F")).join("/")}catch(n){return mn(!1,`The URL path "${a}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${n}).`),a}}function Wn(a,n){if(n==="/")return a;if(!a.toLowerCase().startsWith(n.toLowerCase()))return null;let r=n.endsWith("/")?n.length-1:n.length,i=a.charAt(r);return i&&i!=="/"?null:a.slice(r)||"/"}var vS=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function bS(a,n="/"){let{pathname:r,search:i="",hash:o=""}=typeof a=="string"?gs(a):a,u;return r?(r=r.replace(/\/\/+/g,"/"),r.startsWith("/")?u=Uy(r.substring(1),"/"):u=Uy(r,n)):u=n,{pathname:u,search:xS(i),hash:SS(o)}}function Uy(a,n){let r=n.replace(/\/+$/,"").split("/");return a.split("/").forEach(o=>{o===".."?r.length>1&&r.pop():o!=="."&&r.push(o)}),r.length>1?r.join("/"):"/"}function Ch(a,n,r,i){return`Cannot include a '${a}' character in a manually specified \`to.${n}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function _S(a){return a.filter((n,r)=>r===0||n.route.path&&n.route.path.length>0)}function $0(a){let n=_S(a);return n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase)}function z0(a,n,r,i=!1){let o;typeof a=="string"?o=gs(a):(o={...a},nt(!o.pathname||!o.pathname.includes("?"),Ch("?","pathname","search",o)),nt(!o.pathname||!o.pathname.includes("#"),Ch("#","pathname","hash",o)),nt(!o.search||!o.search.includes("#"),Ch("#","search","hash",o)));let u=a===""||o.pathname==="",h=u?"/":o.pathname,d;if(h==null)d=r;else{let _=n.length-1;if(!i&&h.startsWith("..")){let S=h.split("/");for(;S[0]==="..";)S.shift(),_-=1;o.pathname=S.join("/")}d=_>=0?n[_]:"/"}let p=bS(o,d),m=h&&h!=="/"&&h.endsWith("/"),b=(u||h===".")&&r.endsWith("/");return!p.pathname.endsWith("/")&&(m||b)&&(p.pathname+="/"),p}var Xn=a=>a.join("/").replace(/\/\/+/g,"/"),wS=a=>a.replace(/\/+$/,"").replace(/^\/*/,"/"),xS=a=>!a||a==="?"?"":a.startsWith("?")?a:"?"+a,SS=a=>!a||a==="#"?"":a.startsWith("#")?a:"#"+a,ES=class{constructor(a,n,r,i=!1){this.status=a,this.statusText=n||"",this.internal=i,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}};function TS(a){return a!=null&&typeof a.status=="number"&&typeof a.statusText=="string"&&typeof a.internal=="boolean"&&"data"in a}function AS(a){return a.map(n=>n.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var H0=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function I0(a,n){let r=a;if(typeof r!="string"||!vS.test(r))return{absoluteURL:void 0,isExternal:!1,to:r};let i=r,o=!1;if(H0)try{let u=new URL(window.location.href),h=r.startsWith("//")?new URL(u.protocol+r):new URL(r),d=Wn(h.pathname,n);h.origin===u.origin&&d!=null?r=d+h.search+h.hash:o=!0}catch{mn(!1,`<Link to="${r}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:i,isExternal:o,to:r}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var V0=["POST","PUT","PATCH","DELETE"];new Set(V0);var CS=["GET",...V0];new Set(CS);var br=K.createContext(null);br.displayName="DataRouter";var Uo=K.createContext(null);Uo.displayName="DataRouterState";var RS=K.createContext(!1),F0=K.createContext({isTransitioning:!1});F0.displayName="ViewTransition";var jS=K.createContext(new Map);jS.displayName="Fetchers";var OS=K.createContext(null);OS.displayName="Await";var gn=K.createContext(null);gn.displayName="Navigation";var Bi=K.createContext(null);Bi.displayName="Location";var sa=K.createContext({outlet:null,matches:[],isDataRoute:!1});sa.displayName="Route";var xf=K.createContext(null);xf.displayName="RouteError";var P0="REACT_ROUTER_ERROR",NS="REDIRECT",kS="ROUTE_ERROR_RESPONSE";function LS(a){if(a.startsWith(`${P0}:${NS}:{`))try{let n=JSON.parse(a.slice(28));if(typeof n=="object"&&n&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.location=="string"&&typeof n.reloadDocument=="boolean"&&typeof n.replace=="boolean")return n}catch{}}function DS(a){if(a.startsWith(`${P0}:${kS}:{`))try{let n=JSON.parse(a.slice(40));if(typeof n=="object"&&n&&typeof n.status=="number"&&typeof n.statusText=="string")return new ES(n.status,n.statusText,n.data)}catch{}}function MS(a,{relative:n}={}){nt(qi(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:i}=K.useContext(gn),{hash:o,pathname:u,search:h}=zi(a,{relative:n}),d=u;return r!=="/"&&(d=u==="/"?r:Xn([r,u])),i.createHref({pathname:d,search:h,hash:o})}function qi(){return K.useContext(Bi)!=null}function ra(){return nt(qi(),"useLocation() may be used only in the context of a <Router> component."),K.useContext(Bi).location}var G0="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Y0(a){K.useContext(gn).static||K.useLayoutEffect(a)}function $i(){let{isDataRoute:a}=K.useContext(sa);return a?KS():US()}function US(){nt(qi(),"useNavigate() may be used only in the context of a <Router> component.");let a=K.useContext(br),{basename:n,navigator:r}=K.useContext(gn),{matches:i}=K.useContext(sa),{pathname:o}=ra(),u=JSON.stringify($0(i)),h=K.useRef(!1);return Y0(()=>{h.current=!0}),K.useCallback((p,m={})=>{if(mn(h.current,G0),!h.current)return;if(typeof p=="number"){r.go(p);return}let b=z0(p,JSON.parse(u),o,m.relative==="path");a==null&&n!=="/"&&(b.pathname=b.pathname==="/"?n:Xn([n,b.pathname])),(m.replace?r.replace:r.push)(b,m.state,m)},[n,r,u,o,a])}K.createContext(null);function zi(a,{relative:n}={}){let{matches:r}=K.useContext(sa),{pathname:i}=ra(),o=JSON.stringify($0(r));return K.useMemo(()=>z0(a,JSON.parse(o),i,n==="path"),[a,o,i,n])}function BS(a,n){return K0(a,n)}function K0(a,n,r,i,o){nt(qi(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u}=K.useContext(gn),{matches:h}=K.useContext(sa),d=h[h.length-1],p=d?d.params:{},m=d?d.pathname:"/",b=d?d.pathnameBase:"/",_=d&&d.route;{let O=_&&_.path||"";Z0(m,!_||O.endsWith("*")||O.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${m}" (under <Route path="${O}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${O}"> to <Route path="${O==="/"?"*":`${O}/*`}">.`)}let S=ra(),E;if(n){let O=typeof n=="string"?gs(n):n;nt(b==="/"||O.pathname?.startsWith(b),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${b}" but pathname "${O.pathname}" was given in the \`location\` prop.`),E=O}else E=S;let R=E.pathname||"/",j=R;if(b!=="/"){let O=b.replace(/^\//,"").split("/");j="/"+R.replace(/^\//,"").split("/").slice(O.length).join("/")}let A=U0(a,{pathname:j});mn(_||A!=null,`No routes matched location "${E.pathname}${E.search}${E.hash}" `),mn(A==null||A[A.length-1].route.element!==void 0||A[A.length-1].route.Component!==void 0||A[A.length-1].route.lazy!==void 0,`Matched leaf route at location "${E.pathname}${E.search}${E.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let k=IS(A&&A.map(O=>Object.assign({},O,{params:Object.assign({},p,O.params),pathname:Xn([b,u.encodeLocation?u.encodeLocation(O.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:O.pathname]),pathnameBase:O.pathnameBase==="/"?b:Xn([b,u.encodeLocation?u.encodeLocation(O.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:O.pathnameBase])})),h,r,i,o);return n&&k?K.createElement(Bi.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...E},navigationType:"POP"}},k):k}function qS(){let a=YS(),n=TS(a)?`${a.status} ${a.statusText}`:a instanceof Error?a.message:JSON.stringify(a),r=a instanceof Error?a.stack:null,i="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:i},u={padding:"2px 4px",backgroundColor:i},h=null;return console.error("Error handled by React Router default ErrorBoundary:",a),h=K.createElement(K.Fragment,null,K.createElement("p",null," Hey developer "),K.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",K.createElement("code",{style:u},"ErrorBoundary")," or"," ",K.createElement("code",{style:u},"errorElement")," prop on your route.")),K.createElement(K.Fragment,null,K.createElement("h2",null,"Unexpected Application Error!"),K.createElement("h3",{style:{fontStyle:"italic"}},n),r?K.createElement("pre",{style:o},r):null,h)}var $S=K.createElement(qS,null),J0=class extends K.Component{constructor(a){super(a),this.state={location:a.location,revalidation:a.revalidation,error:a.error}}static getDerivedStateFromError(a){return{error:a}}static getDerivedStateFromProps(a,n){return n.location!==a.location||n.revalidation!=="idle"&&a.revalidation==="idle"?{error:a.error,location:a.location,revalidation:a.revalidation}:{error:a.error!==void 0?a.error:n.error,location:n.location,revalidation:a.revalidation||n.revalidation}}componentDidCatch(a,n){this.props.onError?this.props.onError(a,n):console.error("React Router caught the following error during render",a)}render(){let a=this.state.error;if(this.context&&typeof a=="object"&&a&&"digest"in a&&typeof a.digest=="string"){const r=DS(a.digest);r&&(a=r)}let n=a!==void 0?K.createElement(sa.Provider,{value:this.props.routeContext},K.createElement(xf.Provider,{value:a,children:this.props.component})):this.props.children;return this.context?K.createElement(zS,{error:a},n):n}};J0.contextType=RS;var Rh=new WeakMap;function zS({children:a,error:n}){let{basename:r}=K.useContext(gn);if(typeof n=="object"&&n&&"digest"in n&&typeof n.digest=="string"){let i=LS(n.digest);if(i){let o=Rh.get(n);if(o)throw o;let u=I0(i.location,r);if(H0&&!Rh.get(n))if(u.isExternal||i.reloadDocument)window.location.href=u.absoluteURL||u.to;else{const h=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(u.to,{replace:i.replace}));throw Rh.set(n,h),h}return K.createElement("meta",{httpEquiv:"refresh",content:`0;url=${u.absoluteURL||u.to}`})}}return a}function HS({routeContext:a,match:n,children:r}){let i=K.useContext(br);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),K.createElement(sa.Provider,{value:a},r)}function IS(a,n=[],r=null,i=null,o=null){if(a==null){if(!r)return null;if(r.errors)a=r.matches;else if(n.length===0&&!r.initialized&&r.matches.length>0)a=r.matches;else return null}let u=a,h=r?.errors;if(h!=null){let b=u.findIndex(_=>_.route.id&&h?.[_.route.id]!==void 0);nt(b>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(h).join(",")}`),u=u.slice(0,Math.min(u.length,b+1))}let d=!1,p=-1;if(r)for(let b=0;b<u.length;b++){let _=u[b];if((_.route.HydrateFallback||_.route.hydrateFallbackElement)&&(p=b),_.route.id){let{loaderData:S,errors:E}=r,R=_.route.loader&&!S.hasOwnProperty(_.route.id)&&(!E||E[_.route.id]===void 0);if(_.route.lazy||R){d=!0,p>=0?u=u.slice(0,p+1):u=[u[0]];break}}}let m=r&&i?(b,_)=>{i(b,{location:r.location,params:r.matches?.[0]?.params??{},unstable_pattern:AS(r.matches),errorInfo:_})}:void 0;return u.reduceRight((b,_,S)=>{let E,R=!1,j=null,A=null;r&&(E=h&&_.route.id?h[_.route.id]:void 0,j=_.route.errorElement||$S,d&&(p<0&&S===0?(Z0("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),R=!0,A=null):p===S&&(R=!0,A=_.route.hydrateFallbackElement||null)));let k=n.concat(u.slice(0,S+1)),O=()=>{let U;return E?U=j:R?U=A:_.route.Component?U=K.createElement(_.route.Component,null):_.route.element?U=_.route.element:U=b,K.createElement(HS,{match:_,routeContext:{outlet:b,matches:k,isDataRoute:r!=null},children:U})};return r&&(_.route.ErrorBoundary||_.route.errorElement||S===0)?K.createElement(J0,{location:r.location,revalidation:r.revalidation,component:j,error:E,children:O(),routeContext:{outlet:null,matches:k,isDataRoute:!0},onError:m}):O()},null)}function Sf(a){return`${a} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function VS(a){let n=K.useContext(br);return nt(n,Sf(a)),n}function FS(a){let n=K.useContext(Uo);return nt(n,Sf(a)),n}function PS(a){let n=K.useContext(sa);return nt(n,Sf(a)),n}function Ef(a){let n=PS(a),r=n.matches[n.matches.length-1];return nt(r.route.id,`${a} can only be used on routes that contain a unique "id"`),r.route.id}function GS(){return Ef("useRouteId")}function YS(){let a=K.useContext(xf),n=FS("useRouteError"),r=Ef("useRouteError");return a!==void 0?a:n.errors?.[r]}function KS(){let{router:a}=VS("useNavigate"),n=Ef("useNavigate"),r=K.useRef(!1);return Y0(()=>{r.current=!0}),K.useCallback(async(o,u={})=>{mn(r.current,G0),r.current&&(typeof o=="number"?await a.navigate(o):await a.navigate(o,{fromRouteId:n,...u}))},[a,n])}var By={};function Z0(a,n,r){!n&&!By[a]&&(By[a]=!0,mn(!1,r))}K.memo(JS);function JS({routes:a,future:n,state:r,onError:i}){return K0(a,void 0,r,i,n)}function Zn(a){nt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function ZS({basename:a="/",children:n=null,location:r,navigationType:i="POP",navigator:o,static:u=!1,unstable_useTransitions:h}){nt(!qi(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let d=a.replace(/^\/*/,"/"),p=K.useMemo(()=>({basename:d,navigator:o,static:u,unstable_useTransitions:h,future:{}}),[d,o,u,h]);typeof r=="string"&&(r=gs(r));let{pathname:m="/",search:b="",hash:_="",state:S=null,key:E="default"}=r,R=K.useMemo(()=>{let j=Wn(m,d);return j==null?null:{location:{pathname:j,search:b,hash:_,state:S,key:E},navigationType:i}},[d,m,b,_,S,E,i]);return mn(R!=null,`<Router basename="${d}"> is not able to match the URL "${m}${b}${_}" because it does not start with the basename, so the <Router> won't render anything.`),R==null?null:K.createElement(gn.Provider,{value:p},K.createElement(Bi.Provider,{children:n,value:R}))}function QS({children:a,location:n}){return BS(Kh(a),n)}function Kh(a,n=[]){let r=[];return K.Children.forEach(a,(i,o)=>{if(!K.isValidElement(i))return;let u=[...n,o];if(i.type===K.Fragment){r.push.apply(r,Kh(i.props.children,u));return}nt(i.type===Zn,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),nt(!i.props.index||!i.props.children,"An index route cannot have child routes.");let h={id:i.props.id||u.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,middleware:i.props.middleware,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(h.children=Kh(i.props.children,u)),r.push(h)}),r}var Co="get",Ro="application/x-www-form-urlencoded";function Bo(a){return typeof HTMLElement<"u"&&a instanceof HTMLElement}function XS(a){return Bo(a)&&a.tagName.toLowerCase()==="button"}function WS(a){return Bo(a)&&a.tagName.toLowerCase()==="form"}function e1(a){return Bo(a)&&a.tagName.toLowerCase()==="input"}function t1(a){return!!(a.metaKey||a.altKey||a.ctrlKey||a.shiftKey)}function n1(a,n){return a.button===0&&(!n||n==="_self")&&!t1(a)}function Jh(a=""){return new URLSearchParams(typeof a=="string"||Array.isArray(a)||a instanceof URLSearchParams?a:Object.keys(a).reduce((n,r)=>{let i=a[r];return n.concat(Array.isArray(i)?i.map(o=>[r,o]):[[r,i]])},[]))}function a1(a,n){let r=Jh(a);return n&&n.forEach((i,o)=>{r.has(o)||n.getAll(o).forEach(u=>{r.append(o,u)})}),r}var go=null;function s1(){if(go===null)try{new FormData(document.createElement("form"),0),go=!1}catch{go=!0}return go}var r1=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function jh(a){return a!=null&&!r1.has(a)?(mn(!1,`"${a}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Ro}"`),null):a}function i1(a,n){let r,i,o,u,h;if(WS(a)){let d=a.getAttribute("action");i=d?Wn(d,n):null,r=a.getAttribute("method")||Co,o=jh(a.getAttribute("enctype"))||Ro,u=new FormData(a)}else if(XS(a)||e1(a)&&(a.type==="submit"||a.type==="image")){let d=a.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=a.getAttribute("formaction")||d.getAttribute("action");if(i=p?Wn(p,n):null,r=a.getAttribute("formmethod")||d.getAttribute("method")||Co,o=jh(a.getAttribute("formenctype"))||jh(d.getAttribute("enctype"))||Ro,u=new FormData(d,a),!s1()){let{name:m,type:b,value:_}=a;if(b==="image"){let S=m?`${m}.`:"";u.append(`${S}x`,"0"),u.append(`${S}y`,"0")}else m&&u.append(m,_)}}else{if(Bo(a))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=Co,i=null,o=Ro,h=a}return u&&o==="text/plain"&&(h=u,u=void 0),{action:i,method:r.toLowerCase(),encType:o,formData:u,body:h}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Tf(a,n){if(a===!1||a===null||typeof a>"u")throw new Error(n)}function l1(a,n,r,i){let o=typeof a=="string"?new URL(a,typeof window>"u"?"server://singlefetch/":window.location.origin):a;return r?o.pathname.endsWith("/")?o.pathname=`${o.pathname}_.${i}`:o.pathname=`${o.pathname}.${i}`:o.pathname==="/"?o.pathname=`_root.${i}`:n&&Wn(o.pathname,n)==="/"?o.pathname=`${n.replace(/\/$/,"")}/_root.${i}`:o.pathname=`${o.pathname.replace(/\/$/,"")}.${i}`,o}async function o1(a,n){if(a.id in n)return n[a.id];try{let r=await import(a.module);return n[a.id]=r,r}catch(r){return console.error(`Error loading route module \`${a.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function u1(a){return a==null?!1:a.href==null?a.rel==="preload"&&typeof a.imageSrcSet=="string"&&typeof a.imageSizes=="string":typeof a.rel=="string"&&typeof a.href=="string"}async function c1(a,n,r){let i=await Promise.all(a.map(async o=>{let u=n.routes[o.route.id];if(u){let h=await o1(u,r);return h.links?h.links():[]}return[]}));return p1(i.flat(1).filter(u1).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function qy(a,n,r,i,o,u){let h=(p,m)=>r[m]?p.route.id!==r[m].route.id:!0,d=(p,m)=>r[m].pathname!==p.pathname||r[m].route.path?.endsWith("*")&&r[m].params["*"]!==p.params["*"];return u==="assets"?n.filter((p,m)=>h(p,m)||d(p,m)):u==="data"?n.filter((p,m)=>{let b=i.routes[p.route.id];if(!b||!b.hasLoader)return!1;if(h(p,m)||d(p,m))return!0;if(p.route.shouldRevalidate){let _=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:r[0]?.params||{},nextUrl:new URL(a,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof _=="boolean")return _}return!0}):[]}function h1(a,n,{includeHydrateFallback:r}={}){return f1(a.map(i=>{let o=n.routes[i.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),r&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function f1(a){return[...new Set(a)]}function d1(a){let n={},r=Object.keys(a).sort();for(let i of r)n[i]=a[i];return n}function p1(a,n){let r=new Set;return new Set(n),a.reduce((i,o)=>{let u=JSON.stringify(d1(o));return r.has(u)||(r.add(u),i.push({key:u,link:o})),i},[])}function Q0(){let a=K.useContext(br);return Tf(a,"You must render this element inside a <DataRouterContext.Provider> element"),a}function m1(){let a=K.useContext(Uo);return Tf(a,"You must render this element inside a <DataRouterStateContext.Provider> element"),a}var Af=K.createContext(void 0);Af.displayName="FrameworkContext";function X0(){let a=K.useContext(Af);return Tf(a,"You must render this element inside a <HydratedRouter> element"),a}function g1(a,n){let r=K.useContext(Af),[i,o]=K.useState(!1),[u,h]=K.useState(!1),{onFocus:d,onBlur:p,onMouseEnter:m,onMouseLeave:b,onTouchStart:_}=n,S=K.useRef(null);K.useEffect(()=>{if(a==="render"&&h(!0),a==="viewport"){let j=k=>{k.forEach(O=>{h(O.isIntersecting)})},A=new IntersectionObserver(j,{threshold:.5});return S.current&&A.observe(S.current),()=>{A.disconnect()}}},[a]),K.useEffect(()=>{if(i){let j=setTimeout(()=>{h(!0)},100);return()=>{clearTimeout(j)}}},[i]);let E=()=>{o(!0)},R=()=>{o(!1),h(!1)};return r?a!=="intent"?[u,S,{}]:[u,S,{onFocus:vi(d,E),onBlur:vi(p,R),onMouseEnter:vi(m,E),onMouseLeave:vi(b,R),onTouchStart:vi(_,E)}]:[!1,S,{}]}function vi(a,n){return r=>{a&&a(r),r.defaultPrevented||n(r)}}function y1({page:a,...n}){let{router:r}=Q0(),i=K.useMemo(()=>U0(r.routes,a,r.basename),[r.routes,a,r.basename]);return i?K.createElement(b1,{page:a,matches:i,...n}):null}function v1(a){let{manifest:n,routeModules:r}=X0(),[i,o]=K.useState([]);return K.useEffect(()=>{let u=!1;return c1(a,n,r).then(h=>{u||o(h)}),()=>{u=!0}},[a,n,r]),i}function b1({page:a,matches:n,...r}){let i=ra(),{future:o,manifest:u,routeModules:h}=X0(),{basename:d}=Q0(),{loaderData:p,matches:m}=m1(),b=K.useMemo(()=>qy(a,n,m,u,i,"data"),[a,n,m,u,i]),_=K.useMemo(()=>qy(a,n,m,u,i,"assets"),[a,n,m,u,i]),S=K.useMemo(()=>{if(a===i.pathname+i.search+i.hash)return[];let j=new Set,A=!1;if(n.forEach(O=>{let U=u.routes[O.route.id];!U||!U.hasLoader||(!b.some(X=>X.route.id===O.route.id)&&O.route.id in p&&h[O.route.id]?.shouldRevalidate||U.hasClientLoader?A=!0:j.add(O.route.id))}),j.size===0)return[];let k=l1(a,d,o.unstable_trailingSlashAwareDataRequests,"data");return A&&j.size>0&&k.searchParams.set("_routes",n.filter(O=>j.has(O.route.id)).map(O=>O.route.id).join(",")),[k.pathname+k.search]},[d,o.unstable_trailingSlashAwareDataRequests,p,i,u,b,n,a,h]),E=K.useMemo(()=>h1(_,u),[_,u]),R=v1(_);return K.createElement(K.Fragment,null,S.map(j=>K.createElement("link",{key:j,rel:"prefetch",as:"fetch",href:j,...r})),E.map(j=>K.createElement("link",{key:j,rel:"modulepreload",href:j,...r})),R.map(({key:j,link:A})=>K.createElement("link",{key:j,nonce:r.nonce,...A,crossOrigin:A.crossOrigin??r.crossOrigin})))}function _1(...a){return n=>{a.forEach(r=>{typeof r=="function"?r(n):r!=null&&(r.current=n)})}}var w1=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{w1&&(window.__reactRouterVersion="7.13.0")}catch{}function x1({basename:a,children:n,unstable_useTransitions:r,window:i}){let o=K.useRef();o.current==null&&(o.current=tS({window:i,v5Compat:!0}));let u=o.current,[h,d]=K.useState({action:u.action,location:u.location}),p=K.useCallback(m=>{r===!1?d(m):K.startTransition(()=>d(m))},[r]);return K.useLayoutEffect(()=>u.listen(p),[u,p]),K.createElement(ZS,{basename:a,children:n,location:h.location,navigationType:h.action,navigator:u,unstable_useTransitions:r})}var W0=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ev=K.forwardRef(function({onClick:n,discover:r="render",prefetch:i="none",relative:o,reloadDocument:u,replace:h,state:d,target:p,to:m,preventScrollReset:b,viewTransition:_,unstable_defaultShouldRevalidate:S,...E},R){let{basename:j,unstable_useTransitions:A}=K.useContext(gn),k=typeof m=="string"&&W0.test(m),O=I0(m,j);m=O.to;let U=MS(m,{relative:o}),[X,ee,te]=g1(i,E),F=A1(m,{replace:h,state:d,target:p,preventScrollReset:b,relative:o,viewTransition:_,unstable_defaultShouldRevalidate:S,unstable_useTransitions:A});function ie(me){n&&n(me),me.defaultPrevented||F(me)}let H=K.createElement("a",{...E,...te,href:O.absoluteURL||U,onClick:O.isExternal||u?n:ie,ref:_1(R,ee),target:p,"data-discover":!k&&r==="render"?"true":void 0});return X&&!k?K.createElement(K.Fragment,null,H,K.createElement(y1,{page:U})):H});ev.displayName="Link";var S1=K.forwardRef(function({"aria-current":n="page",caseSensitive:r=!1,className:i="",end:o=!1,style:u,to:h,viewTransition:d,children:p,...m},b){let _=zi(h,{relative:m.relative}),S=ra(),E=K.useContext(Uo),{navigator:R,basename:j}=K.useContext(gn),A=E!=null&&N1(_)&&d===!0,k=R.encodeLocation?R.encodeLocation(_).pathname:_.pathname,O=S.pathname,U=E&&E.navigation&&E.navigation.location?E.navigation.location.pathname:null;r||(O=O.toLowerCase(),U=U?U.toLowerCase():null,k=k.toLowerCase()),U&&j&&(U=Wn(U,j)||U);const X=k!=="/"&&k.endsWith("/")?k.length-1:k.length;let ee=O===k||!o&&O.startsWith(k)&&O.charAt(X)==="/",te=U!=null&&(U===k||!o&&U.startsWith(k)&&U.charAt(k.length)==="/"),F={isActive:ee,isPending:te,isTransitioning:A},ie=ee?n:void 0,H;typeof i=="function"?H=i(F):H=[i,ee?"active":null,te?"pending":null,A?"transitioning":null].filter(Boolean).join(" ");let me=typeof u=="function"?u(F):u;return K.createElement(ev,{...m,"aria-current":ie,className:H,ref:b,style:me,to:h,viewTransition:d},typeof p=="function"?p(F):p)});S1.displayName="NavLink";var E1=K.forwardRef(({discover:a="render",fetcherKey:n,navigate:r,reloadDocument:i,replace:o,state:u,method:h=Co,action:d,onSubmit:p,relative:m,preventScrollReset:b,viewTransition:_,unstable_defaultShouldRevalidate:S,...E},R)=>{let{unstable_useTransitions:j}=K.useContext(gn),A=j1(),k=O1(d,{relative:m}),O=h.toLowerCase()==="get"?"get":"post",U=typeof d=="string"&&W0.test(d),X=ee=>{if(p&&p(ee),ee.defaultPrevented)return;ee.preventDefault();let te=ee.nativeEvent.submitter,F=te?.getAttribute("formmethod")||h,ie=()=>A(te||ee.currentTarget,{fetcherKey:n,method:F,navigate:r,replace:o,state:u,relative:m,preventScrollReset:b,viewTransition:_,unstable_defaultShouldRevalidate:S});j&&r!==!1?K.startTransition(()=>ie()):ie()};return K.createElement("form",{ref:R,method:O,action:k,onSubmit:i?p:X,...E,"data-discover":!U&&a==="render"?"true":void 0})});E1.displayName="Form";function T1(a){return`${a} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function tv(a){let n=K.useContext(br);return nt(n,T1(a)),n}function A1(a,{target:n,replace:r,state:i,preventScrollReset:o,relative:u,viewTransition:h,unstable_defaultShouldRevalidate:d,unstable_useTransitions:p}={}){let m=$i(),b=ra(),_=zi(a,{relative:u});return K.useCallback(S=>{if(n1(S,n)){S.preventDefault();let E=r!==void 0?r:Ci(b)===Ci(_),R=()=>m(a,{replace:E,state:i,preventScrollReset:o,relative:u,viewTransition:h,unstable_defaultShouldRevalidate:d});p?K.startTransition(()=>R()):R()}},[b,m,_,r,i,n,a,o,u,h,d,p])}function Cf(a){mn(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let n=K.useRef(Jh(a)),r=K.useRef(!1),i=ra(),o=K.useMemo(()=>a1(i.search,r.current?null:n.current),[i.search]),u=$i(),h=K.useCallback((d,p)=>{const m=Jh(typeof d=="function"?d(new URLSearchParams(o)):d);r.current=!0,u("?"+m,p)},[u,o]);return[o,h]}var C1=0,R1=()=>`__${String(++C1)}__`;function j1(){let{router:a}=tv("useSubmit"),{basename:n}=K.useContext(gn),r=GS(),i=a.fetch,o=a.navigate;return K.useCallback(async(u,h={})=>{let{action:d,method:p,encType:m,formData:b,body:_}=i1(u,n);if(h.navigate===!1){let S=h.fetcherKey||R1();await i(S,r,h.action||d,{unstable_defaultShouldRevalidate:h.unstable_defaultShouldRevalidate,preventScrollReset:h.preventScrollReset,formData:b,body:_,formMethod:h.method||p,formEncType:h.encType||m,flushSync:h.flushSync})}else await o(h.action||d,{unstable_defaultShouldRevalidate:h.unstable_defaultShouldRevalidate,preventScrollReset:h.preventScrollReset,formData:b,body:_,formMethod:h.method||p,formEncType:h.encType||m,replace:h.replace,state:h.state,fromRouteId:r,flushSync:h.flushSync,viewTransition:h.viewTransition})},[i,o,n,r])}function O1(a,{relative:n}={}){let{basename:r}=K.useContext(gn),i=K.useContext(sa);nt(i,"useFormAction must be used inside a RouteContext");let[o]=i.matches.slice(-1),u={...zi(a||".",{relative:n})},h=ra();if(a==null){u.search=h.search;let d=new URLSearchParams(u.search),p=d.getAll("index");if(p.some(b=>b==="")){d.delete("index"),p.filter(_=>_).forEach(_=>d.append("index",_));let b=d.toString();u.search=b?`?${b}`:""}}return(!a||a===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(u.pathname=u.pathname==="/"?r:Xn([r,u.pathname])),Ci(u)}function N1(a,{relative:n}={}){let r=K.useContext(F0);nt(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=tv("useViewTransitionState"),o=zi(a,{relative:n});if(!r.isTransitioning)return!1;let u=Wn(r.currentLocation.pathname,i)||r.currentLocation.pathname,h=Wn(r.nextLocation.pathname,i)||r.nextLocation.pathname;return No(o.pathname,h)!=null||No(o.pathname,u)!=null}let pr;function k1(a,n){pr?pr.set(a,n):n()}function ko(a){if(pr)return a();pr=new Map;try{a()}finally{pr.forEach(n=>n()),pr=void 0}}function yt(a,n){n||(n={});const r=n.equals||Object.is;let i=[],o=a;const u=m=>{if(!r(o,m)){const b=o;o=m,k1(p,()=>{[...i].forEach(([_,S])=>{_(m,b),S&&d(_,!0)})})}};function h(m){const b=typeof m!="object"?{once:m}:m;return{once:b.once||!1,signal:b.signal||!1}}const d=(m,b)=>{const _=h(b),S=i.findIndex(([E,R])=>E===m&&R.once===_.once&&R.signal===_.signal);S>=0&&i.splice(S,1)},p=Object.assign(function(){return L1(p),o},{destroy(){i=[]},set:u,reset(){u(a)},sub(m,b){return i.push([m,h(b)]),()=>d(m,b)},unsub:d,unsubAll(){i=i.filter(m=>m[1].signal)}});return p}const xi=[];function L1(a){xi.length&&xi[xi.length-1].add(a)}function Re(a,n){let r=new Set,i;function o(){return i||(i=yt(h(),n))}function u(){o().set(h())}function h(){r.forEach(m=>{m.unsub(u,{signal:!0})});const d=new Set;let p;xi.push(d);try{p=a()}finally{xi.pop()}return d.forEach(m=>{m.sub(u,{signal:!0})}),r=d,p}return Object.assign(function(){return o()()},{destroy(){o().destroy()},sub(...d){return o().sub(...d)},unsub(...d){o().unsub(...d)},unsubAll(...d){o().unsubAll(...d)}})}let Oh;function Rf(a){return{lang:a?.lang??Oh?.lang,message:a?.message,abortEarly:a?.abortEarly??Oh?.abortEarly,abortPipeEarly:a?.abortPipeEarly??Oh?.abortPipeEarly}}let D1;function M1(a){return D1?.get(a)}let U1;function B1(a){return U1?.get(a)}let q1;function $1(a,n){return q1?.get(a)?.get(n)}function z1(a){const n=typeof a;return n==="string"?`"${a}"`:n==="number"||n==="bigint"||n==="boolean"?`${a}`:n==="object"||n==="function"?(a&&Object.getPrototypeOf(a)?.constructor?.name)??"null":n}function Dt(a,n,r,i,o){const u=o&&"input"in o?o.input:r.value,h=o?.expected??a.expects??null,d=o?.received??z1(u),p={kind:a.kind,type:a.type,input:u,expected:h,received:d,message:`Invalid ${n}: ${h?`Expected ${h} but r`:"R"}eceived ${d}`,requirement:a.requirement,path:o?.path,issues:o?.issues,lang:i.lang,abortEarly:i.abortEarly,abortPipeEarly:i.abortPipeEarly},m=a.kind==="schema",b=o?.message??a.message??$1(a.reference,p.lang)??(m?B1(p.lang):null)??i.message??M1(p.lang);b!==void 0&&(p.message=typeof b=="function"?b(p):b),m&&(r.typed=!1),r.issues?r.issues.push(p):r.issues=[p]}function Mt(a){return{version:1,vendor:"valibot",validate(n){return a["~run"]({value:n},Rf())}}}function nv(a,n){return Object.hasOwn(a,n)&&n!=="__proto__"&&n!=="prototype"&&n!=="constructor"}function H1(a,n){const r=[...new Set(a)];return r.length>1?`(${r.join(` ${n} `)})`:r[0]??"never"}var I1=class extends Error{constructor(a){super(a[0].message),this.name="ValiError",this.issues=a}};function qo(a,n){return{kind:"validation",type:"check",reference:qo,async:!1,expects:null,requirement:a,message:n,"~run"(r,i){return r.typed&&!this.requirement(r.value)&&Dt(this,"input",r,i),r}}}function jf(a){return{kind:"validation",type:"integer",reference:jf,async:!1,expects:null,requirement:Number.isInteger,message:a,"~run"(n,r){return n.typed&&!this.requirement(n.value)&&Dt(this,"integer",n,r),n}}}function ea(a){return{kind:"transformation",type:"transform",reference:ea,async:!1,operation:a,"~run"(n){return n.value=this.operation(n.value),n}}}function V1(a,n,r){return typeof a.fallback=="function"?a.fallback(n,r):a.fallback}function Of(a,n,r){return typeof a.default=="function"?a.default(n,r):a.default}function Nf(a,n){return!a["~run"]({value:n},{abortEarly:!0}).issues}function av(){return{kind:"schema",type:"any",reference:av,expects:"any",async:!1,get"~standard"(){return Mt(this)},"~run"(a){return a.typed=!0,a}}}function sv(a,n){return{kind:"schema",type:"array",reference:sv,expects:"Array",async:!1,item:a,message:n,get"~standard"(){return Mt(this)},"~run"(r,i){const o=r.value;if(Array.isArray(o)){r.typed=!0,r.value=[];for(let u=0;u<o.length;u++){const h=o[u],d=this.item["~run"]({value:h},i);if(d.issues){const p={type:"array",origin:"value",input:o,key:u,value:h};for(const m of d.issues)m.path?m.path.unshift(p):m.path=[p],r.issues?.push(m);if(r.issues||(r.issues=d.issues),i.abortEarly){r.typed=!1;break}}d.typed||(r.typed=!1),r.value.push(d.value)}}else Dt(this,"type",r,i);return r}}}function fs(a){return{kind:"schema",type:"boolean",reference:fs,expects:"boolean",async:!1,message:a,get"~standard"(){return Mt(this)},"~run"(n,r){return typeof n.value=="boolean"?n.typed=!0:Dt(this,"type",n,r),n}}}function $o(a){return{kind:"schema",type:"date",reference:$o,expects:"Date",async:!1,message:a,get"~standard"(){return Mt(this)},"~run"(n,r){return n.value instanceof Date?isNaN(n.value)?Dt(this,"type",n,r,{received:'"Invalid Date"'}):n.typed=!0:Dt(this,"type",n,r),n}}}function kf(a){return{kind:"schema",type:"function",reference:kf,expects:"Function",async:!1,message:a,get"~standard"(){return Mt(this)},"~run"(n,r){return typeof n.value=="function"?n.typed=!0:Dt(this,"type",n,r),n}}}function Lf(a,n){return{kind:"schema",type:"instance",reference:Lf,expects:a.name,async:!1,class:a,message:n,get"~standard"(){return Mt(this)},"~run"(r,i){return r.value instanceof this.class?r.typed=!0:Dt(this,"type",r,i),r}}}function _t(a,n){return{kind:"schema",type:"loose_object",reference:_t,expects:"Object",async:!1,entries:a,message:n,get"~standard"(){return Mt(this)},"~run"(r,i){const o=r.value;if(o&&typeof o=="object"){r.typed=!0,r.value={};for(const u in this.entries){const h=this.entries[u];if(u in o||(h.type==="exact_optional"||h.type==="optional"||h.type==="nullish")&&h.default!==void 0){const d=u in o?o[u]:Of(h),p=h["~run"]({value:d},i);if(p.issues){const m={type:"object",origin:"value",input:o,key:u,value:d};for(const b of p.issues)b.path?b.path.unshift(m):b.path=[m],r.issues?.push(b);if(r.issues||(r.issues=p.issues),i.abortEarly){r.typed=!1;break}}p.typed||(r.typed=!1),r.value[u]=p.value}else if(h.fallback!==void 0)r.value[u]=V1(h);else if(h.type!=="exact_optional"&&h.type!=="optional"&&h.type!=="nullish"&&(Dt(this,"key",r,i,{input:void 0,expected:`"${u}"`,path:[{type:"object",origin:"key",input:o,key:u,value:o[u]}]}),i.abortEarly))break}if(!r.issues||!i.abortEarly)for(const u in o)nv(o,u)&&!(u in this.entries)&&(r.value[u]=o[u])}else Dt(this,"type",r,i);return r}}}function cr(a,n){return{kind:"schema",type:"nullish",reference:cr,expects:`(${a.expects} | null | undefined)`,async:!1,wrapped:a,default:n,get"~standard"(){return Mt(this)},"~run"(r,i){return(r.value===null||r.value===void 0)&&(this.default!==void 0&&(r.value=Of(this,r,i)),r.value===null||r.value===void 0)?(r.typed=!0,r):this.wrapped["~run"](r,i)}}}function Ua(a){return{kind:"schema",type:"number",reference:Ua,expects:"number",async:!1,message:a,get"~standard"(){return Mt(this)},"~run"(n,r){return typeof n.value=="number"&&!isNaN(n.value)?n.typed=!0:Dt(this,"type",n,r),n}}}function Ye(a,n){return{kind:"schema",type:"optional",reference:Ye,expects:`(${a.expects} | undefined)`,async:!1,wrapped:a,default:n,get"~standard"(){return Mt(this)},"~run"(r,i){return r.value===void 0&&(this.default!==void 0&&(r.value=Of(this,r,i)),r.value===void 0)?(r.typed=!0,r):this.wrapped["~run"](r,i)}}}function Df(a,n,r){return{kind:"schema",type:"record",reference:Df,expects:"Object",async:!1,key:a,value:n,message:r,get"~standard"(){return Mt(this)},"~run"(i,o){const u=i.value;if(u&&typeof u=="object"){i.typed=!0,i.value={};for(const h in u)if(nv(u,h)){const d=u[h],p=this.key["~run"]({value:h},o);if(p.issues){const b={type:"object",origin:"key",input:u,key:h,value:d};for(const _ of p.issues)_.path=[b],i.issues?.push(_);if(i.issues||(i.issues=p.issues),o.abortEarly){i.typed=!1;break}}const m=this.value["~run"]({value:d},o);if(m.issues){const b={type:"object",origin:"value",input:u,key:h,value:d};for(const _ of m.issues)_.path?_.path.unshift(b):_.path=[b],i.issues?.push(_);if(i.issues||(i.issues=m.issues),o.abortEarly){i.typed=!1;break}}(!p.typed||!m.typed)&&(i.typed=!1),p.typed&&(i.value[p.value]=m.value)}}else Dt(this,"type",i,o);return i}}}function xe(a){return{kind:"schema",type:"string",reference:xe,expects:"string",async:!1,message:a,get"~standard"(){return Mt(this)},"~run"(n,r){return typeof n.value=="string"?n.typed=!0:Dt(this,"type",n,r),n}}}function $y(a){let n;if(a)for(const r of a)n?n.push(...r.issues):n=r.issues;return n}function zo(a,n){return{kind:"schema",type:"union",reference:zo,expects:H1(a.map(r=>r.expects),"|"),async:!1,options:a,message:n,get"~standard"(){return Mt(this)},"~run"(r,i){let o,u,h;for(const d of this.options){const p=d["~run"]({value:r.value},i);if(p.typed)if(p.issues)u?u.push(p):u=[p];else{o=p;break}else h?h.push(p):h=[p]}if(o)return o;if(u){if(u.length===1)return u[0];Dt(this,"type",r,i,{issues:$y(u)}),r.typed=!0}else{if(h?.length===1)return h[0];Dt(this,"type",r,i,{issues:$y(h)})}return r}}}function Mf(){return{kind:"schema",type:"unknown",reference:Mf,expects:"unknown",async:!1,get"~standard"(){return Mt(this)},"~run"(a){return a.typed=!0,a}}}function Ba(a,n,r){const i=a["~run"]({value:n},Rf(r));if(i.issues)throw new I1(i.issues);return i.value}function On(...a){return{...a[0],pipe:a,get"~standard"(){return Mt(this)},"~run"(n,r){for(const i of a)if(i.kind!=="metadata"){if(n.issues&&(i.kind==="schema"||i.kind==="transformation")){n.typed=!1;break}(!n.issues||!r.abortEarly&&!r.abortPipeEarly)&&(n=i["~run"](n,r))}return n}}}function Zh(a,n,r){const i=a["~run"]({value:n},Rf(r));return{typed:i.typed,success:!i.issues,output:i.value,issues:i.issues}}var F1=Object.defineProperty,P1=(a,n,r)=>n in a?F1(a,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):a[n]=r,zy=(a,n,r)=>P1(a,typeof n!="symbol"?n+"":n,r),G1=Object.defineProperty,Y1=(a,n,r)=>n in a?G1(a,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):a[n]=r,Qh=(a,n,r)=>Y1(a,typeof n!="symbol"?n+"":n,r);function rv(a){return n=>n instanceof a}function iv(a,n){const r=class extends Error{constructor(...o){const u=typeof n=="function"?n(...o):typeof n=="string"?[n]:n||[];super(...u),this.name=a}};Qh(r,"is",rv(r));let i=r;return Object.defineProperty(i,"name",{value:a}),i}function K1(a,n,r){const i=class extends iv(a,r){constructor(...u){super(...u),Qh(this,"data"),this.data=n(...u)}};Qh(i,"is",rv(i));let o=i;return Object.defineProperty(o,"name",{value:a}),o}let lv=class extends iv("CancelledError","Promise was canceled"){},Uf=class extends K1("TimeoutError",n=>({timeout:n}),(n,r)=>[`Timeout reached: ${n}ms`,{cause:r}]){};const J1=Symbol("resolved");function Z1(a){return{tag:J1,value:a}}function Hy(a,n){return a.reject=n.reject,a.resolve=n.resolve,a}let Hi=class Xh extends Promise{constructor(n,r){let i,o,u,h;typeof n=="function"?(u=n,h=r||{}):h=n||{};let d,p;const m=()=>!!p,b=()=>!!d;let _={};const S=[],E=()=>{S.forEach(A=>A()),S.splice(0,S.length),_={}},R=new AbortController,j=()=>b()||m();super((A,k)=>{const{abortOnResolve:O=!0,abortOnReject:U=!0}=h;o=te=>{var F,ie;j()||(A(te),d=[te],(F=_.resolved)==null||F.forEach(H=>H(te)),(ie=_.finalized)==null||ie.forEach(H=>H({kind:"resolved",result:te})),E(),O&&R.abort(Z1(te)))},i=te=>{var F,ie;j()||(k(te),p=[te],(F=_.rejected)==null||F.forEach(H=>H(te)),(ie=_.finalized)==null||ie.forEach(H=>H({kind:"rejected",reason:te})),E(),U&&R.abort(te))};const{abortSignal:X}=h;if(X){if(X.aborted)return i(X.reason);const te=()=>{i(X.reason)};X.addEventListener("abort",te,!0),S.push(()=>{X.removeEventListener("abort",te,!0)})}const{timeout:ee}=h;if(ee){const te=setTimeout(()=>{i(new Uf(ee))},ee);S.push(()=>{clearTimeout(te)})}try{const te=()=>{},F=u&&u(o,i,{abortSignal:R.signal,get isRejected(){return m()},get isResolved(){return b()},on(ie,H){if(d||p){if(ie==="finalized"){const me=d?{kind:"resolved",result:d[0]}:{kind:"rejected",reason:p[0]};H(me)}else ie==="resolved"&&d?H(d[0]):ie==="rejected"&&p&&H(p[0]);return te}return _[ie]||(_[ie]=[]),_[ie].push(H),()=>{const me=_[ie]||[],fe=me.indexOf(H);fe>=0&&me.splice(fe,1)}},get result(){return d?.[0]},get rejectReason(){return p?.[0]},throwIfRejected(){if(p)throw p[0]}});F instanceof Promise&&F.catch(i)}catch(te){i(te)}}),zy(this,"reject"),zy(this,"resolve"),this.reject=i,this.resolve=o}static fn(n,r){return new Xh(async(i,o,u)=>{try{i(await n(u))}catch(h){o(h)}},r)}static resolve(n){return this.fn(()=>n)}static reject(n){return new Xh((r,i)=>{i(n)})}cancel(){this.reject(new lv)}catch(n){return this.then(void 0,n)}finally(n){return Hy(super.finally(n),this)}then(n,r){return Hy(super.then(n,r),this)}};var Q1=function(a,n,r){if(r||arguments.length===2)for(var i=0,o=n.length,u;i<o;i++)(u||!(i in n))&&(u||(u=Array.prototype.slice.call(n,0,i)),u[i]=n[i]);return a.concat(u||Array.prototype.slice.call(n))};function X1(a){return a}function ov(a,n,r,i,o,u,h,d,p){switch(arguments.length){case 1:return a;case 2:return function(){return n(a.apply(this,arguments))};case 3:return function(){return r(n(a.apply(this,arguments)))};case 4:return function(){return i(r(n(a.apply(this,arguments))))};case 5:return function(){return o(i(r(n(a.apply(this,arguments)))))};case 6:return function(){return u(o(i(r(n(a.apply(this,arguments))))))};case 7:return function(){return h(u(o(i(r(n(a.apply(this,arguments)))))))};case 8:return function(){return d(h(u(o(i(r(n(a.apply(this,arguments))))))))};case 9:return function(){return p(d(h(u(o(i(r(n(a.apply(this,arguments)))))))))}}}function Y(a,n,r,i,o,u,h,d,p){switch(arguments.length){case 1:return a;case 2:return n(a);case 3:return r(n(a));case 4:return i(r(n(a)));case 5:return o(i(r(n(a))));case 6:return u(o(i(r(n(a)))));case 7:return h(u(o(i(r(n(a))))));case 8:return d(h(u(o(i(r(n(a)))))));case 9:return p(d(h(u(o(i(r(n(a))))))));default:{for(var m=arguments[0],b=1;b<arguments.length;b++)m=arguments[b](m);return m}}}var Ii=function(a,n){var r=typeof a=="number"?function(i){return i.length>=a}:a;return function(){var i=Array.from(arguments);return r(arguments)?n.apply(this,i):function(o){return n.apply(void 0,Q1([o],i,!1))}}},W1={_tag:"None"},eE=function(a){return{_tag:"Some",value:a}},tE=function(a){return a._tag==="Left"},uv=function(a){return{_tag:"Left",left:a}},cv=function(a){return{_tag:"Right",right:a}},Bf={};function nE(a,n){return function(r){return function(i){return a.ap(a.map(i,function(o){return function(u){return n.ap(o,u)}}),r)}}}function aE(a,n){return function(r){return function(i){return a.map(i,function(o){return n.map(o,r)})}}}function qf(a){return function(n,r){return function(i){return a.chain(i,function(o){return a.map(r(o),function(u){var h;return Object.assign({},o,(h={},h[n]=u,h))})})}}}var ps=W1,_r=eE,sE=function(a,n){return Y(a,lE(n))},rE=function(a,n){return Y(a,uE(n))},iE="Option",lE=function(a){return function(n){return Ri(n)?ps:_r(a(n.value))}},oE=_r,uE=function(a){return function(n){return Ri(n)||Ri(a)?ps:_r(n.value(a.value))}},cE=Ii(2,function(a,n){return Ri(a)?ps:n(a.value)}),hE={URI:iE,map:sE,ap:rE,chain:cE},Ri=function(a){return a._tag==="None"},fE=function(a,n){return function(r){return Ri(r)?a():n(r.value)}},$f=fE,dE=oE(Bf),Iy=qf(hE),We=uv,De=cv,zf=Ii(2,function(a,n){return qa(a)?a:n(a.right)}),Hf=function(a,n){return Y(a,Nt(n))},hv=function(a,n){return Y(a,yE(n))},If="Either",Nt=function(a){return function(n){return qa(n)?n:De(a(n.right))}},pE={URI:If,map:Hf},mE=De,gE=function(a){return function(n){return qa(n)?n:qa(a)?a:De(n.right(a.right))}},yE=gE,vE={URI:If,map:Hf,ap:hv},bE={URI:If,map:Hf,ap:hv,chain:zf},_E=function(a,n){return function(r){return qa(r)?We(a(r.left)):De(n(r.right))}},wE=function(a){return function(n){return qa(n)?We(a(n.left)):n}},qa=tE,Vf=function(a,n){return function(r){return qa(r)?a(r.left):n(r.right)}},xE=Vf,ia=Vf,SE=ia,wr=function(a,n){try{return De(a())}catch(r){return We(n(r))}},EE=mE(Bf),TE=qf(bE),Vy=TE,AE=zf,CE=zf;function RE(a){return ov(De,a.of)}function jE(a){return ov(We,a.of)}function OE(a){return aE(a,pE)}function NE(a){return nE(a,vE)}function kE(a){return function(n,r){return a.chain(n,function(i){return qa(i)?a.of(i):r(i.right)})}}function LE(a){return function(n,r,i){return a.map(n,_E(r,i))}}function DE(a){return function(n,r){return function(i){return a.map(i,ia(n,r))}}}var ME=function(a){return wr(function(){return JSON.parse(a)},X1)},Ff=function(a,n){return Y(a,UE(n))},fv=function(a,n){return Y(a,BE(n))},UE=function(a){return function(n){return function(){return Promise.resolve().then(n).then(a)}}},BE=function(a){return function(n){return function(){return Promise.all([Promise.resolve().then(n),Promise.resolve().then(a)]).then(function(r){var i=r[0],o=r[1];return i(o)})}}},Pf=function(a){return function(){return Promise.resolve(a)}},qE=Ii(2,function(a,n){return function(){return Promise.resolve().then(a).then(function(r){return n(r)()})}}),Gf="Task",Yf={URI:Gf,map:Ff},dv={of:Pf},$E={URI:Gf,map:Ff,ap:fv},zE={URI:Gf,map:Ff,of:Pf,ap:fv,chain:qE},HE=function(a,n,r,i){function o(u){return u instanceof r?u:new r(function(h){h(u)})}return new(r||(r=Promise))(function(u,h){function d(b){try{m(i.next(b))}catch(_){h(_)}}function p(b){try{m(i.throw(b))}catch(_){h(_)}}function m(b){b.done?u(b.value):o(b.value).then(d,p)}m((i=i.apply(a,n||[])).next())})},IE=function(a,n){var r={label:0,sent:function(){if(u[0]&1)throw u[1];return u[1]},trys:[],ops:[]},i,o,u,h;return h={next:d(0),throw:d(1),return:d(2)},typeof Symbol=="function"&&(h[Symbol.iterator]=function(){return this}),h;function d(m){return function(b){return p([m,b])}}function p(m){if(i)throw new TypeError("Generator is already executing.");for(;h&&(h=0,m[0]&&(r=0)),r;)try{if(i=1,o&&(u=m[0]&2?o.return:m[0]?o.throw||((u=o.return)&&u.call(o),0):o.next)&&!(u=u.call(o,m[1])).done)return u;switch(o=0,u&&(m=[m[0]&2,u.value]),m[0]){case 0:case 1:u=m;break;case 4:return r.label++,{value:m[1],done:!1};case 5:r.label++,o=m[1],m=[0];continue;case 7:m=r.ops.pop(),r.trys.pop();continue;default:if(u=r.trys,!(u=u.length>0&&u[u.length-1])&&(m[0]===6||m[0]===2)){r=0;continue}if(m[0]===3&&(!u||m[1]>u[0]&&m[1]<u[3])){r.label=m[1];break}if(m[0]===6&&r.label<u[1]){r.label=u[1],u=m;break}if(u&&r.label<u[2]){r.label=u[2],r.ops.push(m);break}u[2]&&r.ops.pop(),r.trys.pop();continue}m=n.call(a,r)}catch(b){m=[6,b],o=0}finally{i=u=0}if(m[0]&5)throw m[1];return{value:m[0]?m[1]:void 0,done:!0}}},pt=jE(dv),tt=RE(dv),Kf=Pf,Ho=DE(Yf),VE=Ho,pv=function(a,n){return function(){return HE(void 0,void 0,void 0,function(){var r;return IE(this,function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,a().then(cv)];case 1:return[2,i.sent()];case 2:return r=i.sent(),[2,uv(n(r))];case 3:return[2]}})})}},FE=function(a,n){return Y(a,Ke(n))},PE=function(a,n){return Y(a,GE(n))},Ke=OE(Yf),Vi=Ii(3,LE(Yf)),GE=NE($E),Jf=Ii(2,kE(zE)),YE=tt,KE="TaskEither",JE={URI:KE,map:FE,ap:PE,chain:Jf},ZE=YE(Bf),QE=qf(JE),yo=QE,yn=Jf,ta=Jf;function mv(a){return a.replace(/[A-Z]/g,n=>`-${n.toLowerCase()}`)}function XE(a){return a.replace(/_[a-z]/g,n=>n[1].toUpperCase())}function WE(a){return Object.entries(a).reduce((n,[r,i])=>(n[XE(r)]=i,n),{})}function Wh(a){const n=WE(a);for(const r in n){const i=n[r];i&&typeof i=="object"&&!(i instanceof Date)&&(n[r]=Array.isArray(i)?i.map(Wh):Wh(i))}return n}function eT(a){return a.replace(/_([a-z])/g,(n,r)=>`-${r.toLowerCase()}`)}function gv(a){return`tapps/${a}`}function Zf(a,n){sessionStorage.setItem(gv(a),JSON.stringify(n))}function yv(a){const n=sessionStorage.getItem(gv(a));try{return n?JSON.parse(n):void 0}catch{}}function Fi(...a){const n=a.flat(1);return[n.push.bind(n),()=>{n.forEach(r=>{r()})}]}function vv(a,n){n||(n={});const{textColor:r,bgColor:i,shouldLog:o}=n,u=o===void 0?!0:o,h=typeof u=="boolean"?()=>u:u,d=(p,m,...b)=>{if(m||h()){const _="font-weight:bold;padding:0 5px;border-radius:100px",[S,E,R]={log:["#0089c3","white","INFO"],error:["#ff0000F0","white","ERR"],warn:["#D38E15","white","WARN"]}[p];console[p](`%c${R} ${Intl.DateTimeFormat("en-GB",{hour:"2-digit",minute:"2-digit",second:"2-digit",fractionalSecondDigits:3,timeZone:"UTC"}).format(new Date)}%c %c${a}`,`${_};background-color:${S};color:${E}`,"",`${_};${r?`color:${r};`:""}${i?`background-color:${i}`:""}`,...b)}};return[["log","forceLog"],["warn","forceWarn"],["error","forceError"]].reduce((p,[m,b])=>(p[m]=d.bind(void 0,m,!1),p[b]=d.bind(void 0,m,!0),p),{})}function Pi(a){const n=r=>{throw r};return typeof a=="function"?Hi.resolve(Y(a,Ho(n,r=>r))()):Y(a,ia(n,r=>r))}function vn(a){return Object.assign((...n)=>Pi(a(...n)),a)}const yr=Object.assign((a,n)=>Y(pv(()=>new Hi((r,i,o)=>a(u=>r(De(u)),u=>r(We(u)),o),n),r=>r),ta(ia(pt,tt))),{fn:(a,n)=>yr((r,i,o)=>{const u=a(o);Y(typeof u=="function"?u:Kf(u),VE(i,r))()},n)});var tT=Object.defineProperty,nT=(a,n,r)=>n in a?tT(a,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):a[n]=r,ef=(a,n,r)=>nT(a,typeof n!="symbol"?n+"":n,r);function bv(a){return n=>n instanceof a}function Rt(a,n){const r=class extends Error{constructor(...u){const h=typeof n=="function"?n(...u):typeof n=="string"?[n]:n||[];super(...h),this.name=a}};ef(r,"is",bv(r));let i=r;return Object.defineProperty(i,"name",{value:a}),i}function Io(a,n,r){const i=class extends Rt(a,r){constructor(...h){super(...h),ef(this,"data"),this.data=n(...h)}};ef(i,"is",bv(i));let o=i;return Object.defineProperty(o,"name",{value:a}),o}function aT(a){const n=r=>{const i={};return new URLSearchParams(r).forEach((o,u)=>{const h=i[u];Array.isArray(h)?h.push(o):h===void 0?i[u]=o:i[u]=[h,o]}),Ba(a,i)};return On(zo([xe(),Lf(URLSearchParams)]),qo(r=>{try{return n(r),!0}catch{return!1}},"The value doesn't match required schema"),ea(n))}function sT(a){return On(xe(),qo(n=>{try{return JSON.parse(n),!0}catch{return!1}},"Input is not a valid JSON value"),ea(JSON.parse),a)}function Ma(a){return On(xe(),sT(a))}function Qf(a){return On(zo([xe(),Lf(URLSearchParams)]),aT(a))}function Vo(a){return n=>a.test(n)}const _v=Vo(/^#[\da-f]{3}$/i),wv=Vo(/^#[\da-f]{4}$/i),Si=Vo(/^#[\da-f]{6}$/i),xv=Vo(/^#[\da-f]{8}$/i);function Sv(a){return[Si,xv,_v,wv].some(n=>n(a))}function Fy(a){let n="#";for(let r=0;r<a.length-1;r+=1)n+=a[1+r].repeat(2);return n}function Fo(a){const n=a.replace(/\s/g,"").toLowerCase();if(/^#[\da-f]{3}$/i.test(n))return De(Fy(n.toLowerCase()+"f"));if(/^#[\da-f]{4}$/i.test(n))return De(Fy(n.toLowerCase()));if(/^#[\da-f]{6}$/i.test(n))return De(n.toLowerCase()+"ff");if(/^#[\da-f]{8}$/i.test(n))return De(n.toLowerCase());const r=n.match(/^rgb\((\d{1,3}),(\d{1,3}),(\d{1,3})\)$/)||n.match(/^rgba\((\d{1,3}),(\d{1,3}),(\d{1,3}),(\d{1,3})\)$/);return r?De(r.slice(1).reduce((i,o)=>i+parseInt(o,10).toString(16).padStart(2,"0"),"#").padEnd(9,"f")):We(new Error(`Value "${a}" does not satisfy any of known RGB formats.`))}function Ev(a){return Y(Fo(a),Nt(n=>n.slice(0,7)))}const rT=vn(Ev),iT=vn(Fo);function lT(){return _t({id:Ua(),photo_url:Ye(xe()),type:xe(),title:xe(),username:Ye(xe())})}function Py(){return _t({added_to_attachment_menu:Ye(fs()),allows_write_to_pm:Ye(fs()),first_name:xe(),id:Ua(),is_bot:Ye(fs()),is_premium:Ye(fs()),last_name:Ye(xe()),language_code:Ye(xe()),photo_url:Ye(xe()),username:Ye(xe())})}function oT(){return _t({auth_date:On(xe(),ea(a=>new Date(Number(a)*1e3)),$o()),can_send_after:Ye(On(xe(),ea(Number),jf())),chat:Ye(Ma(lT())),chat_type:Ye(xe()),chat_instance:Ye(xe()),hash:xe(),query_id:Ye(xe()),receiver:Ye(Ma(Py())),start_param:Ye(xe()),signature:xe(),user:Ye(Ma(Py()))})}function Tv(){return Qf(oT())}function tf(){return Df(xe(),On(zo([xe(),Ua()]),ea(a=>typeof a=="number"?`#${(a&16777215).toString(16).padStart(6,"0")}`:a),qo(Sv)))}function uT(){const a=Ye(On(xe(),ea(n=>n==="1")));return _t({tgWebAppBotInline:a,tgWebAppData:Ye(Tv()),tgWebAppDefaultColors:Ye(Ma(tf())),tgWebAppFullscreen:a,tgWebAppPlatform:xe(),tgWebAppShowSettings:a,tgWebAppStartParam:Ye(xe()),tgWebAppThemeParams:Ma(tf()),tgWebAppVersion:xe()})}function cT(){return Qf(uT())}function Av(){return _t({eventType:xe(),eventData:Ye(Mf())})}function Cv(a){return wr(()=>Ba(Tv(),a),n=>n)}function Po(a){return wr(()=>Ba(cT(),a),n=>n)}const hT=vn(Cv),Rv=vn(Po);function jv(a,n){return n||(n=(r,i)=>JSON.stringify(i)),new URLSearchParams(Object.entries(a).reduce((r,[i,o])=>(Array.isArray(o)?r.push(...o.map(u=>[i,String(u)])):o!=null&&r.push([i,o instanceof Date?(o.getTime()/1e3|0).toString():typeof o=="string"||typeof o=="number"?String(o):typeof o=="boolean"?o?"1":"0":n(i,o)]),r),[])).toString()}function Ov(a){return jv(a)}function Nv(a){return jv(a,(n,r)=>n==="tgWebAppData"?Ov(r):JSON.stringify(r))}function fT(a){return{all:a=a||new Map,on:function(n,r){var i=a.get(n);i?i.push(r):a.set(n,[r])},off:function(n,r){var i=a.get(n);i&&(r?i.splice(i.indexOf(r)>>>0,1):a.set(n,[]))},emit:function(n,r){var i=a.get(n);i&&i.slice().map(function(o){o(r)}),(i=a.get("*"))&&i.slice().map(function(o){o(n,r)})}}}function kv(a){return Nf(_t({TelegramWebviewProxy:_t({postEvent:kf()})}),a)}function Lv(){try{return window.self!==window.top}catch{return!0}}let Dv=class extends Rt("MethodUnsupportedError",(n,r)=>[`Method "${n}" is unsupported in Mini Apps version ${r}`]){},Mv=class extends Rt("MethodParameterUnsupportedError",(n,r,i)=>[`Parameter "${r}" of "${n}" method is unsupported in Mini Apps version ${i}`]){};class Uv extends Io("LaunchParamsRetrieveError",n=>({errors:n}),n=>[["Unable to retrieve launch parameters from any known source. Perhaps, you have opened your app outside Telegram?"," Refer to docs for more information:","https://docs.telegram-mini-apps.com/packages/tma-js-bridge/environment","","Collected errors:",...n.map(({source:r,error:i})=>`Source: ${r} / ${i instanceof Error?i.message:String(i)}`)].join(`
`)]){}let Bv=class extends Rt("InvalidLaunchParamsError",(n,r)=>[`Invalid value for launch params: ${n}`,{cause:r}]){},Xf=class extends Rt("UnknownEnvError"){},qv=class extends Rt("InvokeCustomMethodError",n=>[`Server returned error: ${n}`]){};const Gy="launchParams";function Yy(a){return a.replace(/^[^?#]*[?#]/,"").replace(/[?#]/g,"&")}function vr(){return Y(Gi(),AE(Po))}const $v=vn(vr);function Wf(){return Y(Gi(),Nt(a=>{const n=new URLSearchParams(a).get("tgWebAppData");return n?_r(n):ps}))}function zv(){return Y(Wf(),SE(a=>{throw a},a=>a),$f(()=>{},a=>a))}function Gi(){const a=[];for(const[n,r]of[[()=>Yy(window.location.href),"window.location.href"],[()=>{const i=performance.getEntriesByType("navigation")[0];return i&&Yy(i.name)},"performance navigation entries"],[()=>yv(Gy),"local storage"]]){const i=n();if(!i){a.push({source:r,error:new Error("Source is empty")});continue}const o=Y(Po(i),xE(u=>u,()=>!0));if(typeof o!="boolean"){a.push({source:r,error:o});continue}return Zf(Gy,i),De(i)}return We(new Uv(a))}const dT=vn(Gi);function pT(a,n){const r=new Map,i=fT(),o=(u,h,d=!1)=>{const p=r.get(u)||new Map;r.set(u,p);const m=p.get(h)||[];p.set(h,m);const b=m.findIndex(_=>_[1]===d);if(b>=0&&(i.off(u,m[b][0]),m.splice(b,1),!m.length&&(p.delete(h),!p.size))){const _=r.size;r.delete(u),_&&!r.size&&n()}};return{on(u,h,d){!r.size&&a();const p=()=>{o(u,h,d)},m=(...S)=>{d&&p(),u==="*"?h({name:S[0],payload:S[1]}):h(...S)};i.on(u,m);const b=r.get(u)||new Map;r.set(u,b);const _=b.get(h)||[];return b.set(h,_),_.push([m,d||!1]),p},off:o,emit:i.emit,clear(){const u=r.size;i.all.clear(),r.clear(),u&&n()}}}function jo(a,n){window.dispatchEvent(new MessageEvent("message",{data:JSON.stringify({eventType:a,eventData:n}),source:window.parent}))}const nf=yt(!1),Hv=yt("https://web.telegram.org"),mT=a=>{na().log("Event received:",a)},Iv=Re(nf);function gT(a){a!==nf()&&(nf.set(a),(a?an:ys)("*",mT))}const Vv=Re(Hv);function yT(a){Hv.set(a),na().log("New target origin set",a)}const Oo=yt((...a)=>{window.parent.postMessage(...a)}),na=yt(vv("Bridge",{bgColor:"#9147ff",textColor:"white",shouldLog:Iv}));function Nh(a,n,r){const i=[r],o=a[n];typeof o=="function"&&i.push(o);const u=(...d)=>{i.forEach(p=>p(...d))},h=Object.assign((...d)=>{u(...d)},{unwrap(){const{length:d}=i;if(d===1){delete a[n];return}if(d===2){Jy(a,n,i[1]);return}i.unshift(1),Jy(a,n,u)}});Fv(a,n,()=>h,d=>i.push(d))}function Ky(a,n){const r=a[n];Fv(a,n,()=>r,i=>{Object.entries(i).forEach(([o,u])=>{r[o]=u})})}function Fv(a,n,r,i){Object.defineProperty(a,n,{enumerable:!0,configurable:!0,get:r,set:i})}function Jy(a,n,r){Object.defineProperty(a,n,{enumerable:!0,configurable:!0,writable:!0,value:r})}const vT={clipboard_text_received:_t({req_id:xe(),data:cr(xe())}),custom_method_invoked:_t({req_id:xe(),result:Ye(Mf()),error:Ye(xe())}),popup_closed:cr(_t({button_id:cr(xe(),()=>{})}),{}),viewport_changed:cr(_t({height:Ua(),width:cr(Ua(),()=>window.innerWidth),is_state_stable:fs(),is_expanded:fs()}),()=>({height:window.innerHeight,is_state_stable:!0,is_expanded:!0})),theme_changed:_t({theme_params:tf()})};function Zy(a){if(a.source!==window.parent)return;let n;try{n=Ba(Ma(Av()),a.data)}catch{return}const{eventType:r,eventData:i}=n,o=vT[r];let u;try{u=o?Ba(o,i):i}catch(h){return na().forceError([`An error occurred processing the "${r}" event from the Telegram application.`,"Please, file an issue here:","https://github.com/Telegram-Mini-Apps/tma.js/issues/new/choose"].join(`
`),n,h)}bT(r,u)}const{on:an,off:ys,emit:bT,clear:_T}=pT(()=>{const a=window;!a.TelegramGameProxy&&(a.TelegramGameProxy={}),Nh(a.TelegramGameProxy,"receiveEvent",jo),Ky(a,"TelegramGameProxy"),!a.Telegram&&(a.Telegram={}),!a.Telegram.WebView&&(a.Telegram.WebView={}),Nh(a.Telegram.WebView,"receiveEvent",jo),Ky(a.Telegram,"WebView"),Nh(a,"TelegramGameProxy_receiveEvent",jo),window.addEventListener("message",Zy)},()=>{[["TelegramGameProxy_receiveEvent"],["TelegramGameProxy","receiveEvent"],["Telegram","WebView","receiveEvent"]].forEach(a=>{const n=window;let r=[void 0,n];for(const u of a)if(r=[r[1],r[1][u]],!r[1])return;const[i,o]=r;"unwrap"in o&&(o.unwrap(),i&&i!==n&&!Object.keys(i).length&&delete n[a[0]])}),window.removeEventListener("message",Zy)}),wT=(...a)=>Oo()(...a);function xT(a,n){Y(Go(a,n),wE(r=>{throw r}))}function Go(a,n){na().log("Posting event:",n?{eventType:a,eventData:n}:{eventType:a});const r=window,i=JSON.stringify({eventType:a,eventData:n});return Lv()?(wT(i,Vv()),De(void 0)):kv(r)?(r.TelegramWebviewProxy.postEvent(a,JSON.stringify(n)),De(void 0)):Nf(_t({external:_t({notify:kf()})}),r)?(r.external.notify(i),De(void 0)):We(new Xf)}function ed(a,n,r={}){const{capture:i=()=>!0,postEvent:o=Go}=r,u=yt(),[h,d]=Fi();(Array.isArray(n)?n:[n]).forEach(m=>{h(an(m,b=>{const _=Array.isArray(n);i(_?{event:m,payload:b}:b)&&u.set([_?{event:m,payload:b}:b])}))});const p=m=>(d(),m);return Y(async()=>o(a,r.params),ta(()=>yr((m,b,_)=>{const S=u();if(S)return m(S[0]);const E=j=>{j&&m(j[0])},R=()=>{u.unsub(E)};u.sub(E),_.on("finalized",R)},r)),Vi(p,p))}function ST(a,n){const r=td(a,n);return typeof r=="function"?Hi.fn(()=>Pi(r)):r}function td(a,n){const r=kv(window);if(!a)return r||Y(Gi(),ia(()=>!1,()=>!0));if(r)return tt(!0);const{timeout:i=100}=n||{};return Y(ed("web_app_request_theme","theme_changed",{...n,timeout:i}),Ho(o=>Uf.is(o)||Xf.is(o)?De(!1):We(o),()=>De(!0)))}function ET({launchParams:a,onEvent:n,resetPostMessage:r}={}){if(a){const u=typeof a=="string"||a instanceof URLSearchParams?a.toString():Nv({...a,tgWebAppData:void 0})+(a.tgWebAppData?`&tgWebAppData=${encodeURIComponent(a.tgWebAppData.toString())}`:"");try{Rv(u)}catch(h){throw new Bv(u,h)}Zf("launchParams",u)}if(Lv()){if(!n)return;r&&Oo.reset();const u=Oo();Oo.set((...h)=>{const[d]=h,p=()=>{u(...h)};try{const m=Ba(Ma(Av()),d);n({name:m.eventType,params:m.eventData},p)}catch{p()}});return}const i=window.TelegramWebviewProxy||{},o=i.postEvent||(()=>{});window.TelegramWebviewProxy={...i,postEvent(u,h){const d=()=>{o(u,h)};n?n({name:u,params:h?JSON.parse(h):void 0},d):d()}},na().log("Environment was mocked by the mockTelegramEnv function")}function Pv(a){return({req_id:n})=>n===a}const Qy={"6.0":["iframe_ready","iframe_will_reload","web_app_close","web_app_data_send","web_app_expand","web_app_open_link","web_app_ready","web_app_request_theme","web_app_request_viewport","web_app_setup_main_button","web_app_setup_closing_behavior"],6.1:["web_app_open_tg_link","web_app_open_invoice","web_app_setup_back_button","web_app_set_background_color","web_app_set_header_color","web_app_trigger_haptic_feedback"],6.2:["web_app_open_popup"],6.4:["web_app_close_scan_qr_popup","web_app_open_scan_qr_popup","web_app_read_text_from_clipboard",{method:"web_app_open_link",param:"try_instant_view"}],6.7:["web_app_switch_inline_query"],6.9:["web_app_invoke_custom_method","web_app_request_write_access","web_app_request_phone",{method:"web_app_set_header_color",param:"color"}],"6.10":["web_app_setup_settings_button"],7.2:["web_app_biometry_get_info","web_app_biometry_open_settings","web_app_biometry_request_access","web_app_biometry_request_auth","web_app_biometry_update_token"],7.6:[{method:"web_app_open_link",param:"try_browser"},{method:"web_app_close",param:"return_back"}],7.7:["web_app_setup_swipe_behavior"],7.8:["web_app_share_to_story"],"7.10":["web_app_setup_secondary_button","web_app_set_bottom_bar_color",{method:"web_app_setup_main_button",param:"has_shine_effect"}],"8.0":["web_app_request_safe_area","web_app_request_content_safe_area","web_app_request_fullscreen","web_app_exit_fullscreen","web_app_set_emoji_status","web_app_add_to_home_screen","web_app_check_home_screen","web_app_request_emoji_status_access","web_app_check_location","web_app_open_location_settings","web_app_request_file_download","web_app_request_location","web_app_send_prepared_message","web_app_start_accelerometer","web_app_start_device_orientation","web_app_start_gyroscope","web_app_stop_accelerometer","web_app_stop_device_orientation","web_app_stop_gyroscope","web_app_toggle_orientation_lock"],"9.0":["web_app_device_storage_clear","web_app_device_storage_get_key","web_app_device_storage_save_key","web_app_secure_storage_clear","web_app_secure_storage_get_key","web_app_secure_storage_restore_key","web_app_secure_storage_save_key"],9.1:["web_app_hide_keyboard"]};function af(a,n){return Object.keys(Qy).find(r=>Qy[r].some(i=>n?typeof i=="object"&&i.method===a&&i.param===n:i===a))||null}function Xy(a){return a.split(".").map(Number)}function TT(a,n){const r=Xy(a),i=Xy(n),o=Math.max(r.length,i.length);for(let u=0;u<o;u+=1){const h=r[u]||0,d=i[u]||0;if(h!==d)return h>d?1:-1}return 0}function aa(a,n,r){const i=r?af(a,n):af(a);return i?TT(i,r||n)<=0:!1}function AT(a,n="strict"){const r=typeof n=="function"?n:i=>{const{method:o,version:u}=i,h="param"in i?new Mv(o,i.param,u):new Dv(o,u);if(n==="strict")throw h;return na().forceWarn(h.message)};return(i,o)=>aa(i,a)?i==="web_app_set_header_color"&&Nf(_t({color:av()}),o)&&!aa(i,"color",a)?r({version:a,method:i,param:"color"}):xT(i,o):r({version:a,method:i})}function CT(a,n,r,i){return Y(ed("web_app_invoke_custom_method","custom_method_invoked",{...i||{},params:{method:a,params:n,req_id:r},capture:Pv(r)}),yn(({result:o,error:u})=>u?pt(new qv(u)):tt(o)))}function RT(a,n,r={}){const{capture:i=()=>!0,postEvent:o=Go}=r,u=yt(),[h,d]=Fi();(Array.isArray(n)?n:[n]).forEach(m=>{h(an(m,b=>{(Array.isArray(n)?i({event:m,payload:b}):i(b))&&u.set([b])}))});const p=m=>(d(),m);return Y(async()=>o(a,r.params),ta(()=>yr((m,b,_)=>{const S=u();if(S)return m(S[0]);const E=j=>{j&&m(j[0])},R=()=>{u.unsub(E)};u.sub(E),_.on("finalized",R)},r)),Vi(p,p))}function jT(){Object.hasOwn||(Object.hasOwn=function(a,n){return Object.prototype.hasOwnProperty.call(a,n)})}function nd(a){return wr(()=>decodeURIComponent(atob(a.replace(/-/g,"+").replace(/_/g,"/")).split("").map(n=>"%"+("00"+n.charCodeAt(0).toString(16)).slice(-2)).join("")),n=>n)}const OT=vn(nd);function ad(a){return btoa(encodeURIComponent(a).replace(/%([0-9A-F]{2})/g,(n,r)=>String.fromCharCode(parseInt(`0x${r}`)))).replace(/\+/g,"-").replace(/\//g,"_")}function Gv(a){const n=ad(typeof a=="string"?a:JSON.stringify(a));return n.length>512?We(new Error("Value is too long for start parameter")):De(n)}const NT=vn(Gv);function kT(a,n){return Pi(Yv(a,typeof n=="function"?r=>wr(()=>n(r),i=>i):n))}function Yv(a,n){return Y(nd(a),CE(r=>n?typeof n=="function"?n(r):ME(r):De(r)))}function LT(a){return ad(a).length<=512}var DT=Object.defineProperty,MT=(a,n,r)=>n in a?DT(a,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):a[n]=r,x=(a,n,r)=>MT(a,typeof n!="symbol"?n+"":n,r);function Ft(a){return typeof a=="function"?a():a}class Yi{constructor({onMounted:n,restoreState:r,initialState:i,onUnmounted:o,isPageReload:u}){x(this,"_isMounted",yt(!1)),x(this,"isMounted",Re(this._isMounted)),x(this,"mount"),x(this,"unmount"),this.mount=()=>{if(this.isMounted())return De(void 0);const h=Ft(u)?r():void 0,d=h?De(h):typeof i=="function"?i():De(i);return Y(d,Nt(p=>{ko(()=>{this._isMounted.set(!0),n?.(p)})}))},this.unmount=()=>{this._isMounted()&&ko(()=>{this._isMounted.set(!1),o?.()})}}}function sf(a){const n={};for(const r in a){const i=a[r];i!==void 0&&(n[r]=i)}return n}function kh(a,n){const r=Object.keys(a),i=Object.keys(n);return r.length!==i.length?!1:r.every(o=>Object.prototype.hasOwnProperty.call(n,o)&&a[o]===n[o])}class $a{constructor({initialState:n,onChange:r}){x(this,"_state"),x(this,"state"),x(this,"setState",i=>{const o={...this.state(),...sf(i)};kh(o,this.state())||this._state.set(o)}),this._state=yt(n,{equals:kh}),this.state=Re(this._state),this.state.sub(r)}getter(n){return Re(()=>this._state()[n])}hasDiff(n){return!kh({...this.state(),...sf(n)},this.state())}}function Nn(a,n){return Re(()=>aa(a,Ft(n)))}function re(a){return Object.assign(vn(a),{ifAvailable(...n){return Y(a.ifAvailable(...n),$f(()=>({ok:!1}),r=>({ok:!0,data:Pi(r)})))}})}function vs(a){return[a]}class Ei extends Io("ValidationError",(n,r)=>({input:n,issues:r}),"Validation error"){}class Yo extends Rt("CSSVarsBoundError","CSS variables are already bound"){}class Kv extends Io("DeviceStorageMethodError",n=>({error:n}),n=>[n]){}class Jv extends Io("SecureStorageMethodError",n=>({error:n}),n=>[n]){}class Zv extends Rt("NotAvailableError",vs){}class UT extends Rt("InvalidEnvError",vs){}class Qv extends Rt("FunctionNotAvailableError",vs){}class Tn extends Rt("InvalidArgumentsError",(n,r)=>[n,{cause:r}]){}class Ko extends Rt("ConcurrentCallError",vs){}class Xv extends Rt("SetEmojiStatusError",n=>[`Failed to set emoji status: ${n}`]){}class sd extends Rt("AccessDeniedError",vs){}class Wv extends Rt("FullscreenFailedError",vs){}class eb extends Rt("ShareMessageError",vs){}class tb extends Rt("UnknownThemeParamsKeyError",n=>[`Unknown theme params key passed: ${n}`]){}function at(a,n){const r=Re(()=>Ft(n.version)||"100"),i=Re(()=>Ft(n.isTma)),{requires:o,returns:u}=n,h=o?typeof o=="object"?o:{every:[o]}:void 0,d=A=>{if(!n.supports)return!0;const k=n.supports[A];return aa(k.method,k.param,r())},p=()=>{if(!h)return;const[A,k]="every"in h?["every",h.every]:["some",h.some];for(let O=0;O<k.length;O++){const U=k[O],X=typeof U=="function"?U():aa(U,r())?void 0:`it is unsupported in Mini Apps version ${r()}`;if(X&&(A==="every"||O===k.length-1))return X}},m=(...A)=>{for(const k in n.supports)if(n.supports[k].shouldCheck(...A)&&!d(k))return`option ${k} is not supported in Mini Apps version ${r()}`},b=Re(()=>!p()),_=Re(()=>r()!=="0.0"),S=Re(()=>n.isMounted?n.isMounted():!0),E=Re(()=>i()&&_()&&b()&&S()),R=A=>{const k=new Qv(A);return["task","promise"].includes(n.returns)?pt(k):We(k)},j=(...A)=>u==="plain"?wr(()=>a(...A),k=>k):u==="promise"?pv(()=>a(...A),k=>k):a(...A);return Object.assign((...A)=>{var k;const O="Unable to call function:";if(!i())return R(`${O} it can't be called outside Mini Apps`);if(!_())return R(`${O} the SDK was not initialized. Use the SDK init() function`);const U=p();if(U)return R(`${O} ${U}`);const X=m(...A);if(X)return R(`${O} ${X}`);if(!S()){const ee=(k=n.isMounting)!=null&&k.call(n)?"mounting. Wait for the mount completion":"unmounted. Use the mount() method";return R(`${O} the component is ${ee}`)}return j(...A)},a,{isAvailable:E,ifAvailable(...A){return E()?_r(j(...A)):ps}},h?{isSupported:b}:{},n.supports?{supports:d}:{})}function Ze(a){return n=>at(n,a)}class Jo{constructor({isTma:n,storage:r,onClick:i,offClick:o,initialState:u,isPageReload:h,postEvent:d,payload:p,method:m,version:b}){x(this,"isMounted"),x(this,"isSupported"),x(this,"state"),x(this,"stateSetters"),x(this,"stateBoolSetters"),x(this,"setStateFp"),x(this,"setState"),x(this,"onClickFp"),x(this,"onClick"),x(this,"offClickFp"),x(this,"offClick"),x(this,"mountFp"),x(this,"mount"),x(this,"unmount");const _=new $a({initialState:u,onChange(A){r.set(A)}}),S=new Yi({initialState:u,isPageReload:h,onMounted:_.setState,restoreState:r.get}),E={version:b,requires:m,isTma:n},R=Ze({...E,returns:"plain"}),j=Ze({...E,returns:"either",isMounted:S.isMounted});this.isMounted=S.isMounted,this.isSupported=Nn(m,b),this.state=_.state,this.setStateFp=j(A=>{const k={...this.state(),...sf(A)};return _.hasDiff(k)?Y(d(m,p(k)),Nt(()=>{_.setState(k)})):De(void 0)}),this.setState=re(this.setStateFp),this.onClickFp=R(i),this.onClick=re(this.onClickFp),this.offClickFp=R(o),this.offClick=re(this.offClickFp),this.mountFp=R(()=>{const A=()=>{};return Y(S.mount(),ia(A,A))}),this.mount=re(this.mountFp),this.unmount=S.unmount,this.stateSetters=A=>{const k=j(O=>this.setStateFp({[A]:O}));return[re(k),k]},this.stateBoolSetters=A=>{const[,k]=this.stateSetters(A),O=j(()=>k(!1)),U=j(()=>k(!0));return[[re(O),O],[re(U),U]]}}stateGetter(n){return Re(()=>this.state()[n])}}class nb{constructor(n){x(this,"isVisible"),x(this,"isMounted"),x(this,"isSupported"),x(this,"hideFp"),x(this,"hide"),x(this,"showFp"),x(this,"show"),x(this,"onClickFp"),x(this,"onClick"),x(this,"offClickFp"),x(this,"offClick"),x(this,"mountFp"),x(this,"mount"),x(this,"unmount");const r=new Jo({...n,method:"web_app_setup_back_button",payload:i=>({is_visible:i.isVisible}),initialState:{isVisible:!1}});this.isVisible=r.stateGetter("isVisible"),this.isMounted=r.isMounted,this.isSupported=r.isSupported,[[this.hide,this.hideFp],[this.show,this.showFp]]=r.stateBoolSetters("isVisible"),this.onClick=r.onClick,this.onClickFp=r.onClickFp,this.offClick=r.offClick,this.offClickFp=r.offClickFp,this.mount=r.mount,this.mountFp=r.mountFp,this.unmount=r.unmount}}function Ue(){return{isTma:Re(()=>td())}}function xr(a){return n=>({...n,...Ft(a)})}function Ki(a,n){return yt(a,n)}const ab=Ki(Go),bs=(...a)=>ab()(...a),sb=(...a)=>Pi(bs(...a)),kt=xr({postEvent:bs});function BT(a){return{get:()=>yv(a),set(n){Zf(a,n)}}}function qT(){return performance.getEntriesByType("navigation")[0]}function $T(){const a=qT();return!!a&&a.type==="reload"}function za(a){return xr({storage:BT(a),isPageReload:$T})}const rf=Ki("0.0"),Ie=xr({version:rf});function rd(a,n){return{...Y(Ue(),kt,Ie,za(a)),onClick(r,i){return an(n,r,i)},offClick(r,i){ys(n,r,i)}}}const zT=new nb(rd("backButton","back_button_pressed"));class id{constructor({initialState:n,onMounted:r,restoreState:i,onUnmounted:o,isPageReload:u}){x(this,"_isMounted",yt(!1)),x(this,"isMounted",Re(this._isMounted)),x(this,"mount"),x(this,"unmount"),this.mount=h=>{if(this._isMounted())return tt(void 0);const d=Ft(u)?i():void 0;return Y(d?tt(d):n(h),Ke(p=>{this._isMounted()||ko(()=>{this._isMounted.set(!0),r?.(p)})}))},this.unmount=()=>{this._isMounted()&&ko(()=>{this._isMounted.set(!1),o?.()})}}}function Wy(){return new Zv("Biometry is not available")}function Lh(a){let n=!1,r=!1,i="",o=!1,u="",h=!1;return a.available&&(n=!0,r=a.token_saved,i=a.device_id,o=a.access_requested,u=a.type,h=a.access_granted),{available:n,tokenSaved:r,deviceId:i,type:u,accessGranted:h,accessRequested:o}}class rb{constructor({version:n,request:r,postEvent:i,storage:o,onInfoReceived:u,offInfoReceived:h,isTma:d,isPageReload:p}){x(this,"isAvailable"),x(this,"isSupported"),x(this,"isMounted"),x(this,"state"),x(this,"authenticateFp"),x(this,"authenticate"),x(this,"openSettingsFp"),x(this,"openSettings"),x(this,"requestAccessFp"),x(this,"requestAccess"),x(this,"updateTokenFp"),x(this,"updateToken"),x(this,"mountFp"),x(this,"mount"),x(this,"unmount");const m=A=>{b.setState(Lh(A))},b=new $a({initialState:{available:!1,type:"unknown",accessGranted:!1,accessRequested:!1,deviceId:"",tokenSaved:!1},onChange:o.set}),_=new id({initialState(A){return Y(r("web_app_biometry_get_info","biometry_info_received",A),Ke(Lh))},isPageReload:p,onMounted(A){b.setState(A),u(m)},onUnmounted(){h(m)},restoreState:o.get}),S={version:n,requires:"web_app_biometry_request_auth",isTma:d},E=Ze({...S,returns:"either"}),R=Ze({...S,returns:"task"}),j=Ze({...S,isMounted:_.isMounted,returns:"task"});this.isAvailable=b.getter("available"),this.isMounted=_.isMounted,this.isSupported=Nn("web_app_biometry_request_auth",n),this.state=b.state,this.unmount=_.unmount,this.mountFp=R(_.mount),this.authenticateFp=j(A=>this.isAvailable()?Y(r("web_app_biometry_request_auth","biometry_auth_requested",{...A,params:{reason:((A||{}).reason||"").trim()}}),Ke(k=>(b.setState({token:k.token}),k))):pt(Wy())),this.openSettingsFp=E(()=>i("web_app_biometry_open_settings")),this.requestAccessFp=j(A=>Y(r("web_app_biometry_request_access","biometry_info_received",{...A,params:{reason:((A||{}).reason||"").trim()}}),yn(k=>{const O=Lh(k);return O.available?(b.setState(O),tt(O.accessRequested)):pt(Wy())}))),this.updateTokenFp=j((A={})=>{var k;return Y(r("web_app_biometry_update_token","biometry_token_updated",{...A,params:{token:A.token||"",reason:(k=A.reason)==null?void 0:k.trim()}}),Ke(O=>O.status))}),this.authenticate=re(this.authenticateFp),this.openSettings=re(this.openSettingsFp),this.requestAccess=re(this.requestAccessFp),this.updateToken=re(this.updateTokenFp),this.mount=re(this.mountFp)}}const ib=(a,n,r)=>RT(a,n,{postEvent:bs,...r}),ld=(a,n,r)=>ed(a,n,{postEvent:bs,...r}),HT=(...a)=>Hi.fn(()=>ib(...a)()),IT=(...a)=>Hi.fn(()=>ld(...a)()),Ut=xr({request:ld});function VT(){return new rb({...Y(Ue(),kt,Ie,Ut,za("biometry")),offInfoReceived(a){ys("biometry_info_received",a)},onInfoReceived(a){return an("biometry_info_received",a)}})}const FT=VT();class lb{constructor({postEvent:n,storage:r,isTma:i,isPageReload:o}){x(this,"isConfirmationEnabled"),x(this,"isMounted"),x(this,"mountFp"),x(this,"mount"),x(this,"unmount"),x(this,"disableConfirmationFp"),x(this,"disableConfirmation"),x(this,"enableConfirmationFp"),x(this,"enableConfirmation");const u=new $a({initialState:{isConfirmationEnabled:!1},onChange(_){r.set(_)}}),h=new Yi({onMounted:u.setState,restoreState:r.get,initialState:{isConfirmationEnabled:!1},isPageReload:o}),d={requires:"web_app_setup_closing_behavior",isTma:i},p=Ze({...d,returns:"plain"}),m=Ze({...d,returns:"either",isMounted:h.isMounted}),b=_=>_===this.isConfirmationEnabled()?De(void 0):(u.setState({isConfirmationEnabled:_}),n("web_app_setup_closing_behavior",{need_confirmation:_}));this.isConfirmationEnabled=u.getter("isConfirmationEnabled"),this.isMounted=h.isMounted,this.disableConfirmationFp=m(()=>b(!1)),this.enableConfirmationFp=m(()=>b(!0)),this.mountFp=p(()=>{const _=()=>{};return Y(h.mount(),ia(_,_))}),this.unmount=h.unmount,this.disableConfirmation=re(this.disableConfirmationFp),this.enableConfirmation=re(this.enableConfirmationFp),this.mount=re(this.mountFp)}}function PT(){return new lb(Y(Ue(),za("closingBehavior"),kt))}const GT=PT();class ob{constructor({version:n,isTma:r,invokeCustomMethod:i}){x(this,"isSupported"),x(this,"deleteItemFp"),x(this,"deleteItem"),x(this,"getItemFp"),x(this,"getItem"),x(this,"getItemsFp"),x(this,"getItems"),x(this,"getKeysFp"),x(this,"getKeys"),x(this,"setItemFp"),x(this,"setItem"),x(this,"clearFp"),x(this,"clear");const o=Ze({version:n,requires:"web_app_invoke_custom_method",isTma:r,returns:"task"});this.isSupported=Nn("web_app_invoke_custom_method",n),this.deleteItemFp=o((u,h)=>{const d=Array.isArray(u)?u:[u];return Y(d.length?i("deleteStorageValues",{keys:d},h):tt(void 0),Ke(()=>{}))}),this.getItemFp=o((u,h)=>Y(this.getItemsFp([u],h),Ke(d=>d[u]||""))),this.getItemsFp=o((u,h)=>Y(u.length?i("getStorageValues",{keys:u},h):tt({}),Ke(d=>({...u.reduce((p,m)=>(p[m]="",p),{}),...Ba(Df(xe(),xe()),d)})))),this.getKeysFp=o(u=>Y(i("getStorageKeys",{},u),Ke(h=>Ba(sv(xe()),h)))),this.setItemFp=o((u,h,d)=>Y(i("saveStorageValue",{key:u,value:h},d),Ke(()=>{}))),this.clearFp=o(u=>Y(this.getKeysFp(u),yn(this.deleteItemFp))),this.deleteItem=re(this.deleteItemFp),this.getItem=re(this.getItemFp),this.getItems=re(this.getItemsFp),this.getKeys=re(this.getKeysFp),this.setItem=re(this.setItemFp),this.clear=re(this.clearFp)}}const Dh=Ki(0);function Zo(){return Dh.set(Dh()+1),Dh().toString()}function ub(a,n,r){return CT(a,n,Zo(),{...r||{},postEvent:bs})}const od=xr({invokeCustomMethod:ub});function YT(){return new ob(Y(Ue(),Ie,od))}const KT=YT();class cb{constructor({isTma:n,request:r,version:i,createRequestId:o}){x(this,"getItemFp"),x(this,"getItem"),x(this,"setItemFp"),x(this,"setItem"),x(this,"deleteItemFp"),x(this,"deleteItem"),x(this,"clearFp"),x(this,"clear");const u=Ze({version:i,requires:"web_app_device_storage_get_key",isTma:n,returns:"task"}),h=(d,p,m)=>{const b=o();return Y(r(d,["device_storage_failed",p],{params:{...m,req_id:b},capture:_=>"payload"in _?_.payload.req_id===b:!0}),yn(_=>_.event==="device_storage_failed"?pt(new Kv(_.payload.error||"UNKNOWN_ERROR")):tt(_.payload)))};this.getItemFp=u(d=>Y(h("web_app_device_storage_get_key","device_storage_key_received",{key:d}),Ke(p=>p.value))),this.setItemFp=u((d,p)=>Y(h("web_app_device_storage_save_key","device_storage_key_saved",{key:d,value:p}),Ke(()=>{}))),this.deleteItemFp=u(d=>this.setItemFp(d,null)),this.clearFp=u(()=>Y(h("web_app_device_storage_clear","device_storage_cleared",{}),Ke(()=>{}))),this.getItem=re(this.getItemFp),this.setItem=re(this.setItemFp),this.deleteItem=re(this.deleteItemFp),this.clear=re(this.clearFp)}}const hb=xr({createRequestId:Zo});function JT(){return new cb(Y(Ue(),Ie,Ut,hb))}const ZT=JT();function QT({request:a,...n}){return at(r=>Y(a("web_app_request_emoji_status_access","emoji_status_access_requested",r),Ke(i=>i.status)),{...n,requires:"web_app_request_emoji_status_access",returns:"task"})}function XT(){return QT(Y(Ue(),Ie,Ut))}const fb=XT(),WT=re(fb);function eA({request:a,...n}){return at((r,i)=>Y(a("web_app_set_emoji_status",["emoji_status_set","emoji_status_failed"],{params:{custom_emoji_id:r,duration:(i||{}).duration},...i}),ta(o=>o.event==="emoji_status_failed"?pt(new Xv(o.payload.error)):tt(void 0))),{...n,requires:"web_app_set_emoji_status",returns:"task"})}function tA(){return eA(Y(Ue(),Ut,Ie))}const db=tA(),nA=re(db);class pb{constructor({postEvent:n,isTma:r,version:i}){x(this,"isSupported"),x(this,"impactOccurredFp"),x(this,"impactOccurred"),x(this,"notificationOccurredFp"),x(this,"notificationOccurred"),x(this,"selectionChangedFp"),x(this,"selectionChanged");const o="web_app_trigger_haptic_feedback",u=Ze({requires:o,isTma:r,version:i,returns:"plain"});this.isSupported=Nn(o,i),this.impactOccurredFp=u(h=>n(o,{type:"impact",impact_style:h})),this.notificationOccurredFp=u(h=>n(o,{type:"notification",notification_type:h})),this.selectionChangedFp=u(()=>n(o,{type:"selection_change"})),this.impactOccurred=re(this.impactOccurredFp),this.notificationOccurred=re(this.notificationOccurredFp),this.selectionChanged=re(this.selectionChangedFp)}}function aA(){return new pb(Y(Ue(),kt,Ie))}const sA=aA();function rA({postEvent:a,...n}){return at(()=>a("web_app_add_to_home_screen"),{...n,requires:"web_app_add_to_home_screen",returns:"either"})}function iA(){return rA(Y(Ue(),Ie,kt))}const mb=iA(),lA=re(mb);function oA({request:a,...n}){return at(r=>Y(a("web_app_check_home_screen","home_screen_checked",r),Ke(i=>i.status||"unknown")),{...n,requires:"web_app_check_home_screen",returns:"task"})}function uA(){return oA(Y(Ue(),Ie,Ut))}const gb=uA(),cA=re(gb);class yb{constructor({retrieveInitData:n}){x(this,"_state",yt()),x(this,"_raw",yt()),x(this,"state",Re(this._state)),x(this,"authDate",this.fromState("auth_date")),x(this,"canSendAfter",this.fromState("can_send_after")),x(this,"canSendAfterDate",Re(()=>{const r=this.authDate(),i=this.canSendAfter();return i&&r?new Date(r.getTime()+i*1e3):void 0})),x(this,"chat",this.fromState("chat")),x(this,"chatType",this.fromState("chat_type")),x(this,"chatInstance",this.fromState("chat_instance")),x(this,"hash",this.fromState("hash")),x(this,"queryId",this.fromState("query_id")),x(this,"raw",Re(this._raw)),x(this,"receiver",this.fromState("receiver")),x(this,"signature",this.fromState("signature")),x(this,"startParam",this.fromState("start_param")),x(this,"user",this.fromState("user")),x(this,"restoreFp"),x(this,"restore"),this.restoreFp=()=>Y(n(),Nt($f(()=>{},({raw:r,obj:i})=>{this._state.set(i),this._raw.set(r)}))),this.restore=vn(this.restoreFp)}fromState(n){return Re(()=>{const r=this._state();return r?r[n]:void 0})}}function hA(){return new yb({retrieveInitData(){return Y(EE,Vy("obj",()=>Y(vr(),Nt(({tgWebAppData:a})=>a?_r(a):ps))),Vy("raw",Wf),Nt(({obj:a,raw:n})=>Y(dE,Iy("obj",()=>a),Iy("raw",()=>n))))}})}const fA=hA();class vb{constructor({version:n,request:r,isTma:i}){x(this,"isOpened"),x(this,"isSupported"),x(this,"openSlugFp"),x(this,"openSlug"),x(this,"openUrlFp"),x(this,"openUrl");const o=Ze({version:n,isTma:i,requires:"web_app_open_invoice",returns:"task"}),u=yt(!1),h=()=>{u.set(!1)};this.isSupported=Nn("web_app_open_invoice",n),this.isOpened=Re(u),this.openSlugFp=o((d,p)=>Y(this.isOpened()?pt(new Ko("Invoice is already opened")):tt(void 0),yn(()=>(u.set(!0),r("web_app_open_invoice","invoice_closed",{...p,params:{slug:d},capture:m=>d===m.slug}))),Vi(m=>(h(),m),m=>(h(),m.status)))),this.openUrlFp=o((d,p)=>{const{hostname:m,pathname:b}=new URL(d,window.location.href);if(m!=="t.me")return pt(new Tn(`Link has unexpected hostname: ${m}`));const _=b.match(/^\/(\$|invoice\/)([A-Za-z0-9\-_=]+)$/);return _?this.openSlugFp(_[2],p):pt(new Tn('Expected to receive a link with a pathname in format "/invoice/{slug}" or "/${slug}"'))}),this.openUrl=re(this.openUrlFp),this.openSlug=re(this.openSlugFp)}}function dA(){return new vb(Y(Ue(),Ut,Ie))}const pA=dA();function mA({postEvent:a,...n}){return at((r,i={})=>{if(typeof r=="string")try{r=new URL(r)}catch(o){return We(new Tn(`"${r.toString()}" is invalid URL`,o))}return a("web_app_open_link",{url:r.toString(),try_browser:i.tryBrowser,try_instant_view:i.tryInstantView})},{...n,returns:"either"})}function gA(){return mA(Y(Ue(),kt))}const bb=gA(),yA=re(bb);function vA({postEvent:a,version:n,...r}){return at(i=>{const o=i.toString();return o.match(/^https:\/\/t.me\/.+/)?aa("web_app_open_tg_link",Ft(n))?(i=new URL(i),a("web_app_open_tg_link",{path_full:i.pathname+i.search})):(window.location.href=o,De(void 0)):We(new Tn(`"${o}" is invalid URL`))},{...r,returns:"either"})}function bA(){return vA(Y(Ue(),kt,Ie))}const ud=bA(),_A=re(ud);function wA({openTelegramLink:a,...n}){return at((r,i)=>a("https://t.me/share/url?"+new URLSearchParams({url:r,text:i||""}).toString().replace(/\+/g,"%20")),{...n,returns:"either"})}function xA(){return wA({...Ue(),openTelegramLink:ud})}const _b=xA(),SA=re(_b);function EA(a){let n=!1,r,i;return a.available&&(n=!0,r=a.access_requested,i=a.access_granted),{available:n,accessGranted:i||!1,accessRequested:r||!1}}class wb{constructor({version:n,request:r,postEvent:i,storage:o,isTma:u,isPageReload:h}){x(this,"state"),x(this,"isAvailable"),x(this,"isAccessGranted"),x(this,"isAccessRequested"),x(this,"isMounted"),x(this,"isSupported"),x(this,"openSettingsFp"),x(this,"openSettings"),x(this,"requestLocationFp"),x(this,"requestLocation"),x(this,"mountFp"),x(this,"mount"),x(this,"unmount");const d=new $a({initialState:{available:!1,accessGranted:!1,accessRequested:!1},onChange:o.set}),p=new id({isPageReload:h,restoreState:o.get,onMounted:d.setState,initialState(E){return Y(r("web_app_check_location","location_checked",E),Ke(EA))}}),m={version:n,requires:"web_app_check_location",isTma:u},b=Ze({...m,returns:"either"}),_=Ze({...m,returns:"task"}),S=Ze({...m,returns:"task",isMounted:p.isMounted});this.isAvailable=d.getter("available"),this.isAccessRequested=d.getter("accessRequested"),this.isAccessGranted=d.getter("accessGranted"),this.isSupported=Nn("web_app_check_location",n),this.isMounted=p.isMounted,this.state=d.state,this.unmount=p.unmount,this.mountFp=_(p.mount),this.openSettingsFp=b(()=>i("web_app_open_location_settings")),this.requestLocationFp=S(E=>Y(r("web_app_request_location","location_requested",E),Ke(R=>{if(!R.available)return d.setState({available:!1}),null;const{available:j,...A}=R;return A}))),this.mount=re(this.mountFp),this.openSettings=re(this.openSettingsFp),this.requestLocation=re(this.requestLocationFp)}}function TA(){return new wb(Y(Ue(),kt,Ie,Ut,za("locationManager")))}const AA=TA();class xb{constructor({defaults:n,...r}){x(this,"bgColor"),x(this,"hasShineEffect"),x(this,"isEnabled"),x(this,"isLoaderVisible"),x(this,"isVisible"),x(this,"isMounted"),x(this,"state"),x(this,"text"),x(this,"textColor"),x(this,"showFp"),x(this,"show"),x(this,"hideFp"),x(this,"hide"),x(this,"enableFp"),x(this,"enable"),x(this,"enableShineEffectFp"),x(this,"enableShineEffect"),x(this,"disableFp"),x(this,"disable"),x(this,"disableShineEffectFp"),x(this,"disableShineEffect"),x(this,"setBgColorFp"),x(this,"setBgColor"),x(this,"setTextColorFp"),x(this,"setTextColor"),x(this,"setTextFp"),x(this,"setText"),x(this,"showLoaderFp"),x(this,"showLoader"),x(this,"hideLoaderFp"),x(this,"hideLoader"),x(this,"setParamsFp"),x(this,"setParams"),x(this,"mountFp"),x(this,"mount"),x(this,"unmount"),x(this,"onClickFp"),x(this,"onClick"),x(this,"offClickFp"),x(this,"offClick");const i=new Jo({...r,version:"100",initialState:{hasShineEffect:!1,isEnabled:!0,isLoaderVisible:!1,isVisible:!1,text:"Continue"},method:"web_app_setup_main_button",payload:u=>({has_shine_effect:u.hasShineEffect,is_visible:u.isVisible,is_active:u.isEnabled,is_progress_visible:u.isLoaderVisible,text:u.text,color:u.bgColor,text_color:u.textColor})}),o=(u,h)=>{const d=i.stateGetter(u);return Re(()=>d()||Ft(h))};this.bgColor=o("bgColor",n.bgColor),this.textColor=o("textColor",n.textColor),this.hasShineEffect=i.stateGetter("hasShineEffect"),this.isEnabled=i.stateGetter("isEnabled"),this.isLoaderVisible=i.stateGetter("isLoaderVisible"),this.text=i.stateGetter("text"),this.isVisible=i.stateGetter("isVisible"),this.isMounted=i.isMounted,this.state=i.state,[this.setBgColor,this.setBgColorFp]=i.stateSetters("bgColor"),[this.setTextColor,this.setTextColorFp]=i.stateSetters("textColor"),[[this.disableShineEffect,this.disableShineEffectFp],[this.enableShineEffect,this.enableShineEffectFp]]=i.stateBoolSetters("hasShineEffect"),[[this.disable,this.disableFp],[this.enable,this.enableFp]]=i.stateBoolSetters("isEnabled"),[[this.hideLoader,this.hideLoaderFp],[this.showLoader,this.showLoaderFp]]=i.stateBoolSetters("isLoaderVisible"),[this.setText,this.setTextFp]=i.stateSetters("text"),[[this.hide,this.hideFp],[this.show,this.showFp]]=i.stateBoolSetters("isVisible"),this.setParams=i.setState,this.setParamsFp=i.setStateFp,this.onClick=i.onClick,this.onClickFp=i.onClickFp,this.offClick=i.offClick,this.offClickFp=i.offClickFp,this.mount=i.mount,this.mountFp=i.mountFp,this.unmount=i.unmount}}function cd(a,n){document.documentElement.style.setProperty(a,n)}function hd(a){document.documentElement.style.removeProperty(a)}function Sb(a){return Y(Fo(a),Nt(n=>Math.sqrt([.299,.587,.114].reduce((r,i,o)=>{const u=parseInt(n.slice(1+o*2,1+(o+1)*2),16);return r+u*u*i},0))<120))}const fd=vn(Sb);class Eb{constructor({initialState:n,onChange:r,offChange:i,isTma:o,storage:u,isPageReload:h}){x(this,"accentTextColor"),x(this,"bgColor"),x(this,"buttonColor"),x(this,"buttonTextColor"),x(this,"bottomBarBgColor"),x(this,"destructiveTextColor"),x(this,"headerBgColor"),x(this,"hintColor"),x(this,"linkColor"),x(this,"secondaryBgColor"),x(this,"sectionBgColor"),x(this,"sectionHeaderTextColor"),x(this,"sectionSeparatorColor"),x(this,"subtitleTextColor"),x(this,"textColor"),x(this,"_isCssVarsBound",yt(!1)),x(this,"isCssVarsBound",Re(this._isCssVarsBound)),x(this,"bindCssVarsFp"),x(this,"bindCssVars"),x(this,"state"),x(this,"isDark",Re(()=>{const E=this.bgColor();return!E||fd(E)})),x(this,"isMounted"),x(this,"mountFp"),x(this,"mount"),x(this,"unmount");const d=new $a({initialState:{},onChange:u.set}),p=E=>{d.setState(E.theme_params)},m=new Yi({initialState:()=>De(Ft(n)),isPageReload:h,onMounted(E){d.setState(E),r(p)},onUnmounted(){i(p)},restoreState:u.get}),b={isTma:o,returns:"either"},_=Ze(b),S=Ze({...b,isMounted:m.isMounted});this.accentTextColor=d.getter("accent_text_color"),this.bgColor=d.getter("bg_color"),this.buttonColor=d.getter("button_color"),this.buttonTextColor=d.getter("button_text_color"),this.bottomBarBgColor=d.getter("bottom_bar_bg_color"),this.destructiveTextColor=d.getter("destructive_text_color"),this.headerBgColor=d.getter("header_bg_color"),this.hintColor=d.getter("hint_color"),this.linkColor=d.getter("link_color"),this.secondaryBgColor=d.getter("secondary_bg_color"),this.sectionBgColor=d.getter("section_bg_color"),this.sectionHeaderTextColor=d.getter("section_header_text_color"),this.sectionSeparatorColor=d.getter("section_separator_color"),this.subtitleTextColor=d.getter("subtitle_text_color"),this.textColor=d.getter("text_color"),this.state=d.state,this.isMounted=m.isMounted,this.bindCssVarsFp=S(E=>{if(this._isCssVarsBound())return We(new Yo);E||(E=A=>`--tg-theme-${eT(A)}`);const R=A=>{Object.entries(d.state()).forEach(([k,O])=>{O&&A(k,O)})},j=()=>{R((A,k)=>{cd(E(A),k)})};return j(),d.state.sub(j),this._isCssVarsBound.set(!0),De(()=>{R(hd),d.state.unsub(j),this._isCssVarsBound.set(!1)})}),this.mountFp=_(m.mount),this.unmount=m.unmount,this.bindCssVars=re(this.bindCssVarsFp),this.mount=re(this.mountFp)}}const lf=Ki({});function CA(){return new Eb({...Y(Ue(),za("themeParams")),offChange(a){ys("theme_changed",a)},onChange(a){an("theme_changed",a)},initialState:lf})}const ji=CA();function Tb(a,n,r){return Y(rd(a,n),i=>({...i,defaults:r}))}const RA=new xb(Tb("mainButton","main_button_pressed",{bgColor:Re(()=>ji.buttonColor()||"#2481cc"),textColor:Re(()=>ji.buttonTextColor()||"#ffffff")}));class Ab{constructor({storage:n,isPageReload:r,version:i,postEvent:o,isTma:u,theme:h,onVisibilityChanged:d,offVisibilityChanged:p}){x(this,"isSupported"),x(this,"isDark",Re(()=>{const O=this.bgColorRgb();return O?fd(O):!1})),x(this,"isActive"),x(this,"state"),x(this,"isCssVarsBound"),x(this,"bindCssVarsFp"),x(this,"bindCssVars"),x(this,"isMounted"),x(this,"mountFp"),x(this,"mount"),x(this,"unmount"),x(this,"bgColor"),x(this,"bgColorRgb"),x(this,"setBgColorFp"),x(this,"setBgColor"),x(this,"headerColor"),x(this,"headerColorRgb"),x(this,"setHeaderColorFp"),x(this,"setHeaderColor"),x(this,"bottomBarColor"),x(this,"bottomBarColorRgb"),x(this,"setBottomBarColorFp"),x(this,"setBottomBarColor"),x(this,"closeFp"),x(this,"close"),x(this,"readyFp"),x(this,"ready");const m=O=>{S.setState({isActive:O.is_visible})},b=O=>{[[this.headerColor,"web_app_set_header_color"],[this.bgColor,"web_app_set_background_color"],[this.bottomBarColor,"web_app_set_bottom_bar_color"]].forEach(([U,X])=>{const ee=U();if(!Si(ee)&&(X!=="web_app_set_header_color"||!["bg_color","secondary_bg_color"].includes(ee))){const te=O[ee];te&&o(X,{color:te})}})},_=new Yi({initialState(){return De({bgColor:"bg_color",headerColor:"header_bg_color",bottomBarColor:"bottom_bar_bg_color",isActive:!0})},isPageReload:r,onMounted:O=>{d(m),h.sub(b),S.setState(O)},onUnmounted(){p(m),h.unsub(b)},restoreState:n.get});this.isMounted=_.isMounted,this.mountFp=at(()=>{const O=()=>{};return Y(_.mount(),ia(O,O))},{isTma:u,returns:"plain"}),this.mount=re(this.mountFp),this.unmount=_.unmount;const S=new $a({initialState:{bgColor:"bg_color",bottomBarColor:"bottom_bar_bg_color",headerColor:"bg_color",isActive:!1},onChange:n.set});this.state=S.state;const E=O=>Si(O)?O:Ft(h)[O],R=O=>Re(()=>E(O()));this.isActive=S.getter("isActive"),this.isSupported=Re(()=>["web_app_set_header_color","web_app_set_background_color","web_app_set_bottom_bar_color"].some(O=>aa(O,Ft(i))));const j=yt(!1);this.isCssVarsBound=Re(j),this.bindCssVarsFp=at(O=>{if(j())return We(new Yo);const[U,X]=Fi(()=>{j.set(!1)}),ee=(te,F)=>{const ie=()=>{cd(te,F()||null)};ie(),U(F.sub(ie),hd.bind(null,te))};return O||(O=te=>`--tg-${mv(te)}`),ee(O("bgColor"),this.bgColorRgb),ee(O("bottomBarColor"),this.bottomBarColorRgb),ee(O("headerColor"),this.headerColorRgb),j.set(!0),De(X)},{isTma:u,returns:"either",isMounted:this.isMounted}),this.bindCssVars=re(this.bindCssVarsFp);const A=O=>{const U=S.getter(O),X=R(U),ee={headerColor:"web_app_set_header_color",bgColor:"web_app_set_background_color",bottomBarColor:"web_app_set_bottom_bar_color"}[O],te=at(F=>{if(F===U())return De(void 0);if(ee==="web_app_set_header_color"&&(F==="bg_color"||F==="secondary_bg_color"))return Y(o("web_app_set_header_color",{color_key:F}),Nt(()=>{S.setState({[O]:F})}));const ie=E(F);return Y(ie?o(ee,{color:ie}):We(new tb(F)),Nt(()=>{S.setState({[O]:F})}))},{isTma:u,version:i,requires:ee,isMounted:this.isMounted,returns:"either",supports:O==="headerColor"?{rgb:{method:"web_app_set_header_color",param:"color",shouldCheck:Si}}:void 0});return[U,X,re(te),te]};[this.bgColor,this.bgColorRgb,this.setBgColor,this.setBgColorFp]=A("bgColor"),[this.headerColor,this.headerColorRgb,this.setHeaderColor,this.setHeaderColorFp]=A("headerColor"),[this.bottomBarColor,this.bottomBarColorRgb,this.setBottomBarColor,this.setBottomBarColorFp]=A("bottomBarColor");const k=Ze({isTma:u,returns:"either"});this.closeFp=k(O=>o("web_app_close",{return_back:O})),this.close=re(this.closeFp),this.readyFp=k(()=>o("web_app_ready")),this.ready=re(this.readyFp)}}function jA(){return new Ab({...Y(Ue(),kt,Ie,za("miniApp")),offVisibilityChanged(a){ys("visibility_changed",a)},onVisibilityChanged(a){an("visibility_changed",a)},theme:ji.state})}const Cb=jA();function OA(a){const n=a.message.trim(),r=(a.title||"").trim(),i=a.buttons||[];if(r.length>64)return We(new Tn(`Invalid title: ${r}`));if(!n||n.length>256)return We(new Tn(`Invalid message: ${n}`));if(i.length>3)return We(new Tn(`Invalid buttons count: ${i.length}`));const o=[];if(!i.length)o.push({type:"close",id:""});else for(let u=0;u<i.length;u++){const h=i[u],d=h.id||"";if(d.length>64)return We(new Tn(`Button with index ${u} has invalid id: ${d}`));if(!h.type||h.type==="default"||h.type==="destructive"){const p=h.text.trim();if(!p||p.length>64)return We(new Tn(`Button with index ${u} has invalid text: ${p}`));o.push({type:h.type,text:p,id:d})}else o.push({type:h.type,id:d})}return De({title:r,message:n,buttons:o})}class Rb{constructor({version:n,isTma:r,request:i}){x(this,"isOpened"),x(this,"isSupported"),x(this,"showFp"),x(this,"show");const o=yt(!1),u=()=>{o.set(!1)},h=Ze({version:n,isTma:r,requires:"web_app_open_popup",returns:"task"});this.isSupported=Nn("web_app_open_popup",n),this.isOpened=Re(o),this.showFp=h(d=>Y(this.isOpened()?pt(new Ko("A popup is already opened")):tt(void 0),ta(()=>Kf(OA(d))),yn(p=>(o.set(!0),i("web_app_open_popup","popup_closed",{...d,params:p}))),Vi(p=>(u(),p),p=>(u(),p.button_id)))),this.show=re(this.showFp)}}function NA(){return new Rb(Y(Ue(),Ut,Ie))}const kA=NA();function LA({request:a,...n}){return at(r=>Y(a("web_app_request_phone","phone_requested",r),Ke(i=>i.status)),{...n,requires:"web_app_request_phone",returns:"task"})}function DA(){return LA(Y(Ue(),Ie,Ut))}const dd=DA(),MA=re(dd);function UA({invokeCustomMethod:a,requestPhoneAccess:n,...r}){const i=h=>Y(a("getRequestedContact",{},{...h,timeout:(h||{}).timeout||5e3}),ta(d=>{const p=Zh(xe(),d);if(!p.success)return pt(new Ei(d,p.issues));if(!p.output)return tt(void 0);const m=Zh(Qf(_t({contact:Ma(_t({user_id:Ua(),phone_number:xe(),first_name:xe(),last_name:Ye(xe())})),auth_date:On(xe(),ea(b=>new Date(Number(b)*1e3)),$o()),hash:xe()})),p.output);return m.success?tt({raw:p.output,parsed:m.output}):pt(new Ei(p.output,m.issues))})),o=h=>Y(i(h),Ho(d=>Ei.is(d)?We(d):De(void 0),d=>De(d))),u=h=>yr(async(d,p,m)=>{let b=50;for(;!m.isRejected;){const _=await o(m)();if(_._tag==="Left")return p(_.left);if(_.right)return d(_.right);await new Promise(S=>setTimeout(S,b)),b+=50}},h);return at(h=>yr.fn(d=>Y(o(d),yn(p=>p?tt(p):Y(n(d),ta(m=>m==="sent"?u(d):pt(new sd("User denied access")))))),h),{...r,returns:"task",requires:"web_app_request_phone"})}function BA(){return UA({...Y(Ue(),od,Ie),requestPhoneAccess:dd})}function qA({requestContact:a,...n}){return at(a,{...n,returns:"task",requires:"web_app_request_phone"})}function $A(){return qA({...Y(Ue(),Ie),requestContact(a){return Y(pd(a),Ke(n=>n.parsed))}})}const pd=BA(),zA=re(pd),jb=$A(),HA=re(jb);function IA({request:a,...n}){return at(r=>Y(a("web_app_request_write_access","write_access_requested",r),Ke(i=>i.status)),{...n,requires:"web_app_request_write_access",returns:"task"})}function VA(){return IA(Y(Ue(),Ie,Ut))}const Ob=VA(),FA=re(Ob);class Nb{constructor({version:n,onClosed:r,onTextReceived:i,isTma:o,postEvent:u}){x(this,"isOpened"),x(this,"isSupported"),x(this,"captureFp"),x(this,"capture"),x(this,"closeFp"),x(this,"close"),x(this,"openFp"),x(this,"open");const h={version:n,requires:"web_app_open_scan_qr_popup",isTma:o},d=Ze({...h,returns:"either"}),p=Ze({...h,returns:"task"}),m=yt(!1),b=()=>{m.set(!1)};this.isSupported=Nn("web_app_open_scan_qr_popup",n),this.isOpened=Re(m),this.captureFp=p(_=>{let S;return Y(this.openFp({..._,onCaptured:E=>{_.capture(E)&&(S=E,this.close())}}),Ke(()=>S))}),this.closeFp=d(()=>Y(u("web_app_close_scan_qr_popup"),Nt(b))),this.openFp=p(_=>Y(m()?pt(new Ko("The QR Scanner is already opened")):async()=>u("web_app_open_scan_qr_popup",{text:_.text}),ta(()=>{m.set(!0);const[S,E]=Fi(),R=j=>(E(),m.set(!1),j);return Y(yr(j=>{S(r(j),m.sub(A=>{A||j()}),i(_.onCaptured))},_),Vi(R,R))}))),this.open=re(this.openFp),this.capture=re(this.captureFp),this.close=re(this.closeFp)}}function PA(){return new Nb({...Y(Ue(),kt,Ie),onClosed(a){return an("scan_qr_popup_closed",a)},onTextReceived(a){return an("qr_text_received",n=>{a(n.data)})}})}const GA=PA();class kb{constructor({defaults:n,...r}){x(this,"isSupported"),x(this,"position"),x(this,"bgColor"),x(this,"hasShineEffect"),x(this,"isEnabled"),x(this,"isLoaderVisible"),x(this,"isVisible"),x(this,"isMounted"),x(this,"state"),x(this,"text"),x(this,"textColor"),x(this,"showFp"),x(this,"show"),x(this,"hideFp"),x(this,"hide"),x(this,"enableFp"),x(this,"enable"),x(this,"enableShineEffectFp"),x(this,"enableShineEffect"),x(this,"disableFp"),x(this,"disable"),x(this,"disableShineEffectFp"),x(this,"disableShineEffect"),x(this,"setBgColorFp"),x(this,"setBgColor"),x(this,"setTextColorFp"),x(this,"setTextColor"),x(this,"setTextFp"),x(this,"setText"),x(this,"setPositionFp"),x(this,"setPosition"),x(this,"showLoaderFp"),x(this,"showLoader"),x(this,"hideLoaderFp"),x(this,"hideLoader"),x(this,"setParamsFp"),x(this,"setParams"),x(this,"mountFp"),x(this,"mount"),x(this,"unmount"),x(this,"onClickFp"),x(this,"onClick"),x(this,"offClickFp"),x(this,"offClick");const i=new Jo({...r,initialState:{hasShineEffect:!1,isEnabled:!0,isLoaderVisible:!1,isVisible:!1,text:"Cancel",position:"left"},method:"web_app_setup_secondary_button",payload:u=>({has_shine_effect:u.hasShineEffect,is_visible:u.isVisible,is_active:u.isEnabled,is_progress_visible:u.isLoaderVisible,text:u.text,color:u.bgColor,text_color:u.textColor,position:u.position})}),o=(u,h)=>{const d=i.stateGetter(u);return Re(()=>d()||Ft(h))};this.isSupported=Nn("web_app_setup_secondary_button",r.version),this.bgColor=o("bgColor",n.bgColor),this.textColor=o("textColor",n.textColor),this.position=i.stateGetter("position"),this.hasShineEffect=i.stateGetter("hasShineEffect"),this.isEnabled=i.stateGetter("isEnabled"),this.isLoaderVisible=i.stateGetter("isLoaderVisible"),this.text=i.stateGetter("text"),this.isVisible=i.stateGetter("isVisible"),this.isMounted=i.isMounted,this.state=i.state,[this.setPosition,this.setPositionFp]=i.stateSetters("position"),[this.setBgColor,this.setBgColorFp]=i.stateSetters("bgColor"),[this.setTextColor,this.setTextColorFp]=i.stateSetters("textColor"),[[this.disableShineEffect,this.disableShineEffectFp],[this.enableShineEffect,this.enableShineEffectFp]]=i.stateBoolSetters("hasShineEffect"),[[this.disable,this.disableFp],[this.enable,this.enableFp]]=i.stateBoolSetters("isEnabled"),[[this.hideLoader,this.hideLoaderFp],[this.showLoader,this.showLoaderFp]]=i.stateBoolSetters("isLoaderVisible"),[this.setText,this.setTextFp]=i.stateSetters("text"),[[this.hide,this.hideFp],[this.show,this.showFp]]=i.stateBoolSetters("isVisible"),this.setParams=i.setState,this.setParamsFp=i.setStateFp,this.onClick=i.onClick,this.onClickFp=i.onClickFp,this.offClick=i.offClick,this.offClickFp=i.offClickFp,this.mount=i.mount,this.mountFp=i.mountFp,this.unmount=i.unmount}}function YA(){return new kb(Tb("secondaryButton","secondary_button_pressed",{bgColor:Re(()=>Cb.bottomBarColorRgb()||"#000000"),textColor:Re(()=>ji.buttonColor()||"#2481cc")}))}const KA=YA();class Lb{constructor({isTma:n,request:r,version:i,createRequestId:o}){x(this,"getItemFp"),x(this,"getItem"),x(this,"restoreItemFp"),x(this,"restoreItem"),x(this,"setItemFp"),x(this,"setItem"),x(this,"deleteItemFp"),x(this,"deleteItem"),x(this,"clearFp"),x(this,"clear");const u=Ze({version:i,requires:"web_app_secure_storage_get_key",isTma:n,returns:"task"}),h=(d,p,m)=>{const b=o();return Y(r(d,["secure_storage_failed",p],{params:{...m,req_id:b},capture:_=>"payload"in _?_.payload.req_id===b:!0}),yn(_=>_.event==="secure_storage_failed"?pt(new Jv(_.payload.error||"UNKNOWN_ERROR")):tt(_.payload)))};this.getItemFp=u(d=>Y(h("web_app_secure_storage_get_key","secure_storage_key_received",{key:d}),Ke(p=>({value:p.value,canRestore:!!p.can_restore})))),this.setItemFp=u((d,p)=>Y(h("web_app_secure_storage_save_key","secure_storage_key_saved",{key:d,value:p}),Ke(()=>{}))),this.deleteItemFp=u(d=>this.setItemFp(d,null)),this.clearFp=u(()=>Y(h("web_app_secure_storage_clear","secure_storage_cleared",{}),Ke(()=>{}))),this.restoreItemFp=u(d=>Y(h("web_app_secure_storage_restore_key","secure_storage_key_restored",{key:d}),Ke(p=>p.value))),this.getItem=re(this.getItemFp),this.setItem=re(this.setItemFp),this.deleteItem=re(this.deleteItemFp),this.clear=re(this.clearFp),this.restoreItem=re(this.restoreItemFp)}}function JA(){return new Lb(Y(Ue(),Ie,Ut,hb))}const ZA=JA();class Db{constructor(n){x(this,"isVisible"),x(this,"isMounted"),x(this,"isSupported"),x(this,"hideFp"),x(this,"hide"),x(this,"showFp"),x(this,"show"),x(this,"onClickFp"),x(this,"onClick"),x(this,"offClickFp"),x(this,"offClick"),x(this,"mountFp"),x(this,"mount"),x(this,"unmount");const r=new Jo({...n,method:"web_app_setup_settings_button",payload:i=>({is_visible:i.isVisible}),initialState:{isVisible:!1}});this.isVisible=r.stateGetter("isVisible"),this.isMounted=r.isMounted,this.isSupported=r.isSupported,[[this.hide,this.hideFp],[this.show,this.showFp]]=r.stateBoolSetters("isVisible"),this.onClick=r.onClick,this.onClickFp=r.onClickFp,this.offClick=r.offClick,this.offClickFp=r.offClickFp,this.mount=r.mount,this.mountFp=r.mountFp,this.unmount=r.unmount}}const QA=new Db(rd("settingsButton","settings_button_pressed"));class Mb{constructor({postEvent:n,storage:r,isTma:i,isPageReload:o,version:u}){x(this,"isSupported"),x(this,"isVerticalEnabled"),x(this,"isMounted"),x(this,"mountFp"),x(this,"mount"),x(this,"unmount"),x(this,"disableVerticalFp"),x(this,"disableVertical"),x(this,"enableVerticalFp"),x(this,"enableVertical");const h={isVerticalEnabled:!0},d=new $a({initialState:h,onChange(E){r.set(E)}}),p=new Yi({initialState:h,isPageReload:o,onMounted:d.setState,restoreState:r.get}),m={requires:"web_app_setup_swipe_behavior",isTma:i,version:u},b=Ze({...m,returns:"plain"}),_=Ze({...m,isMounted:p.isMounted,returns:"either"}),S=E=>{const R={isVerticalEnabled:E};return d.hasDiff(R)?Y(n("web_app_setup_swipe_behavior",{allow_vertical_swipe:E}),Nt(()=>{d.setState(R)})):De(void 0)};this.isSupported=Nn("web_app_setup_swipe_behavior",u),this.isVerticalEnabled=d.getter("isVerticalEnabled"),this.isMounted=p.isMounted,this.disableVerticalFp=_(()=>S(!1)),this.enableVerticalFp=_(()=>S(!0)),this.mountFp=b(()=>{const E=()=>{};return Y(p.mount(),ia(E,E))}),this.unmount=p.unmount,this.disableVertical=re(this.disableVerticalFp),this.enableVertical=re(this.enableVerticalFp),this.mount=re(this.mountFp)}}function XA(){return new Mb(Y(Ue(),kt,Ie,za("swipeBehavior")))}const WA=XA();async function eC(a){try{const{clipboard:r}=navigator;if(r)return await r.writeText(a)}catch{}const n=document.createElement("textarea");n.value=a,n.style.top="0",n.style.left="0",n.style.position="fixed",document.body.appendChild(n),n.focus(),n.select();try{document.execCommand("copy")}finally{document.body.removeChild(n)}}function tC({request:a,...n}){return at((r,i,o)=>Y(a("web_app_request_file_download","file_download_requested",{...o,params:{url:r,file_name:i}}),yn(u=>u.status==="downloading"?tt(void 0):pt(new sd("User denied the action")))),{...n,requires:"web_app_request_file_download",returns:"task"})}function nC(){return tC(Y(Ue(),Ut,Ie))}const Ub=nC(),aC=re(Ub);function sC({invokeCustomMethod:a,...n}){return at(r=>Y(a("getCurrentTime",{},r),yn(i=>{const o=Zh(On(Ua(),jf(),ea(u=>new Date(u*1e3)),$o()),i);return o.success?tt(o.output):pt(new Ei(i,o.issues))})),{...n,requires:"web_app_invoke_custom_method",returns:"task"})}function rC(){return sC(Y(Ue(),od,Ie))}const Bb=rC(),iC=re(Bb);function lC({postEvent:a,...n}){return at(()=>a("web_app_hide_keyboard"),{...n,returns:"either",requires:"web_app_hide_keyboard"})}function oC(){return lC(Y(Ue(),kt,Ie))}const qb=oC(),uC=re(qb);function cC({request:a,createRequestId:n,...r}){return at(i=>{const o=n();return Y(a("web_app_read_text_from_clipboard","clipboard_text_received",{...i,params:{req_id:o},capture:Pv(o)}),Ke(({data:u=null})=>u))},{...r,requires:"web_app_read_text_from_clipboard",returns:"task"})}function hC(){return cC({...Y(Ue(),Ie,Ut),createRequestId:Zo})}const $b=hC(),fC=re($b);function zb(a){const n={},r=a.match(/Telegram-Android(?:\/([^ ]+))?(?: (\([^)]+\))?|$)/);if(r){const[,i,o]=r;i&&(n.appVersion=i),o&&o.slice(1,o.length-1).split(";").forEach(u=>{const[h,d]=u.trim().split(" ");if(h==="Android")n.androidVersion=d;else if(h==="SDK"){const p=parseInt(d,10);p&&(n.sdkVersion=p)}else d?(n.manufacturer=h,n.model=d):n.performanceClass=h})}return n}function dC(){return zb(navigator.userAgent)}function pC({postEvent:a,...n}){return at(r=>{const{size:i}=new Blob([r]);return!i||i>4096?We(new Tn(i?"Maximum size of data to send is 4096 bytes":"Attempted to send empty data")):a("web_app_data_send",{data:r})},{...n,returns:"either"})}function mC(){return pC(Y(Ue(),kt))}const Hb=mC(),gC=re(Hb);function yC({request:a,...n}){return at((r,i)=>Y(a("web_app_send_prepared_message",["prepared_message_failed","prepared_message_sent"],{...i,params:{id:r}}),yn(o=>o.event==="prepared_message_failed"?pt(new eb(o.payload.error)):tt(void 0))),{...n,requires:"web_app_send_prepared_message",returns:"task"})}function vC(){return yC(Y(Ue(),Ut,Ie))}const Ib=vC(),bC=re(Ib);function _C({postEvent:a,...n}){return at((r,i={})=>a("web_app_share_to_story",{text:i.text,media_url:r,widget_link:i.widgetLink}),{...n,requires:"web_app_share_to_story",returns:"either"})}function wC(){return _C(Y(Ue(),kt,Ie))}const Vb=wC(),xC=re(Vb),of=Ki(!1);function SC({isInlineMode:a,postEvent:n,...r}){return at((i,o)=>n("web_app_switch_inline_query",{query:i,chat_types:o||[]}),{...r,requires:{every:["web_app_switch_inline_query",()=>Ft(a)?void 0:"The application must be launched in the inline mode"]},returns:"either"})}function EC(){return SC({...Y(Ue(),kt,Ie),isInlineMode:of})}const Fb=EC(),TC=re(Fb);class Pb{constructor({storage:n,isPageReload:r,onContentSafeAreaInsetsChanged:i,onSafeAreaInsetsChanged:o,onViewportChanged:u,onFullscreenChanged:h,offContentSafeAreaInsetsChanged:d,offFullscreenChanged:p,offSafeAreaInsetsChanged:m,offViewportChanged:b,request:_,isViewportStable:S,isFullscreen:E,isTma:R,version:j,postEvent:A}){x(this,"state"),x(this,"height"),x(this,"stableHeight"),x(this,"width"),x(this,"isExpanded"),x(this,"isStable",Re(()=>this.height()===this.stableHeight())),x(this,"contentSafeAreaInsets"),x(this,"contentSafeAreaInsetTop"),x(this,"contentSafeAreaInsetLeft"),x(this,"contentSafeAreaInsetRight"),x(this,"contentSafeAreaInsetBottom"),x(this,"safeAreaInsets"),x(this,"safeAreaInsetTop"),x(this,"safeAreaInsetLeft"),x(this,"safeAreaInsetRight"),x(this,"safeAreaInsetBottom"),x(this,"isFullscreen"),x(this,"requestFullscreenFp"),x(this,"requestFullscreen"),x(this,"exitFullscreenFp"),x(this,"exitFullscreen"),x(this,"isCssVarsBound"),x(this,"bindCssVarsFp"),x(this,"bindCssVars"),x(this,"isMounted"),x(this,"mountFp"),x(this,"mount"),x(this,"expandFp"),x(this,"expand");const k={top:0,right:0,left:0,bottom:0},O=new $a({initialState:{contentSafeAreaInsets:k,height:0,isExpanded:!1,isFullscreen:!1,safeAreaInsets:k,stableHeight:0,width:0},onChange:n.set}),U=le=>{O.setState({isExpanded:le.is_expanded,height:le.height,width:le.width,stableHeight:le.is_state_stable?le.height:void 0})},X=le=>{O.setState({isFullscreen:le.is_fullscreen})},ee=le=>{O.setState({safeAreaInsets:le})},te=le=>{O.setState({contentSafeAreaInsets:le})},F=new id({initialState(le){const $=P=>()=>{const[Z,C]=P==="safe-area"?["web_app_request_safe_area","safe_area_changed"]:["web_app_request_content_safe_area","content_safe_area_changed"];return aa(Z,Ft(j))?_(Z,C,le):tt({top:0,left:0,right:0,bottom:0})},W=P=>()=>typeof P=="boolean"?tt(P):Kf(P());return Y(ZE,yo("safeAreaInsets",$("safe-area")),yo("contentSafeAreaInsets",$("content-safe-area")),yo("isFullscreen",W(E)),yo("isViewportStable",W(S)),ta(({isViewportStable:P,...Z})=>P?tt({...Z,height:window.innerHeight,isExpanded:!0,stableHeight:window.innerHeight,width:window.innerWidth}):Y(_("web_app_request_viewport","viewport_changed",le),Ke(C=>({...Z,height:C.height,isExpanded:C.is_expanded,stableHeight:C.is_state_stable?C.height:0,width:C.width})))))},isPageReload:r,onMounted(le){u(U),h(X),o(ee),i(te),O.setState(le)},onUnmounted(){b(U),p(X),m(ee),d(te)},restoreState:n.get}),ie=le=>Re(()=>this.safeAreaInsets()[le]),H=le=>Re(()=>this.contentSafeAreaInsets()[le]);this.state=O.state,this.height=O.getter("height"),this.stableHeight=O.getter("stableHeight"),this.width=O.getter("width"),this.isExpanded=O.getter("isExpanded"),this.safeAreaInsets=O.getter("safeAreaInsets"),this.safeAreaInsetTop=ie("top"),this.safeAreaInsetBottom=ie("bottom"),this.safeAreaInsetLeft=ie("left"),this.safeAreaInsetRight=ie("right"),this.contentSafeAreaInsets=O.getter("contentSafeAreaInsets"),this.contentSafeAreaInsetTop=H("top"),this.contentSafeAreaInsetBottom=H("bottom"),this.contentSafeAreaInsetLeft=H("left"),this.contentSafeAreaInsetRight=H("right");const me=Ze({isTma:R,returns:"task"}),fe=Ze({isTma:R,returns:"either"}),Ee=Ze({isTma:R,requires:"web_app_request_fullscreen",version:j,returns:"task"}),Ne=le=>Ee($=>Y(_(le?"web_app_request_fullscreen":"web_app_exit_fullscreen",["fullscreen_changed","fullscreen_failed"],$),yn(W=>W.event==="fullscreen_failed"&&W.payload.error!=="ALREADY_FULLSCREEN"?pt(new Wv(W.payload.error)):(O.setState({isFullscreen:"is_fullscreen"in W.payload?W.payload.is_fullscreen:!0}),tt(void 0)))));this.isMounted=F.isMounted,this.mountFp=me(F.mount),this.mount=re(this.mountFp),this.isFullscreen=O.getter("isFullscreen"),this.requestFullscreenFp=Ne(!0),this.requestFullscreen=re(this.requestFullscreenFp),this.exitFullscreenFp=Ne(!1),this.exitFullscreen=re(this.exitFullscreenFp);const ge=yt(!1);this.isCssVarsBound=Re(ge),this.bindCssVarsFp=fe(le=>{if(ge())return We(new Yo);le||(le=W=>`--tg-viewport-${mv(W)}`);const $=[["height",this.height],["stableHeight",this.stableHeight],["width",this.width],["safeAreaInsetTop",this.safeAreaInsetTop],["safeAreaInsetBottom",this.safeAreaInsetBottom],["safeAreaInsetLeft",this.safeAreaInsetLeft],["safeAreaInsetRight",this.safeAreaInsetRight],["contentSafeAreaInsetTop",this.contentSafeAreaInsetTop],["contentSafeAreaInsetBottom",this.contentSafeAreaInsetBottom],["contentSafeAreaInsetLeft",this.contentSafeAreaInsetLeft],["contentSafeAreaInsetRight",this.contentSafeAreaInsetRight]].reduce((W,[P,Z])=>{const C=le(P);if(C){const y=()=>{cd(C,`${Z()}px`)};W.push({update:y,removeListener:Z.sub(y),cssVar:C})}return W},[]);return $.forEach(W=>{W.update()}),ge.set(!0),De(()=>{$.forEach(W=>{W.removeListener(),hd(W.cssVar)}),ge.set(!1)})}),this.bindCssVars=re(this.bindCssVarsFp),this.expandFp=fe(()=>A("web_app_expand")),this.expand=re(this.expandFp)}}function AC(){const a=u=>({on:h=>{an(u,h)},off:h=>{ys(u,h)}}),n=a("viewport_changed"),r=a("fullscreen_changed"),i=a("safe_area_changed"),o=a("content_safe_area_changed");return new Pb({...Y(Ue(),za("viewport"),Ie,kt,Ut),isFullscreen(){return Y(vr(),Nt(u=>!!u.tgWebAppFullscreen))},isViewportStable(){return Y(vr(),Nt(u=>["macos","tdesktop","unigram","webk","weba","web"].includes(u.tgWebAppPlatform)))},offContentSafeAreaInsetsChanged:o.off,offFullscreenChanged:r.off,offSafeAreaInsetsChanged:i.off,offViewportChanged:n.off,onContentSafeAreaInsetsChanged:o.on,onFullscreenChanged:r.on,onSafeAreaInsetsChanged:i.on,onViewportChanged:n.on})}const CC=AC();function Gb(a={}){const{version:n,isInlineMode:r,themeParams:i}=a;if(n&&typeof r=="boolean"&&i)rf.set(n),of.set(r),lf.set(i);else{const d=Y(vr(),Vf(p=>p,p=>{rf.set(n||p.tgWebAppVersion),of.set(typeof r=="boolean"?r:!!p.tgWebAppBotInline),lf.set(i||p.tgWebAppThemeParams)}));if(d)return We(d)}a.postEvent&&ab.set(a.postEvent);const[o,u]=Fi(an("reload_iframe",()=>{na().log("Received a request to reload the page"),sb("iframe_will_reload"),window.location.reload()})),{acceptCustomStyles:h=!0}=a;if(h){const d=document.createElement("style");d.id="telegram-custom-styles",document.head.appendChild(d),o(an("set_custom_style",p=>{d.innerHTML=p}),()=>{document.head.removeChild(d)})}return Y(bs("iframe_ready",{reload_supported:!0}),Nt(()=>(na().log("The package was initialized"),u)))}const Yb=vn(Gb),RC=Object.freeze(Object.defineProperty({__proto__:null,AccessDeniedError:sd,BackButton:nb,Biometry:rb,CSSVarsBoundError:Yo,CancelledError:lv,ClosingBehavior:lb,CloudStorage:ob,ConcurrentCallError:Ko,DeviceStorage:cb,DeviceStorageMethodError:Kv,FullscreenFailedError:Wv,FunctionUnavailableError:Qv,HapticFeedback:pb,InitData:yb,InvalidArgumentsError:Tn,InvalidEnvError:UT,InvalidLaunchParamsError:Bv,Invoice:vb,InvokeCustomMethodFailedError:qv,LaunchParamsRetrieveError:Uv,LocationManager:wb,MainButton:xb,MethodParameterUnsupportedError:Mv,MethodUnsupportedError:Dv,MiniApp:Ab,NotAvailableError:Zv,Popup:Rb,QrScanner:Nb,SecondaryButton:kb,SecureStorage:Lb,SecureStorageMethodError:Jv,SetEmojiStatusError:Xv,SettingsButton:Db,ShareMessageError:eb,SwipeBehavior:Mb,ThemeParams:Eb,TimeoutError:Uf,UnknownEnvError:Xf,UnknownThemeParamsKeyError:tb,ValidationError:Ei,Viewport:Pb,addToHomeScreen:lA,addToHomeScreenFp:mb,applyPolyfills:jT,backButton:zT,biometry:FT,checkHomeScreenStatus:cA,checkHomeScreenStatusFp:gb,closingBehavior:GT,cloudStorage:KT,copyTextToClipboard:eC,createLogger:vv,createPostEvent:AT,createRequestId:Zo,createStartParam:NT,createStartParamFp:Gv,debug:Iv,decodeBase64Url:OT,decodeBase64UrlFp:nd,decodeStartParam:kT,decodeStartParamFp:Yv,deepSnakeToCamelObjKeys:Wh,deviceStorage:ZT,downloadFile:aC,downloadFileFp:Ub,emitEvent:jo,encodeBase64Url:ad,getCurrentTime:iC,getCurrentTimeFp:Bb,getReleaseVersion:af,hapticFeedback:sA,hideKeyboard:uC,hideKeyboardFp:qb,init:Yb,initData:fA,initFp:Gb,invoice:pA,invokeCustomMethod:ub,isAnyRGB:Sv,isColorDark:fd,isColorDarkFp:Sb,isRGB:Si,isRGBA:xv,isRGBAShort:wv,isRGBShort:_v,isSafeToCreateStartParam:LT,isTMA:ST,isTMAFp:td,locationManager:AA,logger:na,mainButton:RA,miniApp:Cb,mockTelegramEnv:ET,off:ys,offAll:_T,on:an,openLink:yA,openLinkFp:bb,openTelegramLink:_A,openTelegramLinkFp:ud,parseInitDataQuery:hT,parseInitDataQueryFp:Cv,parseLaunchParamsQuery:Rv,parseLaunchParamsQueryFp:Po,popup:kA,postEvent:sb,postEventFp:bs,qrScanner:GA,readTextFromClipboard:fC,readTextFromClipboardFp:$b,request:HT,request2:IT,request2Fp:ld,requestContact:HA,requestContactComplete:zA,requestContactCompleteFp:pd,requestContactFp:jb,requestEmojiStatusAccess:WT,requestEmojiStatusAccessFp:fb,requestFp:ib,requestPhoneAccess:MA,requestPhoneAccessFp:dd,requestWriteAccess:FA,requestWriteAccessFp:Ob,retrieveAndroidDeviceData:dC,retrieveAndroidDeviceDataFrom:zb,retrieveLaunchParams:$v,retrieveLaunchParamsFp:vr,retrieveRawInitData:zv,retrieveRawInitDataFp:Wf,retrieveRawLaunchParams:dT,retrieveRawLaunchParamsFp:Gi,secondaryButton:KA,secureStorage:ZA,sendData:gC,sendDataFp:Hb,serializeInitDataQuery:Ov,serializeLaunchParamsQuery:Nv,setDebug:gT,setEmojiStatus:nA,setEmojiStatusFp:db,setTargetOrigin:yT,settingsButton:QA,shareMessage:bC,shareMessageFp:Ib,shareStory:xC,shareStoryFp:Vb,shareURL:SA,shareURLFp:_b,supports:aa,swipeBehavior:WA,switchInlineQuery:TC,switchInlineQueryFp:Fb,targetOrigin:Vv,themeParams:ji,toRGB:rT,toRGBFp:Ev,toRGBFull:iT,toRGBFullFp:Fo,viewport:CC},Symbol.toStringTag,{value:"Module"})),jC="modulepreload",OC=function(a){return"/masterbot-miniapp/"+a},e0={},Kb=function(n,r,i){let o=Promise.resolve();if(r&&r.length>0){let p=function(m){return Promise.all(m.map(b=>Promise.resolve(b).then(_=>({status:"fulfilled",value:_}),_=>({status:"rejected",reason:_}))))};document.getElementsByTagName("link");const h=document.querySelector("meta[property=csp-nonce]"),d=h?.nonce||h?.getAttribute("nonce");o=p(r.map(m=>{if(m=OC(m),m in e0)return;e0[m]=!0;const b=m.endsWith(".css"),_=b?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${m}"]${_}`))return;const S=document.createElement("link");if(S.rel=b?"stylesheet":jC,b||(S.as="script"),S.crossOrigin="",S.href=m,d&&S.setAttribute("nonce",d),document.head.appendChild(S),b)return new Promise((E,R)=>{S.addEventListener("load",E),S.addEventListener("error",()=>R(new Error(`Unable to preload CSS for ${m}`)))})}))}function u(h){const d=new Event("vite:preloadError",{cancelable:!0});if(d.payload=h,window.dispatchEvent(d),!d.defaultPrevented)throw h}return o.then(h=>{for(const d of h||[])d.status==="rejected"&&u(d.reason);return n().catch(u)})};var Mh={exports:{}},bi={};var t0;function NC(){if(t0)return bi;t0=1;var a=Symbol.for("react.transitional.element"),n=Symbol.for("react.fragment");function r(i,o,u){var h=null;if(u!==void 0&&(h=""+u),o.key!==void 0&&(h=""+o.key),"key"in o){u={};for(var d in o)d!=="key"&&(u[d]=o[d])}else u=o;return o=u.ref,{$$typeof:a,type:i,key:h,ref:o!==void 0?o:null,props:u}}return bi.Fragment=n,bi.jsx=r,bi.jsxs=r,bi}var n0;function kC(){return n0||(n0=1,Mh.exports=NC()),Mh.exports}var md=kC(),Uh={exports:{}},we={};var a0;function LC(){if(a0)return we;a0=1;var a=Symbol.for("react.transitional.element"),n=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),h=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),_=Symbol.for("react.activity"),S=Symbol.iterator;function E(y){return y===null||typeof y!="object"?null:(y=S&&y[S]||y["@@iterator"],typeof y=="function"?y:null)}var R={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},j=Object.assign,A={};function k(y,T,D){this.props=y,this.context=T,this.refs=A,this.updater=D||R}k.prototype.isReactComponent={},k.prototype.setState=function(y,T){if(typeof y!="object"&&typeof y!="function"&&y!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,y,T,"setState")},k.prototype.forceUpdate=function(y){this.updater.enqueueForceUpdate(this,y,"forceUpdate")};function O(){}O.prototype=k.prototype;function U(y,T,D){this.props=y,this.context=T,this.refs=A,this.updater=D||R}var X=U.prototype=new O;X.constructor=U,j(X,k.prototype),X.isPureReactComponent=!0;var ee=Array.isArray;function te(){}var F={H:null,A:null,T:null,S:null},ie=Object.prototype.hasOwnProperty;function H(y,T,D){var I=D.ref;return{$$typeof:a,type:y,key:T,ref:I!==void 0?I:null,props:D}}function me(y,T){return H(y.type,T,y.props)}function fe(y){return typeof y=="object"&&y!==null&&y.$$typeof===a}function Ee(y){var T={"=":"=0",":":"=2"};return"$"+y.replace(/[=:]/g,function(D){return T[D]})}var Ne=/\/+/g;function ge(y,T){return typeof y=="object"&&y!==null&&y.key!=null?Ee(""+y.key):T.toString(36)}function le(y){switch(y.status){case"fulfilled":return y.value;case"rejected":throw y.reason;default:switch(typeof y.status=="string"?y.then(te,te):(y.status="pending",y.then(function(T){y.status==="pending"&&(y.status="fulfilled",y.value=T)},function(T){y.status==="pending"&&(y.status="rejected",y.reason=T)})),y.status){case"fulfilled":return y.value;case"rejected":throw y.reason}}throw y}function $(y,T,D,I,ae){var ne=typeof y;(ne==="undefined"||ne==="boolean")&&(y=null);var oe=!1;if(y===null)oe=!0;else switch(ne){case"bigint":case"string":case"number":oe=!0;break;case"object":switch(y.$$typeof){case a:case n:oe=!0;break;case b:return oe=y._init,$(oe(y._payload),T,D,I,ae)}}if(oe)return ae=ae(y),oe=I===""?"."+ge(y,0):I,ee(ae)?(D="",oe!=null&&(D=oe.replace(Ne,"$&/")+"/"),$(ae,T,D,"",function(Ha){return Ha})):ae!=null&&(fe(ae)&&(ae=me(ae,D+(ae.key==null||y&&y.key===ae.key?"":(""+ae.key).replace(Ne,"$&/")+"/")+oe)),T.push(ae)),1;oe=0;var be=I===""?".":I+":";if(ee(y))for(var Ce=0;Ce<y.length;Ce++)I=y[Ce],ne=be+ge(I,Ce),oe+=$(I,T,D,ne,ae);else if(Ce=E(y),typeof Ce=="function")for(y=Ce.call(y),Ce=0;!(I=y.next()).done;)I=I.value,ne=be+ge(I,Ce++),oe+=$(I,T,D,ne,ae);else if(ne==="object"){if(typeof y.then=="function")return $(le(y),T,D,I,ae);throw T=String(y),Error("Objects are not valid as a React child (found: "+(T==="[object Object]"?"object with keys {"+Object.keys(y).join(", ")+"}":T)+"). If you meant to render a collection of children, use an array instead.")}return oe}function W(y,T,D){if(y==null)return y;var I=[],ae=0;return $(y,I,"","",function(ne){return T.call(D,ne,ae++)}),I}function P(y){if(y._status===-1){var T=y._result;T=T(),T.then(function(D){(y._status===0||y._status===-1)&&(y._status=1,y._result=D)},function(D){(y._status===0||y._status===-1)&&(y._status=2,y._result=D)}),y._status===-1&&(y._status=0,y._result=T)}if(y._status===1)return y._result.default;throw y._result}var Z=typeof reportError=="function"?reportError:function(y){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var T=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof y=="object"&&y!==null&&typeof y.message=="string"?String(y.message):String(y),error:y});if(!window.dispatchEvent(T))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",y);return}console.error(y)},C={map:W,forEach:function(y,T,D){W(y,function(){T.apply(this,arguments)},D)},count:function(y){var T=0;return W(y,function(){T++}),T},toArray:function(y){return W(y,function(T){return T})||[]},only:function(y){if(!fe(y))throw Error("React.Children.only expected to receive a single React element child.");return y}};return we.Activity=_,we.Children=C,we.Component=k,we.Fragment=r,we.Profiler=o,we.PureComponent=U,we.StrictMode=i,we.Suspense=p,we.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=F,we.__COMPILER_RUNTIME={__proto__:null,c:function(y){return F.H.useMemoCache(y)}},we.cache=function(y){return function(){return y.apply(null,arguments)}},we.cacheSignal=function(){return null},we.cloneElement=function(y,T,D){if(y==null)throw Error("The argument must be a React element, but you passed "+y+".");var I=j({},y.props),ae=y.key;if(T!=null)for(ne in T.key!==void 0&&(ae=""+T.key),T)!ie.call(T,ne)||ne==="key"||ne==="__self"||ne==="__source"||ne==="ref"&&T.ref===void 0||(I[ne]=T[ne]);var ne=arguments.length-2;if(ne===1)I.children=D;else if(1<ne){for(var oe=Array(ne),be=0;be<ne;be++)oe[be]=arguments[be+2];I.children=oe}return H(y.type,ae,I)},we.createContext=function(y){return y={$$typeof:h,_currentValue:y,_currentValue2:y,_threadCount:0,Provider:null,Consumer:null},y.Provider=y,y.Consumer={$$typeof:u,_context:y},y},we.createElement=function(y,T,D){var I,ae={},ne=null;if(T!=null)for(I in T.key!==void 0&&(ne=""+T.key),T)ie.call(T,I)&&I!=="key"&&I!=="__self"&&I!=="__source"&&(ae[I]=T[I]);var oe=arguments.length-2;if(oe===1)ae.children=D;else if(1<oe){for(var be=Array(oe),Ce=0;Ce<oe;Ce++)be[Ce]=arguments[Ce+2];ae.children=be}if(y&&y.defaultProps)for(I in oe=y.defaultProps,oe)ae[I]===void 0&&(ae[I]=oe[I]);return H(y,ne,ae)},we.createRef=function(){return{current:null}},we.forwardRef=function(y){return{$$typeof:d,render:y}},we.isValidElement=fe,we.lazy=function(y){return{$$typeof:b,_payload:{_status:-1,_result:y},_init:P}},we.memo=function(y,T){return{$$typeof:m,type:y,compare:T===void 0?null:T}},we.startTransition=function(y){var T=F.T,D={};F.T=D;try{var I=y(),ae=F.S;ae!==null&&ae(D,I),typeof I=="object"&&I!==null&&typeof I.then=="function"&&I.then(te,Z)}catch(ne){Z(ne)}finally{T!==null&&D.types!==null&&(T.types=D.types),F.T=T}},we.unstable_useCacheRefresh=function(){return F.H.useCacheRefresh()},we.use=function(y){return F.H.use(y)},we.useActionState=function(y,T,D){return F.H.useActionState(y,T,D)},we.useCallback=function(y,T){return F.H.useCallback(y,T)},we.useContext=function(y){return F.H.useContext(y)},we.useDebugValue=function(){},we.useDeferredValue=function(y,T){return F.H.useDeferredValue(y,T)},we.useEffect=function(y,T){return F.H.useEffect(y,T)},we.useEffectEvent=function(y){return F.H.useEffectEvent(y)},we.useId=function(){return F.H.useId()},we.useImperativeHandle=function(y,T,D){return F.H.useImperativeHandle(y,T,D)},we.useInsertionEffect=function(y,T){return F.H.useInsertionEffect(y,T)},we.useLayoutEffect=function(y,T){return F.H.useLayoutEffect(y,T)},we.useMemo=function(y,T){return F.H.useMemo(y,T)},we.useOptimistic=function(y,T){return F.H.useOptimistic(y,T)},we.useReducer=function(y,T,D){return F.H.useReducer(y,T,D)},we.useRef=function(y){return F.H.useRef(y)},we.useState=function(y){return F.H.useState(y)},we.useSyncExternalStore=function(y,T,D){return F.H.useSyncExternalStore(y,T,D)},we.useTransition=function(){return F.H.useTransition()},we.version="19.2.4",we}var s0;function DC(){return s0||(s0=1,Uh.exports=LC()),Uh.exports}var ms=DC();const Jb={bgColor:"#ffffff",textColor:"#000000",hintColor:"#999999",linkColor:"#2481cc",buttonColor:"#2481cc",buttonTextColor:"#ffffff",secondaryBgColor:"#f0f0f0",headerBgColor:"#ffffff",accentTextColor:"#2481cc",destructiveTextColor:"#ff3b30",healthGood:"#34C759",healthWarning:"#FF9500",healthDanger:"#FF3B30",healthNeutral:"#8E8E93",spacing:{xs:"4px",sm:"8px",md:"16px",lg:"24px",xl:"32px"},minTouchTarget:"44px"},MC=ms.createContext(Jb),UC=({children:a})=>{const[n,r]=ms.useState(Jb);return ms.useEffect(()=>{const i=document.documentElement,o=(u,h)=>getComputedStyle(i).getPropertyValue(u).trim()||h;r(u=>({...u,bgColor:o("--tg-theme-bg-color",u.bgColor),textColor:o("--tg-theme-text-color",u.textColor),hintColor:o("--tg-theme-hint-color",u.hintColor),linkColor:o("--tg-theme-link-color",u.linkColor),buttonColor:o("--tg-theme-button-color",u.buttonColor),buttonTextColor:o("--tg-theme-button-text-color",u.buttonTextColor),secondaryBgColor:o("--tg-theme-secondary-bg-color",u.secondaryBgColor),headerBgColor:o("--tg-theme-header-bg-color",u.headerBgColor),accentTextColor:o("--tg-theme-accent-text-color",u.accentTextColor),destructiveTextColor:o("--tg-theme-destructive-text-color",u.destructiveTextColor)}))},[]),md.jsx(MC.Provider,{value:n,children:a})},Zb=ms.createContext({top:0,bottom:0,left:0,right:0}),Ji=()=>ms.useContext(Zb),BC=({children:a})=>{const[n,r]=ms.useState({top:0,bottom:0,left:0,right:0});return ms.useEffect(()=>{try{Kb(async()=>{const{viewport:i}=await Promise.resolve().then(()=>RC);return{viewport:i}},[]).then(({viewport:i})=>{if(i&&i.safeAreaInsets){const o=i.safeAreaInsets();r({top:o.top||0,bottom:o.bottom||0,left:o.left||0,right:o.right||0})}}).catch(()=>{const i=document.createElement("div");i.style.paddingBottom="env(safe-area-inset-bottom, 0px)",document.body.appendChild(i);const o=parseInt(getComputedStyle(i).paddingBottom)||0;document.body.removeChild(i),o>0&&r(u=>({...u,bottom:o}))})}catch{/iPad|iPhone|iPod/.test(navigator.userAgent)&&r({top:47,bottom:34,left:0,right:0})}},[]),md.jsx(Zb.Provider,{value:n,children:a})},qC=({children:a,edges:n=["top","bottom"],style:r})=>{const i=Ji(),o={};return n.includes("top")&&(o.paddingTop=`${i.top}px`),n.includes("bottom")&&(o.paddingBottom=`${i.bottom}px`),n.includes("left")&&(o.paddingLeft=`${i.left}px`),n.includes("right")&&(o.paddingRight=`${i.right}px`),md.jsx("div",{style:{...o,...r},children:a})};function gd(){const[a,n]=se.useState({userId:null,startParam:null,userName:"Master",initDataRaw:null,isReady:!1,error:null});return se.useEffect(()=>{try{const r=$v(),i=r.tgWebAppData,o=i?.user??null,u=zv()??null,h=r.tgWebAppStartParam??i?.start_param??null;n({userId:o?.id??null,startParam:h,userName:o?.first_name??"Master",initDataRaw:u,isReady:!0,error:null})}catch(r){r instanceof Error&&r.message,n({userId:null,startParam:null,userName:"Master",initDataRaw:null,isReady:!0,error:"    Telegram"})}},[]),a}function Qo(a,n){var r={};for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&n.indexOf(i)<0&&(r[i]=a[i]);if(a!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(a);o<i.length;o++)n.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(a,i[o])&&(r[i[o]]=a[i[o]]);return r}function $C(a,n,r,i){function o(u){return u instanceof r?u:new r(function(h){h(u)})}return new(r||(r=Promise))(function(u,h){function d(b){try{m(i.next(b))}catch(_){h(_)}}function p(b){try{m(i.throw(b))}catch(_){h(_)}}function m(b){b.done?u(b.value):o(b.value).then(d,p)}m((i=i.apply(a,n||[])).next())})}const zC=a=>a?(...n)=>a(...n):(...n)=>fetch(...n);class yd extends Error{constructor(n,r="FunctionsError",i){super(n),this.name=r,this.context=i}}class HC extends yd{constructor(n){super("Failed to send a request to the Edge Function","FunctionsFetchError",n)}}class r0 extends yd{constructor(n){super("Relay Error invoking the Edge Function","FunctionsRelayError",n)}}class i0 extends yd{constructor(n){super("Edge Function returned a non-2xx status code","FunctionsHttpError",n)}}var uf;(function(a){a.Any="any",a.ApNortheast1="ap-northeast-1",a.ApNortheast2="ap-northeast-2",a.ApSouth1="ap-south-1",a.ApSoutheast1="ap-southeast-1",a.ApSoutheast2="ap-southeast-2",a.CaCentral1="ca-central-1",a.EuCentral1="eu-central-1",a.EuWest1="eu-west-1",a.EuWest2="eu-west-2",a.EuWest3="eu-west-3",a.SaEast1="sa-east-1",a.UsEast1="us-east-1",a.UsWest1="us-west-1",a.UsWest2="us-west-2"})(uf||(uf={}));class IC{constructor(n,{headers:r={},customFetch:i,region:o=uf.Any}={}){this.url=n,this.headers=r,this.region=o,this.fetch=zC(i)}setAuth(n){this.headers.Authorization=`Bearer ${n}`}invoke(n){return $C(this,arguments,void 0,function*(r,i={}){var o;let u,h;try{const{headers:d,method:p,body:m,signal:b,timeout:_}=i;let S={},{region:E}=i;E||(E=this.region);const R=new URL(`${this.url}/${r}`);E&&E!=="any"&&(S["x-region"]=E,R.searchParams.set("forceFunctionRegion",E));let j;m&&(d&&!Object.prototype.hasOwnProperty.call(d,"Content-Type")||!d)?typeof Blob<"u"&&m instanceof Blob||m instanceof ArrayBuffer?(S["Content-Type"]="application/octet-stream",j=m):typeof m=="string"?(S["Content-Type"]="text/plain",j=m):typeof FormData<"u"&&m instanceof FormData?j=m:(S["Content-Type"]="application/json",j=JSON.stringify(m)):m&&typeof m!="string"&&!(typeof Blob<"u"&&m instanceof Blob)&&!(m instanceof ArrayBuffer)&&!(typeof FormData<"u"&&m instanceof FormData)?j=JSON.stringify(m):j=m;let A=b;_&&(h=new AbortController,u=setTimeout(()=>h.abort(),_),b?(A=h.signal,b.addEventListener("abort",()=>h.abort())):A=h.signal);const k=yield this.fetch(R.toString(),{method:p||"POST",headers:Object.assign(Object.assign(Object.assign({},S),this.headers),d),body:j,signal:A}).catch(ee=>{throw new HC(ee)}),O=k.headers.get("x-relay-error");if(O&&O==="true")throw new r0(k);if(!k.ok)throw new i0(k);let U=((o=k.headers.get("Content-Type"))!==null&&o!==void 0?o:"text/plain").split(";")[0].trim(),X;return U==="application/json"?X=yield k.json():U==="application/octet-stream"||U==="application/pdf"?X=yield k.blob():U==="text/event-stream"?X=k:U==="multipart/form-data"?X=yield k.formData():X=yield k.text(),{data:X,error:null,response:k}}catch(d){return{data:null,error:d,response:d instanceof i0||d instanceof r0?d.context:void 0}}finally{u&&clearTimeout(u)}})}}var VC=class extends Error{constructor(a){super(a.message),this.name="PostgrestError",this.details=a.details,this.hint=a.hint,this.code=a.code}},FC=class{constructor(a){var n,r,i;this.shouldThrowOnError=!1,this.method=a.method,this.url=a.url,this.headers=new Headers(a.headers),this.schema=a.schema,this.body=a.body,this.shouldThrowOnError=(n=a.shouldThrowOnError)!==null&&n!==void 0?n:!1,this.signal=a.signal,this.isMaybeSingle=(r=a.isMaybeSingle)!==null&&r!==void 0?r:!1,this.urlLengthLimit=(i=a.urlLengthLimit)!==null&&i!==void 0?i:8e3,a.fetch?this.fetch=a.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(a,n){return this.headers=new Headers(this.headers),this.headers.set(a,n),this}then(a,n){var r=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const i=this.fetch;let o=i(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async u=>{let h=null,d=null,p=null,m=u.status,b=u.statusText;if(u.ok){var _,S;if(r.method!=="HEAD"){var E;const k=await u.text();k===""||(r.headers.get("Accept")==="text/csv"||r.headers.get("Accept")&&(!((E=r.headers.get("Accept"))===null||E===void 0)&&E.includes("application/vnd.pgrst.plan+text"))?d=k:d=JSON.parse(k))}const j=(_=r.headers.get("Prefer"))===null||_===void 0?void 0:_.match(/count=(exact|planned|estimated)/),A=(S=u.headers.get("content-range"))===null||S===void 0?void 0:S.split("/");j&&A&&A.length>1&&(p=parseInt(A[1])),r.isMaybeSingle&&r.method==="GET"&&Array.isArray(d)&&(d.length>1?(h={code:"PGRST116",details:`Results contain ${d.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},d=null,p=null,m=406,b="Not Acceptable"):d.length===1?d=d[0]:d=null)}else{var R;const j=await u.text();try{h=JSON.parse(j),Array.isArray(h)&&u.status===404&&(d=[],h=null,m=200,b="OK")}catch{u.status===404&&j===""?(m=204,b="No Content"):h={message:j}}if(h&&r.isMaybeSingle&&(!(h==null||(R=h.details)===null||R===void 0)&&R.includes("0 rows"))&&(h=null,m=200,b="OK"),h&&r.shouldThrowOnError)throw new VC(h)}return{error:h,data:d,count:p,status:m,statusText:b}});return this.shouldThrowOnError||(o=o.catch(u=>{var h;let d="",p="",m="";const b=u?.cause;if(b){var _,S,E,R;const k=(_=b?.message)!==null&&_!==void 0?_:"",O=(S=b?.code)!==null&&S!==void 0?S:"";d=`${(E=u?.name)!==null&&E!==void 0?E:"FetchError"}: ${u?.message}`,d+=`

Caused by: ${(R=b?.name)!==null&&R!==void 0?R:"Error"}: ${k}`,O&&(d+=` (${O})`),b?.stack&&(d+=`
${b.stack}`)}else{var j;d=(j=u?.stack)!==null&&j!==void 0?j:""}const A=this.url.toString().length;return u?.name==="AbortError"||u?.code==="ABORT_ERR"?(m="",p="Request was aborted (timeout or manual cancellation)",A>this.urlLengthLimit&&(p+=`. Note: Your request URL is ${A} characters, which may exceed server limits. If selecting many fields, consider using views. If filtering with large arrays (e.g., .in('id', [many IDs])), consider using an RPC function to pass values server-side.`)):(b?.name==="HeadersOverflowError"||b?.code==="UND_ERR_HEADERS_OVERFLOW")&&(m="",p="HTTP headers exceeded server limits (typically 16KB)",A>this.urlLengthLimit&&(p+=`. Your request URL is ${A} characters. If selecting many fields, consider using views. If filtering with large arrays (e.g., .in('id', [200+ IDs])), consider using an RPC function instead.`)),{error:{message:`${(h=u?.name)!==null&&h!==void 0?h:"FetchError"}: ${u?.message}`,details:d,hint:p,code:m},data:null,count:null,status:0,statusText:""}})),o.then(a,n)}returns(){return this}overrideTypes(){return this}},PC=class extends FC{select(a){let n=!1;const r=(a??"*").split("").map(i=>/\s/.test(i)&&!n?"":(i==='"'&&(n=!n),i)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(a,{ascending:n=!0,nullsFirst:r,foreignTable:i,referencedTable:o=i}={}){const u=o?`${o}.order`:"order",h=this.url.searchParams.get(u);return this.url.searchParams.set(u,`${h?`${h},`:""}${a}.${n?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(a,{foreignTable:n,referencedTable:r=n}={}){const i=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(i,`${a}`),this}range(a,n,{foreignTable:r,referencedTable:i=r}={}){const o=typeof i>"u"?"offset":`${i}.offset`,u=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(o,`${a}`),this.url.searchParams.set(u,`${n-a+1}`),this}abortSignal(a){return this.signal=a,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:a=!1,verbose:n=!1,settings:r=!1,buffers:i=!1,wal:o=!1,format:u="text"}={}){var h;const d=[a?"analyze":null,n?"verbose":null,r?"settings":null,i?"buffers":null,o?"wal":null].filter(Boolean).join("|"),p=(h=this.headers.get("Accept"))!==null&&h!==void 0?h:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${u}; for="${p}"; options=${d};`),u==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(a){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${a}`),this}};const l0=new RegExp("[,()]");var hr=class extends PC{eq(a,n){return this.url.searchParams.append(a,`eq.${n}`),this}neq(a,n){return this.url.searchParams.append(a,`neq.${n}`),this}gt(a,n){return this.url.searchParams.append(a,`gt.${n}`),this}gte(a,n){return this.url.searchParams.append(a,`gte.${n}`),this}lt(a,n){return this.url.searchParams.append(a,`lt.${n}`),this}lte(a,n){return this.url.searchParams.append(a,`lte.${n}`),this}like(a,n){return this.url.searchParams.append(a,`like.${n}`),this}likeAllOf(a,n){return this.url.searchParams.append(a,`like(all).{${n.join(",")}}`),this}likeAnyOf(a,n){return this.url.searchParams.append(a,`like(any).{${n.join(",")}}`),this}ilike(a,n){return this.url.searchParams.append(a,`ilike.${n}`),this}ilikeAllOf(a,n){return this.url.searchParams.append(a,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(a,n){return this.url.searchParams.append(a,`ilike(any).{${n.join(",")}}`),this}regexMatch(a,n){return this.url.searchParams.append(a,`match.${n}`),this}regexIMatch(a,n){return this.url.searchParams.append(a,`imatch.${n}`),this}is(a,n){return this.url.searchParams.append(a,`is.${n}`),this}isDistinct(a,n){return this.url.searchParams.append(a,`isdistinct.${n}`),this}in(a,n){const r=Array.from(new Set(n)).map(i=>typeof i=="string"&&l0.test(i)?`"${i}"`:`${i}`).join(",");return this.url.searchParams.append(a,`in.(${r})`),this}notIn(a,n){const r=Array.from(new Set(n)).map(i=>typeof i=="string"&&l0.test(i)?`"${i}"`:`${i}`).join(",");return this.url.searchParams.append(a,`not.in.(${r})`),this}contains(a,n){return typeof n=="string"?this.url.searchParams.append(a,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(a,`cs.{${n.join(",")}}`):this.url.searchParams.append(a,`cs.${JSON.stringify(n)}`),this}containedBy(a,n){return typeof n=="string"?this.url.searchParams.append(a,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(a,`cd.{${n.join(",")}}`):this.url.searchParams.append(a,`cd.${JSON.stringify(n)}`),this}rangeGt(a,n){return this.url.searchParams.append(a,`sr.${n}`),this}rangeGte(a,n){return this.url.searchParams.append(a,`nxl.${n}`),this}rangeLt(a,n){return this.url.searchParams.append(a,`sl.${n}`),this}rangeLte(a,n){return this.url.searchParams.append(a,`nxr.${n}`),this}rangeAdjacent(a,n){return this.url.searchParams.append(a,`adj.${n}`),this}overlaps(a,n){return typeof n=="string"?this.url.searchParams.append(a,`ov.${n}`):this.url.searchParams.append(a,`ov.{${n.join(",")}}`),this}textSearch(a,n,{config:r,type:i}={}){let o="";i==="plain"?o="pl":i==="phrase"?o="ph":i==="websearch"&&(o="w");const u=r===void 0?"":`(${r})`;return this.url.searchParams.append(a,`${o}fts${u}.${n}`),this}match(a){return Object.entries(a).forEach(([n,r])=>{this.url.searchParams.append(n,`eq.${r}`)}),this}not(a,n,r){return this.url.searchParams.append(a,`not.${n}.${r}`),this}or(a,{foreignTable:n,referencedTable:r=n}={}){const i=r?`${r}.or`:"or";return this.url.searchParams.append(i,`(${a})`),this}filter(a,n,r){return this.url.searchParams.append(a,`${n}.${r}`),this}},GC=class{constructor(a,{headers:n={},schema:r,fetch:i,urlLengthLimit:o=8e3}){this.url=a,this.headers=new Headers(n),this.schema=r,this.fetch=i,this.urlLengthLimit=o}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(a,n){const{head:r=!1,count:i}=n??{},o=r?"HEAD":"GET";let u=!1;const h=(a??"*").split("").map(m=>/\s/.test(m)&&!u?"":(m==='"'&&(u=!u),m)).join(""),{url:d,headers:p}=this.cloneRequestState();return d.searchParams.set("select",h),i&&p.append("Prefer",`count=${i}`),new hr({method:o,url:d,headers:p,schema:this.schema,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}insert(a,{count:n,defaultToNull:r=!0}={}){var i;const o="POST",{url:u,headers:h}=this.cloneRequestState();if(n&&h.append("Prefer",`count=${n}`),r||h.append("Prefer","missing=default"),Array.isArray(a)){const d=a.reduce((p,m)=>p.concat(Object.keys(m)),[]);if(d.length>0){const p=[...new Set(d)].map(m=>`"${m}"`);u.searchParams.set("columns",p.join(","))}}return new hr({method:o,url:u,headers:h,schema:this.schema,body:a,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch,urlLengthLimit:this.urlLengthLimit})}upsert(a,{onConflict:n,ignoreDuplicates:r=!1,count:i,defaultToNull:o=!0}={}){var u;const h="POST",{url:d,headers:p}=this.cloneRequestState();if(p.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),n!==void 0&&d.searchParams.set("on_conflict",n),i&&p.append("Prefer",`count=${i}`),o||p.append("Prefer","missing=default"),Array.isArray(a)){const m=a.reduce((b,_)=>b.concat(Object.keys(_)),[]);if(m.length>0){const b=[...new Set(m)].map(_=>`"${_}"`);d.searchParams.set("columns",b.join(","))}}return new hr({method:h,url:d,headers:p,schema:this.schema,body:a,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch,urlLengthLimit:this.urlLengthLimit})}update(a,{count:n}={}){var r;const i="PATCH",{url:o,headers:u}=this.cloneRequestState();return n&&u.append("Prefer",`count=${n}`),new hr({method:i,url:o,headers:u,schema:this.schema,body:a,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch,urlLengthLimit:this.urlLengthLimit})}delete({count:a}={}){var n;const r="DELETE",{url:i,headers:o}=this.cloneRequestState();return a&&o.append("Prefer",`count=${a}`),new hr({method:r,url:i,headers:o,schema:this.schema,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch,urlLengthLimit:this.urlLengthLimit})}};function Oi(a){"@babel/helpers - typeof";return Oi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Oi(a)}function YC(a,n){if(Oi(a)!="object"||!a)return a;var r=a[Symbol.toPrimitive];if(r!==void 0){var i=r.call(a,n);if(Oi(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(a)}function KC(a){var n=YC(a,"string");return Oi(n)=="symbol"?n:n+""}function JC(a,n,r){return(n=KC(n))in a?Object.defineProperty(a,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):a[n]=r,a}function o0(a,n){var r=Object.keys(a);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(a);n&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(a,o).enumerable})),r.push.apply(r,i)}return r}function vo(a){for(var n=1;n<arguments.length;n++){var r=arguments[n]!=null?arguments[n]:{};n%2?o0(Object(r),!0).forEach(function(i){JC(a,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(r)):o0(Object(r)).forEach(function(i){Object.defineProperty(a,i,Object.getOwnPropertyDescriptor(r,i))})}return a}var ZC=class Qb{constructor(n,{headers:r={},schema:i,fetch:o,timeout:u,urlLengthLimit:h=8e3}={}){this.url=n,this.headers=new Headers(r),this.schemaName=i,this.urlLengthLimit=h;const d=o??globalThis.fetch;u!==void 0&&u>0?this.fetch=(p,m)=>{const b=new AbortController,_=setTimeout(()=>b.abort(),u),S=m?.signal;if(S){if(S.aborted)return clearTimeout(_),d(p,m);const E=()=>{clearTimeout(_),b.abort()};return S.addEventListener("abort",E,{once:!0}),d(p,vo(vo({},m),{},{signal:b.signal})).finally(()=>{clearTimeout(_),S.removeEventListener("abort",E)})}return d(p,vo(vo({},m),{},{signal:b.signal})).finally(()=>clearTimeout(_))}:this.fetch=d}from(n){if(!n||typeof n!="string"||n.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new GC(new URL(`${this.url}/${n}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}schema(n){return new Qb(this.url,{headers:this.headers,schema:n,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}rpc(n,r={},{head:i=!1,get:o=!1,count:u}={}){var h;let d;const p=new URL(`${this.url}/rpc/${n}`);let m;const b=E=>E!==null&&typeof E=="object"&&(!Array.isArray(E)||E.some(b)),_=i&&Object.values(r).some(b);_?(d="POST",m=r):i||o?(d=i?"HEAD":"GET",Object.entries(r).filter(([E,R])=>R!==void 0).map(([E,R])=>[E,Array.isArray(R)?`{${R.join(",")}}`:`${R}`]).forEach(([E,R])=>{p.searchParams.append(E,R)})):(d="POST",m=r);const S=new Headers(this.headers);return _?S.set("Prefer",u?`count=${u},return=minimal`:"return=minimal"):u&&S.set("Prefer",`count=${u}`),new hr({method:d,url:p,headers:S,schema:this.schemaName,body:m,fetch:(h=this.fetch)!==null&&h!==void 0?h:fetch,urlLengthLimit:this.urlLengthLimit})}};class QC{constructor(){}static detectEnvironment(){var n;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((n=navigator.userAgent)===null||n===void 0)&&n.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const r=globalThis.process;if(r){const i=r.versions;if(i&&i.node){const o=i.node,u=parseInt(o.replace(/^v/,"").split(".")[0]);return u>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${u} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${u} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const n=this.detectEnvironment();if(n.constructor)return n.constructor;let r=n.error||"WebSocket not supported in this environment.";throw n.workaround&&(r+=`

Suggested solution: ${n.workaround}`),new Error(r)}static createWebSocket(n,r){const i=this.getWebSocketConstructor();return new i(n,r)}static isWebSocketSupported(){try{const n=this.detectEnvironment();return n.type==="native"||n.type==="ws"}catch{return!1}}}const XC="2.95.3",WC=`realtime-js/${XC}`,eR="1.0.0",Xb="2.0.0",u0=Xb,cf=1e4,tR=1e3,nR=100;var La;(function(a){a[a.connecting=0]="connecting",a[a.open=1]="open",a[a.closing=2]="closing",a[a.closed=3]="closed"})(La||(La={}));var gt;(function(a){a.closed="closed",a.errored="errored",a.joined="joined",a.joining="joining",a.leaving="leaving"})(gt||(gt={}));var En;(function(a){a.close="phx_close",a.error="phx_error",a.join="phx_join",a.reply="phx_reply",a.leave="phx_leave",a.access_token="access_token"})(En||(En={}));var hf;(function(a){a.websocket="websocket"})(hf||(hf={}));var cs;(function(a){a.Connecting="connecting",a.Open="open",a.Closing="closing",a.Closed="closed"})(cs||(cs={}));class aR{constructor(n){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=n??[]}encode(n,r){if(n.event===this.BROADCAST_EVENT&&!(n.payload instanceof ArrayBuffer)&&typeof n.payload.event=="string")return r(this._binaryEncodeUserBroadcastPush(n));let i=[n.join_ref,n.ref,n.topic,n.event,n.payload];return r(JSON.stringify(i))}_binaryEncodeUserBroadcastPush(n){var r;return this._isArrayBuffer((r=n.payload)===null||r===void 0?void 0:r.payload)?this._encodeBinaryUserBroadcastPush(n):this._encodeJsonUserBroadcastPush(n)}_encodeBinaryUserBroadcastPush(n){var r,i;const o=(i=(r=n.payload)===null||r===void 0?void 0:r.payload)!==null&&i!==void 0?i:new ArrayBuffer(0);return this._encodeUserBroadcastPush(n,this.BINARY_ENCODING,o)}_encodeJsonUserBroadcastPush(n){var r,i;const o=(i=(r=n.payload)===null||r===void 0?void 0:r.payload)!==null&&i!==void 0?i:{},h=new TextEncoder().encode(JSON.stringify(o)).buffer;return this._encodeUserBroadcastPush(n,this.JSON_ENCODING,h)}_encodeUserBroadcastPush(n,r,i){var o,u;const h=n.topic,d=(o=n.ref)!==null&&o!==void 0?o:"",p=(u=n.join_ref)!==null&&u!==void 0?u:"",m=n.payload.event,b=this.allowedMetadataKeys?this._pick(n.payload,this.allowedMetadataKeys):{},_=Object.keys(b).length===0?"":JSON.stringify(b);if(p.length>255)throw new Error(`joinRef length ${p.length} exceeds maximum of 255`);if(d.length>255)throw new Error(`ref length ${d.length} exceeds maximum of 255`);if(h.length>255)throw new Error(`topic length ${h.length} exceeds maximum of 255`);if(m.length>255)throw new Error(`userEvent length ${m.length} exceeds maximum of 255`);if(_.length>255)throw new Error(`metadata length ${_.length} exceeds maximum of 255`);const S=this.USER_BROADCAST_PUSH_META_LENGTH+p.length+d.length+h.length+m.length+_.length,E=new ArrayBuffer(this.HEADER_LENGTH+S);let R=new DataView(E),j=0;R.setUint8(j++,this.KINDS.userBroadcastPush),R.setUint8(j++,p.length),R.setUint8(j++,d.length),R.setUint8(j++,h.length),R.setUint8(j++,m.length),R.setUint8(j++,_.length),R.setUint8(j++,r),Array.from(p,k=>R.setUint8(j++,k.charCodeAt(0))),Array.from(d,k=>R.setUint8(j++,k.charCodeAt(0))),Array.from(h,k=>R.setUint8(j++,k.charCodeAt(0))),Array.from(m,k=>R.setUint8(j++,k.charCodeAt(0))),Array.from(_,k=>R.setUint8(j++,k.charCodeAt(0)));var A=new Uint8Array(E.byteLength+i.byteLength);return A.set(new Uint8Array(E),0),A.set(new Uint8Array(i),E.byteLength),A.buffer}decode(n,r){if(this._isArrayBuffer(n)){let i=this._binaryDecode(n);return r(i)}if(typeof n=="string"){const i=JSON.parse(n),[o,u,h,d,p]=i;return r({join_ref:o,ref:u,topic:h,event:d,payload:p})}return r({})}_binaryDecode(n){const r=new DataView(n),i=r.getUint8(0),o=new TextDecoder;if(i===this.KINDS.userBroadcast)return this._decodeUserBroadcast(n,r,o)}_decodeUserBroadcast(n,r,i){const o=r.getUint8(1),u=r.getUint8(2),h=r.getUint8(3),d=r.getUint8(4);let p=this.HEADER_LENGTH+4;const m=i.decode(n.slice(p,p+o));p=p+o;const b=i.decode(n.slice(p,p+u));p=p+u;const _=i.decode(n.slice(p,p+h));p=p+h;const S=n.slice(p,n.byteLength),E=d===this.JSON_ENCODING?JSON.parse(i.decode(S)):S,R={type:this.BROADCAST_EVENT,event:b,payload:E};return h>0&&(R.meta=JSON.parse(_)),{join_ref:null,ref:null,topic:m,event:this.BROADCAST_EVENT,payload:R}}_isArrayBuffer(n){var r;return n instanceof ArrayBuffer||((r=n?.constructor)===null||r===void 0?void 0:r.name)==="ArrayBuffer"}_pick(n,r){return!n||typeof n!="object"?{}:Object.fromEntries(Object.entries(n).filter(([i])=>r.includes(i)))}}class Wb{constructor(n,r){this.callback=n,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=n,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Je;(function(a){a.abstime="abstime",a.bool="bool",a.date="date",a.daterange="daterange",a.float4="float4",a.float8="float8",a.int2="int2",a.int4="int4",a.int4range="int4range",a.int8="int8",a.int8range="int8range",a.json="json",a.jsonb="jsonb",a.money="money",a.numeric="numeric",a.oid="oid",a.reltime="reltime",a.text="text",a.time="time",a.timestamp="timestamp",a.timestamptz="timestamptz",a.timetz="timetz",a.tsrange="tsrange",a.tstzrange="tstzrange"})(Je||(Je={}));const c0=(a,n,r={})=>{var i;const o=(i=r.skipTypes)!==null&&i!==void 0?i:[];return n?Object.keys(n).reduce((u,h)=>(u[h]=sR(h,a,n,o),u),{}):{}},sR=(a,n,r,i)=>{const o=n.find(d=>d.name===a),u=o?.type,h=r[a];return u&&!i.includes(u)?e_(u,h):ff(h)},e_=(a,n)=>{if(a.charAt(0)==="_"){const r=a.slice(1,a.length);return oR(n,r)}switch(a){case Je.bool:return rR(n);case Je.float4:case Je.float8:case Je.int2:case Je.int4:case Je.int8:case Je.numeric:case Je.oid:return iR(n);case Je.json:case Je.jsonb:return lR(n);case Je.timestamp:return uR(n);case Je.abstime:case Je.date:case Je.daterange:case Je.int4range:case Je.int8range:case Je.money:case Je.reltime:case Je.text:case Je.time:case Je.timestamptz:case Je.timetz:case Je.tsrange:case Je.tstzrange:return ff(n);default:return ff(n)}},ff=a=>a,rR=a=>{switch(a){case"t":return!0;case"f":return!1;default:return a}},iR=a=>{if(typeof a=="string"){const n=parseFloat(a);if(!Number.isNaN(n))return n}return a},lR=a=>{if(typeof a=="string")try{return JSON.parse(a)}catch{return a}return a},oR=(a,n)=>{if(typeof a!="string")return a;const r=a.length-1,i=a[r];if(a[0]==="{"&&i==="}"){let u;const h=a.slice(1,r);try{u=JSON.parse("["+h+"]")}catch{u=h?h.split(","):[]}return u.map(d=>e_(n,d))}return a},uR=a=>typeof a=="string"?a.replace(" ","T"):a,t_=a=>{const n=new URL(a);return n.protocol=n.protocol.replace(/^ws/i,"http"),n.pathname=n.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),n.pathname===""||n.pathname==="/"?n.pathname="/api/broadcast":n.pathname=n.pathname+"/api/broadcast",n.href};class Bh{constructor(n,r,i={},o=cf){this.channel=n,this.event=r,this.payload=i,this.timeout=o,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(n){this.timeout=n,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(n){this.payload=Object.assign(Object.assign({},this.payload),n)}receive(n,r){var i;return this._hasReceived(n)&&r((i=this.receivedResp)===null||i===void 0?void 0:i.response),this.recHooks.push({status:n,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const n=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},n),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(n,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:n,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:n,response:r}){this.recHooks.filter(i=>i.status===n).forEach(i=>i.callback(r))}_hasReceived(n){return this.receivedResp&&this.receivedResp.status===n}}var h0;(function(a){a.SYNC="sync",a.JOIN="join",a.LEAVE="leave"})(h0||(h0={}));class Ti{constructor(n,r){this.channel=n,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const i=r?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(i.state,{},o=>{const{onJoin:u,onLeave:h,onSync:d}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Ti.syncState(this.state,o,u,h),this.pendingDiffs.forEach(p=>{this.state=Ti.syncDiff(this.state,p,u,h)}),this.pendingDiffs=[],d()}),this.channel._on(i.diff,{},o=>{const{onJoin:u,onLeave:h,onSync:d}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(o):(this.state=Ti.syncDiff(this.state,o,u,h),d())}),this.onJoin((o,u,h)=>{this.channel._trigger("presence",{event:"join",key:o,currentPresences:u,newPresences:h})}),this.onLeave((o,u,h)=>{this.channel._trigger("presence",{event:"leave",key:o,currentPresences:u,leftPresences:h})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(n,r,i,o){const u=this.cloneDeep(n),h=this.transformState(r),d={},p={};return this.map(u,(m,b)=>{h[m]||(p[m]=b)}),this.map(h,(m,b)=>{const _=u[m];if(_){const S=b.map(A=>A.presence_ref),E=_.map(A=>A.presence_ref),R=b.filter(A=>E.indexOf(A.presence_ref)<0),j=_.filter(A=>S.indexOf(A.presence_ref)<0);R.length>0&&(d[m]=R),j.length>0&&(p[m]=j)}else d[m]=b}),this.syncDiff(u,{joins:d,leaves:p},i,o)}static syncDiff(n,r,i,o){const{joins:u,leaves:h}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return i||(i=()=>{}),o||(o=()=>{}),this.map(u,(d,p)=>{var m;const b=(m=n[d])!==null&&m!==void 0?m:[];if(n[d]=this.cloneDeep(p),b.length>0){const _=n[d].map(E=>E.presence_ref),S=b.filter(E=>_.indexOf(E.presence_ref)<0);n[d].unshift(...S)}i(d,b,p)}),this.map(h,(d,p)=>{let m=n[d];if(!m)return;const b=p.map(_=>_.presence_ref);m=m.filter(_=>b.indexOf(_.presence_ref)<0),n[d]=m,o(d,m,p),m.length===0&&delete n[d]}),n}static map(n,r){return Object.getOwnPropertyNames(n).map(i=>r(i,n[i]))}static transformState(n){return n=this.cloneDeep(n),Object.getOwnPropertyNames(n).reduce((r,i)=>{const o=n[i];return"metas"in o?r[i]=o.metas.map(u=>(u.presence_ref=u.phx_ref,delete u.phx_ref,delete u.phx_ref_prev,u)):r[i]=o,r},{})}static cloneDeep(n){return JSON.parse(JSON.stringify(n))}onJoin(n){this.caller.onJoin=n}onLeave(n){this.caller.onLeave=n}onSync(n){this.caller.onSync=n}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var f0;(function(a){a.ALL="*",a.INSERT="INSERT",a.UPDATE="UPDATE",a.DELETE="DELETE"})(f0||(f0={}));var Ai;(function(a){a.BROADCAST="broadcast",a.PRESENCE="presence",a.POSTGRES_CHANGES="postgres_changes",a.SYSTEM="system"})(Ai||(Ai={}));var Qn;(function(a){a.SUBSCRIBED="SUBSCRIBED",a.TIMED_OUT="TIMED_OUT",a.CLOSED="CLOSED",a.CHANNEL_ERROR="CHANNEL_ERROR"})(Qn||(Qn={}));class mr{constructor(n,r={config:{}},i){var o,u;if(this.topic=n,this.params=r,this.socket=i,this.bindings={},this.state=gt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=n.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Bh(this,En.join,this.params,this.timeout),this.rejoinTimer=new Wb(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=gt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(h=>h.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=gt.closed,this.socket._remove(this)}),this._onError(h=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,h),this.state=gt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=gt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",h=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,h),this.state=gt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(En.reply,{},(h,d)=>{this._trigger(this._replyEventName(d),h)}),this.presence=new Ti(this),this.broadcastEndpointURL=t_(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((u=(o=this.params.config)===null||o===void 0?void 0:o.broadcast)===null||u===void 0)&&u.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(n,r=this.timeout){var i,o,u;if(this.socket.isConnected()||this.socket.connect(),this.state==gt.closed){const{config:{broadcast:h,presence:d,private:p}}=this.params,m=(o=(i=this.bindings.postgres_changes)===null||i===void 0?void 0:i.map(E=>E.filter))!==null&&o!==void 0?o:[],b=!!this.bindings[Ai.PRESENCE]&&this.bindings[Ai.PRESENCE].length>0||((u=this.params.config.presence)===null||u===void 0?void 0:u.enabled)===!0,_={},S={broadcast:h,presence:Object.assign(Object.assign({},d),{enabled:b}),postgres_changes:m,private:p};this.socket.accessTokenValue&&(_.access_token=this.socket.accessTokenValue),this._onError(E=>n?.(Qn.CHANNEL_ERROR,E)),this._onClose(()=>n?.(Qn.CLOSED)),this.updateJoinPayload(Object.assign({config:S},_)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:E})=>{var R;if(this.socket._isManualToken()||this.socket.setAuth(),E===void 0){n?.(Qn.SUBSCRIBED);return}else{const j=this.bindings.postgres_changes,A=(R=j?.length)!==null&&R!==void 0?R:0,k=[];for(let O=0;O<A;O++){const U=j[O],{filter:{event:X,schema:ee,table:te,filter:F}}=U,ie=E&&E[O];if(ie&&ie.event===X&&mr.isFilterValueEqual(ie.schema,ee)&&mr.isFilterValueEqual(ie.table,te)&&mr.isFilterValueEqual(ie.filter,F))k.push(Object.assign(Object.assign({},U),{id:ie.id}));else{this.unsubscribe(),this.state=gt.errored,n?.(Qn.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=k,n&&n(Qn.SUBSCRIBED);return}}).receive("error",E=>{this.state=gt.errored,n?.(Qn.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(E).join(", ")||"error")))}).receive("timeout",()=>{n?.(Qn.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(n,r={}){return await this.send({type:"presence",event:"track",payload:n},r.timeout||this.timeout)}async untrack(n={}){return await this.send({type:"presence",event:"untrack"},n)}on(n,r,i){return this.state===gt.joined&&n===Ai.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(n,r,i)}async httpSend(n,r,i={}){var o;if(r==null)return Promise.reject("Payload is required for httpSend()");const u={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(u.Authorization=`Bearer ${this.socket.accessTokenValue}`);const h={method:"POST",headers:u,body:JSON.stringify({messages:[{topic:this.subTopic,event:n,payload:r,private:this.private}]})},d=await this._fetchWithTimeout(this.broadcastEndpointURL,h,(o=i.timeout)!==null&&o!==void 0?o:this.timeout);if(d.status===202)return{success:!0};let p=d.statusText;try{const m=await d.json();p=m.error||m.message||p}catch{}return Promise.reject(new Error(p))}async send(n,r={}){var i,o;if(!this._canPush()&&n.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:u,payload:h}=n,d={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(d.Authorization=`Bearer ${this.socket.accessTokenValue}`);const p={method:"POST",headers:d,body:JSON.stringify({messages:[{topic:this.subTopic,event:u,payload:h,private:this.private}]})};try{const m=await this._fetchWithTimeout(this.broadcastEndpointURL,p,(i=r.timeout)!==null&&i!==void 0?i:this.timeout);return await((o=m.body)===null||o===void 0?void 0:o.cancel()),m.ok?"ok":"error"}catch(m){return m.name==="AbortError"?"timed out":"error"}}else return new Promise(u=>{var h,d,p;const m=this._push(n.type,n,r.timeout||this.timeout);n.type==="broadcast"&&!(!((p=(d=(h=this.params)===null||h===void 0?void 0:h.config)===null||d===void 0?void 0:d.broadcast)===null||p===void 0)&&p.ack)&&u("ok"),m.receive("ok",()=>u("ok")),m.receive("error",()=>u("error")),m.receive("timeout",()=>u("timed out"))})}updateJoinPayload(n){this.joinPush.updatePayload(n)}unsubscribe(n=this.timeout){this.state=gt.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(En.close,"leave",this._joinRef())};this.joinPush.destroy();let i=null;return new Promise(o=>{i=new Bh(this,En.leave,{},n),i.receive("ok",()=>{r(),o("ok")}).receive("timeout",()=>{r(),o("timed out")}).receive("error",()=>{o("error")}),i.send(),this._canPush()||i.trigger("ok",{})}).finally(()=>{i?.destroy()})}teardown(){this.pushBuffer.forEach(n=>n.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=gt.closed,this.bindings={}}async _fetchWithTimeout(n,r,i){const o=new AbortController,u=setTimeout(()=>o.abort(),i),h=await this.socket.fetch(n,Object.assign(Object.assign({},r),{signal:o.signal}));return clearTimeout(u),h}_push(n,r,i=this.timeout){if(!this.joinedOnce)throw`tried to push '${n}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let o=new Bh(this,n,r,i);return this._canPush()?o.send():this._addToPushBuffer(o),o}_addToPushBuffer(n){if(n.startTimeout(),this.pushBuffer.push(n),this.pushBuffer.length>nR){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(n,r,i){return r}_isMember(n){return this.topic===n}_joinRef(){return this.joinPush.ref}_trigger(n,r,i){var o,u;const h=n.toLocaleLowerCase(),{close:d,error:p,leave:m,join:b}=En;if(i&&[d,p,m,b].indexOf(h)>=0&&i!==this._joinRef())return;let S=this._onMessage(h,r,i);if(r&&!S)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(h)?(o=this.bindings.postgres_changes)===null||o===void 0||o.filter(E=>{var R,j,A;return((R=E.filter)===null||R===void 0?void 0:R.event)==="*"||((A=(j=E.filter)===null||j===void 0?void 0:j.event)===null||A===void 0?void 0:A.toLocaleLowerCase())===h}).map(E=>E.callback(S,i)):(u=this.bindings[h])===null||u===void 0||u.filter(E=>{var R,j,A,k,O,U;if(["broadcast","presence","postgres_changes"].includes(h))if("id"in E){const X=E.id,ee=(R=E.filter)===null||R===void 0?void 0:R.event;return X&&((j=r.ids)===null||j===void 0?void 0:j.includes(X))&&(ee==="*"||ee?.toLocaleLowerCase()===((A=r.data)===null||A===void 0?void 0:A.type.toLocaleLowerCase()))}else{const X=(O=(k=E?.filter)===null||k===void 0?void 0:k.event)===null||O===void 0?void 0:O.toLocaleLowerCase();return X==="*"||X===((U=r?.event)===null||U===void 0?void 0:U.toLocaleLowerCase())}else return E.type.toLocaleLowerCase()===h}).map(E=>{if(typeof S=="object"&&"ids"in S){const R=S.data,{schema:j,table:A,commit_timestamp:k,type:O,errors:U}=R;S=Object.assign(Object.assign({},{schema:j,table:A,commit_timestamp:k,eventType:O,new:{},old:{},errors:U}),this._getPayloadRecords(R))}E.callback(S,i)})}_isClosed(){return this.state===gt.closed}_isJoined(){return this.state===gt.joined}_isJoining(){return this.state===gt.joining}_isLeaving(){return this.state===gt.leaving}_replyEventName(n){return`chan_reply_${n}`}_on(n,r,i){const o=n.toLocaleLowerCase(),u={type:o,filter:r,callback:i};return this.bindings[o]?this.bindings[o].push(u):this.bindings[o]=[u],this}_off(n,r){const i=n.toLocaleLowerCase();return this.bindings[i]&&(this.bindings[i]=this.bindings[i].filter(o=>{var u;return!(((u=o.type)===null||u===void 0?void 0:u.toLocaleLowerCase())===i&&mr.isEqual(o.filter,r))})),this}static isEqual(n,r){if(Object.keys(n).length!==Object.keys(r).length)return!1;for(const i in n)if(n[i]!==r[i])return!1;return!0}static isFilterValueEqual(n,r){return(n??void 0)===(r??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(n){this._on(En.close,{},n)}_onError(n){this._on(En.error,{},r=>n(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(n=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=gt.joining,this.joinPush.resend(n))}_getPayloadRecords(n){const r={new:{},old:{}};return(n.type==="INSERT"||n.type==="UPDATE")&&(r.new=c0(n.columns,n.record)),(n.type==="UPDATE"||n.type==="DELETE")&&(r.old=c0(n.columns,n.old_record)),r}}const qh=()=>{},bo={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},cR=[1e3,2e3,5e3,1e4],hR=1e4,fR=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class dR{constructor(n,r){var i;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=cf,this.transport=null,this.heartbeatIntervalMs=bo.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=qh,this.ref=0,this.reconnectTimer=null,this.vsn=u0,this.logger=qh,this.conn=null,this.sendBuffer=[],this.serializer=new aR,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=o=>o?(...u)=>o(...u):(...u)=>fetch(...u),!(!((i=r?.params)===null||i===void 0)&&i.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${n}/${hf.websocket}`,this.httpEndpoint=t_(n),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=QC.createWebSocket(this.endpointURL())}catch(n){this._setConnectionState("disconnected");const r=n.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(n,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const i=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(i),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(n?this.conn.close(n,r??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(n){const r=await n.unsubscribe();return r==="ok"&&this._remove(n),this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const n=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),n}log(n,r,i){this.logger(n,r,i)}connectionState(){switch(this.conn&&this.conn.readyState){case La.connecting:return cs.Connecting;case La.open:return cs.Open;case La.closing:return cs.Closing;default:return cs.Closed}}isConnected(){return this.connectionState()===cs.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(n,r={config:{}}){const i=`realtime:${n}`,o=this.getChannels().find(u=>u.topic===i);if(o)return o;{const u=new mr(`realtime:${n}`,r,this);return this.channels.push(u),u}}push(n){const{topic:r,event:i,payload:o,ref:u}=n,h=()=>{this.encode(n,d=>{var p;(p=this.conn)===null||p===void 0||p.send(d)})};this.log("push",`${r} ${i} (${u})`,o),this.isConnected()?h():this.sendBuffer.push(h)}async setAuth(n=null){this._authPromise=this._performAuth(n);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var n;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(n=this.conn)===null||n===void 0||n.close(tR,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},bo.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(n){this.heartbeatCallback=n}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(n=>n()),this.sendBuffer=[])}_makeRef(){let n=this.ref+1;return n===this.ref?this.ref=0:this.ref=n,this.ref.toString()}_leaveOpenTopic(n){let r=this.channels.find(i=>i.topic===n&&(i._isJoined()||i._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${n}"`),r.unsubscribe())}_remove(n){this.channels=this.channels.filter(r=>r.topic!==n.topic)}_onConnMessage(n){this.decode(n.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply"&&r.ref&&r.ref===this.pendingHeartbeatRef){const m=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error",m)}catch(b){this.log("error","error in heartbeat callback",b)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:i,event:o,payload:u,ref:h}=r,d=h?`(${h})`:"",p=u.status||"";this.log("receive",`${p} ${i} ${o} ${d}`.trim(),u),this.channels.filter(m=>m._isMember(i)).forEach(m=>m._trigger(o,u,h)),this._triggerStateCallbacks("message",r)})}_clearTimer(n){var r;n==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):n==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=n=>this._onConnError(n),this.conn.onmessage=n=>this._onConnMessage(n),this.conn.onclose=n=>this._onConnClose(n),this.conn.readyState===La.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===La.open||this.conn.readyState===La.connecting)try{this.conn.close()}catch(n){this.log("error","Error closing connection",n)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(n=>n.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(r=>{this.log("error","error waiting for auth on connect",r),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const n=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(n),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this._terminateWorker()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(n){var r;this._setConnectionState("disconnected"),this.log("transport","close",n),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",n)}_onConnError(n){this._setConnectionState("disconnected"),this.log("transport",`${n}`),this._triggerChanError(),this._triggerStateCallbacks("error",n);try{this.heartbeatCallback("error")}catch(r){this.log("error","error in heartbeat callback",r)}}_triggerChanError(){this.channels.forEach(n=>n._trigger(En.error))}_appendParams(n,r){if(Object.keys(r).length===0)return n;const i=n.match(/\?/)?"&":"?",o=new URLSearchParams(r);return`${n}${i}${o}`}_workerObjectUrl(n){let r;if(n)r=n;else{const i=new Blob([fR],{type:"application/javascript"});r=URL.createObjectURL(i)}return r}_setConnectionState(n,r=!1){this._connectionState=n,n==="connecting"?this._wasManualDisconnect=!1:n==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(n=null){let r,i=!1;if(n)r=n,i=!0;else if(this.accessToken)try{r=await this.accessToken()}catch(o){this.log("error","Error fetching access token from callback",o),r=this.accessTokenValue}else r=this.accessTokenValue;i?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(o=>{const u={access_token:r,version:WC};r&&o.updateJoinPayload(u),o.joinedOnce&&o._isJoined()&&o._push(En.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(n="general"){this._isManualToken()||this.setAuth().catch(r=>{this.log("error",`Error setting auth in ${n}`,r)})}_triggerStateCallbacks(n,r){try{this.stateChangeCallbacks[n].forEach(i=>{try{i(r)}catch(o){this.log("error",`error in ${n} callback`,o)}})}catch(i){this.log("error",`error triggering ${n} callbacks`,i)}}_setupReconnectionTimer(){this.reconnectTimer=new Wb(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},bo.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(n){var r,i,o,u,h,d,p,m,b,_,S,E;switch(this.transport=(r=n?.transport)!==null&&r!==void 0?r:null,this.timeout=(i=n?.timeout)!==null&&i!==void 0?i:cf,this.heartbeatIntervalMs=(o=n?.heartbeatIntervalMs)!==null&&o!==void 0?o:bo.HEARTBEAT_INTERVAL,this.worker=(u=n?.worker)!==null&&u!==void 0?u:!1,this.accessToken=(h=n?.accessToken)!==null&&h!==void 0?h:null,this.heartbeatCallback=(d=n?.heartbeatCallback)!==null&&d!==void 0?d:qh,this.vsn=(p=n?.vsn)!==null&&p!==void 0?p:u0,n?.params&&(this.params=n.params),n?.logger&&(this.logger=n.logger),(n?.logLevel||n?.log_level)&&(this.logLevel=n.logLevel||n.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(m=n?.reconnectAfterMs)!==null&&m!==void 0?m:(R=>cR[R-1]||hR),this.vsn){case eR:this.encode=(b=n?.encode)!==null&&b!==void 0?b:((R,j)=>j(JSON.stringify(R))),this.decode=(_=n?.decode)!==null&&_!==void 0?_:((R,j)=>j(JSON.parse(R)));break;case Xb:this.encode=(S=n?.encode)!==null&&S!==void 0?S:this.serializer.encode.bind(this.serializer),this.decode=(E=n?.decode)!==null&&E!==void 0?E:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=n?.workerUrl}}}var Ni=class extends Error{constructor(a,n){super(a),this.name="IcebergError",this.status=n.status,this.icebergType=n.icebergType,this.icebergCode=n.icebergCode,this.details=n.details,this.isCommitStateUnknown=n.icebergType==="CommitStateUnknownException"||[500,502,504].includes(n.status)&&n.icebergType?.includes("CommitState")===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function pR(a,n,r){const i=new URL(n,a);if(r)for(const[o,u]of Object.entries(r))u!==void 0&&i.searchParams.set(o,u);return i.toString()}async function mR(a){return!a||a.type==="none"?{}:a.type==="bearer"?{Authorization:`Bearer ${a.token}`}:a.type==="header"?{[a.name]:a.value}:a.type==="custom"?await a.getHeaders():{}}function gR(a){const n=a.fetchImpl??globalThis.fetch;return{async request({method:r,path:i,query:o,body:u,headers:h}){const d=pR(a.baseUrl,i,o),p=await mR(a.auth),m=await n(d,{method:r,headers:{...u?{"Content-Type":"application/json"}:{},...p,...h},body:u?JSON.stringify(u):void 0}),b=await m.text(),_=(m.headers.get("content-type")||"").includes("application/json"),S=_&&b?JSON.parse(b):b;if(!m.ok){const E=_?S:void 0,R=E?.error;throw new Ni(R?.message??`Request failed with status ${m.status}`,{status:m.status,icebergType:R?.type,icebergCode:R?.code,details:E})}return{status:m.status,headers:m.headers,data:S}}}}function _o(a){return a.join("")}var yR=class{constructor(a,n=""){this.client=a,this.prefix=n}async listNamespaces(a){const n=a?{parent:_o(a.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:n})).data.namespaces.map(i=>({namespace:i}))}async createNamespace(a,n){const r={namespace:a.namespace,properties:n?.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:r})).data}async dropNamespace(a){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${_o(a.namespace)}`})}async loadNamespaceMetadata(a){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${_o(a.namespace)}`})).data.properties}}async namespaceExists(a){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${_o(a.namespace)}`}),!0}catch(n){if(n instanceof Ni&&n.status===404)return!1;throw n}}async createNamespaceIfNotExists(a,n){try{return await this.createNamespace(a,n)}catch(r){if(r instanceof Ni&&r.status===409)return;throw r}}};function sr(a){return a.join("")}var vR=class{constructor(a,n="",r){this.client=a,this.prefix=n,this.accessDelegation=r}async listTables(a){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${sr(a.namespace)}/tables`})).data.identifiers}async createTable(a,n){const r={};return this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${sr(a.namespace)}/tables`,body:n,headers:r})).data.metadata}async updateTable(a,n){const r=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${sr(a.namespace)}/tables/${a.name}`,body:n});return{"metadata-location":r.data["metadata-location"],metadata:r.data.metadata}}async dropTable(a,n){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${sr(a.namespace)}/tables/${a.name}`,query:{purgeRequested:String(n?.purge??!1)}})}async loadTable(a){const n={};return this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${sr(a.namespace)}/tables/${a.name}`,headers:n})).data.metadata}async tableExists(a){const n={};this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${sr(a.namespace)}/tables/${a.name}`,headers:n}),!0}catch(r){if(r instanceof Ni&&r.status===404)return!1;throw r}}async createTableIfNotExists(a,n){try{return await this.createTable(a,n)}catch(r){if(r instanceof Ni&&r.status===409)return await this.loadTable({namespace:a.namespace,name:n.name});throw r}}},bR=class{constructor(a){let n="v1";a.catalogName&&(n+=`/${a.catalogName}`);const r=a.baseUrl.endsWith("/")?a.baseUrl:`${a.baseUrl}/`;this.client=gR({baseUrl:r,auth:a.auth,fetchImpl:a.fetch}),this.accessDelegation=a.accessDelegation?.join(","),this.namespaceOps=new yR(this.client,n),this.tableOps=new vR(this.client,n,this.accessDelegation)}async listNamespaces(a){return this.namespaceOps.listNamespaces(a)}async createNamespace(a,n){return this.namespaceOps.createNamespace(a,n)}async dropNamespace(a){await this.namespaceOps.dropNamespace(a)}async loadNamespaceMetadata(a){return this.namespaceOps.loadNamespaceMetadata(a)}async listTables(a){return this.tableOps.listTables(a)}async createTable(a,n){return this.tableOps.createTable(a,n)}async updateTable(a,n){return this.tableOps.updateTable(a,n)}async dropTable(a,n){await this.tableOps.dropTable(a,n)}async loadTable(a){return this.tableOps.loadTable(a)}async namespaceExists(a){return this.namespaceOps.namespaceExists(a)}async tableExists(a){return this.tableOps.tableExists(a)}async createNamespaceIfNotExists(a,n){return this.namespaceOps.createNamespaceIfNotExists(a,n)}async createTableIfNotExists(a,n){return this.tableOps.createTableIfNotExists(a,n)}},Xo=class extends Error{constructor(a,n="storage",r,i){super(a),this.__isStorageError=!0,this.namespace=n,this.name=n==="vectors"?"StorageVectorsError":"StorageError",this.status=r,this.statusCode=i}};function Wo(a){return typeof a=="object"&&a!==null&&"__isStorageError"in a}var wo=class extends Xo{constructor(a,n,r,i="storage"){super(a,i,n,r),this.name=i==="vectors"?"StorageVectorsApiError":"StorageApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},n_=class extends Xo{constructor(a,n,r="storage"){super(a,r),this.name=r==="vectors"?"StorageVectorsUnknownError":"StorageUnknownError",this.originalError=n}};const _R=a=>a?(...n)=>a(...n):(...n)=>fetch(...n),wR=a=>{if(typeof a!="object"||a===null)return!1;const n=Object.getPrototypeOf(a);return(n===null||n===Object.prototype||Object.getPrototypeOf(n)===null)&&!(Symbol.toStringTag in a)&&!(Symbol.iterator in a)},df=a=>{if(Array.isArray(a))return a.map(r=>df(r));if(typeof a=="function"||a!==Object(a))return a;const n={};return Object.entries(a).forEach(([r,i])=>{const o=r.replace(/([-_][a-z])/gi,u=>u.toUpperCase().replace(/[-_]/g,""));n[o]=df(i)}),n},xR=a=>!a||typeof a!="string"||a.length===0||a.length>100||a.trim()!==a||a.includes("/")||a.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(a);function ki(a){"@babel/helpers - typeof";return ki=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},ki(a)}function SR(a,n){if(ki(a)!="object"||!a)return a;var r=a[Symbol.toPrimitive];if(r!==void 0){var i=r.call(a,n);if(ki(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(a)}function ER(a){var n=SR(a,"string");return ki(n)=="symbol"?n:n+""}function TR(a,n,r){return(n=ER(n))in a?Object.defineProperty(a,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):a[n]=r,a}function d0(a,n){var r=Object.keys(a);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(a);n&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(a,o).enumerable})),r.push.apply(r,i)}return r}function ve(a){for(var n=1;n<arguments.length;n++){var r=arguments[n]!=null?arguments[n]:{};n%2?d0(Object(r),!0).forEach(function(i){TR(a,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(r)):d0(Object(r)).forEach(function(i){Object.defineProperty(a,i,Object.getOwnPropertyDescriptor(r,i))})}return a}const p0=a=>{var n;return a.msg||a.message||a.error_description||(typeof a.error=="string"?a.error:(n=a.error)===null||n===void 0?void 0:n.message)||JSON.stringify(a)},AR=async(a,n,r,i)=>{if(a&&typeof a=="object"&&"status"in a&&"ok"in a&&typeof a.status=="number"&&!r?.noResolveJson){const o=a,u=o.status||500;if(typeof o.json=="function")o.json().then(h=>{const d=h?.statusCode||h?.code||u+"";n(new wo(p0(h),u,d,i))}).catch(()=>{if(i==="vectors"){const h=u+"";n(new wo(o.statusText||`HTTP ${u} error`,u,h,i))}else{const h=u+"";n(new wo(o.statusText||`HTTP ${u} error`,u,h,i))}});else{const h=u+"";n(new wo(o.statusText||`HTTP ${u} error`,u,h,i))}}else n(new n_(p0(a),a,i))},CR=(a,n,r,i)=>{const o={method:a,headers:n?.headers||{}};return a==="GET"||a==="HEAD"||!i?ve(ve({},o),r):(wR(i)?(o.headers=ve({"Content-Type":"application/json"},n?.headers),o.body=JSON.stringify(i)):o.body=i,n?.duplex&&(o.duplex=n.duplex),ve(ve({},o),r))};async function _i(a,n,r,i,o,u,h){return new Promise((d,p)=>{a(r,CR(n,i,o,u)).then(m=>{if(!m.ok)throw m;if(i?.noResolveJson)return m;if(h==="vectors"){const b=m.headers.get("content-type");if(m.headers.get("content-length")==="0"||m.status===204)return{};if(!b||!b.includes("application/json"))return{}}return m.json()}).then(m=>d(m)).catch(m=>AR(m,p,i,h))})}function a_(a="storage"){return{get:async(n,r,i,o)=>_i(n,"GET",r,i,o,void 0,a),post:async(n,r,i,o,u)=>_i(n,"POST",r,o,u,i,a),put:async(n,r,i,o,u)=>_i(n,"PUT",r,o,u,i,a),head:async(n,r,i,o)=>_i(n,"HEAD",r,ve(ve({},i),{},{noResolveJson:!0}),o,void 0,a),remove:async(n,r,i,o,u)=>_i(n,"DELETE",r,o,u,i,a)}}const RR=a_("storage"),{get:Li,post:Sn,put:pf,head:jR,remove:vd}=RR,nn=a_("vectors");var Sr=class{constructor(a,n={},r,i="storage"){this.shouldThrowOnError=!1,this.url=a,this.headers=n,this.fetch=_R(r),this.namespace=i}throwOnError(){return this.shouldThrowOnError=!0,this}async handleOperation(a){var n=this;try{return{data:await a(),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(Wo(r))return{data:null,error:r};throw r}}},OR=class{constructor(a,n){this.downloadFn=a,this.shouldThrowOnError=n}then(a,n){return this.execute().then(a,n)}async execute(){var a=this;try{return{data:(await a.downloadFn()).body,error:null}}catch(n){if(a.shouldThrowOnError)throw n;if(Wo(n))return{data:null,error:n};throw n}}};let s_;s_=Symbol.toStringTag;var NR=class{constructor(a,n){this.downloadFn=a,this.shouldThrowOnError=n,this[s_]="BlobDownloadBuilder",this.promise=null}asStream(){return new OR(this.downloadFn,this.shouldThrowOnError)}then(a,n){return this.getPromise().then(a,n)}catch(a){return this.getPromise().catch(a)}finally(a){return this.getPromise().finally(a)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var a=this;try{return{data:await(await a.downloadFn()).blob(),error:null}}catch(n){if(a.shouldThrowOnError)throw n;if(Wo(n))return{data:null,error:n};throw n}}};const kR={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},m0={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var LR=class extends Sr{constructor(a,n={},r,i){super(a,n,i,"storage"),this.bucketId=r}async uploadOrUpdate(a,n,r,i){var o=this;return o.handleOperation(async()=>{let u;const h=ve(ve({},m0),i);let d=ve(ve({},o.headers),a==="POST"&&{"x-upsert":String(h.upsert)});const p=h.metadata;typeof Blob<"u"&&r instanceof Blob?(u=new FormData,u.append("cacheControl",h.cacheControl),p&&u.append("metadata",o.encodeMetadata(p)),u.append("",r)):typeof FormData<"u"&&r instanceof FormData?(u=r,u.has("cacheControl")||u.append("cacheControl",h.cacheControl),p&&!u.has("metadata")&&u.append("metadata",o.encodeMetadata(p))):(u=r,d["cache-control"]=`max-age=${h.cacheControl}`,d["content-type"]=h.contentType,p&&(d["x-metadata"]=o.toBase64(o.encodeMetadata(p))),(typeof ReadableStream<"u"&&u instanceof ReadableStream||u&&typeof u=="object"&&"pipe"in u&&typeof u.pipe=="function")&&!h.duplex&&(h.duplex="half")),i?.headers&&(d=ve(ve({},d),i.headers));const m=o._removeEmptyFolders(n),b=o._getFinalPath(m),_=await(a=="PUT"?pf:Sn)(o.fetch,`${o.url}/object/${b}`,u,ve({headers:d},h?.duplex?{duplex:h.duplex}:{}));return{path:m,id:_.Id,fullPath:_.Key}})}async upload(a,n,r){return this.uploadOrUpdate("POST",a,n,r)}async uploadToSignedUrl(a,n,r,i){var o=this;const u=o._removeEmptyFolders(a),h=o._getFinalPath(u),d=new URL(o.url+`/object/upload/sign/${h}`);return d.searchParams.set("token",n),o.handleOperation(async()=>{let p;const m=ve({upsert:m0.upsert},i),b=ve(ve({},o.headers),{"x-upsert":String(m.upsert)});return typeof Blob<"u"&&r instanceof Blob?(p=new FormData,p.append("cacheControl",m.cacheControl),p.append("",r)):typeof FormData<"u"&&r instanceof FormData?(p=r,p.append("cacheControl",m.cacheControl)):(p=r,b["cache-control"]=`max-age=${m.cacheControl}`,b["content-type"]=m.contentType),{path:u,fullPath:(await pf(o.fetch,d.toString(),p,{headers:b})).Key}})}async createSignedUploadUrl(a,n){var r=this;return r.handleOperation(async()=>{let i=r._getFinalPath(a);const o=ve({},r.headers);n?.upsert&&(o["x-upsert"]="true");const u=await Sn(r.fetch,`${r.url}/object/upload/sign/${i}`,{},{headers:o}),h=new URL(r.url+u.url),d=h.searchParams.get("token");if(!d)throw new Xo("No token returned by API");return{signedUrl:h.toString(),path:a,token:d}})}async update(a,n,r){return this.uploadOrUpdate("PUT",a,n,r)}async move(a,n,r){var i=this;return i.handleOperation(async()=>await Sn(i.fetch,`${i.url}/object/move`,{bucketId:i.bucketId,sourceKey:a,destinationKey:n,destinationBucket:r?.destinationBucket},{headers:i.headers}))}async copy(a,n,r){var i=this;return i.handleOperation(async()=>({path:(await Sn(i.fetch,`${i.url}/object/copy`,{bucketId:i.bucketId,sourceKey:a,destinationKey:n,destinationBucket:r?.destinationBucket},{headers:i.headers})).Key}))}async createSignedUrl(a,n,r){var i=this;return i.handleOperation(async()=>{let o=i._getFinalPath(a),u=await Sn(i.fetch,`${i.url}/object/sign/${o}`,ve({expiresIn:n},r?.transform?{transform:r.transform}:{}),{headers:i.headers});const h=r?.download?`&download=${r.download===!0?"":r.download}`:"";return{signedUrl:encodeURI(`${i.url}${u.signedURL}${h}`)}})}async createSignedUrls(a,n,r){var i=this;return i.handleOperation(async()=>{const o=await Sn(i.fetch,`${i.url}/object/sign/${i.bucketId}`,{expiresIn:n,paths:a},{headers:i.headers}),u=r?.download?`&download=${r.download===!0?"":r.download}`:"";return o.map(h=>ve(ve({},h),{},{signedUrl:h.signedURL?encodeURI(`${i.url}${h.signedURL}${u}`):null}))})}download(a,n,r){const i=typeof n?.transform<"u"?"render/image/authenticated":"object",o=this.transformOptsToQueryString(n?.transform||{}),u=o?`?${o}`:"",h=this._getFinalPath(a),d=()=>Li(this.fetch,`${this.url}/${i}/${h}${u}`,{headers:this.headers,noResolveJson:!0},r);return new NR(d,this.shouldThrowOnError)}async info(a){var n=this;const r=n._getFinalPath(a);return n.handleOperation(async()=>df(await Li(n.fetch,`${n.url}/object/info/${r}`,{headers:n.headers})))}async exists(a){var n=this;const r=n._getFinalPath(a);try{return await jR(n.fetch,`${n.url}/object/${r}`,{headers:n.headers}),{data:!0,error:null}}catch(i){if(n.shouldThrowOnError)throw i;if(Wo(i)&&i instanceof n_){const o=i.originalError;if([400,404].includes(o?.status))return{data:!1,error:i}}throw i}}getPublicUrl(a,n){const r=this._getFinalPath(a),i=[],o=n?.download?`download=${n.download===!0?"":n.download}`:"";o!==""&&i.push(o);const u=typeof n?.transform<"u"?"render/image":"object",h=this.transformOptsToQueryString(n?.transform||{});h!==""&&i.push(h);let d=i.join("&");return d!==""&&(d=`?${d}`),{data:{publicUrl:encodeURI(`${this.url}/${u}/public/${r}${d}`)}}}async remove(a){var n=this;return n.handleOperation(async()=>await vd(n.fetch,`${n.url}/object/${n.bucketId}`,{prefixes:a},{headers:n.headers}))}async list(a,n,r){var i=this;return i.handleOperation(async()=>{const o=ve(ve(ve({},kR),n),{},{prefix:a||""});return await Sn(i.fetch,`${i.url}/object/list/${i.bucketId}`,o,{headers:i.headers},r)})}async listV2(a,n){var r=this;return r.handleOperation(async()=>{const i=ve({},a);return await Sn(r.fetch,`${r.url}/object/list-v2/${r.bucketId}`,i,{headers:r.headers},n)})}encodeMetadata(a){return JSON.stringify(a)}toBase64(a){return typeof Buffer<"u"?Buffer.from(a).toString("base64"):btoa(a)}_getFinalPath(a){return`${this.bucketId}/${a.replace(/^\/+/,"")}`}_removeEmptyFolders(a){return a.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(a){const n=[];return a.width&&n.push(`width=${a.width}`),a.height&&n.push(`height=${a.height}`),a.resize&&n.push(`resize=${a.resize}`),a.format&&n.push(`format=${a.format}`),a.quality&&n.push(`quality=${a.quality}`),n.join("&")}};const DR="2.95.3",Zi={"X-Client-Info":`storage-js/${DR}`};var MR=class extends Sr{constructor(a,n={},r,i){const o=new URL(a);i?.useNewHostname&&/supabase\.(co|in|red)$/.test(o.hostname)&&!o.hostname.includes("storage.supabase.")&&(o.hostname=o.hostname.replace("supabase.","storage.supabase."));const u=o.href.replace(/\/$/,""),h=ve(ve({},Zi),n);super(u,h,r,"storage")}async listBuckets(a){var n=this;return n.handleOperation(async()=>{const r=n.listBucketOptionsToQueryString(a);return await Li(n.fetch,`${n.url}/bucket${r}`,{headers:n.headers})})}async getBucket(a){var n=this;return n.handleOperation(async()=>await Li(n.fetch,`${n.url}/bucket/${a}`,{headers:n.headers}))}async createBucket(a,n={public:!1}){var r=this;return r.handleOperation(async()=>await Sn(r.fetch,`${r.url}/bucket`,{id:a,name:a,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:r.headers}))}async updateBucket(a,n){var r=this;return r.handleOperation(async()=>await pf(r.fetch,`${r.url}/bucket/${a}`,{id:a,name:a,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:r.headers}))}async emptyBucket(a){var n=this;return n.handleOperation(async()=>await Sn(n.fetch,`${n.url}/bucket/${a}/empty`,{},{headers:n.headers}))}async deleteBucket(a){var n=this;return n.handleOperation(async()=>await vd(n.fetch,`${n.url}/bucket/${a}`,{},{headers:n.headers}))}listBucketOptionsToQueryString(a){const n={};return a&&("limit"in a&&(n.limit=String(a.limit)),"offset"in a&&(n.offset=String(a.offset)),a.search&&(n.search=a.search),a.sortColumn&&(n.sortColumn=a.sortColumn),a.sortOrder&&(n.sortOrder=a.sortOrder)),Object.keys(n).length>0?"?"+new URLSearchParams(n).toString():""}},UR=class extends Sr{constructor(a,n={},r){const i=a.replace(/\/$/,""),o=ve(ve({},Zi),n);super(i,o,r,"storage")}async createBucket(a){var n=this;return n.handleOperation(async()=>await Sn(n.fetch,`${n.url}/bucket`,{name:a},{headers:n.headers}))}async listBuckets(a){var n=this;return n.handleOperation(async()=>{const r=new URLSearchParams;a?.limit!==void 0&&r.set("limit",a.limit.toString()),a?.offset!==void 0&&r.set("offset",a.offset.toString()),a?.sortColumn&&r.set("sortColumn",a.sortColumn),a?.sortOrder&&r.set("sortOrder",a.sortOrder),a?.search&&r.set("search",a.search);const i=r.toString(),o=i?`${n.url}/bucket?${i}`:`${n.url}/bucket`;return await Li(n.fetch,o,{headers:n.headers})})}async deleteBucket(a){var n=this;return n.handleOperation(async()=>await vd(n.fetch,`${n.url}/bucket/${a}`,{},{headers:n.headers}))}from(a){var n=this;if(!xR(a))throw new Xo("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const r=new bR({baseUrl:this.url,catalogName:a,auth:{type:"custom",getHeaders:async()=>n.headers},fetch:this.fetch}),i=this.shouldThrowOnError;return new Proxy(r,{get(o,u){const h=o[u];return typeof h!="function"?h:async(...d)=>{try{return{data:await h.apply(o,d),error:null}}catch(p){if(i)throw p;return{data:null,error:p}}}}})}},BR=class extends Sr{constructor(a,n={},r){const i=a.replace(/\/$/,""),o=ve(ve({},Zi),{},{"Content-Type":"application/json"},n);super(i,o,r,"vectors")}async createIndex(a){var n=this;return n.handleOperation(async()=>await nn.post(n.fetch,`${n.url}/CreateIndex`,a,{headers:n.headers})||{})}async getIndex(a,n){var r=this;return r.handleOperation(async()=>await nn.post(r.fetch,`${r.url}/GetIndex`,{vectorBucketName:a,indexName:n},{headers:r.headers}))}async listIndexes(a){var n=this;return n.handleOperation(async()=>await nn.post(n.fetch,`${n.url}/ListIndexes`,a,{headers:n.headers}))}async deleteIndex(a,n){var r=this;return r.handleOperation(async()=>await nn.post(r.fetch,`${r.url}/DeleteIndex`,{vectorBucketName:a,indexName:n},{headers:r.headers})||{})}},qR=class extends Sr{constructor(a,n={},r){const i=a.replace(/\/$/,""),o=ve(ve({},Zi),{},{"Content-Type":"application/json"},n);super(i,o,r,"vectors")}async putVectors(a){var n=this;if(a.vectors.length<1||a.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return n.handleOperation(async()=>await nn.post(n.fetch,`${n.url}/PutVectors`,a,{headers:n.headers})||{})}async getVectors(a){var n=this;return n.handleOperation(async()=>await nn.post(n.fetch,`${n.url}/GetVectors`,a,{headers:n.headers}))}async listVectors(a){var n=this;if(a.segmentCount!==void 0){if(a.segmentCount<1||a.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(a.segmentIndex!==void 0&&(a.segmentIndex<0||a.segmentIndex>=a.segmentCount))throw new Error(`segmentIndex must be between 0 and ${a.segmentCount-1}`)}return n.handleOperation(async()=>await nn.post(n.fetch,`${n.url}/ListVectors`,a,{headers:n.headers}))}async queryVectors(a){var n=this;return n.handleOperation(async()=>await nn.post(n.fetch,`${n.url}/QueryVectors`,a,{headers:n.headers}))}async deleteVectors(a){var n=this;if(a.keys.length<1||a.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return n.handleOperation(async()=>await nn.post(n.fetch,`${n.url}/DeleteVectors`,a,{headers:n.headers})||{})}},$R=class extends Sr{constructor(a,n={},r){const i=a.replace(/\/$/,""),o=ve(ve({},Zi),{},{"Content-Type":"application/json"},n);super(i,o,r,"vectors")}async createBucket(a){var n=this;return n.handleOperation(async()=>await nn.post(n.fetch,`${n.url}/CreateVectorBucket`,{vectorBucketName:a},{headers:n.headers})||{})}async getBucket(a){var n=this;return n.handleOperation(async()=>await nn.post(n.fetch,`${n.url}/GetVectorBucket`,{vectorBucketName:a},{headers:n.headers}))}async listBuckets(a={}){var n=this;return n.handleOperation(async()=>await nn.post(n.fetch,`${n.url}/ListVectorBuckets`,a,{headers:n.headers}))}async deleteBucket(a){var n=this;return n.handleOperation(async()=>await nn.post(n.fetch,`${n.url}/DeleteVectorBucket`,{vectorBucketName:a},{headers:n.headers})||{})}},zR=class extends $R{constructor(a,n={}){super(a,n.headers||{},n.fetch)}from(a){return new HR(this.url,this.headers,a,this.fetch)}async createBucket(a){var n=()=>super.createBucket,r=this;return n().call(r,a)}async getBucket(a){var n=()=>super.getBucket,r=this;return n().call(r,a)}async listBuckets(a={}){var n=()=>super.listBuckets,r=this;return n().call(r,a)}async deleteBucket(a){var n=()=>super.deleteBucket,r=this;return n().call(r,a)}},HR=class extends BR{constructor(a,n,r,i){super(a,n,i),this.vectorBucketName=r}async createIndex(a){var n=()=>super.createIndex,r=this;return n().call(r,ve(ve({},a),{},{vectorBucketName:r.vectorBucketName}))}async listIndexes(a={}){var n=()=>super.listIndexes,r=this;return n().call(r,ve(ve({},a),{},{vectorBucketName:r.vectorBucketName}))}async getIndex(a){var n=()=>super.getIndex,r=this;return n().call(r,r.vectorBucketName,a)}async deleteIndex(a){var n=()=>super.deleteIndex,r=this;return n().call(r,r.vectorBucketName,a)}index(a){return new IR(this.url,this.headers,this.vectorBucketName,a,this.fetch)}},IR=class extends qR{constructor(a,n,r,i,o){super(a,n,o),this.vectorBucketName=r,this.indexName=i}async putVectors(a){var n=()=>super.putVectors,r=this;return n().call(r,ve(ve({},a),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async getVectors(a){var n=()=>super.getVectors,r=this;return n().call(r,ve(ve({},a),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async listVectors(a={}){var n=()=>super.listVectors,r=this;return n().call(r,ve(ve({},a),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async queryVectors(a){var n=()=>super.queryVectors,r=this;return n().call(r,ve(ve({},a),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async deleteVectors(a){var n=()=>super.deleteVectors,r=this;return n().call(r,ve(ve({},a),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}},VR=class extends MR{constructor(a,n={},r,i){super(a,n,r,i)}from(a){return new LR(this.url,this.headers,a,this.fetch)}get vectors(){return new zR(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new UR(this.url+"/iceberg",this.headers,this.fetch)}};const r_="2.95.3",fr=30*1e3,mf=3,$h=mf*fr,FR="http://localhost:9999",PR="supabase.auth.token",GR={"X-Client-Info":`gotrue-js/${r_}`},gf="X-Supabase-Api-Version",i_={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},YR=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,KR=600*1e3;class Di extends Error{constructor(n,r,i){super(n),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=i}}function he(a){return typeof a=="object"&&a!==null&&"__isAuthError"in a}class JR extends Di{constructor(n,r,i){super(n,r,i),this.name="AuthApiError",this.status=r,this.code=i}}function ZR(a){return he(a)&&a.name==="AuthApiError"}class hs extends Di{constructor(n,r){super(n),this.name="AuthUnknownError",this.originalError=r}}class la extends Di{constructor(n,r,i,o){super(n,i,o),this.name=r,this.status=i}}class tn extends la{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function zh(a){return he(a)&&a.name==="AuthSessionMissingError"}class rr extends la{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class xo extends la{constructor(n){super(n,"AuthInvalidCredentialsError",400,void 0)}}class So extends la{constructor(n,r=null){super(n,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function QR(a){return he(a)&&a.name==="AuthImplicitGrantRedirectError"}class g0 extends la{constructor(n,r=null){super(n,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class XR extends la{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class yf extends la{constructor(n,r){super(n,"AuthRetryableFetchError",r,void 0)}}function Hh(a){return he(a)&&a.name==="AuthRetryableFetchError"}class y0 extends la{constructor(n,r,i){super(n,"AuthWeakPasswordError",r,"weak_password"),this.reasons=i}}class vf extends la{constructor(n){super(n,"AuthInvalidJwtError",400,"invalid_jwt")}}const Lo="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),v0=` 	
\r=`.split(""),WR=(()=>{const a=new Array(128);for(let n=0;n<a.length;n+=1)a[n]=-1;for(let n=0;n<v0.length;n+=1)a[v0[n].charCodeAt(0)]=-2;for(let n=0;n<Lo.length;n+=1)a[Lo[n].charCodeAt(0)]=n;return a})();function b0(a,n,r){if(a!==null)for(n.queue=n.queue<<8|a,n.queuedBits+=8;n.queuedBits>=6;){const i=n.queue>>n.queuedBits-6&63;r(Lo[i]),n.queuedBits-=6}else if(n.queuedBits>0)for(n.queue=n.queue<<6-n.queuedBits,n.queuedBits=6;n.queuedBits>=6;){const i=n.queue>>n.queuedBits-6&63;r(Lo[i]),n.queuedBits-=6}}function l_(a,n,r){const i=WR[a];if(i>-1)for(n.queue=n.queue<<6|i,n.queuedBits+=6;n.queuedBits>=8;)r(n.queue>>n.queuedBits-8&255),n.queuedBits-=8;else{if(i===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(a)}"`)}}function _0(a){const n=[],r=h=>{n.push(String.fromCodePoint(h))},i={utf8seq:0,codepoint:0},o={queue:0,queuedBits:0},u=h=>{nj(h,i,r)};for(let h=0;h<a.length;h+=1)l_(a.charCodeAt(h),o,u);return n.join("")}function ej(a,n){if(a<=127){n(a);return}else if(a<=2047){n(192|a>>6),n(128|a&63);return}else if(a<=65535){n(224|a>>12),n(128|a>>6&63),n(128|a&63);return}else if(a<=1114111){n(240|a>>18),n(128|a>>12&63),n(128|a>>6&63),n(128|a&63);return}throw new Error(`Unrecognized Unicode codepoint: ${a.toString(16)}`)}function tj(a,n){for(let r=0;r<a.length;r+=1){let i=a.charCodeAt(r);if(i>55295&&i<=56319){const o=(i-55296)*1024&65535;i=(a.charCodeAt(r+1)-56320&65535|o)+65536,r+=1}ej(i,n)}}function nj(a,n,r){if(n.utf8seq===0){if(a<=127){r(a);return}for(let i=1;i<6;i+=1)if((a>>7-i&1)===0){n.utf8seq=i;break}if(n.utf8seq===2)n.codepoint=a&31;else if(n.utf8seq===3)n.codepoint=a&15;else if(n.utf8seq===4)n.codepoint=a&7;else throw new Error("Invalid UTF-8 sequence");n.utf8seq-=1}else if(n.utf8seq>0){if(a<=127)throw new Error("Invalid UTF-8 sequence");n.codepoint=n.codepoint<<6|a&63,n.utf8seq-=1,n.utf8seq===0&&r(n.codepoint)}}function gr(a){const n=[],r={queue:0,queuedBits:0},i=o=>{n.push(o)};for(let o=0;o<a.length;o+=1)l_(a.charCodeAt(o),r,i);return new Uint8Array(n)}function aj(a){const n=[];return tj(a,r=>n.push(r)),new Uint8Array(n)}function ds(a){const n=[],r={queue:0,queuedBits:0},i=o=>{n.push(o)};return a.forEach(o=>b0(o,r,i)),b0(null,r,i),n.join("")}function sj(a){return Math.round(Date.now()/1e3)+a}function rj(){return Symbol("auth-callback")}const Ct=()=>typeof window<"u"&&typeof document<"u",ls={tested:!1,writable:!1},o_=()=>{if(!Ct())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(ls.tested)return ls.writable;const a=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(a,a),globalThis.localStorage.removeItem(a),ls.tested=!0,ls.writable=!0}catch{ls.tested=!0,ls.writable=!1}return ls.writable};function ij(a){const n={},r=new URL(a);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((o,u)=>{n[u]=o})}catch{}return r.searchParams.forEach((i,o)=>{n[o]=i}),n}const u_=a=>a?(...n)=>a(...n):(...n)=>fetch(...n),lj=a=>typeof a=="object"&&a!==null&&"status"in a&&"ok"in a&&"json"in a&&typeof a.json=="function",dr=async(a,n,r)=>{await a.setItem(n,JSON.stringify(r))},os=async(a,n)=>{const r=await a.getItem(n);if(!r)return null;try{return JSON.parse(r)}catch{return r}},At=async(a,n)=>{await a.removeItem(n)};class eu{constructor(){this.promise=new eu.promiseConstructor((n,r)=>{this.resolve=n,this.reject=r})}}eu.promiseConstructor=Promise;function Eo(a){const n=a.split(".");if(n.length!==3)throw new vf("Invalid JWT structure");for(let i=0;i<n.length;i++)if(!YR.test(n[i]))throw new vf("JWT not in base64url format");return{header:JSON.parse(_0(n[0])),payload:JSON.parse(_0(n[1])),signature:gr(n[2]),raw:{header:n[0],payload:n[1]}}}async function oj(a){return await new Promise(n=>{setTimeout(()=>n(null),a)})}function uj(a,n){return new Promise((i,o)=>{(async()=>{for(let u=0;u<1/0;u++)try{const h=await a(u);if(!n(u,null,h)){i(h);return}}catch(h){if(!n(u,h)){o(h);return}}})()})}function cj(a){return("0"+a.toString(16)).substr(-2)}function hj(){const n=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",i=r.length;let o="";for(let u=0;u<56;u++)o+=r.charAt(Math.floor(Math.random()*i));return o}return crypto.getRandomValues(n),Array.from(n,cj).join("")}async function fj(a){const r=new TextEncoder().encode(a),i=await crypto.subtle.digest("SHA-256",r),o=new Uint8Array(i);return Array.from(o).map(u=>String.fromCharCode(u)).join("")}async function dj(a){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),a;const r=await fj(a);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function ir(a,n,r=!1){const i=hj();let o=i;r&&(o+="/PASSWORD_RECOVERY"),await dr(a,`${n}-code-verifier`,o);const u=await dj(i);return[u,i===u?"plain":"s256"]}const pj=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function mj(a){const n=a.headers.get(gf);if(!n||!n.match(pj))return null;try{return new Date(`${n}T00:00:00.0Z`)}catch{return null}}function gj(a){if(!a)throw new Error("Missing exp claim");const n=Math.floor(Date.now()/1e3);if(a<=n)throw new Error("JWT has expired")}function yj(a){switch(a){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const vj=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function lr(a){if(!vj.test(a))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Ih(){const a={};return new Proxy(a,{get:(n,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const i=r.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(n,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(n,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function bj(a,n){return new Proxy(a,{get:(r,i,o)=>{if(i==="__isInsecureUserWarningProxy")return!0;if(typeof i=="symbol"){const u=i.toString();if(u==="Symbol(Symbol.toPrimitive)"||u==="Symbol(Symbol.toStringTag)"||u==="Symbol(util.inspect.custom)"||u==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,i,o)}return!n.value&&typeof i=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),n.value=!0),Reflect.get(r,i,o)}})}function w0(a){return JSON.parse(JSON.stringify(a))}const us=a=>a.msg||a.message||a.error_description||a.error||JSON.stringify(a),_j=[502,503,504];async function x0(a){var n;if(!lj(a))throw new yf(us(a),0);if(_j.includes(a.status))throw new yf(us(a),a.status);let r;try{r=await a.json()}catch(u){throw new hs(us(u),u)}let i;const o=mj(a);if(o&&o.getTime()>=i_["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?i=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(i=r.error_code),i){if(i==="weak_password")throw new y0(us(r),a.status,((n=r.weak_password)===null||n===void 0?void 0:n.reasons)||[]);if(i==="session_not_found")throw new tn}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((u,h)=>u&&typeof h=="string",!0))throw new y0(us(r),a.status,r.weak_password.reasons);throw new JR(us(r),a.status||500,i)}const wj=(a,n,r,i)=>{const o={method:a,headers:n?.headers||{}};return a==="GET"?o:(o.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},n?.headers),o.body=JSON.stringify(i),Object.assign(Object.assign({},o),r))};async function ye(a,n,r,i){var o;const u=Object.assign({},i?.headers);u[gf]||(u[gf]=i_["2024-01-01"].name),i?.jwt&&(u.Authorization=`Bearer ${i.jwt}`);const h=(o=i?.query)!==null&&o!==void 0?o:{};i?.redirectTo&&(h.redirect_to=i.redirectTo);const d=Object.keys(h).length?"?"+new URLSearchParams(h).toString():"",p=await xj(a,n,r+d,{headers:u,noResolveJson:i?.noResolveJson},{},i?.body);return i?.xform?i?.xform(p):{data:Object.assign({},p),error:null}}async function xj(a,n,r,i,o,u){const h=wj(n,i,o,u);let d;try{d=await a(r,Object.assign({},h))}catch(p){throw console.error(p),new yf(us(p),0)}if(d.ok||await x0(d),i?.noResolveJson)return d;try{return await d.json()}catch(p){await x0(p)}}function xn(a){var n;let r=null;Tj(a)&&(r=Object.assign({},a),a.expires_at||(r.expires_at=sj(a.expires_in)));const i=(n=a.user)!==null&&n!==void 0?n:a;return{data:{session:r,user:i},error:null}}function S0(a){const n=xn(a);return!n.error&&a.weak_password&&typeof a.weak_password=="object"&&Array.isArray(a.weak_password.reasons)&&a.weak_password.reasons.length&&a.weak_password.message&&typeof a.weak_password.message=="string"&&a.weak_password.reasons.reduce((r,i)=>r&&typeof i=="string",!0)&&(n.data.weak_password=a.weak_password),n}function Da(a){var n;return{data:{user:(n=a.user)!==null&&n!==void 0?n:a},error:null}}function Sj(a){return{data:a,error:null}}function Ej(a){const{action_link:n,email_otp:r,hashed_token:i,redirect_to:o,verification_type:u}=a,h=Qo(a,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),d={action_link:n,email_otp:r,hashed_token:i,redirect_to:o,verification_type:u},p=Object.assign({},h);return{data:{properties:d,user:p},error:null}}function E0(a){return a}function Tj(a){return a.access_token&&a.refresh_token&&a.expires_in}const Vh=["global","local","others"];class Aj{constructor({url:n="",headers:r={},fetch:i}){this.url=n,this.headers=r,this.fetch=u_(i),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(n,r=Vh[0]){if(Vh.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Vh.join(", ")}`);try{return await ye(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:n,noResolveJson:!0}),{data:null,error:null}}catch(i){if(he(i))return{data:null,error:i};throw i}}async inviteUserByEmail(n,r={}){try{return await ye(this.fetch,"POST",`${this.url}/invite`,{body:{email:n,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Da})}catch(i){if(he(i))return{data:{user:null},error:i};throw i}}async generateLink(n){try{const{options:r}=n,i=Qo(n,["options"]),o=Object.assign(Object.assign({},i),r);return"newEmail"in i&&(o.new_email=i?.newEmail,delete o.newEmail),await ye(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:o,headers:this.headers,xform:Ej,redirectTo:r?.redirectTo})}catch(r){if(he(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(n){try{return await ye(this.fetch,"POST",`${this.url}/admin/users`,{body:n,headers:this.headers,xform:Da})}catch(r){if(he(r))return{data:{user:null},error:r};throw r}}async listUsers(n){var r,i,o,u,h,d,p;try{const m={nextPage:null,lastPage:0,total:0},b=await ye(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(i=(r=n?.page)===null||r===void 0?void 0:r.toString())!==null&&i!==void 0?i:"",per_page:(u=(o=n?.perPage)===null||o===void 0?void 0:o.toString())!==null&&u!==void 0?u:""},xform:E0});if(b.error)throw b.error;const _=await b.json(),S=(h=b.headers.get("x-total-count"))!==null&&h!==void 0?h:0,E=(p=(d=b.headers.get("link"))===null||d===void 0?void 0:d.split(","))!==null&&p!==void 0?p:[];return E.length>0&&(E.forEach(R=>{const j=parseInt(R.split(";")[0].split("=")[1].substring(0,1)),A=JSON.parse(R.split(";")[1].split("=")[1]);m[`${A}Page`]=j}),m.total=parseInt(S)),{data:Object.assign(Object.assign({},_),m),error:null}}catch(m){if(he(m))return{data:{users:[]},error:m};throw m}}async getUserById(n){lr(n);try{return await ye(this.fetch,"GET",`${this.url}/admin/users/${n}`,{headers:this.headers,xform:Da})}catch(r){if(he(r))return{data:{user:null},error:r};throw r}}async updateUserById(n,r){lr(n);try{return await ye(this.fetch,"PUT",`${this.url}/admin/users/${n}`,{body:r,headers:this.headers,xform:Da})}catch(i){if(he(i))return{data:{user:null},error:i};throw i}}async deleteUser(n,r=!1){lr(n);try{return await ye(this.fetch,"DELETE",`${this.url}/admin/users/${n}`,{headers:this.headers,body:{should_soft_delete:r},xform:Da})}catch(i){if(he(i))return{data:{user:null},error:i};throw i}}async _listFactors(n){lr(n.userId);try{const{data:r,error:i}=await ye(this.fetch,"GET",`${this.url}/admin/users/${n.userId}/factors`,{headers:this.headers,xform:o=>({data:{factors:o},error:null})});return{data:r,error:i}}catch(r){if(he(r))return{data:null,error:r};throw r}}async _deleteFactor(n){lr(n.userId),lr(n.id);try{return{data:await ye(this.fetch,"DELETE",`${this.url}/admin/users/${n.userId}/factors/${n.id}`,{headers:this.headers}),error:null}}catch(r){if(he(r))return{data:null,error:r};throw r}}async _listOAuthClients(n){var r,i,o,u,h,d,p;try{const m={nextPage:null,lastPage:0,total:0},b=await ye(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(i=(r=n?.page)===null||r===void 0?void 0:r.toString())!==null&&i!==void 0?i:"",per_page:(u=(o=n?.perPage)===null||o===void 0?void 0:o.toString())!==null&&u!==void 0?u:""},xform:E0});if(b.error)throw b.error;const _=await b.json(),S=(h=b.headers.get("x-total-count"))!==null&&h!==void 0?h:0,E=(p=(d=b.headers.get("link"))===null||d===void 0?void 0:d.split(","))!==null&&p!==void 0?p:[];return E.length>0&&(E.forEach(R=>{const j=parseInt(R.split(";")[0].split("=")[1].substring(0,1)),A=JSON.parse(R.split(";")[1].split("=")[1]);m[`${A}Page`]=j}),m.total=parseInt(S)),{data:Object.assign(Object.assign({},_),m),error:null}}catch(m){if(he(m))return{data:{clients:[]},error:m};throw m}}async _createOAuthClient(n){try{return await ye(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:n,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(he(r))return{data:null,error:r};throw r}}async _getOAuthClient(n){try{return await ye(this.fetch,"GET",`${this.url}/admin/oauth/clients/${n}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(he(r))return{data:null,error:r};throw r}}async _updateOAuthClient(n,r){try{return await ye(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${n}`,{body:r,headers:this.headers,xform:i=>({data:i,error:null})})}catch(i){if(he(i))return{data:null,error:i};throw i}}async _deleteOAuthClient(n){try{return await ye(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${n}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(he(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(n){try{return await ye(this.fetch,"POST",`${this.url}/admin/oauth/clients/${n}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(he(r))return{data:null,error:r};throw r}}}function T0(a={}){return{getItem:n=>a[n]||null,setItem:(n,r)=>{a[n]=r},removeItem:n=>{delete a[n]}}}const or={debug:!!(globalThis&&o_()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class c_ extends Error{constructor(n){super(n),this.isAcquireTimeout=!0}}class Cj extends c_{}async function Rj(a,n,r){or.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",a,n);const i=new globalThis.AbortController;return n>0&&setTimeout(()=>{i.abort(),or.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",a)},n),await Promise.resolve().then(()=>globalThis.navigator.locks.request(a,n===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:i.signal},async o=>{if(o){or.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",a,o.name);try{return await r()}finally{or.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",a,o.name)}}else{if(n===0)throw or.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",a),new Cj(`Acquiring an exclusive Navigator LockManager lock "${a}" immediately failed`);if(or.debug)try{const u=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(u,null,"  "))}catch(u){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",u)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function jj(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function h_(a){if(!/^0x[a-fA-F0-9]{40}$/.test(a))throw new Error(`@supabase/auth-js: Address "${a}" is invalid.`);return a.toLowerCase()}function Oj(a){return parseInt(a,16)}function Nj(a){const n=new TextEncoder().encode(a);return"0x"+Array.from(n,i=>i.toString(16).padStart(2,"0")).join("")}function kj(a){var n;const{chainId:r,domain:i,expirationTime:o,issuedAt:u=new Date,nonce:h,notBefore:d,requestId:p,resources:m,scheme:b,uri:_,version:S}=a;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!i)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(h&&h.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${h}`);if(!_)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(S!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${S}`);if(!((n=a.statement)===null||n===void 0)&&n.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${a.statement}`)}const E=h_(a.address),R=b?`${b}://${i}`:i,j=a.statement?`${a.statement}
`:"",A=`${R} wants you to sign in with your Ethereum account:
${E}

${j}`;let k=`URI: ${_}
Version: ${S}
Chain ID: ${r}${h?`
Nonce: ${h}`:""}
Issued At: ${u.toISOString()}`;if(o&&(k+=`
Expiration Time: ${o.toISOString()}`),d&&(k+=`
Not Before: ${d.toISOString()}`),p&&(k+=`
Request ID: ${p}`),m){let O=`
Resources:`;for(const U of m){if(!U||typeof U!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${U}`);O+=`
- ${U}`}k+=O}return`${A}
${k}`}class dt extends Error{constructor({message:n,code:r,cause:i,name:o}){var u;super(n,{cause:i}),this.__isWebAuthnError=!0,this.name=(u=o??(i instanceof Error?i.name:void 0))!==null&&u!==void 0?u:"Unknown Error",this.code=r}}class Do extends dt{constructor(n,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:n}),this.name="WebAuthnUnknownError",this.originalError=r}}function Lj({error:a,options:n}){var r,i,o;const{publicKey:u}=n;if(!u)throw Error("options was missing required publicKey property");if(a.name==="AbortError"){if(n.signal instanceof AbortSignal)return new dt({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:a})}else if(a.name==="ConstraintError"){if(((r=u.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new dt({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:a});if(n.mediation==="conditional"&&((i=u.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new dt({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:a});if(((o=u.authenticatorSelection)===null||o===void 0?void 0:o.userVerification)==="required")return new dt({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:a})}else{if(a.name==="InvalidStateError")return new dt({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:a});if(a.name==="NotAllowedError")return new dt({message:a.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:a});if(a.name==="NotSupportedError")return u.pubKeyCredParams.filter(d=>d.type==="public-key").length===0?new dt({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:a}):new dt({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:a});if(a.name==="SecurityError"){const h=window.location.hostname;if(f_(h)){if(u.rp.id!==h)return new dt({message:`The RP ID "${u.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:a})}else return new dt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:a})}else if(a.name==="TypeError"){if(u.user.id.byteLength<1||u.user.id.byteLength>64)return new dt({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:a})}else if(a.name==="UnknownError")return new dt({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:a})}return new dt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:a})}function Dj({error:a,options:n}){const{publicKey:r}=n;if(!r)throw Error("options was missing required publicKey property");if(a.name==="AbortError"){if(n.signal instanceof AbortSignal)return new dt({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:a})}else{if(a.name==="NotAllowedError")return new dt({message:a.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:a});if(a.name==="SecurityError"){const i=window.location.hostname;if(f_(i)){if(r.rpId!==i)return new dt({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:a})}else return new dt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:a})}else if(a.name==="UnknownError")return new dt({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:a})}return new dt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:a})}class Mj{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const n=new AbortController;return this.controller=n,n.signal}cancelCeremony(){if(this.controller){const n=new Error("Manually cancelling existing WebAuthn API call");n.name="AbortError",this.controller.abort(n),this.controller=void 0}}}const Uj=new Mj;function Bj(a){if(!a)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(a);const{challenge:n,user:r,excludeCredentials:i}=a,o=Qo(a,["challenge","user","excludeCredentials"]),u=gr(n).buffer,h=Object.assign(Object.assign({},r),{id:gr(r.id).buffer}),d=Object.assign(Object.assign({},o),{challenge:u,user:h});if(i&&i.length>0){d.excludeCredentials=new Array(i.length);for(let p=0;p<i.length;p++){const m=i[p];d.excludeCredentials[p]=Object.assign(Object.assign({},m),{id:gr(m.id).buffer,type:m.type||"public-key",transports:m.transports})}}return d}function qj(a){if(!a)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(a);const{challenge:n,allowCredentials:r}=a,i=Qo(a,["challenge","allowCredentials"]),o=gr(n).buffer,u=Object.assign(Object.assign({},i),{challenge:o});if(r&&r.length>0){u.allowCredentials=new Array(r.length);for(let h=0;h<r.length;h++){const d=r[h];u.allowCredentials[h]=Object.assign(Object.assign({},d),{id:gr(d.id).buffer,type:d.type||"public-key",transports:d.transports})}}return u}function $j(a){var n;if("toJSON"in a&&typeof a.toJSON=="function")return a.toJSON();const r=a;return{id:a.id,rawId:a.id,response:{attestationObject:ds(new Uint8Array(a.response.attestationObject)),clientDataJSON:ds(new Uint8Array(a.response.clientDataJSON))},type:"public-key",clientExtensionResults:a.getClientExtensionResults(),authenticatorAttachment:(n=r.authenticatorAttachment)!==null&&n!==void 0?n:void 0}}function zj(a){var n;if("toJSON"in a&&typeof a.toJSON=="function")return a.toJSON();const r=a,i=a.getClientExtensionResults(),o=a.response;return{id:a.id,rawId:a.id,response:{authenticatorData:ds(new Uint8Array(o.authenticatorData)),clientDataJSON:ds(new Uint8Array(o.clientDataJSON)),signature:ds(new Uint8Array(o.signature)),userHandle:o.userHandle?ds(new Uint8Array(o.userHandle)):void 0},type:"public-key",clientExtensionResults:i,authenticatorAttachment:(n=r.authenticatorAttachment)!==null&&n!==void 0?n:void 0}}function f_(a){return a==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(a)}function A0(){var a,n;return!!(Ct()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((a=navigator?.credentials)===null||a===void 0?void 0:a.create)=="function"&&typeof((n=navigator?.credentials)===null||n===void 0?void 0:n.get)=="function")}async function Hj(a){try{const n=await navigator.credentials.create(a);return n?n instanceof PublicKeyCredential?{data:n,error:null}:{data:null,error:new Do("Browser returned unexpected credential type",n)}:{data:null,error:new Do("Empty credential response",n)}}catch(n){return{data:null,error:Lj({error:n,options:a})}}}async function Ij(a){try{const n=await navigator.credentials.get(a);return n?n instanceof PublicKeyCredential?{data:n,error:null}:{data:null,error:new Do("Browser returned unexpected credential type",n)}:{data:null,error:new Do("Empty credential response",n)}}catch(n){return{data:null,error:Dj({error:n,options:a})}}}const Vj={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},Fj={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Mo(...a){const n=o=>o!==null&&typeof o=="object"&&!Array.isArray(o),r=o=>o instanceof ArrayBuffer||ArrayBuffer.isView(o),i={};for(const o of a)if(o)for(const u in o){const h=o[u];if(h!==void 0)if(Array.isArray(h))i[u]=h;else if(r(h))i[u]=h;else if(n(h)){const d=i[u];n(d)?i[u]=Mo(d,h):i[u]=Mo(h)}else i[u]=h}return i}function Pj(a,n){return Mo(Vj,a,n||{})}function Gj(a,n){return Mo(Fj,a,n||{})}class Yj{constructor(n){this.client=n,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(n){return this.client.mfa.enroll(Object.assign(Object.assign({},n),{factorType:"webauthn"}))}async _challenge({factorId:n,webauthn:r,friendlyName:i,signal:o},u){var h;try{const{data:d,error:p}=await this.client.mfa.challenge({factorId:n,webauthn:r});if(!d)return{data:null,error:p};const m=o??Uj.createNewAbortSignal();if(d.webauthn.type==="create"){const{user:b}=d.webauthn.credential_options.publicKey;if(!b.name){const _=i;if(_)b.name=`${b.id}:${_}`;else{const E=(await this.client.getUser()).data.user,R=((h=E?.user_metadata)===null||h===void 0?void 0:h.name)||E?.email||E?.id||"User";b.name=`${b.id}:${R}`}}b.displayName||(b.displayName=b.name)}switch(d.webauthn.type){case"create":{const b=Pj(d.webauthn.credential_options.publicKey,u?.create),{data:_,error:S}=await Hj({publicKey:b,signal:m});return _?{data:{factorId:n,challengeId:d.id,webauthn:{type:d.webauthn.type,credential_response:_}},error:null}:{data:null,error:S}}case"request":{const b=Gj(d.webauthn.credential_options.publicKey,u?.request),{data:_,error:S}=await Ij(Object.assign(Object.assign({},d.webauthn.credential_options),{publicKey:b,signal:m}));return _?{data:{factorId:n,challengeId:d.id,webauthn:{type:d.webauthn.type,credential_response:_}},error:null}:{data:null,error:S}}}}catch(d){return he(d)?{data:null,error:d}:{data:null,error:new hs("Unexpected error in challenge",d)}}}async _verify({challengeId:n,factorId:r,webauthn:i}){return this.client.mfa.verify({factorId:r,challengeId:n,webauthn:i})}async _authenticate({factorId:n,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:i=typeof window<"u"?[window.location.origin]:void 0,signal:o}={}},u){if(!r)return{data:null,error:new Di("rpId is required for WebAuthn authentication")};try{if(!A0())return{data:null,error:new hs("Browser does not support WebAuthn",null)};const{data:h,error:d}=await this.challenge({factorId:n,webauthn:{rpId:r,rpOrigins:i},signal:o},{request:u});if(!h)return{data:null,error:d};const{webauthn:p}=h;return this._verify({factorId:n,challengeId:h.challengeId,webauthn:{type:p.type,rpId:r,rpOrigins:i,credential_response:p.credential_response}})}catch(h){return he(h)?{data:null,error:h}:{data:null,error:new hs("Unexpected error in authenticate",h)}}}async _register({friendlyName:n,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:i=typeof window<"u"?[window.location.origin]:void 0,signal:o}={}},u){if(!r)return{data:null,error:new Di("rpId is required for WebAuthn registration")};try{if(!A0())return{data:null,error:new hs("Browser does not support WebAuthn",null)};const{data:h,error:d}=await this._enroll({friendlyName:n});if(!h)return await this.client.mfa.listFactors().then(b=>{var _;return(_=b.data)===null||_===void 0?void 0:_.all.find(S=>S.factor_type==="webauthn"&&S.friendly_name===n&&S.status!=="unverified")}).then(b=>b?this.client.mfa.unenroll({factorId:b?.id}):void 0),{data:null,error:d};const{data:p,error:m}=await this._challenge({factorId:h.id,friendlyName:h.friendly_name,webauthn:{rpId:r,rpOrigins:i},signal:o},{create:u});return p?this._verify({factorId:h.id,challengeId:p.challengeId,webauthn:{rpId:r,rpOrigins:i,type:p.webauthn.type,credential_response:p.webauthn.credential_response}}):{data:null,error:m}}catch(h){return he(h)?{data:null,error:h}:{data:null,error:new hs("Unexpected error in register",h)}}}}jj();const Kj={url:FR,storageKey:PR,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:GR,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function C0(a,n,r){return await r()}const ur={};class Mi{get jwks(){var n,r;return(r=(n=ur[this.storageKey])===null||n===void 0?void 0:n.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(n){ur[this.storageKey]=Object.assign(Object.assign({},ur[this.storageKey]),{jwks:n})}get jwks_cached_at(){var n,r;return(r=(n=ur[this.storageKey])===null||n===void 0?void 0:n.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(n){ur[this.storageKey]=Object.assign(Object.assign({},ur[this.storageKey]),{cachedAt:n})}constructor(n){var r,i,o;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const u=Object.assign(Object.assign({},Kj),n);if(this.storageKey=u.storageKey,this.instanceID=(r=Mi.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,Mi.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!u.debug,typeof u.debug=="function"&&(this.logger=u.debug),this.instanceID>0&&Ct()){const h=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(h),this.logDebugMessages&&console.trace(h)}if(this.persistSession=u.persistSession,this.autoRefreshToken=u.autoRefreshToken,this.admin=new Aj({url:u.url,headers:u.headers,fetch:u.fetch}),this.url=u.url,this.headers=u.headers,this.fetch=u_(u.fetch),this.lock=u.lock||C0,this.detectSessionInUrl=u.detectSessionInUrl,this.flowType=u.flowType,this.hasCustomAuthorizationHeader=u.hasCustomAuthorizationHeader,this.throwOnError=u.throwOnError,this.lockAcquireTimeout=u.lockAcquireTimeout,u.lock?this.lock=u.lock:this.persistSession&&Ct()&&(!((i=globalThis?.navigator)===null||i===void 0)&&i.locks)?this.lock=Rj:this.lock=C0,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new Yj(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(u.storage?this.storage=u.storage:o_()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=T0(this.memoryStorage)),u.userStorage&&(this.userStorage=u.userStorage)):(this.memoryStorage={},this.storage=T0(this.memoryStorage)),Ct()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(h){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",h)}(o=this.broadcastChannel)===null||o===void 0||o.addEventListener("message",async h=>{this._debug("received broadcast notification from other tab or client",h);try{await this._notifyAllSubscribers(h.data.event,h.data.session,!1)}catch(d){this._debug("#broadcastChannel","error",d)}})}this.initialize().catch(h=>{this._debug("#initialize()","error",h)})}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(n){if(this.throwOnError&&n&&n.error)throw n.error;return n}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${r_}) ${new Date().toISOString()}`}_debug(...n){return this.logDebugMessages&&this.logger(this._logPrefix(),...n),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var n;try{let r={},i="none";if(Ct()&&(r=ij(window.location.href),this._isImplicitGrantCallback(r)?i="implicit":await this._isPKCECallback(r)&&(i="pkce")),Ct()&&this.detectSessionInUrl&&i!=="none"){const{data:o,error:u}=await this._getSessionFromURL(r,i);if(u){if(this._debug("#_initialize()","error detecting session from URL",u),QR(u)){const p=(n=u.details)===null||n===void 0?void 0:n.code;if(p==="identity_already_exists"||p==="identity_not_found"||p==="single_identity_not_deletable")return{error:u}}return{error:u}}const{session:h,redirectType:d}=o;return this._debug("#_initialize()","detected session in URL",h,"redirect type",d),await this._saveSession(h),setTimeout(async()=>{d==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",h):await this._notifyAllSubscribers("SIGNED_IN",h)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return he(r)?this._returnResult({error:r}):this._returnResult({error:new hs("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(n){var r,i,o;try{const u=await ye(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(i=(r=n?.options)===null||r===void 0?void 0:r.data)!==null&&i!==void 0?i:{},gotrue_meta_security:{captcha_token:(o=n?.options)===null||o===void 0?void 0:o.captchaToken}},xform:xn}),{data:h,error:d}=u;if(d||!h)return this._returnResult({data:{user:null,session:null},error:d});const p=h.session,m=h.user;return h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("SIGNED_IN",p)),this._returnResult({data:{user:m,session:p},error:null})}catch(u){if(he(u))return this._returnResult({data:{user:null,session:null},error:u});throw u}}async signUp(n){var r,i,o;try{let u;if("email"in n){const{email:b,password:_,options:S}=n;let E=null,R=null;this.flowType==="pkce"&&([E,R]=await ir(this.storage,this.storageKey)),u=await ye(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:S?.emailRedirectTo,body:{email:b,password:_,data:(r=S?.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:S?.captchaToken},code_challenge:E,code_challenge_method:R},xform:xn})}else if("phone"in n){const{phone:b,password:_,options:S}=n;u=await ye(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:b,password:_,data:(i=S?.data)!==null&&i!==void 0?i:{},channel:(o=S?.channel)!==null&&o!==void 0?o:"sms",gotrue_meta_security:{captcha_token:S?.captchaToken}},xform:xn})}else throw new xo("You must provide either an email or phone number and a password");const{data:h,error:d}=u;if(d||!h)return await At(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:d});const p=h.session,m=h.user;return h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("SIGNED_IN",p)),this._returnResult({data:{user:m,session:p},error:null})}catch(u){if(await At(this.storage,`${this.storageKey}-code-verifier`),he(u))return this._returnResult({data:{user:null,session:null},error:u});throw u}}async signInWithPassword(n){try{let r;if("email"in n){const{email:u,password:h,options:d}=n;r=await ye(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:u,password:h,gotrue_meta_security:{captcha_token:d?.captchaToken}},xform:S0})}else if("phone"in n){const{phone:u,password:h,options:d}=n;r=await ye(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:u,password:h,gotrue_meta_security:{captcha_token:d?.captchaToken}},xform:S0})}else throw new xo("You must provide either an email or phone number and a password");const{data:i,error:o}=r;if(o)return this._returnResult({data:{user:null,session:null},error:o});if(!i||!i.session||!i.user){const u=new rr;return this._returnResult({data:{user:null,session:null},error:u})}return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),this._returnResult({data:Object.assign({user:i.user,session:i.session},i.weak_password?{weakPassword:i.weak_password}:null),error:o})}catch(r){if(he(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(n){var r,i,o,u;return await this._handleProviderSignIn(n.provider,{redirectTo:(r=n.options)===null||r===void 0?void 0:r.redirectTo,scopes:(i=n.options)===null||i===void 0?void 0:i.scopes,queryParams:(o=n.options)===null||o===void 0?void 0:o.queryParams,skipBrowserRedirect:(u=n.options)===null||u===void 0?void 0:u.skipBrowserRedirect})}async exchangeCodeForSession(n){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(n))}async signInWithWeb3(n){const{chain:r}=n;switch(r){case"ethereum":return await this.signInWithEthereum(n);case"solana":return await this.signInWithSolana(n);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(n){var r,i,o,u,h,d,p,m,b,_,S;let E,R;if("message"in n)E=n.message,R=n.signature;else{const{chain:j,wallet:A,statement:k,options:O}=n;let U;if(Ct())if(typeof A=="object")U=A;else{const H=window;if("ethereum"in H&&typeof H.ethereum=="object"&&"request"in H.ethereum&&typeof H.ethereum.request=="function")U=H.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof A!="object"||!O?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");U=A}const X=new URL((r=O?.url)!==null&&r!==void 0?r:window.location.href),ee=await U.request({method:"eth_requestAccounts"}).then(H=>H).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!ee||ee.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const te=h_(ee[0]);let F=(i=O?.signInWithEthereum)===null||i===void 0?void 0:i.chainId;if(!F){const H=await U.request({method:"eth_chainId"});F=Oj(H)}const ie={domain:X.host,address:te,statement:k,uri:X.href,version:"1",chainId:F,nonce:(o=O?.signInWithEthereum)===null||o===void 0?void 0:o.nonce,issuedAt:(h=(u=O?.signInWithEthereum)===null||u===void 0?void 0:u.issuedAt)!==null&&h!==void 0?h:new Date,expirationTime:(d=O?.signInWithEthereum)===null||d===void 0?void 0:d.expirationTime,notBefore:(p=O?.signInWithEthereum)===null||p===void 0?void 0:p.notBefore,requestId:(m=O?.signInWithEthereum)===null||m===void 0?void 0:m.requestId,resources:(b=O?.signInWithEthereum)===null||b===void 0?void 0:b.resources};E=kj(ie),R=await U.request({method:"personal_sign",params:[Nj(E),te]})}try{const{data:j,error:A}=await ye(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:E,signature:R},!((_=n.options)===null||_===void 0)&&_.captchaToken?{gotrue_meta_security:{captcha_token:(S=n.options)===null||S===void 0?void 0:S.captchaToken}}:null),xform:xn});if(A)throw A;if(!j||!j.session||!j.user){const k=new rr;return this._returnResult({data:{user:null,session:null},error:k})}return j.session&&(await this._saveSession(j.session),await this._notifyAllSubscribers("SIGNED_IN",j.session)),this._returnResult({data:Object.assign({},j),error:A})}catch(j){if(he(j))return this._returnResult({data:{user:null,session:null},error:j});throw j}}async signInWithSolana(n){var r,i,o,u,h,d,p,m,b,_,S,E;let R,j;if("message"in n)R=n.message,j=n.signature;else{const{chain:A,wallet:k,statement:O,options:U}=n;let X;if(Ct())if(typeof k=="object")X=k;else{const te=window;if("solana"in te&&typeof te.solana=="object"&&("signIn"in te.solana&&typeof te.solana.signIn=="function"||"signMessage"in te.solana&&typeof te.solana.signMessage=="function"))X=te.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof k!="object"||!U?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");X=k}const ee=new URL((r=U?.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in X&&X.signIn){const te=await X.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},U?.signInWithSolana),{version:"1",domain:ee.host,uri:ee.href}),O?{statement:O}:null));let F;if(Array.isArray(te)&&te[0]&&typeof te[0]=="object")F=te[0];else if(te&&typeof te=="object"&&"signedMessage"in te&&"signature"in te)F=te;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in F&&"signature"in F&&(typeof F.signedMessage=="string"||F.signedMessage instanceof Uint8Array)&&F.signature instanceof Uint8Array)R=typeof F.signedMessage=="string"?F.signedMessage:new TextDecoder().decode(F.signedMessage),j=F.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in X)||typeof X.signMessage!="function"||!("publicKey"in X)||typeof X!="object"||!X.publicKey||!("toBase58"in X.publicKey)||typeof X.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");R=[`${ee.host} wants you to sign in with your Solana account:`,X.publicKey.toBase58(),...O?["",O,""]:[""],"Version: 1",`URI: ${ee.href}`,`Issued At: ${(o=(i=U?.signInWithSolana)===null||i===void 0?void 0:i.issuedAt)!==null&&o!==void 0?o:new Date().toISOString()}`,...!((u=U?.signInWithSolana)===null||u===void 0)&&u.notBefore?[`Not Before: ${U.signInWithSolana.notBefore}`]:[],...!((h=U?.signInWithSolana)===null||h===void 0)&&h.expirationTime?[`Expiration Time: ${U.signInWithSolana.expirationTime}`]:[],...!((d=U?.signInWithSolana)===null||d===void 0)&&d.chainId?[`Chain ID: ${U.signInWithSolana.chainId}`]:[],...!((p=U?.signInWithSolana)===null||p===void 0)&&p.nonce?[`Nonce: ${U.signInWithSolana.nonce}`]:[],...!((m=U?.signInWithSolana)===null||m===void 0)&&m.requestId?[`Request ID: ${U.signInWithSolana.requestId}`]:[],...!((_=(b=U?.signInWithSolana)===null||b===void 0?void 0:b.resources)===null||_===void 0)&&_.length?["Resources",...U.signInWithSolana.resources.map(F=>`- ${F}`)]:[]].join(`
`);const te=await X.signMessage(new TextEncoder().encode(R),"utf8");if(!te||!(te instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");j=te}}try{const{data:A,error:k}=await ye(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:R,signature:ds(j)},!((S=n.options)===null||S===void 0)&&S.captchaToken?{gotrue_meta_security:{captcha_token:(E=n.options)===null||E===void 0?void 0:E.captchaToken}}:null),xform:xn});if(k)throw k;if(!A||!A.session||!A.user){const O=new rr;return this._returnResult({data:{user:null,session:null},error:O})}return A.session&&(await this._saveSession(A.session),await this._notifyAllSubscribers("SIGNED_IN",A.session)),this._returnResult({data:Object.assign({},A),error:k})}catch(A){if(he(A))return this._returnResult({data:{user:null,session:null},error:A});throw A}}async _exchangeCodeForSession(n){const r=await os(this.storage,`${this.storageKey}-code-verifier`),[i,o]=(r??"").split("/");try{if(!i&&this.flowType==="pkce")throw new XR;const{data:u,error:h}=await ye(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:n,code_verifier:i},xform:xn});if(await At(this.storage,`${this.storageKey}-code-verifier`),h)throw h;if(!u||!u.session||!u.user){const d=new rr;return this._returnResult({data:{user:null,session:null,redirectType:null},error:d})}return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",u.session)),this._returnResult({data:Object.assign(Object.assign({},u),{redirectType:o??null}),error:h})}catch(u){if(await At(this.storage,`${this.storageKey}-code-verifier`),he(u))return this._returnResult({data:{user:null,session:null,redirectType:null},error:u});throw u}}async signInWithIdToken(n){try{const{options:r,provider:i,token:o,access_token:u,nonce:h}=n,d=await ye(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:i,id_token:o,access_token:u,nonce:h,gotrue_meta_security:{captcha_token:r?.captchaToken}},xform:xn}),{data:p,error:m}=d;if(m)return this._returnResult({data:{user:null,session:null},error:m});if(!p||!p.session||!p.user){const b=new rr;return this._returnResult({data:{user:null,session:null},error:b})}return p.session&&(await this._saveSession(p.session),await this._notifyAllSubscribers("SIGNED_IN",p.session)),this._returnResult({data:p,error:m})}catch(r){if(he(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(n){var r,i,o,u,h;try{if("email"in n){const{email:d,options:p}=n;let m=null,b=null;this.flowType==="pkce"&&([m,b]=await ir(this.storage,this.storageKey));const{error:_}=await ye(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:d,data:(r=p?.data)!==null&&r!==void 0?r:{},create_user:(i=p?.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:p?.captchaToken},code_challenge:m,code_challenge_method:b},redirectTo:p?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:_})}if("phone"in n){const{phone:d,options:p}=n,{data:m,error:b}=await ye(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:d,data:(o=p?.data)!==null&&o!==void 0?o:{},create_user:(u=p?.shouldCreateUser)!==null&&u!==void 0?u:!0,gotrue_meta_security:{captcha_token:p?.captchaToken},channel:(h=p?.channel)!==null&&h!==void 0?h:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:m?.message_id},error:b})}throw new xo("You must provide either an email or phone number.")}catch(d){if(await At(this.storage,`${this.storageKey}-code-verifier`),he(d))return this._returnResult({data:{user:null,session:null},error:d});throw d}}async verifyOtp(n){var r,i;try{let o,u;"options"in n&&(o=(r=n.options)===null||r===void 0?void 0:r.redirectTo,u=(i=n.options)===null||i===void 0?void 0:i.captchaToken);const{data:h,error:d}=await ye(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},n),{gotrue_meta_security:{captcha_token:u}}),redirectTo:o,xform:xn});if(d)throw d;if(!h)throw new Error("An error occurred on token verification.");const p=h.session,m=h.user;return p?.access_token&&(await this._saveSession(p),await this._notifyAllSubscribers(n.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",p)),this._returnResult({data:{user:m,session:p},error:null})}catch(o){if(he(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async signInWithSSO(n){var r,i,o,u,h;try{let d=null,p=null;this.flowType==="pkce"&&([d,p]=await ir(this.storage,this.storageKey));const m=await ye(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in n?{provider_id:n.providerId}:null),"domain"in n?{domain:n.domain}:null),{redirect_to:(i=(r=n.options)===null||r===void 0?void 0:r.redirectTo)!==null&&i!==void 0?i:void 0}),!((o=n?.options)===null||o===void 0)&&o.captchaToken?{gotrue_meta_security:{captcha_token:n.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:d,code_challenge_method:p}),headers:this.headers,xform:Sj});return!((u=m.data)===null||u===void 0)&&u.url&&Ct()&&!(!((h=n.options)===null||h===void 0)&&h.skipBrowserRedirect)&&window.location.assign(m.data.url),this._returnResult(m)}catch(d){if(await At(this.storage,`${this.storageKey}-code-verifier`),he(d))return this._returnResult({data:null,error:d});throw d}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async n=>{const{data:{session:r},error:i}=n;if(i)throw i;if(!r)throw new tn;const{error:o}=await ye(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:o})})}catch(n){if(he(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async resend(n){try{const r=`${this.url}/resend`;if("email"in n){const{email:i,type:o,options:u}=n,{error:h}=await ye(this.fetch,"POST",r,{headers:this.headers,body:{email:i,type:o,gotrue_meta_security:{captcha_token:u?.captchaToken}},redirectTo:u?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:h})}else if("phone"in n){const{phone:i,type:o,options:u}=n,{data:h,error:d}=await ye(this.fetch,"POST",r,{headers:this.headers,body:{phone:i,type:o,gotrue_meta_security:{captcha_token:u?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:h?.message_id},error:d})}throw new xo("You must provide either an email or phone number and a type")}catch(r){if(he(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async r=>r))}async _acquireLock(n,r){this._debug("#_acquireLock","begin",n);try{if(this.lockAcquired){const i=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),o=(async()=>(await i,await r()))();return this.pendingInLock.push((async()=>{try{await o}catch{}})()),o}return await this.lock(`lock:${this.storageKey}`,n,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const i=r();for(this.pendingInLock.push((async()=>{try{await i}catch{}})()),await i;this.pendingInLock.length;){const o=[...this.pendingInLock];await Promise.all(o),this.pendingInLock.splice(0,o.length)}return await i}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(n){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await n(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let n=null;const r=await os(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?n=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!n)return{data:{session:null},error:null};const i=n.expires_at?n.expires_at*1e3-Date.now()<$h:!1;if(this._debug("#__loadSession()",`session has${i?"":" not"} expired`,"expires_at",n.expires_at),!i){if(this.userStorage){const h=await os(this.userStorage,this.storageKey+"-user");h?.user?n.user=h.user:n.user=Ih()}if(this.storage.isServer&&n.user&&!n.user.__isUserNotAvailableProxy){const h={value:this.suppressGetSessionWarning};n.user=bj(n.user,h),h.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:n},error:null}}const{data:o,error:u}=await this._callRefreshToken(n.refresh_token);return u?this._returnResult({data:{session:null},error:u}):this._returnResult({data:{session:o},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(n){if(n)return await this._getUser(n);await this.initializePromise;const r=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return r.data.user&&(this.suppressGetSessionWarning=!0),r}async _getUser(n){try{return n?await ye(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:n,xform:Da}):await this._useSession(async r=>{var i,o,u;const{data:h,error:d}=r;if(d)throw d;return!(!((i=h.session)===null||i===void 0)&&i.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new tn}:await ye(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(u=(o=h.session)===null||o===void 0?void 0:o.access_token)!==null&&u!==void 0?u:void 0,xform:Da})})}catch(r){if(he(r))return zh(r)&&(await this._removeSession(),await At(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(n,r={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(n,r))}async _updateUser(n,r={}){try{return await this._useSession(async i=>{const{data:o,error:u}=i;if(u)throw u;if(!o.session)throw new tn;const h=o.session;let d=null,p=null;this.flowType==="pkce"&&n.email!=null&&([d,p]=await ir(this.storage,this.storageKey));const{data:m,error:b}=await ye(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r?.emailRedirectTo,body:Object.assign(Object.assign({},n),{code_challenge:d,code_challenge_method:p}),jwt:h.access_token,xform:Da});if(b)throw b;return h.user=m.user,await this._saveSession(h),await this._notifyAllSubscribers("USER_UPDATED",h),this._returnResult({data:{user:h.user},error:null})})}catch(i){if(await At(this.storage,`${this.storageKey}-code-verifier`),he(i))return this._returnResult({data:{user:null},error:i});throw i}}async setSession(n){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(n))}async _setSession(n){try{if(!n.access_token||!n.refresh_token)throw new tn;const r=Date.now()/1e3;let i=r,o=!0,u=null;const{payload:h}=Eo(n.access_token);if(h.exp&&(i=h.exp,o=i<=r),o){const{data:d,error:p}=await this._callRefreshToken(n.refresh_token);if(p)return this._returnResult({data:{user:null,session:null},error:p});if(!d)return{data:{user:null,session:null},error:null};u=d}else{const{data:d,error:p}=await this._getUser(n.access_token);if(p)return this._returnResult({data:{user:null,session:null},error:p});u={access_token:n.access_token,refresh_token:n.refresh_token,user:d.user,token_type:"bearer",expires_in:i-r,expires_at:i},await this._saveSession(u),await this._notifyAllSubscribers("SIGNED_IN",u)}return this._returnResult({data:{user:u.user,session:u},error:null})}catch(r){if(he(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(n){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(n))}async _refreshSession(n){try{return await this._useSession(async r=>{var i;if(!n){const{data:h,error:d}=r;if(d)throw d;n=(i=h.session)!==null&&i!==void 0?i:void 0}if(!n?.refresh_token)throw new tn;const{data:o,error:u}=await this._callRefreshToken(n.refresh_token);return u?this._returnResult({data:{user:null,session:null},error:u}):o?this._returnResult({data:{user:o.user,session:o},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(he(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(n,r){try{if(!Ct())throw new So("No browser detected.");if(n.error||n.error_description||n.error_code)throw new So(n.error_description||"Error in URL with unspecified error_description",{error:n.error||"unspecified_error",code:n.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new g0("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new So("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!n.code)throw new g0("No code detected.");const{data:O,error:U}=await this._exchangeCodeForSession(n.code);if(U)throw U;const X=new URL(window.location.href);return X.searchParams.delete("code"),window.history.replaceState(window.history.state,"",X.toString()),{data:{session:O.session,redirectType:null},error:null}}const{provider_token:i,provider_refresh_token:o,access_token:u,refresh_token:h,expires_in:d,expires_at:p,token_type:m}=n;if(!u||!d||!h||!m)throw new So("No session defined in URL");const b=Math.round(Date.now()/1e3),_=parseInt(d);let S=b+_;p&&(S=parseInt(p));const E=S-b;E*1e3<=fr&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${E}s, should have been closer to ${_}s`);const R=S-_;b-R>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",R,S,b):b-R<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",R,S,b);const{data:j,error:A}=await this._getUser(u);if(A)throw A;const k={provider_token:i,provider_refresh_token:o,access_token:u,expires_in:_,expires_at:S,refresh_token:h,token_type:m,user:j.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:k,redirectType:n.type},error:null})}catch(i){if(he(i))return this._returnResult({data:{session:null,redirectType:null},error:i});throw i}}_isImplicitGrantCallback(n){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),n):!!(n.access_token||n.error_description)}async _isPKCECallback(n){const r=await os(this.storage,`${this.storageKey}-code-verifier`);return!!(n.code&&r)}async signOut(n={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(n))}async _signOut({scope:n}={scope:"global"}){return await this._useSession(async r=>{var i;const{data:o,error:u}=r;if(u&&!zh(u))return this._returnResult({error:u});const h=(i=o.session)===null||i===void 0?void 0:i.access_token;if(h){const{error:d}=await this.admin.signOut(h,n);if(d&&!(ZR(d)&&(d.status===404||d.status===401||d.status===403)||zh(d)))return this._returnResult({error:d})}return n!=="others"&&(await this._removeSession(),await At(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(n){const r=rj(),i={id:r,callback:n,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,i),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:i}}}async _emitInitialSession(n){return await this._useSession(async r=>{var i,o;try{const{data:{session:u},error:h}=r;if(h)throw h;await((i=this.stateChangeEmitters.get(n))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",u)),this._debug("INITIAL_SESSION","callback id",n,"session",u)}catch(u){await((o=this.stateChangeEmitters.get(n))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",n,"error",u),console.error(u)}})}async resetPasswordForEmail(n,r={}){let i=null,o=null;this.flowType==="pkce"&&([i,o]=await ir(this.storage,this.storageKey,!0));try{return await ye(this.fetch,"POST",`${this.url}/recover`,{body:{email:n,code_challenge:i,code_challenge_method:o,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(u){if(await At(this.storage,`${this.storageKey}-code-verifier`),he(u))return this._returnResult({data:null,error:u});throw u}}async getUserIdentities(){var n;try{const{data:r,error:i}=await this.getUser();if(i)throw i;return this._returnResult({data:{identities:(n=r.user.identities)!==null&&n!==void 0?n:[]},error:null})}catch(r){if(he(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(n){return"token"in n?this.linkIdentityIdToken(n):this.linkIdentityOAuth(n)}async linkIdentityOAuth(n){var r;try{const{data:i,error:o}=await this._useSession(async u=>{var h,d,p,m,b;const{data:_,error:S}=u;if(S)throw S;const E=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,n.provider,{redirectTo:(h=n.options)===null||h===void 0?void 0:h.redirectTo,scopes:(d=n.options)===null||d===void 0?void 0:d.scopes,queryParams:(p=n.options)===null||p===void 0?void 0:p.queryParams,skipBrowserRedirect:!0});return await ye(this.fetch,"GET",E,{headers:this.headers,jwt:(b=(m=_.session)===null||m===void 0?void 0:m.access_token)!==null&&b!==void 0?b:void 0})});if(o)throw o;return Ct()&&!(!((r=n.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(i?.url),this._returnResult({data:{provider:n.provider,url:i?.url},error:null})}catch(i){if(he(i))return this._returnResult({data:{provider:n.provider,url:null},error:i});throw i}}async linkIdentityIdToken(n){return await this._useSession(async r=>{var i;try{const{error:o,data:{session:u}}=r;if(o)throw o;const{options:h,provider:d,token:p,access_token:m,nonce:b}=n,_=await ye(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(i=u?.access_token)!==null&&i!==void 0?i:void 0,body:{provider:d,id_token:p,access_token:m,nonce:b,link_identity:!0,gotrue_meta_security:{captcha_token:h?.captchaToken}},xform:xn}),{data:S,error:E}=_;return E?this._returnResult({data:{user:null,session:null},error:E}):!S||!S.session||!S.user?this._returnResult({data:{user:null,session:null},error:new rr}):(S.session&&(await this._saveSession(S.session),await this._notifyAllSubscribers("USER_UPDATED",S.session)),this._returnResult({data:S,error:E}))}catch(o){if(await At(this.storage,`${this.storageKey}-code-verifier`),he(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}})}async unlinkIdentity(n){try{return await this._useSession(async r=>{var i,o;const{data:u,error:h}=r;if(h)throw h;return await ye(this.fetch,"DELETE",`${this.url}/user/identities/${n.identity_id}`,{headers:this.headers,jwt:(o=(i=u.session)===null||i===void 0?void 0:i.access_token)!==null&&o!==void 0?o:void 0})})}catch(r){if(he(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(n){const r=`#_refreshAccessToken(${n.substring(0,5)}...)`;this._debug(r,"begin");try{const i=Date.now();return await uj(async o=>(o>0&&await oj(200*Math.pow(2,o-1)),this._debug(r,"refreshing attempt",o),await ye(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:n},headers:this.headers,xform:xn})),(o,u)=>{const h=200*Math.pow(2,o);return u&&Hh(u)&&Date.now()+h-i<fr})}catch(i){if(this._debug(r,"error",i),he(i))return this._returnResult({data:{session:null,user:null},error:i});throw i}finally{this._debug(r,"end")}}_isValidSession(n){return typeof n=="object"&&n!==null&&"access_token"in n&&"refresh_token"in n&&"expires_at"in n}async _handleProviderSignIn(n,r){const i=await this._getUrlForProvider(`${this.url}/authorize`,n,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",n,"options",r,"url",i),Ct()&&!r.skipBrowserRedirect&&window.location.assign(i),{data:{provider:n,url:i},error:null}}async _recoverAndRefresh(){var n,r;const i="#_recoverAndRefresh()";this._debug(i,"begin");try{const o=await os(this.storage,this.storageKey);if(o&&this.userStorage){let h=await os(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!h&&(h={user:o.user},await dr(this.userStorage,this.storageKey+"-user",h)),o.user=(n=h?.user)!==null&&n!==void 0?n:Ih()}else if(o&&!o.user&&!o.user){const h=await os(this.storage,this.storageKey+"-user");h&&h?.user?(o.user=h.user,await At(this.storage,this.storageKey+"-user"),await dr(this.storage,this.storageKey,o)):o.user=Ih()}if(this._debug(i,"session from storage",o),!this._isValidSession(o)){this._debug(i,"session is not valid"),o!==null&&await this._removeSession();return}const u=((r=o.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<$h;if(this._debug(i,`session has${u?"":" not"} expired with margin of ${$h}s`),u){if(this.autoRefreshToken&&o.refresh_token){const{error:h}=await this._callRefreshToken(o.refresh_token);h&&(console.error(h),Hh(h)||(this._debug(i,"refresh failed with a non-retryable error, removing the session",h),await this._removeSession()))}}else if(o.user&&o.user.__isUserNotAvailableProxy===!0)try{const{data:h,error:d}=await this._getUser(o.access_token);!d&&h?.user?(o.user=h.user,await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)):this._debug(i,"could not get user data, skipping SIGNED_IN notification")}catch(h){console.error("Error getting user data:",h),this._debug(i,"error getting user data, skipping SIGNED_IN notification",h)}else await this._notifyAllSubscribers("SIGNED_IN",o)}catch(o){this._debug(i,"error",o),console.error(o);return}finally{this._debug(i,"end")}}async _callRefreshToken(n){var r,i;if(!n)throw new tn;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const o=`#_callRefreshToken(${n.substring(0,5)}...)`;this._debug(o,"begin");try{this.refreshingDeferred=new eu;const{data:u,error:h}=await this._refreshAccessToken(n);if(h)throw h;if(!u.session)throw new tn;await this._saveSession(u.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",u.session);const d={data:u.session,error:null};return this.refreshingDeferred.resolve(d),d}catch(u){if(this._debug(o,"error",u),he(u)){const h={data:null,error:u};return Hh(u)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(h),h}throw(i=this.refreshingDeferred)===null||i===void 0||i.reject(u),u}finally{this.refreshingDeferred=null,this._debug(o,"end")}}async _notifyAllSubscribers(n,r,i=!0){const o=`#_notifyAllSubscribers(${n})`;this._debug(o,"begin",r,`broadcast = ${i}`);try{this.broadcastChannel&&i&&this.broadcastChannel.postMessage({event:n,session:r});const u=[],h=Array.from(this.stateChangeEmitters.values()).map(async d=>{try{await d.callback(n,r)}catch(p){u.push(p)}});if(await Promise.all(h),u.length>0){for(let d=0;d<u.length;d+=1)console.error(u[d]);throw u[0]}}finally{this._debug(o,"end")}}async _saveSession(n){this._debug("#_saveSession()",n),this.suppressGetSessionWarning=!0,await At(this.storage,`${this.storageKey}-code-verifier`);const r=Object.assign({},n),i=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!i&&r.user&&await dr(this.userStorage,this.storageKey+"-user",{user:r.user});const o=Object.assign({},r);delete o.user;const u=w0(o);await dr(this.storage,this.storageKey,u)}else{const o=w0(r);await dr(this.storage,this.storageKey,o)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await At(this.storage,this.storageKey),await At(this.storage,this.storageKey+"-code-verifier"),await At(this.storage,this.storageKey+"-user"),this.userStorage&&await At(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const n=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{n&&Ct()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",n)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const n=setInterval(()=>this._autoRefreshTokenTick(),fr);this.autoRefreshTicker=n,n&&typeof n=="object"&&typeof n.unref=="function"?n.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(n);const r=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=r,r&&typeof r=="object"&&typeof r.unref=="function"?r.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(r)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const n=this.autoRefreshTicker;this.autoRefreshTicker=null,n&&clearInterval(n);const r=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,r&&clearTimeout(r)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const n=Date.now();try{return await this._useSession(async r=>{const{data:{session:i}}=r;if(!i||!i.refresh_token||!i.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const o=Math.floor((i.expires_at*1e3-n)/fr);this._debug("#_autoRefreshTokenTick()",`access token expires in ${o} ticks, a tick lasts ${fr}ms, refresh threshold is ${mf} ticks`),o<=mf&&await this._callRefreshToken(i.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(n){if(n.isAcquireTimeout||n instanceof c_)this._debug("auto refresh token tick lock not available");else throw n}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Ct()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>{try{await this._onVisibilityChanged(!1)}catch(n){this._debug("#visibilityChangedCallback","error",n)}},window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(n){console.error("_handleVisibilityChange",n)}}async _onVisibilityChanged(n){const r=`#_onVisibilityChanged(${n})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),n||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(n,r,i){const o=[`provider=${encodeURIComponent(r)}`];if(i?.redirectTo&&o.push(`redirect_to=${encodeURIComponent(i.redirectTo)}`),i?.scopes&&o.push(`scopes=${encodeURIComponent(i.scopes)}`),this.flowType==="pkce"){const[u,h]=await ir(this.storage,this.storageKey),d=new URLSearchParams({code_challenge:`${encodeURIComponent(u)}`,code_challenge_method:`${encodeURIComponent(h)}`});o.push(d.toString())}if(i?.queryParams){const u=new URLSearchParams(i.queryParams);o.push(u.toString())}return i?.skipBrowserRedirect&&o.push(`skip_http_redirect=${i.skipBrowserRedirect}`),`${n}?${o.join("&")}`}async _unenroll(n){try{return await this._useSession(async r=>{var i;const{data:o,error:u}=r;return u?this._returnResult({data:null,error:u}):await ye(this.fetch,"DELETE",`${this.url}/factors/${n.factorId}`,{headers:this.headers,jwt:(i=o?.session)===null||i===void 0?void 0:i.access_token})})}catch(r){if(he(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(n){try{return await this._useSession(async r=>{var i,o;const{data:u,error:h}=r;if(h)return this._returnResult({data:null,error:h});const d=Object.assign({friendly_name:n.friendlyName,factor_type:n.factorType},n.factorType==="phone"?{phone:n.phone}:n.factorType==="totp"?{issuer:n.issuer}:{}),{data:p,error:m}=await ye(this.fetch,"POST",`${this.url}/factors`,{body:d,headers:this.headers,jwt:(i=u?.session)===null||i===void 0?void 0:i.access_token});return m?this._returnResult({data:null,error:m}):(n.factorType==="totp"&&p.type==="totp"&&(!((o=p?.totp)===null||o===void 0)&&o.qr_code)&&(p.totp.qr_code=`data:image/svg+xml;utf-8,${p.totp.qr_code}`),this._returnResult({data:p,error:null}))})}catch(r){if(he(r))return this._returnResult({data:null,error:r});throw r}}async _verify(n){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async r=>{var i;const{data:o,error:u}=r;if(u)return this._returnResult({data:null,error:u});const h=Object.assign({challenge_id:n.challengeId},"webauthn"in n?{webauthn:Object.assign(Object.assign({},n.webauthn),{credential_response:n.webauthn.type==="create"?$j(n.webauthn.credential_response):zj(n.webauthn.credential_response)})}:{code:n.code}),{data:d,error:p}=await ye(this.fetch,"POST",`${this.url}/factors/${n.factorId}/verify`,{body:h,headers:this.headers,jwt:(i=o?.session)===null||i===void 0?void 0:i.access_token});return p?this._returnResult({data:null,error:p}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+d.expires_in},d)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",d),this._returnResult({data:d,error:p}))})}catch(r){if(he(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(n){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async r=>{var i;const{data:o,error:u}=r;if(u)return this._returnResult({data:null,error:u});const h=await ye(this.fetch,"POST",`${this.url}/factors/${n.factorId}/challenge`,{body:n,headers:this.headers,jwt:(i=o?.session)===null||i===void 0?void 0:i.access_token});if(h.error)return h;const{data:d}=h;if(d.type!=="webauthn")return{data:d,error:null};switch(d.webauthn.type){case"create":return{data:Object.assign(Object.assign({},d),{webauthn:Object.assign(Object.assign({},d.webauthn),{credential_options:Object.assign(Object.assign({},d.webauthn.credential_options),{publicKey:Bj(d.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},d),{webauthn:Object.assign(Object.assign({},d.webauthn),{credential_options:Object.assign(Object.assign({},d.webauthn.credential_options),{publicKey:qj(d.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(he(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(n){const{data:r,error:i}=await this._challenge({factorId:n.factorId});return i?this._returnResult({data:null,error:i}):await this._verify({factorId:n.factorId,challengeId:r.id,code:n.code})}async _listFactors(){var n;const{data:{user:r},error:i}=await this.getUser();if(i)return{data:null,error:i};const o={all:[],phone:[],totp:[],webauthn:[]};for(const u of(n=r?.factors)!==null&&n!==void 0?n:[])o.all.push(u),u.status==="verified"&&o[u.factor_type].push(u);return{data:o,error:null}}async _getAuthenticatorAssuranceLevel(n){var r,i,o,u;if(n)try{const{payload:E}=Eo(n);let R=null;E.aal&&(R=E.aal);let j=R;const{data:{user:A},error:k}=await this.getUser(n);if(k)return this._returnResult({data:null,error:k});((i=(r=A?.factors)===null||r===void 0?void 0:r.filter(X=>X.status==="verified"))!==null&&i!==void 0?i:[]).length>0&&(j="aal2");const U=E.amr||[];return{data:{currentLevel:R,nextLevel:j,currentAuthenticationMethods:U},error:null}}catch(E){if(he(E))return this._returnResult({data:null,error:E});throw E}const{data:{session:h},error:d}=await this.getSession();if(d)return this._returnResult({data:null,error:d});if(!h)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:p}=Eo(h.access_token);let m=null;p.aal&&(m=p.aal);let b=m;((u=(o=h.user.factors)===null||o===void 0?void 0:o.filter(E=>E.status==="verified"))!==null&&u!==void 0?u:[]).length>0&&(b="aal2");const S=p.amr||[];return{data:{currentLevel:m,nextLevel:b,currentAuthenticationMethods:S},error:null}}async _getAuthorizationDetails(n){try{return await this._useSession(async r=>{const{data:{session:i},error:o}=r;return o?this._returnResult({data:null,error:o}):i?await ye(this.fetch,"GET",`${this.url}/oauth/authorizations/${n}`,{headers:this.headers,jwt:i.access_token,xform:u=>({data:u,error:null})}):this._returnResult({data:null,error:new tn})})}catch(r){if(he(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(n,r){try{return await this._useSession(async i=>{const{data:{session:o},error:u}=i;if(u)return this._returnResult({data:null,error:u});if(!o)return this._returnResult({data:null,error:new tn});const h=await ye(this.fetch,"POST",`${this.url}/oauth/authorizations/${n}/consent`,{headers:this.headers,jwt:o.access_token,body:{action:"approve"},xform:d=>({data:d,error:null})});return h.data&&h.data.redirect_url&&Ct()&&!r?.skipBrowserRedirect&&window.location.assign(h.data.redirect_url),h})}catch(i){if(he(i))return this._returnResult({data:null,error:i});throw i}}async _denyAuthorization(n,r){try{return await this._useSession(async i=>{const{data:{session:o},error:u}=i;if(u)return this._returnResult({data:null,error:u});if(!o)return this._returnResult({data:null,error:new tn});const h=await ye(this.fetch,"POST",`${this.url}/oauth/authorizations/${n}/consent`,{headers:this.headers,jwt:o.access_token,body:{action:"deny"},xform:d=>({data:d,error:null})});return h.data&&h.data.redirect_url&&Ct()&&!r?.skipBrowserRedirect&&window.location.assign(h.data.redirect_url),h})}catch(i){if(he(i))return this._returnResult({data:null,error:i});throw i}}async _listOAuthGrants(){try{return await this._useSession(async n=>{const{data:{session:r},error:i}=n;return i?this._returnResult({data:null,error:i}):r?await ye(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,xform:o=>({data:o,error:null})}):this._returnResult({data:null,error:new tn})})}catch(n){if(he(n))return this._returnResult({data:null,error:n});throw n}}async _revokeOAuthGrant(n){try{return await this._useSession(async r=>{const{data:{session:i},error:o}=r;return o?this._returnResult({data:null,error:o}):i?(await ye(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:i.access_token,query:{client_id:n.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new tn})})}catch(r){if(he(r))return this._returnResult({data:null,error:r});throw r}}async fetchJwk(n,r={keys:[]}){let i=r.keys.find(d=>d.kid===n);if(i)return i;const o=Date.now();if(i=this.jwks.keys.find(d=>d.kid===n),i&&this.jwks_cached_at+KR>o)return i;const{data:u,error:h}=await ye(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(h)throw h;return!u.keys||u.keys.length===0||(this.jwks=u,this.jwks_cached_at=o,i=u.keys.find(d=>d.kid===n),!i)?null:i}async getClaims(n,r={}){try{let i=n;if(!i){const{data:E,error:R}=await this.getSession();if(R||!E.session)return this._returnResult({data:null,error:R});i=E.session.access_token}const{header:o,payload:u,signature:h,raw:{header:d,payload:p}}=Eo(i);r?.allowExpired||gj(u.exp);const m=!o.alg||o.alg.startsWith("HS")||!o.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(o.kid,r?.keys?{keys:r.keys}:r?.jwks);if(!m){const{error:E}=await this.getUser(i);if(E)throw E;return{data:{claims:u,header:o,signature:h},error:null}}const b=yj(o.alg),_=await crypto.subtle.importKey("jwk",m,b,!0,["verify"]);if(!await crypto.subtle.verify(b,_,h,aj(`${d}.${p}`)))throw new vf("Invalid JWT signature");return{data:{claims:u,header:o,signature:h},error:null}}catch(i){if(he(i))return this._returnResult({data:null,error:i});throw i}}}Mi.nextInstanceID={};const Jj=Mi,Zj="2.95.3";let wi="";typeof Deno<"u"?wi="deno":typeof document<"u"?wi="web":typeof navigator<"u"&&navigator.product==="ReactNative"?wi="react-native":wi="node";const Qj={"X-Client-Info":`supabase-js-${wi}/${Zj}`},Xj={headers:Qj},Wj={schema:"public"},e2={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},t2={};function Ui(a){"@babel/helpers - typeof";return Ui=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Ui(a)}function n2(a,n){if(Ui(a)!="object"||!a)return a;var r=a[Symbol.toPrimitive];if(r!==void 0){var i=r.call(a,n);if(Ui(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(a)}function a2(a){var n=n2(a,"string");return Ui(n)=="symbol"?n:n+""}function s2(a,n,r){return(n=a2(n))in a?Object.defineProperty(a,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):a[n]=r,a}function R0(a,n){var r=Object.keys(a);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(a);n&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(a,o).enumerable})),r.push.apply(r,i)}return r}function it(a){for(var n=1;n<arguments.length;n++){var r=arguments[n]!=null?arguments[n]:{};n%2?R0(Object(r),!0).forEach(function(i){s2(a,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(r)):R0(Object(r)).forEach(function(i){Object.defineProperty(a,i,Object.getOwnPropertyDescriptor(r,i))})}return a}const r2=a=>a?(...n)=>a(...n):(...n)=>fetch(...n),i2=()=>Headers,l2=(a,n,r)=>{const i=r2(r),o=i2();return async(u,h)=>{var d;const p=(d=await n())!==null&&d!==void 0?d:a;let m=new o(h?.headers);return m.has("apikey")||m.set("apikey",a),m.has("Authorization")||m.set("Authorization",`Bearer ${p}`),i(u,it(it({},h),{},{headers:m}))}};function o2(a){return a.endsWith("/")?a:a+"/"}function u2(a,n){var r,i;const{db:o,auth:u,realtime:h,global:d}=a,{db:p,auth:m,realtime:b,global:_}=n,S={db:it(it({},p),o),auth:it(it({},m),u),realtime:it(it({},b),h),storage:{},global:it(it(it({},_),d),{},{headers:it(it({},(r=_?.headers)!==null&&r!==void 0?r:{}),(i=d?.headers)!==null&&i!==void 0?i:{})}),accessToken:async()=>""};return a.accessToken?S.accessToken=a.accessToken:delete S.accessToken,S}function c2(a){const n=a?.trim();if(!n)throw new Error("supabaseUrl is required.");if(!n.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(o2(n))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var h2=class extends Jj{constructor(a){super(a)}},f2=class{constructor(a,n,r){var i,o;this.supabaseUrl=a,this.supabaseKey=n;const u=c2(a);if(!n)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",u),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",u),this.storageUrl=new URL("storage/v1",u),this.functionsUrl=new URL("functions/v1",u);const h=`sb-${u.hostname.split(".")[0]}-auth-token`,d={db:Wj,realtime:t2,auth:it(it({},e2),{},{storageKey:h}),global:Xj},p=u2(r??{},d);if(this.storageKey=(i=p.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(o=p.global.headers)!==null&&o!==void 0?o:{},p.accessToken)this.accessToken=p.accessToken,this.auth=new Proxy({},{get:(b,_)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(_)} is not possible`)}});else{var m;this.auth=this._initSupabaseAuthClient((m=p.auth)!==null&&m!==void 0?m:{},this.headers,p.global.fetch)}this.fetch=l2(n,this._getAccessToken.bind(this),p.global.fetch),this.realtime=this._initRealtimeClient(it({headers:this.headers,accessToken:this._getAccessToken.bind(this)},p.realtime)),this.accessToken&&Promise.resolve(this.accessToken()).then(b=>this.realtime.setAuth(b)).catch(b=>console.warn("Failed to set initial Realtime auth token:",b)),this.rest=new ZC(new URL("rest/v1",u).href,{headers:this.headers,schema:p.db.schema,fetch:this.fetch,timeout:p.db.timeout,urlLengthLimit:p.db.urlLengthLimit}),this.storage=new VR(this.storageUrl.href,this.headers,this.fetch,r?.storage),p.accessToken||this._listenForAuthEvents()}get functions(){return new IC(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(a){return this.rest.from(a)}schema(a){return this.rest.schema(a)}rpc(a,n={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(a,n,r)}channel(a,n={config:{}}){return this.realtime.channel(a,n)}getChannels(){return this.realtime.getChannels()}removeChannel(a){return this.realtime.removeChannel(a)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var a=this,n,r;if(a.accessToken)return await a.accessToken();const{data:i}=await a.auth.getSession();return(n=(r=i.session)===null||r===void 0?void 0:r.access_token)!==null&&n!==void 0?n:a.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:a,persistSession:n,detectSessionInUrl:r,storage:i,userStorage:o,storageKey:u,flowType:h,lock:d,debug:p,throwOnError:m},b,_){const S={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new h2({url:this.authUrl.href,headers:it(it({},S),b),storageKey:u,autoRefreshToken:a,persistSession:n,detectSessionInUrl:r,storage:i,userStorage:o,flowType:h,lock:d,debug:p,throwOnError:m,fetch:_,hasCustomAuthorizationHeader:Object.keys(this.headers).some(E=>E.toLowerCase()==="authorization")})}_initRealtimeClient(a){return new dR(this.realtimeUrl.href,it(it({},a),{},{params:it(it({},{apikey:this.supabaseKey}),a?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((a,n)=>{this._handleTokenChanged(a,"CLIENT",n?.access_token)})}_handleTokenChanged(a,n,r){(a==="TOKEN_REFRESHED"||a==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):a==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const d2=(a,n,r)=>new f2(a,n,r);function p2(){if(typeof window<"u")return!1;const a=globalThis.process;if(!a)return!1;const n=a.version;if(n==null)return!1;const r=n.match(/^v(\d+)\./);return r?parseInt(r[1],10)<=18:!1}p2()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const m2="https://nogutkibukcnbxvmlnrv.supabase.co",g2="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im5vZ3V0a2lidWtjbmJ4dm1sbnJ2Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3Njg5ODY3NzMsImV4cCI6MjA4NDU2Mjc3M30.M3Of6SX4S95_9th8h6QJhVNiLeI3y0fEjEIDXDPjmvU",Ot=d2(m2,g2);function y2(){const{userId:a,isReady:n}=gd(),[r,i]=se.useState({syncId:null,assessmentId:null,loading:!0,error:null});return se.useEffect(()=>{if(!n)return;async function o(){try{const u=a;if(!u){const m=new URLSearchParams(window.location.search).get("syncId");if(m){i({syncId:m,assessmentId:null,loading:!1,error:null});return}i({syncId:null,assessmentId:null,loading:!1,error:null});return}const{data:h,error:d}=await Ot.from("session_sync").select("id, assessment_id").eq("practitioner_id",u.toString()).not("status","in",'("completed","cancelled")').order("created_at",{ascending:!1}).limit(1).maybeSingle();if(d){console.error("[useActiveSyncSession] DB error:",d),i({syncId:null,assessmentId:null,loading:!1,error:null});return}if(!h){i({syncId:null,assessmentId:null,loading:!1,error:null});return}i({syncId:h.id,assessmentId:h.assessment_id,loading:!1,error:null})}catch(u){const h=u instanceof Error?u.message:"  ";console.error("[useActiveSyncSession] Exception:",h),i({syncId:null,assessmentId:null,loading:!1,error:h})}}o()},[a,n]),r}const v2=new Set(["video_started","pose_detected","rom_measured","video_completed","photo_analyzed"]),b2=new Set(["pose_detected"]),_2=500;function bf(){return{romMeasurements:[],asymmetries:[],snapshots:[],quality:0,status:"recording"}}function w2(a,n){switch(n.type){case"video_started":return{...bf(),status:"recording"};case"rom_measured":{const r=n.payload;return{...a,romMeasurements:[...a.romMeasurements,r]}}case"pose_detected":{const r=n.payload;return{...a,asymmetries:r.asymmetries??a.asymmetries,quality:r.quality??a.quality}}case"video_completed":{const r=n.payload;return{romMeasurements:r.romMeasurements??a.romMeasurements,asymmetries:r.asymmetries??a.asymmetries,snapshots:r.snapshots??a.snapshots,quality:r.quality??a.quality,status:"completed"}}case"photo_analyzed":{const r=n.payload;return{...a,snapshots:[...a.snapshots,r]}}default:return a}}function bd(a){const[n,r]=se.useState(null),[i,o]=se.useState(!1),[u,h]=se.useState(null),[d,p]=se.useState(0),m=se.useRef(null),b=se.useRef(bf()),_=se.useRef(!0);se.useEffect(()=>{if(_.current=!0,!a){o(!1);return}b.current=bf(),r(null),p(0),h(null);const E=Ot.channel(`session-sync:${a}`).on("broadcast",{event:"sync"},A=>{if(!_.current)return;const k=A.payload;h(k.type),v2.has(k.type)&&(b.current=w2(b.current,k),b2.has(k.type)||r({...b.current}))}).subscribe((A,k)=>{_.current&&(A==="SUBSCRIBED"?(o(!0),p(0)):A==="CHANNEL_ERROR"||A==="TIMED_OUT"?(o(!1),p(O=>O+1),console.warn(`[useSessionSync] ${A}:`,k?.message)):A==="CLOSED"&&o(!1))});m.current=E;const R=setInterval(()=>{_.current&&b.current.status==="recording"&&r({...b.current})},_2);function j(){document.visibilityState==="visible"&&m.current&&console.log("[useSessionSync] Tab visible, reconnecting if needed")}return document.addEventListener("visibilitychange",j),()=>{_.current=!1,clearInterval(R),document.removeEventListener("visibilitychange",j),m.current=null,Ot.removeChannel(E)}},[a]);const S=se.useCallback(async(E,R)=>{const j=m.current;if(!j||!a){console.warn("[useSessionSync] sendEvent:    sessionSyncId");return}const A={sessionSyncId:a,source:"mini_app",type:E,payload:R,timestamp:Date.now()};await j.send({type:"broadcast",event:"sync",payload:A})},[a]);return{videoAiResults:n,isConnected:i,lastEvent:u,connectionAttempts:d,sendEvent:S}}const d_=se.createContext({syncId:null,assessmentId:null,sendEvent:async()=>{},isConnected:!1});function tu(){return se.useContext(d_)}class x2 extends se.Component{constructor(n){super(n),this.state={hasError:!1,error:null}}static getDerivedStateFromError(n){return{hasError:!0,error:n}}componentDidCatch(n,r){console.error("[ErrorBoundary]",n,r.componentStack)}handleRetry=()=>{this.setState({hasError:!1,error:null})};render(){return this.state.hasError?v.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",minHeight:"100vh",padding:"24px",textAlign:"center",backgroundColor:"var(--tg-theme-bg-color, #1c1c1e)",color:"var(--tg-theme-text-color, #fff)"},children:[v.jsx("div",{style:{fontSize:"48px",marginBottom:"16px"},children:""}),v.jsx("h2",{style:{fontSize:"18px",fontWeight:600,marginBottom:"8px"},children:"-   "}),v.jsx("p",{style:{fontSize:"14px",color:"var(--tg-theme-hint-color, #8e8e93)",marginBottom:"24px",maxWidth:"300px"},children:"  .  ."}),v.jsx("button",{type:"button",onClick:this.handleRetry,style:{padding:"12px 32px",borderRadius:"12px",border:"none",backgroundColor:"var(--tg-theme-button-color, #007aff)",color:"var(--tg-theme-button-text-color, #fff)",fontSize:"15px",fontWeight:600,cursor:"pointer"},children:" "})]}):this.props.children}}function S2({currentStep:a,totalSteps:n,labels:r}){const i=a/n*100;return v.jsxs("div",{className:"mb-5",children:[v.jsx("div",{className:"h-1.5 bg-gray-800 rounded-full overflow-hidden mb-3",children:v.jsx("div",{className:"h-full bg-blue-500 rounded-full transition-all duration-300",style:{width:`${i}%`}})}),v.jsx("div",{className:"flex justify-between",children:r.map((o,u)=>{const h=u+1,d=h===a,p=h<a;return v.jsxs("div",{className:`flex items-center gap-1 text-xs ${d?"text-blue-400 font-medium":p?"text-green-500":"text-gray-600"}`,children:[v.jsx("span",{className:`w-5 h-5 rounded-full flex items-center justify-center text-[10px] font-bold ${d?"bg-blue-600 text-white":p?"bg-green-600 text-white":"bg-gray-800 text-gray-500"}`,children:p?"":h}),v.jsx("span",{className:"hidden sm:inline",children:o})]},o)})})]})}const E2=["","",". "],T2=["  "," ","  ","  ","",""],A2=[" ","  "," / ","    ","  ",""," "," "," ()","   / "],j0=["today","week","month","3months+"],C2={today:"",week:"",month:"","3months+":" 3 "},p_="plemya_intake_draft";function R2(a){localStorage.setItem(p_,JSON.stringify({data:a,savedAt:new Date().toISOString()}))}function j2(){localStorage.removeItem(p_)}function O2(a){let n=0;for(const r of a.values()){const i=j0.indexOf(r.duration);i>n&&(n=i)}return C2[j0[n]]??""}function N2(){const{userName:a,userId:n,startParam:r,isReady:i}=gd(),{assessmentId:o,sendEvent:u}=tu(),h=ra(),d=$i(),p=Ji(),m=h.state,b=m?.bodyMapZones??[],_=new Map(m?.zoneDetails?Object.entries(m.zoneDetails):[]),[S,E]=se.useState(1),[R,j]=se.useState(""),[A,k]=se.useState([]),[O,U]=se.useState(""),[X,ee]=se.useState(""),[te,F]=se.useState(!1),[ie,H]=se.useState(null),[me,fe]=se.useState(!1),Ee=se.useCallback(P=>{k(Z=>Z.includes(P)?Z.filter(C=>C!==P):[...Z,P])},[]),Ne=P=>{switch(P){case 1:return R.trim().length>=3;case 2:return!0;case 3:return!0;default:return!1}},ge=()=>{const P=b.map(Z=>{const C=_.get(Z.zoneId);return{bodyArea:Z.anatomicalName,coordinates:Z.touchPoint,intensity:Z.intensity,painType:C?.painType??Z.painType,source:"mini_app"}});return{chiefComplaint:R,painZones:P,painSeverity:b.length>0?Math.max(...b.map(Z=>Z.intensity)):0,painDuration:O2(_),contraindications:A,medicalHistory:O,additionalNotes:X}},le=async()=>{F(!0),H(null);const P=ge();R2(P);try{let Z=null;if(n){const{data:D}=await Ot.from("practitioners").select("id").eq("telegram_id",String(n)).maybeSingle();Z=D?.id??null}const C=r??null;if(!Z||!C){console.warn("[IntakePage] Missing IDs  practitioner:",Z,"client:",C),H("  .   ."),fe(!0);return}const y={practitioner_id:Z,client_id:C,chief_complaint:P.chiefComplaint,pain_locations:P.painZones.map(D=>D.bodyArea),pain_severity:P.painSeverity,pain_duration:P.painDuration,additional_info:P.additionalNotes||null,contraindications:P.contraindications,status:"in_progress",channels_used:["mini_app"],engine_version:"2.0",subjective_data:{chiefComplaint:P.chiefComplaint,painZones:P.painZones,painSeverity:P.painSeverity,painDuration:P.painDuration,medicalHistory:P.medicalHistory||null,additionalInfo:P.additionalNotes||null}};let T=null;if(o){const{error:D}=await Ot.from("pre_session_assessments").update(y).eq("id",o);T=D}else{const{error:D}=await Ot.from("pre_session_assessments").insert(y);T=D}T?(console.error("[IntakePage] Supabase error:",T),H("  .    ."),fe(!0)):(j2(),u("intake_completed",{bodyZones:P.painZones.map(D=>D.bodyArea),complaints:P.chiefComplaint,contraindications:P.contraindications,timestamp:Date.now()}).catch(D=>{console.warn("[IntakePage] Failed to send intake_completed event:",D)}),d("/photo"))}catch(Z){console.error("[IntakePage] Submit exception:",Z),H("  .    ."),d("/photo")}finally{F(!1)}},$=()=>{S<3&&Ne(S)&&E(P=>P+1)},W=()=>{S>1&&E(P=>P-1)};return i?me?v.jsxs("div",{className:"p-4 text-center",children:[v.jsx("div",{className:"text-4xl mb-4",children:ie?"":""}),v.jsx("h2",{className:"text-xl font-bold mb-2",children:ie?" ":" "}),ie&&v.jsx("p",{className:"text-sm text-yellow-400 mb-4",children:ie}),v.jsx("p",{className:"text-gray-400 text-sm",children:ie?"     .":"   ."})]}):v.jsxs("div",{className:"p-4 pb-24",children:[v.jsx("h1",{className:"text-xl font-bold mb-1",children:" "}),v.jsxs("p",{className:"text-gray-400 text-sm mb-4",children:[": ",a]}),v.jsx(S2,{currentStep:S,totalSteps:3,labels:E2}),b.length>0&&v.jsxs("div",{className:"mb-4 p-3 bg-gray-800/50 border border-gray-700 rounded-lg",children:[v.jsxs("p",{className:"text-xs text-gray-400 mb-1",children:["  (",b.length,"):"]}),v.jsx("p",{className:"text-sm text-gray-300",children:b.map(P=>P.nameRu).join(", ")})]}),S===1&&v.jsxs("section",{className:"border border-gray-700 rounded-lg p-4",children:[v.jsx("h2",{className:"font-semibold mb-3",children:" "}),v.jsx("textarea",{value:R,onChange:P=>j(P.target.value),placeholder:"   ...",rows:4,className:"w-full bg-gray-800 border border-gray-700 rounded-lg px-3 py-2 text-sm resize-none focus:outline-none focus:border-blue-500 mb-3"}),v.jsx("div",{className:"flex flex-wrap gap-2",children:T2.map(P=>v.jsx("button",{type:"button",className:"px-3 py-1.5 rounded-full text-xs bg-gray-800 text-gray-300 border border-gray-700 active:bg-gray-700",onClick:()=>{j(Z=>Z.trim()?`${Z.trim()}, ${P.toLowerCase()}`:P)},children:P},P))}),R.trim().length>0&&R.trim().length<3&&v.jsx("p",{className:"text-xs text-red-400 mt-2",children:" 3 "})]}),S===2&&v.jsxs("section",{className:"border border-gray-700 rounded-lg p-4",children:[v.jsx("h2",{className:"font-semibold mb-3",children:""}),v.jsx("p",{className:"text-xs text-gray-500 mb-4",children:",     "}),v.jsx("div",{className:"space-y-2",children:A2.map(P=>{const Z=A.includes(P);return v.jsxs("label",{className:`flex items-center gap-3 p-3 rounded-lg border cursor-pointer transition-colors ${Z?"border-red-500/50 bg-red-500/10":"border-gray-700"}`,children:[v.jsx("input",{type:"checkbox",checked:Z,onChange:()=>Ee(P),className:"w-4 h-4 rounded border-gray-600 text-red-500 focus:ring-red-500 bg-gray-800"}),v.jsx("span",{className:"text-sm",children:P})]},P)})}),A.length>0&&v.jsxs("p",{className:"text-xs text-red-400 mt-3",children:[" : ",A.length]})]}),S===3&&v.jsxs("section",{className:"border border-gray-700 rounded-lg p-4 space-y-4",children:[v.jsx("h2",{className:"font-semibold mb-1",children:" "}),v.jsxs("div",{children:[v.jsxs("label",{className:"text-sm font-medium mb-1.5 block",children:[" ",v.jsx("span",{className:"text-gray-500 font-normal ml-1",children:"()"})]}),v.jsx("textarea",{value:O,onChange:P=>U(P.target.value),placeholder:" , , ...",rows:3,className:"w-full bg-gray-800 border border-gray-700 rounded-lg px-3 py-2 text-sm resize-none focus:outline-none focus:border-blue-500"})]}),v.jsxs("div",{children:[v.jsxs("label",{className:"text-sm font-medium mb-1.5 block",children:[" ",v.jsx("span",{className:"text-gray-500 font-normal ml-1",children:"()"})]}),v.jsx("textarea",{value:X,onChange:P=>ee(P.target.value),placeholder:", ,   ...",rows:3,className:"w-full bg-gray-800 border border-gray-700 rounded-lg px-3 py-2 text-sm resize-none focus:outline-none focus:border-blue-500"})]})]}),v.jsx("div",{className:"fixed bottom-0 left-0 right-0 bg-gray-900/95 backdrop-blur border-t border-gray-800 p-4",style:{paddingBottom:Math.max(16,p.bottom)},children:v.jsxs("div",{className:"flex gap-3 max-w-lg mx-auto",children:[S>1&&v.jsx("button",{type:"button",className:"flex-1 py-2.5 rounded-lg text-sm font-medium bg-gray-800 text-gray-300 border border-gray-700",onClick:W,children:"\\u2190 "}),S<3?v.jsx("button",{type:"button",className:`flex-1 py-2.5 rounded-lg text-sm font-medium transition-colors ${Ne(S)?"bg-blue-600 text-white":"bg-gray-800 text-gray-500 cursor-not-allowed"}`,disabled:!Ne(S),onClick:$,children:" \\u2192"}):v.jsx("button",{type:"button",className:`flex-1 py-2.5 rounded-lg text-sm font-medium transition-colors ${te?"bg-gray-700 text-gray-400 cursor-not-allowed":"bg-green-600 text-white"}`,disabled:te,onClick:le,children:te?"...":" "})]})})]}):v.jsx("div",{className:"p-4 text-center",children:"..."})}const O0={weights:{ai:.4,tests:.35,master:.25},overallConfidence:0,appliedModifiers:[],isLive:!1,lastUpdated:null},k2=1e3,L2=1e4,D2=5e3;function m_(a,n){const[r,i]=se.useState(O0),o=se.useRef(0),u=se.useRef(0),h=se.useRef(!0),d=se.useRef(null),p=se.useRef(!1),m=se.useCallback(_=>{const S=Date.now();S-o.current<k2||(o.current=S,h.current&&i(E=>({...E,..._,lastUpdated:S})))},[]),b=se.useCallback(async()=>{if(!(!n||!h.current))try{const{data:_,error:S}=await Ot.from("pre_session_assessments").select("trust_weights, overall_confidence, sources").eq("id",n).maybeSingle();if(S||!_)return;const E=_.trust_weights??O0.weights,R=_.overall_confidence??0,j=_.sources?.map(A=>A.id).filter(A=>!!A)??[];m({weights:E,overallConfidence:R,appliedModifiers:j})}catch{}},[n,m]);return se.useEffect(()=>{if(h.current=!0,u.current=0,p.current=!1,!a){n&&b();return}const _=Ot.channel(`trust-sync:${a}`).on("broadcast",{event:"sync"},E=>{if(!h.current)return;const R=E.payload;if(R.type==="assessment_generated"||R.type==="session_updated"){u.current=Date.now(),p.current=!1;const j=R.payload;j.trustWeights&&m({weights:j.trustWeights,overallConfidence:j.overallConfidence??r.overallConfidence,appliedModifiers:j.appliedModifiers??r.appliedModifiers,isLive:!0})}}).subscribe(E=>{h.current&&(E==="SUBSCRIBED"?(i(R=>({...R,isLive:!0})),u.current=Date.now()):(E==="CHANNEL_ERROR"||E==="TIMED_OUT")&&i(R=>({...R,isLive:!1})))});d.current=_;const S=setInterval(()=>{if(!h.current)return;Date.now()-u.current>L2&&n&&(p.current||(p.current=!0,i(R=>({...R,isLive:!1}))),b())},D2);return n&&b(),()=>{h.current=!1,clearInterval(S),d.current=null,Ot.removeChannel(_)}},[a,n,b,m,r.overallConfidence,r.appliedModifiers]),r}const N0={S:{bg:"bg-blue-500/20",text:"text-blue-400"},O:{bg:"bg-green-500/20",text:"text-green-400"},A:{bg:"bg-purple-500/20",text:"text-purple-400"},P:{bg:"bg-orange-500/20",text:"text-orange-400"}},M2={S:"Subjective",O:"Objective",A:"Assessment",P:"Plan"};function To({letter:a,title:n,hasData:r,children:i,defaultExpanded:o}){const[u,h]=se.useState(o??r),d=N0[a]??N0.S;return v.jsxs("div",{className:"border border-gray-700 rounded-lg overflow-hidden",children:[v.jsxs("button",{type:"button",onClick:()=>h(!u),className:"w-full flex items-center gap-3 p-3 hover:bg-gray-800/50 transition-colors",children:[v.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center font-bold text-sm ${d.bg} ${d.text}`,children:a}),v.jsxs("div",{className:"flex-1 text-left",children:[v.jsx("span",{className:"text-sm font-semibold text-gray-200",children:n}),v.jsx("span",{className:"text-xs text-gray-500 ml-2",children:M2[a]})]}),!r&&v.jsx("span",{className:"text-xs text-gray-600 px-2 py-0.5 rounded bg-gray-800",children:" "}),v.jsx("svg",{className:`w-4 h-4 text-gray-500 transition-transform flex-shrink-0 ${u?"rotate-180":""}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),u&&v.jsx("div",{className:"px-3 pb-3 border-t border-gray-700/50",children:r?v.jsx("div",{className:"pt-3",children:i}):v.jsxs("div",{className:"pt-3 text-center py-6",children:[v.jsx("p",{className:"text-sm text-gray-500",children:" ..."}),v.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"   "})]})})]})}const U2={video_good_quality:{icon:"",label:" ",description:"FPS  25,   0.8",effect:{ai:"up",tests:"none",master:"down"}},no_video:{icon:"",label:" ",description:"Video AI  ",effect:{ai:"down",tests:"up",master:"up"}},rom_stable_3plus:{icon:"",label:"3+ ROM ",description:"  ( < 5)",effect:{ai:"none",tests:"up",master:"none"}},master_senior:{icon:"",label:" ",description:"5+  ",effect:{ai:"none",tests:"none",master:"up"}},ai_confidence_high:{icon:"",label:"  AI",description:"AI confidence  85%",effect:{ai:"up",tests:"none",master:"none"}},ai_confidence_low:{icon:"",label:"  AI",description:"AI confidence < 50%",effect:{ai:"down",tests:"up",master:"up"}},returning_client:{icon:"",label:" ",description:"3+  ",effect:{ai:"up",tests:"up",master:"none"}},first_visit:{icon:"",label:" ",description:"  ",effect:{ai:"none",tests:"up",master:"down"}}};function Fh({direction:a}){return a==="none"?v.jsx("span",{className:"text-gray-600 text-[10px]",children:""}):a==="up"?v.jsx("span",{className:"text-green-400 text-[10px]",children:""}):v.jsx("span",{className:"text-red-400 text-[10px]",children:""})}function B2({appliedModifiers:a,isExpanded:n}){if(!n)return null;const r=a.length>0;return v.jsx("div",{className:"mt-3 pt-3 border-t border-gray-700 animate-[fadeIn_300ms_ease-in]",children:r?v.jsxs(v.Fragment,{children:[v.jsx("p",{className:"text-xs text-gray-500 mb-2",children:" "}),v.jsx("div",{className:"space-y-1.5",children:a.map(i=>{const o=U2[i];return o?v.jsxs("div",{className:"bg-gray-800/30 rounded px-2.5 py-2",children:[v.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[v.jsx("span",{className:"text-sm",children:o.icon}),v.jsx("span",{className:"text-xs font-medium text-gray-300 flex-1",children:o.label})]}),v.jsx("p",{className:"text-[11px] text-gray-500 mb-1.5 ml-6",children:o.description}),v.jsxs("div",{className:"flex gap-3 ml-6",children:[v.jsxs("div",{className:"flex items-center gap-1",children:[v.jsx("span",{className:"text-[10px] text-gray-600",children:"AI"}),v.jsx(Fh,{direction:o.effect.ai})]}),v.jsxs("div",{className:"flex items-center gap-1",children:[v.jsx("span",{className:"text-[10px] text-gray-600",children:""}),v.jsx(Fh,{direction:o.effect.tests})]}),v.jsxs("div",{className:"flex items-center gap-1",children:[v.jsx("span",{className:"text-[10px] text-gray-600",children:""}),v.jsx(Fh,{direction:o.effect.master})]})]})]},i):v.jsxs("div",{className:"text-xs text-gray-500 flex items-center gap-2 px-2 py-1.5 bg-gray-800/30 rounded",children:[v.jsx("span",{children:""}),v.jsx("span",{children:i})]},i)})})]}):v.jsx("p",{className:"text-xs text-gray-500",children:"   ( )"})})}const q2={AI:"  MediaPipe  Groq: , , AI-",:"ROM , ,  ",:"    "};function $2(a){return a>70?"text-green-400":a>=40?"text-yellow-400":"text-red-400"}function z2(a){return a>70?"bg-green-500":a>=40?"bg-yellow-500":"bg-red-500"}function H2(a){return a>=.5?"bg-green-400/15":a>=.3?"bg-yellow-400/15":"bg-gray-700/30"}function I2(a){return a>=.5?"text-green-400":a>=.3?"text-yellow-400":"text-gray-400"}function g_({weights:a,overallConfidence:n,appliedModifiers:r,isLive:i,lastUpdated:o}){const[u,h]=se.useState(!1),[d,p]=se.useState(!1),[m,b]=se.useState(null),_=se.useRef(n);se.useEffect(()=>{if(_.current!==n&&_.current!==0){p(!0);const j=setTimeout(()=>p(!1),1e3);return()=>clearTimeout(j)}_.current=n},[n]);const S=(n/10).toFixed(1),E=[{key:"AI",label:"AI",value:a.ai},{key:"",label:"",value:a.tests},{key:"",label:"",value:a.master}],R=o?`${Math.round((Date.now()-o)/1e3)} `:null;return v.jsxs("div",{className:"rounded-lg border border-gray-700 bg-gray-800/50 p-3",children:[v.jsxs("button",{type:"button",onClick:()=>h(!u),className:"w-full flex items-center justify-between mb-2",children:[v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx("span",{className:"text-sm font-medium text-gray-300",children:""}),i&&v.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-green-500 animate-pulse"})]}),v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsxs("span",{className:`text-sm font-bold transition-all duration-300 ${$2(n)} ${d?"animate-pulse scale-110":""}`,children:[S,"/10"]}),v.jsx("svg",{className:`w-4 h-4 text-gray-500 transition-transform duration-200 ${u?"rotate-180":""}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]})]}),v.jsx("div",{className:"h-1.5 bg-gray-700 rounded-full overflow-hidden mb-3",children:v.jsx("div",{className:`h-full rounded-full transition-all duration-500 ease-out ${z2(n)}`,style:{width:`${Math.min(n,100)}%`}})}),v.jsx("div",{className:"flex gap-2",children:E.map(({key:j,label:A,value:k})=>v.jsxs("div",{className:`flex-1 rounded-md px-2 py-1.5 text-center relative cursor-default transition-all duration-500 ${H2(k)}`,onMouseEnter:()=>b(j),onMouseLeave:()=>b(null),onTouchStart:()=>b(m===j?null:j),children:[v.jsx("div",{className:"text-xs text-gray-400",children:A}),v.jsxs("div",{className:`text-sm font-semibold transition-all duration-500 ${I2(k)}`,children:[Math.round(k*100),"%"]}),m===j&&v.jsxs("div",{className:"absolute bottom-full left-1/2 -translate-x-1/2 mb-1.5 px-2.5 py-1.5 bg-gray-900 border border-gray-600 rounded-md text-[11px] text-gray-300 whitespace-nowrap z-10 shadow-lg",children:[q2[j],v.jsx("div",{className:"absolute top-full left-1/2 -translate-x-1/2 w-2 h-2 bg-gray-900 border-r border-b border-gray-600 rotate-45 -mt-1"})]})]},j))}),R&&v.jsxs("p",{className:"text-[10px] text-gray-600 mt-2 text-right",children:[" ",R]}),v.jsx(B2,{appliedModifiers:r??[],isExpanded:u})]})}function _f(a){return a<=0?"transparent":a<=3?"#22c55e":a<=6?"#eab308":a<=9?"#f97316":"#ef4444"}function V2(a){return a<=0?0:.25+a/10*.55}const y_="M100,8 C114,8 122,18 122,32 C122,44 116,52 110,56 L108,62 L108,68 L140,76 L156,82 L160,90 L162,130 L160,160 L156,178 L148,178 L150,160 L152,130 L148,92 L136,94 L134,140 L136,180 L138,200 L136,210 L130,240 L128,280 L130,310 L132,340 L134,370 L138,385 L120,385 L122,370 L118,340 L116,310 L112,280 L108,250 L106,220 L100,210 L94,220 L92,250 L88,280 L84,310 L82,340 L78,370 L80,385 L62,385 L66,370 L68,340 L70,310 L72,280 L70,240 L64,210 L62,200 L64,180 L66,140 L64,94 L52,92 L48,130 L50,160 L52,178 L44,178 L40,160 L38,130 L40,90 L44,82 L60,76 L92,68 L92,62 L90,56 C84,52 78,44 78,32 C78,18 86,8 100,8 Z",F2=y_,v_=[{id:"head",nameRu:"",anatomicalName:"Cranium",pathData:"M100,10 C113,10 120,19 120,32 C120,43 114,51 108,55 L92,55 C86,51 80,43 80,32 C80,19 87,10 100,10 Z",center:{x:100,y:33},views:["front"],relatedAnatomy:["temporal","frontal","parietal"]},{id:"neck_front",nameRu:"",anatomicalName:"Anterior cervical",pathData:"M92,55 L108,55 L109,68 L91,68 Z",center:{x:100,y:62},views:["front"],relatedAnatomy:["sternocleidomastoid","scalenes"]},{id:"shoulder_left",nameRu:" ",anatomicalName:"Left shoulder (deltoid)",pathData:"M91,68 L66,76 L56,84 L52,92 L64,92 L68,80 L91,74 Z",center:{x:72,y:80},views:["front"],relatedAnatomy:["deltoid","rotator_cuff","acromioclavicular"]},{id:"shoulder_right",nameRu:" ",anatomicalName:"Right shoulder (deltoid)",pathData:"M109,68 L134,76 L144,84 L148,92 L136,92 L132,80 L109,74 Z",center:{x:128,y:80},views:["front"],relatedAnatomy:["deltoid","rotator_cuff","acromioclavicular"]},{id:"chest_left",nameRu:" ",anatomicalName:"Left pectoralis",pathData:"M68,80 L91,74 L100,74 L100,130 L66,130 L64,92 L68,80 Z",center:{x:82,y:102},views:["front"],relatedAnatomy:["pectoralis_major","intercostals"]},{id:"chest_right",nameRu:" ",anatomicalName:"Right pectoralis",pathData:"M132,80 L109,74 L100,74 L100,130 L134,130 L136,92 L132,80 Z",center:{x:118,y:102},views:["front"],relatedAnatomy:["pectoralis_major","intercostals"]},{id:"abdomen_upper",nameRu:" ",anatomicalName:"Upper abdomen (epigastric)",pathData:"M66,130 L134,130 L134,165 L66,165 Z",center:{x:100,y:148},views:["front"],relatedAnatomy:["rectus_abdominis","obliques"]},{id:"abdomen_lower",nameRu:" ",anatomicalName:"Lower abdomen (hypogastric)",pathData:"M66,165 L134,165 L136,200 L64,200 Z",center:{x:100,y:182},views:["front"],relatedAnatomy:["rectus_abdominis","iliopsoas"]},{id:"upper_arm_left",nameRu:"  ()",anatomicalName:"Left upper arm (biceps/triceps)",pathData:"M52,92 L64,92 L60,130 L56,150 L44,150 L42,130 L48,92 Z",center:{x:53,y:120},views:["front"],relatedAnatomy:["biceps","triceps","brachialis"]},{id:"upper_arm_right",nameRu:"  ()",anatomicalName:"Right upper arm (biceps/triceps)",pathData:"M148,92 L136,92 L140,130 L144,150 L156,150 L158,130 L152,92 Z",center:{x:147,y:120},views:["front"],relatedAnatomy:["biceps","triceps","brachialis"]},{id:"forearm_left",nameRu:" ",anatomicalName:"Left forearm",pathData:"M44,150 L56,150 L54,175 L50,178 L40,178 L38,175 Z",center:{x:48,y:165},views:["front"],relatedAnatomy:["flexors","extensors","brachioradialis"]},{id:"forearm_right",nameRu:" ",anatomicalName:"Right forearm",pathData:"M156,150 L144,150 L146,175 L150,178 L160,178 L162,175 Z",center:{x:152,y:165},views:["front"],relatedAnatomy:["flexors","extensors","brachioradialis"]},{id:"thigh_left",nameRu:" ",anatomicalName:"Left thigh (quadriceps)",pathData:"M64,200 L100,208 L100,296 L88,296 L80,280 L72,250 L64,220 Z",center:{x:82,y:248},views:["front"],relatedAnatomy:["quadriceps","adductors","IT_band"]},{id:"thigh_right",nameRu:" ",anatomicalName:"Right thigh (quadriceps)",pathData:"M136,200 L100,208 L100,296 L112,296 L120,280 L128,250 L136,220 Z",center:{x:118,y:248},views:["front"],relatedAnatomy:["quadriceps","adductors","IT_band"]},{id:"knee_left",nameRu:" ",anatomicalName:"Left knee",pathData:"M80,296 L100,296 L100,318 L78,318 Z",center:{x:90,y:307},views:["front"],relatedAnatomy:["patella","meniscus","collateral_ligaments"]},{id:"knee_right",nameRu:" ",anatomicalName:"Right knee",pathData:"M100,296 L120,296 L122,318 L100,318 Z",center:{x:110,y:307},views:["front"],relatedAnatomy:["patella","meniscus","collateral_ligaments"]},{id:"shin_left",nameRu:" ",anatomicalName:"Left shin (tibialis anterior)",pathData:"M78,318 L100,318 L98,370 L96,385 L78,385 L76,370 L74,340 Z",center:{x:88,y:352},views:["front"],relatedAnatomy:["tibialis_anterior","peroneus"]},{id:"shin_right",nameRu:" ",anatomicalName:"Right shin (tibialis anterior)",pathData:"M100,318 L122,318 L126,340 L124,370 L122,385 L104,385 L102,370 Z",center:{x:112,y:352},views:["front"],relatedAnatomy:["tibialis_anterior","peroneus"]}],b_=[{id:"neck_back",nameRu:" ()",anatomicalName:"Posterior cervical",pathData:"M92,55 L108,55 L110,72 L90,72 Z",center:{x:100,y:63},views:["back"],relatedAnatomy:["trapezius_upper","levator_scapulae","suboccipital"]},{id:"trapezius_left",nameRu:" ",anatomicalName:"Left trapezius",pathData:"M90,72 L100,72 L100,94 L76,94 L64,84 L74,76 Z",center:{x:84,y:83},views:["back"],relatedAnatomy:["trapezius","rhomboids"]},{id:"trapezius_right",nameRu:" ",anatomicalName:"Right trapezius",pathData:"M110,72 L100,72 L100,94 L124,94 L136,84 L126,76 Z",center:{x:116,y:83},views:["back"],relatedAnatomy:["trapezius","rhomboids"]},{id:"scapula_left",nameRu:" ",anatomicalName:"Left scapula",pathData:"M76,94 L100,94 L100,140 L66,140 L64,110 Z",center:{x:82,y:117},views:["back"],relatedAnatomy:["infraspinatus","teres_major","rhomboids"]},{id:"scapula_right",nameRu:" ",anatomicalName:"Right scapula",pathData:"M124,94 L100,94 L100,140 L134,140 L136,110 Z",center:{x:118,y:117},views:["back"],relatedAnatomy:["infraspinatus","teres_major","rhomboids"]},{id:"spine_upper",nameRu:" ",anatomicalName:"Thoracic spine (upper)",pathData:"M95,72 L105,72 L105,110 L95,110 Z",center:{x:100,y:91},views:["back"],relatedAnatomy:["thoracic_vertebrae_T1_T4","spinous_processes"]},{id:"spine_mid",nameRu:" ",anatomicalName:"Thoracic spine (mid)",pathData:"M95,110 L105,110 L105,150 L95,150 Z",center:{x:100,y:130},views:["back"],relatedAnatomy:["thoracic_vertebrae_T5_T8","erector_spinae"]},{id:"spine_lower",nameRu:" ",anatomicalName:"Thoracic spine (lower)",pathData:"M95,150 L105,150 L105,180 L95,180 Z",center:{x:100,y:165},views:["back"],relatedAnatomy:["thoracic_vertebrae_T9_T12","erector_spinae"]},{id:"lower_back",nameRu:"",anatomicalName:"Lumbar spine",pathData:"M70,140 L95,140 L95,200 L64,200 Z",center:{x:80,y:170},views:["back"],relatedAnatomy:["lumbar_vertebrae","quadratus_lumborum","erector_spinae"]},{id:"lower_back_right",nameRu:" ",anatomicalName:"Right lumbar",pathData:"M105,140 L130,140 L136,200 L105,200 Z",center:{x:120,y:170},views:["back"],relatedAnatomy:["lumbar_vertebrae","quadratus_lumborum","erector_spinae"]},{id:"glute_left",nameRu:" ",anatomicalName:"Left gluteus",pathData:"M64,200 L100,200 L100,230 L70,240 L62,220 Z",center:{x:80,y:218},views:["back"],relatedAnatomy:["gluteus_maximus","gluteus_medius","piriformis"]},{id:"glute_right",nameRu:" ",anatomicalName:"Right gluteus",pathData:"M136,200 L100,200 L100,230 L130,240 L138,220 Z",center:{x:120,y:218},views:["back"],relatedAnatomy:["gluteus_maximus","gluteus_medius","piriformis"]},{id:"hamstring_left",nameRu:"  ",anatomicalName:"Left hamstring",pathData:"M70,240 L100,230 L100,300 L82,300 L76,270 Z",center:{x:86,y:265},views:["back"],relatedAnatomy:["biceps_femoris","semitendinosus","semimembranosus"]},{id:"hamstring_right",nameRu:"  ",anatomicalName:"Right hamstring",pathData:"M130,240 L100,230 L100,300 L118,300 L124,270 Z",center:{x:114,y:265},views:["back"],relatedAnatomy:["biceps_femoris","semitendinosus","semimembranosus"]},{id:"calf_left",nameRu:" ",anatomicalName:"Left calf (gastrocnemius)",pathData:"M82,300 L100,300 L98,370 L96,385 L78,385 L76,370 L78,330 Z",center:{x:88,y:342},views:["back"],relatedAnatomy:["gastrocnemius","soleus","achilles_tendon"]},{id:"calf_right",nameRu:" ",anatomicalName:"Right calf (gastrocnemius)",pathData:"M100,300 L118,300 L122,330 L124,370 L122,385 L104,385 L102,370 Z",center:{x:112,y:342},views:["back"],relatedAnatomy:["gastrocnemius","soleus","achilles_tendon"]}],SO=new Map([...v_,...b_].map(a=>[a.id,a]));function P2({view:a,zones:n,onZoneClick:r,selectedZoneId:i}){const o=a==="front"?v_:b_,u=a==="front"?y_:F2,h=new Map(n.map(d=>[d.zoneId,d.intensity]));return v.jsxs("svg",{viewBox:"0 0 200 400",className:"w-full max-w-xs mx-auto select-none",role:"img","aria-label":a==="front"?"  ":"  ",children:[v.jsx("path",{d:u,fill:"none",stroke:"currentColor",strokeWidth:"0.5",opacity:"0.2"}),o.map(d=>{const p=h.get(d.id)??0,m=d.id===i,b=p>0;return v.jsx("path",{d:d.pathData,"data-zone-id":d.id,fill:b?_f(p):"transparent",fillOpacity:b?V2(p):0,stroke:m?"#3b82f6":b?_f(p):"rgba(255,255,255,0.12)",strokeWidth:m?2:1,className:["cursor-pointer transition-all duration-200",m?"animate-pulse":""].join(" "),onClick:()=>r(d.id),onTouchEnd:_=>{_.preventDefault(),r(d.id)},role:"button","aria-label":d.nameRu},d.id)}),v.jsx("text",{x:"100",y:"396",textAnchor:"middle",fill:"currentColor",fontSize:"10",opacity:"0.4",children:a==="front"?"":""})]})}const G2={sharp:"",dull:"",burning:"",aching:"",throbbing:"",other:""},Y2={today:"",week:"",month:"","3months+":"3+ "};function K2({severity:a}){const n={mild:"bg-green-500/20 text-green-400",moderate:"bg-yellow-500/20 text-yellow-400",severe:"bg-red-500/20 text-red-400"},r={mild:"",moderate:"",severe:""};return v.jsx("span",{className:`text-xs px-2 py-0.5 rounded ${n[a]??"bg-gray-700 text-gray-400"}`,children:r[a]??a})}function J2(){const[a]=Cf(),n=$i(),r=Ji(),i=tu(),o=a.get("assessmentId")||i.assessmentId,u=a.get("sessionSyncId")||i.syncId,{videoAiResults:h,lastEvent:d}=bd(u),p=m_(u,o),[m,b]=se.useState(null),[_,S]=se.useState(!0),[E,R]=se.useState(null),j=se.useCallback(async()=>{if(!o){R(" assessmentId"),S(!1);return}try{const{data:H,error:me}=await Ot.from("pre_session_assessments").select("id, status, chief_complaint, subjective_data, objective_data, structured_assessment, plan_data, trust_weights, overall_confidence, channels_used, sources").eq("id",o).maybeSingle();if(me){console.error("[AssessmentPage] DB error:",me),R("  ");return}if(!H){R("Assessment  ");return}b(H)}catch(H){console.error("[AssessmentPage] Unexpected error:",H),R(" ")}finally{S(!1)}},[o]);se.useEffect(()=>{j()},[j]),se.useEffect(()=>{(d==="assessment_updated"||d==="plan_approved")&&j()},[d,j]);const A=m?.subjective_data??null,k=m?.objective_data??null,O=m?.structured_assessment??null,U=m?.plan_data??null,X=p.lastUpdated?p.weights:m?.trust_weights??{ai:.4,tests:.35,master:.25},ee=p.lastUpdated?p.overallConfidence:m?.overall_confidence??0,te=p.lastUpdated?p.appliedModifiers:m?.sources?.map(H=>H.id).filter(H=>!!H)??[],F=[...k?.romMeasurements??[],...h?.romMeasurements?.map(H=>({joint:H.joint,movement:H.movement,degrees:H.degrees,normalRange:{min:0,max:180},source:"video_ai",confidence:H.confidence}))??[]],ie=(A?.painZones??[]).map(H=>({zoneId:H.bodyArea,nameRu:H.bodyArea,anatomicalName:H.bodyArea,touchPoint:H.coordinates??{x:0,y:0},intensity:H.intensity,painType:H.painType}));return _?v.jsx("div",{className:"flex items-center justify-center min-h-screen",children:v.jsxs("div",{className:"text-center",children:[v.jsx("div",{className:"w-8 h-8 border-2 border-blue-400 border-t-transparent rounded-full animate-spin mx-auto mb-3"}),v.jsx("p",{className:"text-sm text-gray-400",children:" ..."})]})}):E?v.jsx("div",{className:"flex items-center justify-center min-h-screen p-4",children:v.jsxs("div",{className:"text-center max-w-sm",children:[v.jsx("p",{className:"text-red-400 mb-2",children:E}),v.jsx("button",{type:"button",onClick:()=>n(-1),className:"text-sm text-blue-400 underline",children:""})]})}):v.jsxs("div",{className:"p-4 pb-24 min-h-screen",children:[v.jsxs("div",{className:"flex items-center justify-between mb-4",children:[v.jsx("h1",{className:"text-xl font-bold",children:"SOAP "}),m?.status&&v.jsx("span",{className:"text-xs px-2 py-1 rounded bg-gray-800 text-gray-400",children:m.status})]}),m?.channels_used&&m.channels_used.length>0&&v.jsx("div",{className:"flex gap-1.5 mb-4",children:m.channels_used.map(H=>v.jsx("span",{className:"text-xs px-2 py-0.5 rounded bg-blue-500/10 text-blue-400",children:H},H))}),ee>0&&ee<40&&v.jsxs("div",{className:"mb-4 p-3 rounded-lg bg-red-500/10 border border-red-500/30 flex items-start gap-2",children:[v.jsx("span",{className:"text-red-400 text-lg leading-none mt-0.5",children:"!"}),v.jsxs("div",{children:[v.jsx("p",{className:"text-sm font-medium text-red-400",children:"  AI"}),v.jsx("p",{className:"text-xs text-red-400/70 mt-0.5",children:"   "})]})]}),v.jsxs("div",{className:"space-y-3",children:[v.jsxs(To,{letter:"S",title:" ",hasData:!!A?.chiefComplaint||(A?.painZones?.length??0)>0,defaultExpanded:!0,children:[A?.chiefComplaint&&v.jsxs("div",{className:"mb-3",children:[v.jsx("p",{className:"text-xs text-gray-500 mb-1",children:" "}),v.jsx("p",{className:"text-sm text-gray-200",children:A.chiefComplaint})]}),ie.length>0&&v.jsxs("div",{className:"mb-3",children:[v.jsx("p",{className:"text-xs text-gray-500 mb-1",children:" "}),v.jsx("div",{className:"h-48 flex justify-center",children:v.jsx(P2,{view:"front",zones:ie,onZoneClick:()=>{}})})]}),(A?.painZones?.length??0)>0&&v.jsxs("div",{className:"mb-3",children:[v.jsx("p",{className:"text-xs text-gray-500 mb-1",children:" "}),v.jsx("div",{className:"space-y-1.5",children:A.painZones.map((H,me)=>v.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[v.jsx("div",{className:"w-3 h-3 rounded-full flex-shrink-0",style:{backgroundColor:_f(H.intensity)}}),v.jsx("span",{className:"text-gray-300",children:H.bodyArea}),v.jsxs("span",{className:"text-gray-500",children:["NRS ",H.intensity,"/10"]}),H.painType&&v.jsx("span",{className:"text-xs text-gray-600",children:G2[H.painType]??H.painType})]},`${H.bodyArea}-${me}`))})]}),v.jsxs("div",{className:"flex gap-4 text-sm",children:[A?.painSeverity!=null&&v.jsxs("div",{children:[v.jsx("span",{className:"text-gray-500",children:": "}),v.jsxs("span",{className:"text-gray-300",children:[A.painSeverity,"/10"]})]}),A?.painDuration&&v.jsxs("div",{children:[v.jsx("span",{className:"text-gray-500",children:": "}),v.jsx("span",{className:"text-gray-300",children:Y2[A.painDuration]??A.painDuration})]})]}),A?.medicalHistory&&v.jsxs("div",{className:"mt-3",children:[v.jsx("p",{className:"text-xs text-gray-500 mb-1",children:""}),v.jsx("p",{className:"text-sm text-gray-400",children:A.medicalHistory})]})]}),v.jsxs(To,{letter:"O",title:" ",hasData:F.length>0||(k?.photos?.length??0)>0,defaultExpanded:!0,children:[F.length>0&&v.jsxs("div",{className:"mb-3",children:[v.jsx("p",{className:"text-xs text-gray-500 mb-2",children:"ROM "}),v.jsx("div",{className:"overflow-x-auto",children:v.jsxs("table",{className:"w-full text-xs",children:[v.jsx("thead",{children:v.jsxs("tr",{className:"text-gray-500 border-b border-gray-700",children:[v.jsx("th",{className:"text-left py-1 pr-2",children:""}),v.jsx("th",{className:"text-left py-1 pr-2",children:""}),v.jsx("th",{className:"text-right py-1 pr-2",children:""}),v.jsx("th",{className:"text-right py-1",children:""})]})}),v.jsx("tbody",{children:F.map((H,me)=>{const fe=H.degrees>=H.normalRange.min&&H.degrees<=H.normalRange.max;return v.jsxs("tr",{className:"border-b border-gray-800",children:[v.jsx("td",{className:"py-1.5 pr-2 text-gray-300",children:H.joint}),v.jsx("td",{className:"py-1.5 pr-2 text-gray-400",children:H.movement}),v.jsxs("td",{className:`py-1.5 pr-2 text-right font-medium ${fe?"text-green-400":"text-red-400"}`,children:[H.degrees,""]}),v.jsxs("td",{className:"py-1.5 text-right text-gray-500",children:[H.normalRange.min,"-",H.normalRange.max,""]})]},`${H.joint}-${H.movement}-${me}`)})})]})})]}),(h?.asymmetries?.length??0)>0&&v.jsxs("div",{className:"mb-3",children:[v.jsx("p",{className:"text-xs text-gray-500 mb-2",children:""}),v.jsx("div",{className:"space-y-1",children:h.asymmetries.map((H,me)=>v.jsxs("div",{className:"flex items-center justify-between text-xs bg-gray-800/50 rounded px-2 py-1.5",children:[v.jsx("span",{className:"text-gray-300",children:H.joint}),v.jsxs("div",{className:"flex gap-3 text-gray-400",children:[v.jsxs("span",{children:["L: ",H.leftDegrees,""]}),v.jsxs("span",{children:["R: ",H.rightDegrees,""]}),v.jsxs("span",{className:Math.abs(H.leftDegrees-H.rightDegrees)>10?"text-yellow-400":"text-green-400",children:["",Math.abs(H.leftDegrees-H.rightDegrees),""]})]})]},`${H.joint}-${me}`))})]}),(k?.photos?.length??0)>0&&v.jsxs("div",{className:"mb-3",children:[v.jsx("p",{className:"text-xs text-gray-500 mb-2",children:""}),v.jsx("div",{className:"grid grid-cols-3 gap-2",children:k.photos.map(H=>v.jsx("div",{className:"aspect-[3/4] rounded-lg bg-gray-800 overflow-hidden",children:H.fileUrl?v.jsx("img",{src:H.fileUrl,alt:H.viewAngle,className:"w-full h-full object-cover"}):v.jsx("div",{className:"w-full h-full flex items-center justify-center text-xs text-gray-600",children:H.viewAngle})},H.viewAngle))})]}),k?.practitionerNotes&&v.jsxs("div",{children:[v.jsx("p",{className:"text-xs text-gray-500 mb-1",children:" "}),v.jsx("p",{className:"text-sm text-gray-400",children:k.practitionerNotes})]})]}),v.jsxs(To,{letter:"A",title:"AI ",hasData:!!O?.text||!!O?.structured,children:[v.jsx("div",{className:"mb-3",children:v.jsx(g_,{weights:X,overallConfidence:ee,appliedModifiers:te,isLive:p.isLive,lastUpdated:p.lastUpdated})}),O?.text&&v.jsx("div",{className:"mb-3",children:v.jsx("p",{className:"text-sm text-gray-300",children:O.text})}),O?.structured&&v.jsxs(v.Fragment,{children:[O.structured.primaryDiagnosis&&v.jsxs("div",{className:"mb-3 p-2 rounded bg-purple-500/10 border border-purple-500/20",children:[v.jsx("p",{className:"text-xs text-purple-400 mb-0.5",children:" "}),v.jsx("p",{className:"text-sm text-gray-200",children:O.structured.primaryDiagnosis})]}),O.structured.problems?.length>0&&v.jsxs("div",{className:"mb-3",children:[v.jsx("p",{className:"text-xs text-gray-500 mb-1.5",children:""}),v.jsx("div",{className:"space-y-1.5",children:O.structured.problems.map((H,me)=>v.jsxs("div",{className:"text-sm bg-gray-800/50 rounded px-2 py-1.5",children:[v.jsxs("div",{className:"flex items-center gap-2 mb-0.5",children:[v.jsx("span",{className:"text-gray-200",children:H.name}),v.jsx(K2,{severity:H.severity})]}),v.jsxs("p",{className:"text-xs text-gray-500",children:[H.bodyArea,"  ",H.evidence]})]},`problem-${me}`))})]}),O.structured.recommendations?.length>0&&v.jsxs("div",{className:"mb-3",children:[v.jsx("p",{className:"text-xs text-gray-500 mb-1",children:""}),v.jsx("ul",{className:"space-y-0.5",children:O.structured.recommendations.map((H,me)=>v.jsxs("li",{className:"text-sm text-gray-400 flex gap-1.5",children:[v.jsx("span",{className:"text-green-400",children:""}),v.jsx("span",{children:H})]},`rec-${me}`))})]}),O.structured.contraindications?.length>0&&v.jsxs("div",{className:"mb-3",children:[v.jsx("p",{className:"text-xs text-gray-500 mb-1",children:""}),v.jsx("ul",{className:"space-y-0.5",children:O.structured.contraindications.map((H,me)=>v.jsxs("li",{className:"text-sm text-red-400 flex gap-1.5",children:[v.jsx("span",{children:"!"}),v.jsx("span",{children:H})]},`contra-${me}`))})]})]}),(O?.riskFlags?.length??0)>0&&v.jsxs("div",{className:"mb-3",children:[v.jsx("p",{className:"text-xs text-gray-500 mb-1",children:" "}),O.riskFlags.map((H,me)=>v.jsx("div",{className:"mb-1 p-2 rounded bg-red-500/10 border border-red-500/20 text-sm text-red-300",children:H},`flag-${me}`))]}),O?.llmModel&&v.jsxs("p",{className:"text-xs text-gray-600",children:[": ",O.llmModel," | Confidence: ",O.aiConfidence,"%"]})]}),v.jsxs(To,{letter:"P",title:" ",hasData:!!U?.treatmentPlan,children:[U?.treatmentPlan&&v.jsxs(v.Fragment,{children:[v.jsxs("div",{className:"flex items-center justify-between mb-3",children:[v.jsxs("span",{className:"text-sm text-gray-400",children:[" : ",U.treatmentPlan.totalDuration," "]}),U.approvedByPractitioner&&v.jsx("span",{className:"text-xs px-2 py-0.5 rounded bg-green-500/20 text-green-400",children:""})]}),v.jsx("div",{className:"space-y-2 mb-3",children:U.treatmentPlan.blocks.map(H=>v.jsxs("div",{className:"bg-gray-800/50 rounded-lg p-2.5",children:[v.jsxs("div",{className:"flex items-center justify-between mb-1",children:[v.jsxs("span",{className:"text-sm font-medium text-gray-200",children:[" ",H.phase,": ",H.name]}),v.jsxs("span",{className:"text-xs text-gray-500",children:[H.duration," "]})]}),H.bodyArea&&v.jsxs("span",{className:"text-xs text-gray-500 block mb-1",children:[": ",H.bodyArea]}),H.techniques.length>0&&v.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:H.techniques.map((me,fe)=>v.jsx("span",{className:"text-xs px-1.5 py-0.5 rounded bg-blue-500/10 text-blue-400",children:me},`tech-${fe}`))})]},`block-${H.phase}`))}),U.treatmentPlan.clientSummary&&v.jsxs("div",{className:"mb-3",children:[v.jsx("p",{className:"text-xs text-gray-500 mb-1",children:""}),v.jsx("p",{className:"text-sm text-gray-400",children:U.treatmentPlan.clientSummary})]})]}),(U?.contraindications?.length??0)>0&&v.jsxs("div",{className:"mb-3",children:[v.jsx("p",{className:"text-xs text-gray-500 mb-1",children:""}),v.jsx("div",{className:"flex flex-wrap gap-1",children:U.contraindications.map((H,me)=>v.jsx("span",{className:"text-xs px-2 py-0.5 rounded bg-red-500/10 text-red-400",children:H},`pc-${me}`))})]}),v.jsx("button",{type:"button",onClick:()=>{const H=new URLSearchParams;o&&H.set("assessmentId",o),u&&H.set("sessionSyncId",u),n(`/plan?${H.toString()}`)},className:"w-full py-2.5 rounded-lg bg-orange-600 text-white text-sm font-semibold active:bg-orange-700 transition-colors",children:U?.treatmentPlan?" ":" "})]})]}),v.jsx("div",{className:"fixed bottom-0 left-0 right-0 p-4 bg-gray-900/95 border-t border-gray-800 backdrop-blur-sm",style:{paddingBottom:Math.max(16,r.bottom)},children:v.jsx("button",{type:"button",onClick:()=>n(-1),className:"w-full py-3 rounded-lg bg-gray-800 text-gray-300 text-sm font-medium border border-gray-700",children:""})})]})}const Z2=300;function Q2({isOpen:a,onClose:n,onSelect:r,excludeIds:i=[]}){const[o,u]=se.useState(""),[h,d]=se.useState([]),[p,m]=se.useState(!1),[b,_]=se.useState(null),S=se.useRef(null),E=se.useRef();se.useEffect(()=>{a&&(setTimeout(()=>S.current?.focus(),100),u(""),d([]),_(null))},[a]),se.useEffect(()=>{if(!o.trim()||o.trim().length<2){d([]);return}return clearTimeout(E.current),E.current=setTimeout(()=>{R(o.trim())},Z2),()=>clearTimeout(E.current)},[o]);async function R(j){m(!0),_(null);try{const{data:A,error:k}=await Ot.rpc("keyword_search",{query_text:j,match_count:15,filter_type:"techniques"});if(k){console.error("[TechniqueSearch] keyword_search error:",k),_(" "),d([]);return}const O=(A||[]).map(X=>({entityType:X.entity_type,entityId:X.entity_id,content:X.content,score:X.rank_score??0})),U=new Set(i);d(O.filter(X=>!U.has(X.entityId)))}catch(A){console.error("[TechniqueSearch] Unexpected error:",A),_(" "),d([])}finally{m(!1)}}return a?v.jsxs("div",{className:"fixed inset-0 z-50 flex items-end justify-center",children:[v.jsx("div",{className:"absolute inset-0 bg-black/60",onClick:n,onKeyDown:()=>{},role:"button",tabIndex:-1,"aria-label":""}),v.jsxs("div",{className:"relative w-full max-w-lg bg-gray-900 rounded-t-2xl border-t border-gray-700 max-h-[80vh] flex flex-col",children:[v.jsx("div",{className:"flex justify-center pt-2 pb-1",children:v.jsx("div",{className:"w-10 h-1 rounded-full bg-gray-600"})}),v.jsxs("div",{className:"px-4 pb-3 border-b border-gray-800",children:[v.jsx("h3",{className:"text-base font-semibold mb-2",children:" "}),v.jsxs("div",{className:"relative",children:[v.jsx("input",{ref:S,type:"text",value:o,onChange:j=>u(j.target.value),placeholder:"  ...",className:"w-full px-3 py-2.5 pl-9 bg-gray-800 border border-gray-700 rounded-lg text-sm text-gray-200 placeholder:text-gray-500 focus:outline-none focus:border-blue-500"}),v.jsx("svg",{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),p&&v.jsx("div",{className:"absolute right-3 top-1/2 -translate-y-1/2",children:v.jsx("div",{className:"w-4 h-4 border-2 border-blue-400 border-t-transparent rounded-full animate-spin"})})]})]}),v.jsxs("div",{className:"flex-1 overflow-y-auto px-4 py-2",children:[b&&v.jsx("p",{className:"text-sm text-red-400 text-center py-4",children:b}),!o.trim()&&!b&&v.jsx("p",{className:"text-sm text-gray-500 text-center py-8",children:"     566 "}),o.trim().length>=2&&!p&&h.length===0&&!b&&v.jsx("p",{className:"text-sm text-gray-500 text-center py-8",children:"  "}),h.map(j=>v.jsxs("button",{type:"button",onClick:()=>{r({id:j.entityId,name:j.content}),n()},className:"w-full text-left px-3 py-2.5 rounded-lg hover:bg-gray-800 active:bg-gray-700 transition-colors mb-1",children:[v.jsx("p",{className:"text-sm text-gray-200 line-clamp-2",children:j.content}),v.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[v.jsx("span",{className:"text-xs text-gray-500",children:j.entityType}),j.score>0&&v.jsxs("span",{className:"text-xs text-gray-600",children:[": ",j.score.toFixed(2)]})]})]},j.entityId))]}),v.jsx("div",{className:"px-4 py-3 border-t border-gray-800",children:v.jsx("button",{type:"button",onClick:n,className:"w-full py-2.5 rounded-lg bg-gray-800 text-gray-300 text-sm font-medium",children:""})})]})]}):null}const X2={red:{border:"border-l-red-500",bg:"bg-red-500/5",dot:"bg-red-500",badge:"bg-red-500/10 text-red-400",label:""},yellow:{border:"border-l-yellow-500",bg:"bg-yellow-500/5",dot:"bg-yellow-500",badge:"bg-yellow-500/10 text-yellow-400",label:""},green:{border:"border-l-green-500",bg:"bg-green-500/5",dot:"bg-green-500",badge:"bg-green-500/10 text-green-400",label:""}};function W2({blocks:a,totalDuration:n,contraindications:r,warnings:i,onBlockEdit:o,onAddTechnique:u,onRemoveTechnique:h,onDurationChange:d,onMoveBlock:p,onRemoveBlock:m,editable:b=!1}){return v.jsxs("div",{className:"relative",children:[i&&i.length>0&&v.jsxs("div",{className:"mb-3 p-2.5 rounded-lg bg-yellow-500/10 border border-yellow-500/30",children:[v.jsx("p",{className:"text-xs font-medium text-yellow-400 mb-1",children:""}),i.map((_,S)=>v.jsxs("p",{className:"text-xs text-yellow-400/70",children:[" ",_]},`warn-${S}`))]}),r&&r.length>0&&v.jsxs("div",{className:"mb-3 p-2.5 rounded-lg bg-red-500/10 border border-red-500/30",children:[v.jsx("p",{className:"text-xs font-medium text-red-400 mb-1",children:""}),r.map((_,S)=>v.jsxs("p",{className:"text-xs text-red-400/70",children:[" ",_]},`contra-${S}`))]}),v.jsxs("div",{className:"relative pl-8",children:[v.jsx("div",{className:"absolute left-3 top-0 bottom-0 w-0.5 bg-gray-700"}),a.map((_,S)=>{const E=X2[_.priority],R=S===0,j=S===a.length-1;return v.jsxs("div",{className:`relative ${R?"":"mt-3"}`,children:[v.jsx("div",{className:`absolute left-3 top-3 w-2.5 h-2.5 rounded-full ${E.dot} -translate-x-[5px] z-10 ring-2 ring-gray-900`}),v.jsxs("div",{className:"absolute left-0 top-2.5 -translate-x-full pr-2 text-[10px] text-gray-500 font-mono w-8 text-right",children:[_.startMin,"'"]}),v.jsxs("div",{className:`border-l-2 ${E.border} ${E.bg} rounded-r-lg border border-gray-700/50 border-l-0 overflow-hidden`,children:[v.jsxs("div",{className:"p-2.5 flex items-center justify-between",children:[v.jsxs("div",{className:"flex items-center gap-2 flex-1 min-w-0",children:[v.jsxs("span",{className:"text-xs text-gray-400 font-mono flex-shrink-0",children:[_.startMin,"-",_.endMin,"'"]}),b?v.jsx("input",{type:"text",value:_.zone,onChange:A=>o?.(S,{zone:A.target.value}),className:"flex-1 bg-transparent text-sm font-medium text-gray-200 border-b border-transparent focus:border-gray-600 focus:outline-none min-w-0"}):v.jsx("span",{className:"text-sm font-medium text-gray-200 truncate",children:_.zone}),v.jsx("span",{className:`text-[10px] px-1.5 py-0.5 rounded-full flex-shrink-0 ${E.badge}`,children:E.label})]}),b&&v.jsxs("div",{className:"flex items-center gap-0.5 ml-2 flex-shrink-0",children:[v.jsx("button",{type:"button",onClick:()=>d?.(S,-5),disabled:_.endMin-_.startMin<=5,className:"w-5 h-5 rounded text-gray-500 text-xs font-bold disabled:opacity-30 active:bg-gray-700",children:"-"}),v.jsxs("span",{className:"text-xs text-gray-400 w-8 text-center",children:[_.endMin-_.startMin,"'"]}),v.jsx("button",{type:"button",onClick:()=>d?.(S,5),disabled:_.endMin-_.startMin>=60,className:"w-5 h-5 rounded text-gray-500 text-xs font-bold disabled:opacity-30 active:bg-gray-700",children:"+"}),v.jsx("button",{type:"button",onClick:()=>p?.(S,"up"),disabled:R,className:"p-1 text-gray-500 disabled:opacity-30",children:v.jsx("svg",{className:"w-3.5 h-3.5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 15l7-7 7 7"})})}),v.jsx("button",{type:"button",onClick:()=>p?.(S,"down"),disabled:j,className:"p-1 text-gray-500 disabled:opacity-30",children:v.jsx("svg",{className:"w-3.5 h-3.5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})}),a.length>1&&v.jsx("button",{type:"button",onClick:()=>m?.(S),className:"p-1 text-red-500/50 hover:text-red-400",children:v.jsx("svg",{className:"w-3.5 h-3.5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})]}),v.jsxs("div",{className:"px-2.5 pb-2.5",children:[_.techniques.length===0?v.jsx("p",{className:"text-xs text-gray-600",children:" "}):v.jsx("div",{className:"space-y-1",children:_.techniques.map((A,k)=>v.jsxs("div",{className:"flex items-center gap-1.5",children:[v.jsx("span",{className:"w-1 h-1 rounded-full bg-gray-600 flex-shrink-0"}),v.jsx("span",{className:"text-xs text-gray-300 flex-1 line-clamp-1",children:A}),v.jsx("span",{className:"text-[9px] text-blue-400/50 flex-shrink-0",children:"KB"}),b&&v.jsx("button",{type:"button",onClick:()=>h?.(S,k),className:"p-0.5 text-gray-600 hover:text-red-400 flex-shrink-0",children:v.jsx("svg",{className:"w-3 h-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]},`${A}-${k}`))}),b&&v.jsx("button",{type:"button",onClick:()=>u?.(S),className:"w-full mt-1.5 py-1 rounded border border-dashed border-gray-700/50 text-[10px] text-gray-500 hover:text-blue-400 hover:border-blue-500/30 transition-colors",children:"+ "})]})]}),j&&v.jsxs("div",{className:"absolute left-0 bottom-0 -translate-x-full pr-2 text-[10px] text-gray-500 font-mono w-8 text-right translate-y-full mt-1",children:[_.endMin,"'"]})]},`block-${S}`)}),v.jsxs("div",{className:"relative mt-3",children:[v.jsx("div",{className:"absolute left-3 top-0 w-2 h-2 rounded-full bg-gray-600 -translate-x-1 z-10"}),v.jsxs("div",{className:"pl-4 text-xs text-gray-500",children:[": ",n," "]})]})]})]})}function k0(a){return{startMin:a,endMin:a+15,zone:a===0?"":" ",techniques:[],techniqueIds:[],priority:"green",notes:void 0,status:"pending",rationale:void 0}}function eO(a){let n=0;return a.map(r=>{const i=n,o=n+r.duration;return n=o,{startMin:i,endMin:o,zone:r.bodyArea||r.name,techniques:r.techniques,techniqueIds:[],priority:"green",notes:r.instructions||void 0,status:"pending",rationale:void 0}})}function tO(a){return{blocks:a.map((n,r)=>({phase:r+1,name:n.zone,duration:n.endMin-n.startMin,techniques:n.techniques,instructions:n.notes||void 0,bodyArea:n.zone||void 0})),totalDuration:a.length>0?a[a.length-1].endMin:0}}function Ao(a){let n=0;return a.map(r=>{const i=r.endMin-r.startMin,o=n,u=n+i;return n=u,{...r,startMin:o,endMin:u}})}function nO(){const[a]=Cf(),n=$i(),r=Ji(),i=tu(),o=a.get("assessmentId")||i.assessmentId,u=a.get("sessionSyncId")||i.syncId,{sendEvent:h}=bd(u),d=m_(u,o),[p,m]=se.useState([k0(0)]),[b,_]=se.useState(!0),[S,E]=se.useState(!1),[R,j]=se.useState(null),[A,k]=se.useState(!1),[O,U]=se.useState(!1),[X,ee]=se.useState(0),[te,F]=se.useState(null),ie=se.useCallback(async()=>{if(!o){_(!1);return}try{const{data:Z,error:C}=await Ot.from("pre_session_assessments").select("plan_data").eq("id",o).maybeSingle();if(C){console.error("[PlanPage] DB error:",C),j("  ");return}const y=Z?.plan_data;F(y),y?.treatmentPlan?.blocks?.length&&m(eO(y.treatmentPlan.blocks))}catch(Z){console.error("[PlanPage] Unexpected error:",Z),j(" ")}finally{_(!1)}},[o]);se.useEffect(()=>{ie()},[ie]);function H(Z,C){m(y=>{const T=y.map((D,I)=>I===Z?{...D,...C}:D);return Ao(T)})}function me(){m(Z=>{const C=Z.length>0?Z[Z.length-1].endMin:0;return[...Z,k0(C)]})}function fe(Z){p.length<=1||m(C=>Ao(C.filter((y,T)=>T!==Z)))}function Ee(Z,C){C==="up"&&Z===0||C==="down"&&Z>=p.length-1||m(y=>{const T=[...y],D=C==="up"?Z-1:Z+1;return[T[Z],T[D]]=[T[D],T[Z]],Ao(T)})}function Ne(Z,C){m(y=>{const T=y.map((D,I)=>{if(I!==Z)return D;const ae=D.endMin-D.startMin,ne=Math.max(5,Math.min(60,ae+C));return{...D,endMin:D.startMin+ne}});return Ao(T)})}function ge(Z,C){m(y=>y.map((T,D)=>D!==Z||T.techniques.includes(C.name)?T:{...T,techniques:[...T.techniques,C.name],techniqueIds:[...T.techniqueIds,C.id]}))}function le(Z,C){m(y=>y.map((T,D)=>D!==Z?T:{...T,techniques:T.techniques.filter((I,ae)=>ae!==C),techniqueIds:T.techniqueIds.filter((I,ae)=>ae!==C)}))}const $=p.length>0?p[p.length-1].endMin:0,W=p.flatMap(Z=>Z.techniqueIds);async function P(){if(o){E(!0),k(!1);try{const C={treatmentPlan:tO(p),contraindications:te?.contraindications??[],recommendedTechniques:te?.recommendedTechniques??[],estimatedDuration:$,approvedByPractitioner:!0,practitionerOverrides:te?.practitionerOverrides??null},{error:y}=await Ot.from("pre_session_assessments").update({plan_data:C}).eq("id",o);if(y){console.error("[PlanPage] Update error:",y),j(" ");return}await h("plan_approved",{assessmentId:o,totalDuration:$,phaseCount:p.length,techniqueCount:W.length}),k(!0),setTimeout(()=>{const T=new URLSearchParams;o&&T.set("assessmentId",o),u&&T.set("sessionSyncId",u),n(`/assessment?${T.toString()}`)},1500)}catch(Z){console.error("[PlanPage] Confirm error:",Z),j(" ")}finally{E(!1)}}}return b?v.jsx("div",{className:"flex items-center justify-center min-h-screen",children:v.jsxs("div",{className:"text-center",children:[v.jsx("div",{className:"w-8 h-8 border-2 border-orange-400 border-t-transparent rounded-full animate-spin mx-auto mb-3"}),v.jsx("p",{className:"text-sm text-gray-400",children:" ..."})]})}):R&&!p.length?v.jsx("div",{className:"flex items-center justify-center min-h-screen p-4",children:v.jsxs("div",{className:"text-center max-w-sm",children:[v.jsx("p",{className:"text-red-400 mb-2",children:R}),v.jsx("button",{type:"button",onClick:()=>n(-1),className:"text-sm text-blue-400 underline",children:""})]})}):v.jsxs("div",{className:"p-4 pb-40 min-h-screen",children:[v.jsx("h1",{className:"text-xl font-bold mb-1",children:" "}),v.jsxs("p",{className:"text-sm text-gray-400 mb-3",children:[$,"  | ",p.length," ",p.length===1?"":""]}),d.overallConfidence>0&&v.jsx("div",{className:"mb-3",children:v.jsx(g_,{weights:d.weights,overallConfidence:d.overallConfidence,appliedModifiers:d.appliedModifiers,isLive:d.isLive,lastUpdated:d.lastUpdated})}),d.overallConfidence>0&&d.overallConfidence<40&&v.jsxs("div",{className:"mb-3 p-2.5 rounded-lg bg-red-500/10 border border-red-500/30 flex items-start gap-2",children:[v.jsx("span",{className:"text-red-400 text-lg leading-none",children:"!"}),v.jsxs("div",{children:[v.jsx("p",{className:"text-sm font-medium text-red-400",children:"  AI"}),v.jsx("p",{className:"text-xs text-red-400/70 mt-0.5",children:"    "})]})]}),R&&v.jsx("div",{className:"mb-3 p-2 rounded bg-red-500/10 border border-red-500/20 text-sm text-red-400",children:R}),A&&v.jsx("div",{className:"mb-3 p-2 rounded bg-green-500/10 border border-green-500/20 text-sm text-green-400",children:" !"}),v.jsx(W2,{blocks:p,totalDuration:$,contraindications:te?.contraindications,editable:!0,onBlockEdit:H,onAddTechnique:Z=>{ee(Z),U(!0)},onRemoveTechnique:le,onDurationChange:Ne,onMoveBlock:Ee,onRemoveBlock:fe}),v.jsx("button",{type:"button",onClick:me,className:"w-full mt-3 py-2.5 rounded-lg border border-dashed border-gray-700 text-sm text-gray-500 hover:text-orange-400 hover:border-orange-500/30 transition-colors",children:"+  "}),W.length===0&&v.jsx("div",{className:"mt-4 text-center",children:v.jsx("p",{className:"text-sm text-gray-600",children:"    (566 )"})}),v.jsx(Q2,{isOpen:O,onClose:()=>U(!1),onSelect:Z=>ge(X,Z),excludeIds:W}),v.jsxs("div",{className:"fixed bottom-0 left-0 right-0 p-4 bg-gray-900/95 border-t border-gray-800 backdrop-blur-sm",style:{paddingBottom:Math.max(16,r.bottom)},children:[v.jsxs("div",{className:"flex items-center justify-between mb-3",children:[v.jsx("span",{className:"text-sm text-gray-400",children:" "}),v.jsxs("span",{className:"text-sm font-bold text-gray-200",children:[$," "]})]}),v.jsxs("div",{className:"flex gap-3",children:[v.jsx("button",{type:"button",onClick:()=>n(-1),className:"px-4 py-3 rounded-lg bg-gray-800 text-gray-300 border border-gray-700 text-sm",children:""}),v.jsx("button",{type:"button",onClick:()=>{P()},disabled:S||A,className:`flex-1 py-3 rounded-lg text-sm font-semibold transition-colors ${S||A?"bg-gray-700 text-gray-500 cursor-not-allowed":"bg-orange-600 text-white active:bg-orange-700"}`,children:S?"...":A?"!":" "})]})]})]})}const L0={active:"bg-green-500",completed:"bg-gray-500",pending:"bg-gray-700",modified:"bg-yellow-500"},D0={active:"bg-green-500/5 border-green-500/30",completed:"bg-gray-800/30 border-gray-700/50 opacity-60",pending:"bg-gray-800/20 border-gray-700/30",modified:"bg-yellow-500/5 border-yellow-500/30"};function aO({block:a,isActive:n,onComplete:r,onNote:i,isAdapting:o}){const[u,h]=se.useState(!1),[d,p]=se.useState(""),m=n?"active":a.status,b=L0[m]||L0.pending,_=D0[m]||D0.pending;function S(){const E=d.trim();E&&(i(E),p(""),h(!1))}return v.jsxs("div",{className:`relative flex border rounded-lg ${_} transition-all`,children:[v.jsx("div",{className:`w-1.5 rounded-l-lg flex-shrink-0 ${b}`}),v.jsxs("div",{className:"flex-1 p-3 min-w-0",children:[v.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[v.jsx("span",{className:"text-xs text-gray-500 flex-shrink-0",children:a.phase}),v.jsx("span",{className:`text-sm font-medium truncate ${m==="completed"?"text-gray-500 line-through":"text-gray-200"}`,children:a.name}),v.jsxs("span",{className:"text-xs text-gray-500 flex-shrink-0 ml-auto",children:[a.duration," "]})]}),a.bodyArea&&v.jsx("p",{className:"text-xs text-gray-500 mb-1",children:a.bodyArea}),a.techniques.length>0&&v.jsxs("div",{className:"flex flex-wrap gap-1 mb-1.5",children:[a.techniques.slice(0,4).map((E,R)=>v.jsx("span",{className:"text-[10px] px-1.5 py-0.5 rounded bg-gray-700/50 text-gray-400",children:E},R)),a.techniques.length>4&&v.jsxs("span",{className:"text-[10px] text-gray-600",children:["+",a.techniques.length-4]})]}),a.modifiedByAi&&a.modificationReason&&v.jsx("div",{className:"mb-1.5 p-1.5 rounded bg-yellow-500/10 border border-yellow-500/20",children:v.jsxs("p",{className:"text-[10px] text-yellow-400",children:["AI : ",a.modificationReason]})}),a.notes&&v.jsx("div",{className:"mb-1.5 p-1.5 rounded bg-blue-500/10 border border-blue-500/20",children:v.jsxs("p",{className:"text-[10px] text-blue-400",children:[" ",a.notes]})}),v.jsxs("div",{className:"flex gap-2 mt-2",children:[m!=="completed"&&v.jsx("button",{type:"button",onClick:()=>h(!u),disabled:o,className:"px-2.5 py-1.5 text-xs rounded bg-gray-700/50 text-gray-400 hover:text-blue-400 active:bg-gray-600/50 disabled:opacity-40",children:" "}),n&&v.jsx("button",{type:"button",onClick:r,disabled:o,className:"px-3 py-1.5 text-xs rounded bg-green-600/80 text-white font-medium active:bg-green-700 disabled:opacity-40",children:" "}),o&&n&&v.jsxs("span",{className:"flex items-center gap-1 text-[10px] text-yellow-400",children:[v.jsx("span",{className:"w-3 h-3 border border-yellow-400 border-t-transparent rounded-full animate-spin"}),"AI ..."]})]}),u&&v.jsxs("div",{className:"mt-2",children:[v.jsx("textarea",{value:d,onChange:E=>p(E.target.value),placeholder:" ...",rows:2,className:"w-full text-xs bg-gray-800 border border-gray-700 rounded p-2 text-gray-300 placeholder:text-gray-600 focus:outline-none focus:border-blue-500/50 resize-none",autoFocus:!0}),v.jsxs("div",{className:"flex gap-2 mt-1",children:[v.jsx("button",{type:"button",onClick:S,disabled:!d.trim()||o,className:"px-3 py-1 text-xs rounded bg-blue-600/80 text-white active:bg-blue-700 disabled:opacity-40",children:""}),v.jsx("button",{type:"button",onClick:()=>{h(!1),p("")},className:"px-3 py-1 text-xs rounded bg-gray-700 text-gray-400 active:bg-gray-600",children:""})]})]})]})]})}function sO(a){const n=Math.floor(a/60),r=a%60;return`${String(n).padStart(2,"0")}:${String(r).padStart(2,"0")}`}function rO(a){return a<=0?"text-red-500":a<300?"text-red-400":a<600?"text-yellow-400":"text-green-400"}function iO(a){return a<=0?"bg-red-500/10 border-red-500/30":a<300?"bg-red-500/5 border-red-500/20":a<600?"bg-yellow-500/5 border-yellow-500/20":"bg-green-500/5 border-green-500/20"}function lO({totalMinutes:a,visible:n,onToggle:r}){const i=a*60,[o,u]=se.useState(0),[h,d]=se.useState(!1),p=se.useRef(null),m=Math.max(0,i-o),b=se.useCallback(()=>{u(R=>R+1)},[]);if(se.useEffect(()=>(!h&&n&&(p.current=setInterval(b,1e3)),()=>{p.current&&clearInterval(p.current)}),[h,n,b]),!n)return null;const _=rO(m),S=iO(m),E=Math.min(100,o/i*100);return v.jsxs("div",{className:`rounded-lg border p-2.5 ${S}`,children:[v.jsxs("div",{className:"flex items-center justify-between",children:[v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx("span",{className:`text-lg font-mono font-bold ${_}`,children:sO(m)}),m<=0&&v.jsx("span",{className:"text-[10px] text-red-400 animate-pulse",children:"!"})]}),v.jsxs("div",{className:"flex gap-1.5",children:[v.jsx("button",{type:"button",onClick:()=>d(!h),className:"p-1.5 rounded text-gray-400 hover:text-gray-200 active:bg-gray-700/50",title:h?"":"",children:h?v.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 24 24",children:v.jsx("path",{d:"M8 5v14l11-7z"})}):v.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 24 24",children:v.jsx("path",{d:"M6 19h4V5H6v14zm8-14v14h4V5h-4z"})})}),v.jsx("button",{type:"button",onClick:r,className:"p-1.5 rounded text-gray-500 hover:text-gray-300 active:bg-gray-700/50",title:" ",children:v.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})]}),v.jsx("div",{className:"mt-1.5 h-1 bg-gray-700/50 rounded-full overflow-hidden",children:v.jsx("div",{className:`h-full rounded-full transition-all duration-1000 ${m<300?"bg-red-500":m<600?"bg-yellow-500":"bg-green-500"}`,style:{width:`${E}%`}})}),h&&v.jsx("p",{className:"text-[10px] text-gray-500 mt-1 text-center",children:" "})]})}function oO(a){return a.map((n,r)=>({phase:n.phase,name:n.name,duration:n.duration,techniques:n.techniques||[],bodyArea:n.bodyArea,instructions:n.instructions,status:r===0?"active":"pending",notes:null,modifiedByAi:!1}))}function uO(){const[a]=Cf(),n=Ji(),r=tu(),i=a.get("assessmentId")||r.assessmentId,o=a.get("sessionSyncId")||r.syncId,[u,h]=se.useState([]),[d,p]=se.useState(!0),[m,b]=se.useState(null),[_,S]=se.useState(!1),[E,R]=se.useState(!1),[j,A]=se.useState(!1),[k,O]=se.useState(""),U=se.useRef([]);U.current=u;const X=u.findIndex(fe=>fe.status!=="completed"),ee=u.filter(fe=>fe.status==="completed").length,te=u.reduce((fe,Ee)=>fe+Ee.duration,0),F=se.useCallback(async()=>{if(!i){p(!1),b(" ID ");return}try{const{data:fe,error:Ee}=await Ot.from("pre_session_assessments").select("plan_data, chief_complaint").eq("id",i).maybeSingle();if(Ee){console.error("[SessionExecution] DB error:",Ee),b("  ");return}const ge=fe?.plan_data?.treatmentPlan?.blocks;if(!ge||ge.length===0){b("   ");return}h(oO(ge)),O(fe?.chief_complaint||"")}catch(fe){console.error("[SessionExecution] Unexpected error:",fe),b(" ")}finally{p(!1)}},[i]);se.useEffect(()=>{F()},[F]),se.useEffect(()=>{if(!o)return;const fe=Ot.channel(`session-exec:${o}`).on("broadcast",{event:"sync"},Ee=>{const Ne=Ee.payload;if(Ne.type!=="plan_adapted")return;const ge=Ne.payload;ge?.adaptedBlocks&&(console.log("[SessionExecution] Plan adapted:",ge.changes?.length,"changes"),S(!1),h(le=>{const $=new Set(ge.changes?.map(P=>P.phase)||[]),W=new Map((ge.changes||[]).map(P=>[P.phase,P.reason]));return le.map(P=>{const Z=ge.adaptedBlocks.find(C=>C.phase===P.phase);return P.status==="completed"?P:Z&&$.has(P.phase)?{...P,name:Z.name,duration:Z.duration,techniques:Z.techniques,instructions:Z.instructions,bodyArea:Z.bodyArea,status:"modified",modifiedByAi:!0,modificationReason:W.get(P.phase)}:Z?{...P,name:Z.name,duration:Z.duration,techniques:Z.techniques,instructions:Z.instructions,bodyArea:Z.bodyArea}:P})}))}).subscribe();return()=>{Ot.removeChannel(fe)}},[o]);function ie(fe){h(Ee=>{const Ne=Ee.map(le=>le.phase===fe?{...le,status:"completed",completedAt:Date.now()}:le),ge=Ne.findIndex(le=>le.status==="pending"||le.status==="modified");return ge>=0&&(Ne[ge]={...Ne[ge],status:"active",modifiedByAi:Ne[ge].modifiedByAi}),Ne}),r.sendEvent("block_completed",{assessmentId:i,phase:fe})}function H(fe,Ee){h(ge=>ge.map(le=>{if(le.phase===fe){const $=le.notes?`${le.notes}; ${Ee}`:Ee;return{...le,notes:$}}return le})),S(!0);const Ne=U.current.map(ge=>({phase:ge.phase,name:ge.name,duration:ge.duration,techniques:ge.techniques,bodyArea:ge.bodyArea||"",rationale:ge.instructions||""}));r.sendEvent("session_note_added",{assessmentId:i,sessionSyncId:o,activePhase:fe,note:Ee,blocks:Ne,clientContext:k}),setTimeout(()=>{S(ge=>(ge&&console.warn("[SessionExecution] Adaptation timeout, using original plan"),!1))},15e3)}function me(){A(!0),r.sendEvent("session_completed",{assessmentId:i,completedBlocks:u.filter(fe=>fe.status==="completed").length,totalBlocks:u.length})}return d?v.jsx("div",{className:"flex items-center justify-center min-h-screen",children:v.jsxs("div",{className:"text-center",children:[v.jsx("div",{className:"w-8 h-8 border-2 border-green-400 border-t-transparent rounded-full animate-spin mx-auto mb-3"}),v.jsx("p",{className:"text-sm text-gray-400",children:" ..."})]})}):m?v.jsx("div",{className:"flex items-center justify-center min-h-screen p-4",children:v.jsxs("div",{className:"text-center max-w-sm",children:[v.jsx("p",{className:"text-red-400 mb-2",children:m}),v.jsx("p",{className:"text-xs text-gray-500",children:"    "})]})}):j?v.jsx("div",{className:"flex items-center justify-center min-h-screen p-4",children:v.jsxs("div",{className:"text-center max-w-sm",children:[v.jsx("div",{className:"text-4xl mb-3",children:""}),v.jsx("h2",{className:"text-lg font-bold text-gray-200 mb-2",children:" "}),v.jsxs("p",{className:"text-sm text-gray-400 mb-1",children:[": ",ee,"/",u.length," "]}),v.jsx("p",{className:"text-xs text-gray-500",children:"    post-session "})]})}):v.jsxs("div",{className:"min-h-screen pb-24",children:[v.jsxs("div",{className:"sticky top-0 z-10 bg-gray-900/95 backdrop-blur-sm border-b border-gray-800 px-4 py-3",children:[v.jsxs("div",{className:"flex items-center justify-between",children:[v.jsxs("div",{children:[v.jsx("h1",{className:"text-base font-bold text-gray-200",children:""}),v.jsxs("p",{className:"text-xs text-gray-500",children:[ee,"/",u.length,"  | ",te," "]})]}),v.jsx("button",{type:"button",onClick:()=>R(!E),className:`px-3 py-1.5 text-xs rounded-lg border transition-colors ${E?"bg-green-500/10 border-green-500/30 text-green-400":"bg-gray-800 border-gray-700 text-gray-400"}`,children:" "})]}),v.jsx("div",{className:"mt-2 h-1.5 bg-gray-800 rounded-full overflow-hidden",children:v.jsx("div",{className:"h-full bg-green-500 rounded-full transition-all duration-300",style:{width:u.length>0?`${ee/u.length*100}%`:"0%"}})})]}),v.jsx("div",{className:"px-4 mt-3",children:v.jsx(lO,{totalMinutes:te,visible:E,onToggle:()=>R(!1)})}),v.jsx("div",{className:"px-4 mt-3 space-y-2.5",children:u.map((fe,Ee)=>v.jsx(aO,{block:fe,isActive:Ee===X,onComplete:()=>ie(fe.phase),onNote:Ne=>H(fe.phase,Ne),isAdapting:_},fe.phase))}),v.jsx("div",{className:"fixed bottom-0 left-0 right-0 p-4 bg-gray-900/95 border-t border-gray-800 backdrop-blur-sm",style:{paddingBottom:Math.max(16,n.bottom)},children:v.jsx("button",{type:"button",onClick:me,className:"w-full py-3 rounded-lg text-sm font-semibold bg-orange-600 text-white active:bg-orange-700 transition-colors",children:"  "})})]})}function cO(){return v.jsxs("div",{className:"p-4",children:[v.jsx("h1",{className:"text-xl font-bold mb-4",children:" "}),v.jsx("div",{className:"border border-gray-700 rounded-lg p-4",children:v.jsx("p",{className:"text-sm text-gray-500",children:"      Week 3-4"})})]})}const Ph=se.lazy(()=>Kb(()=>import("./BodyScanPage-BDuCJICe.js"),[]));function Gh(){return v.jsx("div",{className:"flex items-center justify-center min-h-screen",children:v.jsxs("div",{className:"text-center",children:[v.jsx("div",{className:"w-8 h-8 border-2 border-blue-400 border-t-transparent rounded-full animate-spin mx-auto mb-3"}),v.jsx("p",{className:"text-sm text-gray-400",children:" 3D..."})]})})}function hO(){const a=gd(),{syncId:n,assessmentId:r,loading:i}=y2(),o=bd(n);return!a.isReady||i?v.jsx("div",{className:"flex items-center justify-center min-h-screen",children:v.jsxs("div",{className:"text-center",children:[v.jsx("div",{className:"w-8 h-8 border-2 border-blue-400 border-t-transparent rounded-full animate-spin mx-auto mb-3"}),v.jsx("p",{className:"text-sm text-gray-400",children:"..."})]})}):a.error?v.jsx("div",{className:"flex items-center justify-center min-h-screen p-4",children:v.jsxs("div",{className:"text-center max-w-sm",children:[v.jsx("h1",{className:"text-xl font-bold mb-2",children:"  Telegram"}),v.jsx("p",{className:"text-gray-400 mb-4",children:a.error}),v.jsx("p",{className:"text-sm text-gray-500",children:"    @MASTER_plemya_BOT"})]})}):v.jsx(x2,{children:v.jsx(UC,{children:v.jsx(BC,{children:v.jsx(qC,{children:v.jsx(d_.Provider,{value:{syncId:n,assessmentId:r,sendEvent:o.sendEvent,isConnected:o.isConnected},children:v.jsxs(QS,{children:[v.jsx(Zn,{path:"/",element:v.jsx(se.Suspense,{fallback:v.jsx(Gh,{}),children:v.jsx(Ph,{})})}),v.jsx(Zn,{path:"/bodyscan",element:v.jsx(se.Suspense,{fallback:v.jsx(Gh,{}),children:v.jsx(Ph,{})})}),v.jsx(Zn,{path:"/intake",element:v.jsx(N2,{})}),v.jsx(Zn,{path:"/assessment",element:v.jsx(J2,{})}),v.jsx(Zn,{path:"/plan",element:v.jsx(nO,{})}),v.jsx(Zn,{path:"/session",element:v.jsx(uO,{})}),v.jsx(Zn,{path:"/history",element:v.jsx(cO,{})}),v.jsx(Zn,{path:"*",element:v.jsx(se.Suspense,{fallback:v.jsx(Gh,{}),children:v.jsx(Ph,{})})})]})})})})})})}try{Yb()}catch(a){console.error("[TMA SDK]  :",a)}Xx.createRoot(document.getElementById("root")).render(v.jsx(se.StrictMode,{children:v.jsx(x1,{children:v.jsx(hO,{})})}));export{SO as B,dO as R,Yx as a,se as b,fO as c,K as d,Xx as e,V2 as f,M0 as g,_f as h,gd as i,v as j,$i as k,Ji as l,eS as r,Ot as s,tu as u};
