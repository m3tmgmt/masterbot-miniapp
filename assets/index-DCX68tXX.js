(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))l(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&l(d)}).observe(document,{childList:!0,subtree:!0});function s(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function l(o){if(o.ep)return;o.ep=!0;const c=s(o);fetch(o.href,c)}})();function sb(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var cc={exports:{}},Ls={};var mp;function ib(){if(mp)return Ls;mp=1;var r=Symbol.for("react.transitional.element"),n=Symbol.for("react.fragment");function s(l,o,c){var d=null;if(c!==void 0&&(d=""+c),o.key!==void 0&&(d=""+o.key),"key"in o){c={};for(var h in o)h!=="key"&&(c[h]=o[h])}else c=o;return o=c.ref,{$$typeof:r,type:l,key:d,ref:o!==void 0?o:null,props:c}}return Ls.Fragment=n,Ls.jsx=s,Ls.jsxs=s,Ls}var pp;function lb(){return pp||(pp=1,cc.exports=ib()),cc.exports}var y=lb(),fc={exports:{}},ce={};var gp;function ub(){if(gp)return ce;gp=1;var r=Symbol.for("react.transitional.element"),n=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),l=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),_=Symbol.for("react.activity"),w=Symbol.iterator;function x(S){return S===null||typeof S!="object"?null:(S=w&&S[w]||S["@@iterator"],typeof S=="function"?S:null)}var R={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},T=Object.assign,j={};function C(S,M,K){this.props=S,this.context=M,this.refs=j,this.updater=K||R}C.prototype.isReactComponent={},C.prototype.setState=function(S,M){if(typeof S!="object"&&typeof S!="function"&&S!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,S,M,"setState")},C.prototype.forceUpdate=function(S){this.updater.enqueueForceUpdate(this,S,"forceUpdate")};function U(){}U.prototype=C.prototype;function q(S,M,K){this.props=S,this.context=M,this.refs=j,this.updater=K||R}var H=q.prototype=new U;H.constructor=q,T(H,C.prototype),H.isPureReactComponent=!0;var F=Array.isArray;function P(){}var Y={H:null,A:null,T:null,S:null},z=Object.prototype.hasOwnProperty;function Q(S,M,K){var W=K.ref;return{$$typeof:r,type:S,key:M,ref:W!==void 0?W:null,props:K}}function Re(S,M){return Q(S.type,M,S.props)}function rt(S){return typeof S=="object"&&S!==null&&S.$$typeof===r}function Pe(S){var M={"=":"=0",":":"=2"};return"$"+S.replace(/[=:]/g,function(K){return M[K]})}var qt=/\/+/g;function st(S,M){return typeof S=="object"&&S!==null&&S.key!=null?Pe(""+S.key):M.toString(36)}function Qe(S){switch(S.status){case"fulfilled":return S.value;case"rejected":throw S.reason;default:switch(typeof S.status=="string"?S.then(P,P):(S.status="pending",S.then(function(M){S.status==="pending"&&(S.status="fulfilled",S.value=M)},function(M){S.status==="pending"&&(S.status="rejected",S.reason=M)})),S.status){case"fulfilled":return S.value;case"rejected":throw S.reason}}throw S}function $(S,M,K,W,oe){var me=typeof S;(me==="undefined"||me==="boolean")&&(S=null);var we=!1;if(S===null)we=!0;else switch(me){case"bigint":case"string":case"number":we=!0;break;case"object":switch(S.$$typeof){case r:case n:we=!0;break;case v:return we=S._init,$(we(S._payload),M,K,W,oe)}}if(we)return oe=oe(S),we=W===""?"."+st(S,0):W,F(oe)?(K="",we!=null&&(K=we.replace(qt,"$&/")+"/"),$(oe,M,K,"",function(X){return X})):oe!=null&&(rt(oe)&&(oe=Re(oe,K+(oe.key==null||S&&S.key===oe.key?"":(""+oe.key).replace(qt,"$&/")+"/")+we)),M.push(oe)),1;we=0;var et=W===""?".":W+":";if(F(S))for(var Ue=0;Ue<S.length;Ue++)W=S[Ue],me=et+st(W,Ue),we+=$(W,M,K,me,oe);else if(Ue=x(S),typeof Ue=="function")for(S=Ue.call(S),Ue=0;!(W=S.next()).done;)W=W.value,me=et+st(W,Ue++),we+=$(W,M,K,me,oe);else if(me==="object"){if(typeof S.then=="function")return $(Qe(S),M,K,W,oe);throw M=String(S),Error("Objects are not valid as a React child (found: "+(M==="[object Object]"?"object with keys {"+Object.keys(S).join(", ")+"}":M)+"). If you meant to render a collection of children, use an array instead.")}return we}function Z(S,M,K){if(S==null)return S;var W=[],oe=0;return $(S,W,"","",function(me){return M.call(K,me,oe++)}),W}function se(S){if(S._status===-1){var M=S._result;M=M(),M.then(function(K){(S._status===0||S._status===-1)&&(S._status=1,S._result=K)},function(K){(S._status===0||S._status===-1)&&(S._status=2,S._result=K)}),S._status===-1&&(S._status=0,S._result=M)}if(S._status===1)return S._result.default;throw S._result}var J=typeof reportError=="function"?reportError:function(S){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var M=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof S=="object"&&S!==null&&typeof S.message=="string"?String(S.message):String(S),error:S});if(!window.dispatchEvent(M))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",S);return}console.error(S)},ee={map:Z,forEach:function(S,M,K){Z(S,function(){M.apply(this,arguments)},K)},count:function(S){var M=0;return Z(S,function(){M++}),M},toArray:function(S){return Z(S,function(M){return M})||[]},only:function(S){if(!rt(S))throw Error("React.Children.only expected to receive a single React element child.");return S}};return ce.Activity=_,ce.Children=ee,ce.Component=C,ce.Fragment=s,ce.Profiler=o,ce.PureComponent=q,ce.StrictMode=l,ce.Suspense=m,ce.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Y,ce.__COMPILER_RUNTIME={__proto__:null,c:function(S){return Y.H.useMemoCache(S)}},ce.cache=function(S){return function(){return S.apply(null,arguments)}},ce.cacheSignal=function(){return null},ce.cloneElement=function(S,M,K){if(S==null)throw Error("The argument must be a React element, but you passed "+S+".");var W=T({},S.props),oe=S.key;if(M!=null)for(me in M.key!==void 0&&(oe=""+M.key),M)!z.call(M,me)||me==="key"||me==="__self"||me==="__source"||me==="ref"&&M.ref===void 0||(W[me]=M[me]);var me=arguments.length-2;if(me===1)W.children=K;else if(1<me){for(var we=Array(me),et=0;et<me;et++)we[et]=arguments[et+2];W.children=we}return Q(S.type,oe,W)},ce.createContext=function(S){return S={$$typeof:d,_currentValue:S,_currentValue2:S,_threadCount:0,Provider:null,Consumer:null},S.Provider=S,S.Consumer={$$typeof:c,_context:S},S},ce.createElement=function(S,M,K){var W,oe={},me=null;if(M!=null)for(W in M.key!==void 0&&(me=""+M.key),M)z.call(M,W)&&W!=="key"&&W!=="__self"&&W!=="__source"&&(oe[W]=M[W]);var we=arguments.length-2;if(we===1)oe.children=K;else if(1<we){for(var et=Array(we),Ue=0;Ue<we;Ue++)et[Ue]=arguments[Ue+2];oe.children=et}if(S&&S.defaultProps)for(W in we=S.defaultProps,we)oe[W]===void 0&&(oe[W]=we[W]);return Q(S,me,oe)},ce.createRef=function(){return{current:null}},ce.forwardRef=function(S){return{$$typeof:h,render:S}},ce.isValidElement=rt,ce.lazy=function(S){return{$$typeof:v,_payload:{_status:-1,_result:S},_init:se}},ce.memo=function(S,M){return{$$typeof:p,type:S,compare:M===void 0?null:M}},ce.startTransition=function(S){var M=Y.T,K={};Y.T=K;try{var W=S(),oe=Y.S;oe!==null&&oe(K,W),typeof W=="object"&&W!==null&&typeof W.then=="function"&&W.then(P,J)}catch(me){J(me)}finally{M!==null&&K.types!==null&&(M.types=K.types),Y.T=M}},ce.unstable_useCacheRefresh=function(){return Y.H.useCacheRefresh()},ce.use=function(S){return Y.H.use(S)},ce.useActionState=function(S,M,K){return Y.H.useActionState(S,M,K)},ce.useCallback=function(S,M){return Y.H.useCallback(S,M)},ce.useContext=function(S){return Y.H.useContext(S)},ce.useDebugValue=function(){},ce.useDeferredValue=function(S,M){return Y.H.useDeferredValue(S,M)},ce.useEffect=function(S,M){return Y.H.useEffect(S,M)},ce.useEffectEvent=function(S){return Y.H.useEffectEvent(S)},ce.useId=function(){return Y.H.useId()},ce.useImperativeHandle=function(S,M,K){return Y.H.useImperativeHandle(S,M,K)},ce.useInsertionEffect=function(S,M){return Y.H.useInsertionEffect(S,M)},ce.useLayoutEffect=function(S,M){return Y.H.useLayoutEffect(S,M)},ce.useMemo=function(S,M){return Y.H.useMemo(S,M)},ce.useOptimistic=function(S,M){return Y.H.useOptimistic(S,M)},ce.useReducer=function(S,M,K){return Y.H.useReducer(S,M,K)},ce.useRef=function(S){return Y.H.useRef(S)},ce.useState=function(S){return Y.H.useState(S)},ce.useSyncExternalStore=function(S,M,K){return Y.H.useSyncExternalStore(S,M,K)},ce.useTransition=function(){return Y.H.useTransition()},ce.version="19.2.4",ce}var yp;function Xc(){return yp||(yp=1,fc.exports=ub()),fc.exports}var A=Xc();const mT=sb(A);var dc={exports:{}},ks={},hc={exports:{}},mc={};var vp;function ob(){return vp||(vp=1,(function(r){function n($,Z){var se=$.length;$.push(Z);e:for(;0<se;){var J=se-1>>>1,ee=$[J];if(0<o(ee,Z))$[J]=Z,$[se]=ee,se=J;else break e}}function s($){return $.length===0?null:$[0]}function l($){if($.length===0)return null;var Z=$[0],se=$.pop();if(se!==Z){$[0]=se;e:for(var J=0,ee=$.length,S=ee>>>1;J<S;){var M=2*(J+1)-1,K=$[M],W=M+1,oe=$[W];if(0>o(K,se))W<ee&&0>o(oe,K)?($[J]=oe,$[W]=se,J=W):($[J]=K,$[M]=se,J=M);else if(W<ee&&0>o(oe,se))$[J]=oe,$[W]=se,J=W;else break e}}return Z}function o($,Z){var se=$.sortIndex-Z.sortIndex;return se!==0?se:$.id-Z.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;r.unstable_now=function(){return c.now()}}else{var d=Date,h=d.now();r.unstable_now=function(){return d.now()-h}}var m=[],p=[],v=1,_=null,w=3,x=!1,R=!1,T=!1,j=!1,C=typeof setTimeout=="function"?setTimeout:null,U=typeof clearTimeout=="function"?clearTimeout:null,q=typeof setImmediate<"u"?setImmediate:null;function H($){for(var Z=s(p);Z!==null;){if(Z.callback===null)l(p);else if(Z.startTime<=$)l(p),Z.sortIndex=Z.expirationTime,n(m,Z);else break;Z=s(p)}}function F($){if(T=!1,H($),!R)if(s(m)!==null)R=!0,P||(P=!0,Pe());else{var Z=s(p);Z!==null&&Qe(F,Z.startTime-$)}}var P=!1,Y=-1,z=5,Q=-1;function Re(){return j?!0:!(r.unstable_now()-Q<z)}function rt(){if(j=!1,P){var $=r.unstable_now();Q=$;var Z=!0;try{e:{R=!1,T&&(T=!1,U(Y),Y=-1),x=!0;var se=w;try{t:{for(H($),_=s(m);_!==null&&!(_.expirationTime>$&&Re());){var J=_.callback;if(typeof J=="function"){_.callback=null,w=_.priorityLevel;var ee=J(_.expirationTime<=$);if($=r.unstable_now(),typeof ee=="function"){_.callback=ee,H($),Z=!0;break t}_===s(m)&&l(m),H($)}else l(m);_=s(m)}if(_!==null)Z=!0;else{var S=s(p);S!==null&&Qe(F,S.startTime-$),Z=!1}}break e}finally{_=null,w=se,x=!1}Z=void 0}}finally{Z?Pe():P=!1}}}var Pe;if(typeof q=="function")Pe=function(){q(rt)};else if(typeof MessageChannel<"u"){var qt=new MessageChannel,st=qt.port2;qt.port1.onmessage=rt,Pe=function(){st.postMessage(null)}}else Pe=function(){C(rt,0)};function Qe($,Z){Y=C(function(){$(r.unstable_now())},Z)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function($){$.callback=null},r.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):z=0<$?Math.floor(1e3/$):5},r.unstable_getCurrentPriorityLevel=function(){return w},r.unstable_next=function($){switch(w){case 1:case 2:case 3:var Z=3;break;default:Z=w}var se=w;w=Z;try{return $()}finally{w=se}},r.unstable_requestPaint=function(){j=!0},r.unstable_runWithPriority=function($,Z){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var se=w;w=$;try{return Z()}finally{w=se}},r.unstable_scheduleCallback=function($,Z,se){var J=r.unstable_now();switch(typeof se=="object"&&se!==null?(se=se.delay,se=typeof se=="number"&&0<se?J+se:J):se=J,$){case 1:var ee=-1;break;case 2:ee=250;break;case 5:ee=1073741823;break;case 4:ee=1e4;break;default:ee=5e3}return ee=se+ee,$={id:v++,callback:Z,priorityLevel:$,startTime:se,expirationTime:ee,sortIndex:-1},se>J?($.sortIndex=se,n(p,$),s(m)===null&&$===s(p)&&(T?(U(Y),Y=-1):T=!0,Qe(F,se-J))):($.sortIndex=ee,n(m,$),R||x||(R=!0,P||(P=!0,Pe()))),$},r.unstable_shouldYield=Re,r.unstable_wrapCallback=function($){var Z=w;return function(){var se=w;w=Z;try{return $.apply(this,arguments)}finally{w=se}}}})(mc)),mc}var bp;function cb(){return bp||(bp=1,hc.exports=ob()),hc.exports}var pc={exports:{}},ht={};var _p;function fb(){if(_p)return ht;_p=1;var r=Xc();function n(m){var p="https://react.dev/errors/"+m;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)p+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+m+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(){}var l={d:{f:s,r:function(){throw Error(n(522))},D:s,C:s,L:s,m:s,X:s,S:s,M:s},p:0,findDOMNode:null},o=Symbol.for("react.portal");function c(m,p,v){var _=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:_==null?null:""+_,children:m,containerInfo:p,implementation:v}}var d=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(m,p){if(m==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return ht.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=l,ht.createPortal=function(m,p){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(n(299));return c(m,p,null,v)},ht.flushSync=function(m){var p=d.T,v=l.p;try{if(d.T=null,l.p=2,m)return m()}finally{d.T=p,l.p=v,l.d.f()}},ht.preconnect=function(m,p){typeof m=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,l.d.C(m,p))},ht.prefetchDNS=function(m){typeof m=="string"&&l.d.D(m)},ht.preinit=function(m,p){if(typeof m=="string"&&p&&typeof p.as=="string"){var v=p.as,_=h(v,p.crossOrigin),w=typeof p.integrity=="string"?p.integrity:void 0,x=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;v==="style"?l.d.S(m,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:_,integrity:w,fetchPriority:x}):v==="script"&&l.d.X(m,{crossOrigin:_,integrity:w,fetchPriority:x,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},ht.preinitModule=function(m,p){if(typeof m=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var v=h(p.as,p.crossOrigin);l.d.M(m,{crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&l.d.M(m)},ht.preload=function(m,p){if(typeof m=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var v=p.as,_=h(v,p.crossOrigin);l.d.L(m,v,{crossOrigin:_,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},ht.preloadModule=function(m,p){if(typeof m=="string")if(p){var v=h(p.as,p.crossOrigin);l.d.m(m,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else l.d.m(m)},ht.requestFormReset=function(m){l.d.r(m)},ht.unstable_batchedUpdates=function(m,p){return m(p)},ht.useFormState=function(m,p,v){return d.H.useFormState(m,p,v)},ht.useFormStatus=function(){return d.H.useHostTransitionStatus()},ht.version="19.2.4",ht}var wp;function db(){if(wp)return pc.exports;wp=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(n){console.error(n)}}return r(),pc.exports=fb(),pc.exports}var xp;function hb(){if(xp)return ks;xp=1;var r=cb(),n=Xc(),s=db();function l(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)t+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function c(e){var t=e,a=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(a=t.return),e=t.return;while(e)}return t.tag===3?a:null}function d(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function h(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function m(e){if(c(e)!==e)throw Error(l(188))}function p(e){var t=e.alternate;if(!t){if(t=c(e),t===null)throw Error(l(188));return t!==e?null:e}for(var a=e,i=t;;){var u=a.return;if(u===null)break;var f=u.alternate;if(f===null){if(i=u.return,i!==null){a=i;continue}break}if(u.child===f.child){for(f=u.child;f;){if(f===a)return m(u),e;if(f===i)return m(u),t;f=f.sibling}throw Error(l(188))}if(a.return!==i.return)a=u,i=f;else{for(var g=!1,b=u.child;b;){if(b===a){g=!0,a=u,i=f;break}if(b===i){g=!0,i=u,a=f;break}b=b.sibling}if(!g){for(b=f.child;b;){if(b===a){g=!0,a=f,i=u;break}if(b===i){g=!0,i=f,a=u;break}b=b.sibling}if(!g)throw Error(l(189))}}if(a.alternate!==i)throw Error(l(190))}if(a.tag!==3)throw Error(l(188));return a.stateNode.current===a?e:t}function v(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=v(e),t!==null)return t;e=e.sibling}return null}var _=Object.assign,w=Symbol.for("react.element"),x=Symbol.for("react.transitional.element"),R=Symbol.for("react.portal"),T=Symbol.for("react.fragment"),j=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),U=Symbol.for("react.consumer"),q=Symbol.for("react.context"),H=Symbol.for("react.forward_ref"),F=Symbol.for("react.suspense"),P=Symbol.for("react.suspense_list"),Y=Symbol.for("react.memo"),z=Symbol.for("react.lazy"),Q=Symbol.for("react.activity"),Re=Symbol.for("react.memo_cache_sentinel"),rt=Symbol.iterator;function Pe(e){return e===null||typeof e!="object"?null:(e=rt&&e[rt]||e["@@iterator"],typeof e=="function"?e:null)}var qt=Symbol.for("react.client.reference");function st(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===qt?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case T:return"Fragment";case C:return"Profiler";case j:return"StrictMode";case F:return"Suspense";case P:return"SuspenseList";case Q:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case R:return"Portal";case q:return e.displayName||"Context";case U:return(e._context.displayName||"Context")+".Consumer";case H:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Y:return t=e.displayName||null,t!==null?t:st(e.type)||"Memo";case z:t=e._payload,e=e._init;try{return st(e(t))}catch{}}return null}var Qe=Array.isArray,$=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Z=s.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,se={pending:!1,data:null,method:null,action:null},J=[],ee=-1;function S(e){return{current:e}}function M(e){0>ee||(e.current=J[ee],J[ee]=null,ee--)}function K(e,t){ee++,J[ee]=e.current,e.current=t}var W=S(null),oe=S(null),me=S(null),we=S(null);function et(e,t){switch(K(me,t),K(oe,e),K(W,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?zm(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=zm(t),e=Bm(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}M(W),K(W,e)}function Ue(){M(W),M(oe),M(me)}function X(e){e.memoizedState!==null&&K(we,e);var t=W.current,a=Bm(t,e.type);t!==a&&(K(oe,e),K(W,a))}function fe(e){oe.current===e&&(M(W),M(oe)),we.current===e&&(M(we),Rs._currentValue=se)}var Ee,oa;function yt(e){if(Ee===void 0)try{throw Error()}catch(a){var t=a.stack.trim().match(/\n( *(at )?)/);Ee=t&&t[1]||"",oa=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ee+e+oa}var mt=!1;function Yl(e,t){if(!e||mt)return"";mt=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var i={DetermineComponentFrameRoot:function(){try{if(t){var V=function(){throw Error()};if(Object.defineProperty(V.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(V,[])}catch(B){var D=B}Reflect.construct(e,[],V)}else{try{V.call()}catch(B){D=B}e.call(V.prototype)}}else{try{throw Error()}catch(B){D=B}(V=e())&&typeof V.catch=="function"&&V.catch(function(){})}}catch(B){if(B&&D&&typeof B.stack=="string")return[B.stack,D.stack]}return[null,null]}};i.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var u=Object.getOwnPropertyDescriptor(i.DetermineComponentFrameRoot,"name");u&&u.configurable&&Object.defineProperty(i.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=i.DetermineComponentFrameRoot(),g=f[0],b=f[1];if(g&&b){var E=g.split(`
`),k=b.split(`
`);for(u=i=0;i<E.length&&!E[i].includes("DetermineComponentFrameRoot");)i++;for(;u<k.length&&!k[u].includes("DetermineComponentFrameRoot");)u++;if(i===E.length||u===k.length)for(i=E.length-1,u=k.length-1;1<=i&&0<=u&&E[i]!==k[u];)u--;for(;1<=i&&0<=u;i--,u--)if(E[i]!==k[u]){if(i!==1||u!==1)do if(i--,u--,0>u||E[i]!==k[u]){var I=`
`+E[i].replace(" at new "," at ");return e.displayName&&I.includes("<anonymous>")&&(I=I.replace("<anonymous>",e.displayName)),I}while(1<=i&&0<=u);break}}}finally{mt=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?yt(a):""}function M0(e,t){switch(e.tag){case 26:case 27:case 5:return yt(e.type);case 16:return yt("Lazy");case 13:return e.child!==t&&t!==null?yt("Suspense Fallback"):yt("Suspense");case 19:return yt("SuspenseList");case 0:case 15:return Yl(e.type,!1);case 11:return Yl(e.type.render,!1);case 1:return Yl(e.type,!0);case 31:return yt("Activity");default:return""}}function mf(e){try{var t="",a=null;do t+=M0(e,a),a=e,e=e.return;while(e);return t}catch(i){return`
Error generating stack: `+i.message+`
`+i.stack}}var Zl=Object.prototype.hasOwnProperty,Jl=r.unstable_scheduleCallback,Xl=r.unstable_cancelCallback,z0=r.unstable_shouldYield,B0=r.unstable_requestPaint,At=r.unstable_now,q0=r.unstable_getCurrentPriorityLevel,pf=r.unstable_ImmediatePriority,gf=r.unstable_UserBlockingPriority,Fs=r.unstable_NormalPriority,$0=r.unstable_LowPriority,yf=r.unstable_IdlePriority,H0=r.log,I0=r.unstable_setDisableYieldValue,$r=null,jt=null;function Dn(e){if(typeof H0=="function"&&I0(e),jt&&typeof jt.setStrictMode=="function")try{jt.setStrictMode($r,e)}catch{}}var Rt=Math.clz32?Math.clz32:P0,G0=Math.log,V0=Math.LN2;function P0(e){return e>>>=0,e===0?32:31-(G0(e)/V0|0)|0}var ei=256,ti=262144,ni=4194304;function ca(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function ai(e,t,a){var i=e.pendingLanes;if(i===0)return 0;var u=0,f=e.suspendedLanes,g=e.pingedLanes;e=e.warmLanes;var b=i&134217727;return b!==0?(i=b&~f,i!==0?u=ca(i):(g&=b,g!==0?u=ca(g):a||(a=b&~e,a!==0&&(u=ca(a))))):(b=i&~f,b!==0?u=ca(b):g!==0?u=ca(g):a||(a=i&~e,a!==0&&(u=ca(a)))),u===0?0:t!==0&&t!==u&&(t&f)===0&&(f=u&-u,a=t&-t,f>=a||f===32&&(a&4194048)!==0)?t:u}function Hr(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function K0(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function vf(){var e=ni;return ni<<=1,(ni&62914560)===0&&(ni=4194304),e}function Ql(e){for(var t=[],a=0;31>a;a++)t.push(e);return t}function Ir(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Y0(e,t,a,i,u,f){var g=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var b=e.entanglements,E=e.expirationTimes,k=e.hiddenUpdates;for(a=g&~a;0<a;){var I=31-Rt(a),V=1<<I;b[I]=0,E[I]=-1;var D=k[I];if(D!==null)for(k[I]=null,I=0;I<D.length;I++){var B=D[I];B!==null&&(B.lane&=-536870913)}a&=~V}i!==0&&bf(e,i,0),f!==0&&u===0&&e.tag!==0&&(e.suspendedLanes|=f&~(g&~t))}function bf(e,t,a){e.pendingLanes|=t,e.suspendedLanes&=~t;var i=31-Rt(t);e.entangledLanes|=t,e.entanglements[i]=e.entanglements[i]|1073741824|a&261930}function _f(e,t){var a=e.entangledLanes|=t;for(e=e.entanglements;a;){var i=31-Rt(a),u=1<<i;u&t|e[i]&t&&(e[i]|=t),a&=~u}}function wf(e,t){var a=t&-t;return a=(a&42)!==0?1:Wl(a),(a&(e.suspendedLanes|t))!==0?0:a}function Wl(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Fl(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function xf(){var e=Z.p;return e!==0?e:(e=window.event,e===void 0?32:lp(e.type))}function Sf(e,t){var a=Z.p;try{return Z.p=e,t()}finally{Z.p=a}}var Un=Math.random().toString(36).slice(2),it="__reactFiber$"+Un,vt="__reactProps$"+Un,za="__reactContainer$"+Un,eu="__reactEvents$"+Un,Z0="__reactListeners$"+Un,J0="__reactHandles$"+Un,Ef="__reactResources$"+Un,Gr="__reactMarker$"+Un;function tu(e){delete e[it],delete e[vt],delete e[eu],delete e[Z0],delete e[J0]}function Ba(e){var t=e[it];if(t)return t;for(var a=e.parentNode;a;){if(t=a[za]||a[it]){if(a=t.alternate,t.child!==null||a!==null&&a.child!==null)for(e=Pm(e);e!==null;){if(a=e[it])return a;e=Pm(e)}return t}e=a,a=e.parentNode}return null}function qa(e){if(e=e[it]||e[za]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function Vr(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(l(33))}function $a(e){var t=e[Ef];return t||(t=e[Ef]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function tt(e){e[Gr]=!0}var Tf=new Set,Af={};function fa(e,t){Ha(e,t),Ha(e+"Capture",t)}function Ha(e,t){for(Af[e]=t,e=0;e<t.length;e++)Tf.add(t[e])}var X0=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),jf={},Rf={};function Q0(e){return Zl.call(Rf,e)?!0:Zl.call(jf,e)?!1:X0.test(e)?Rf[e]=!0:(jf[e]=!0,!1)}function ri(e,t,a){if(Q0(t))if(a===null)e.removeAttribute(t);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var i=t.toLowerCase().slice(0,5);if(i!=="data-"&&i!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+a)}}function si(e,t,a){if(a===null)e.removeAttribute(t);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+a)}}function on(e,t,a,i){if(i===null)e.removeAttribute(a);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(t,a,""+i)}}function $t(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Of(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function W0(e,t,a){var i=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof i<"u"&&typeof i.get=="function"&&typeof i.set=="function"){var u=i.get,f=i.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return u.call(this)},set:function(g){a=""+g,f.call(this,g)}}),Object.defineProperty(e,t,{enumerable:i.enumerable}),{getValue:function(){return a},setValue:function(g){a=""+g},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function nu(e){if(!e._valueTracker){var t=Of(e)?"checked":"value";e._valueTracker=W0(e,t,""+e[t])}}function Nf(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var a=t.getValue(),i="";return e&&(i=Of(e)?e.checked?"true":"false":e.value),e=i,e!==a?(t.setValue(e),!0):!1}function ii(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var F0=/[\n"\\]/g;function Ht(e){return e.replace(F0,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function au(e,t,a,i,u,f,g,b){e.name="",g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?e.type=g:e.removeAttribute("type"),t!=null?g==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+$t(t)):e.value!==""+$t(t)&&(e.value=""+$t(t)):g!=="submit"&&g!=="reset"||e.removeAttribute("value"),t!=null?ru(e,g,$t(t)):a!=null?ru(e,g,$t(a)):i!=null&&e.removeAttribute("value"),u==null&&f!=null&&(e.defaultChecked=!!f),u!=null&&(e.checked=u&&typeof u!="function"&&typeof u!="symbol"),b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?e.name=""+$t(b):e.removeAttribute("name")}function Cf(e,t,a,i,u,f,g,b){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),t!=null||a!=null){if(!(f!=="submit"&&f!=="reset"||t!=null)){nu(e);return}a=a!=null?""+$t(a):"",t=t!=null?""+$t(t):a,b||t===e.value||(e.value=t),e.defaultValue=t}i=i??u,i=typeof i!="function"&&typeof i!="symbol"&&!!i,e.checked=b?e.checked:!!i,e.defaultChecked=!!i,g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(e.name=g),nu(e)}function ru(e,t,a){t==="number"&&ii(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function Ia(e,t,a,i){if(e=e.options,t){t={};for(var u=0;u<a.length;u++)t["$"+a[u]]=!0;for(a=0;a<e.length;a++)u=t.hasOwnProperty("$"+e[a].value),e[a].selected!==u&&(e[a].selected=u),u&&i&&(e[a].defaultSelected=!0)}else{for(a=""+$t(a),t=null,u=0;u<e.length;u++){if(e[u].value===a){e[u].selected=!0,i&&(e[u].defaultSelected=!0);return}t!==null||e[u].disabled||(t=e[u])}t!==null&&(t.selected=!0)}}function Lf(e,t,a){if(t!=null&&(t=""+$t(t),t!==e.value&&(e.value=t),a==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=a!=null?""+$t(a):""}function kf(e,t,a,i){if(t==null){if(i!=null){if(a!=null)throw Error(l(92));if(Qe(i)){if(1<i.length)throw Error(l(93));i=i[0]}a=i}a==null&&(a=""),t=a}a=$t(t),e.defaultValue=a,i=e.textContent,i===a&&i!==""&&i!==null&&(e.value=i),nu(e)}function Ga(e,t){if(t){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=t;return}}e.textContent=t}var ey=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Df(e,t,a){var i=t.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?i?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":i?e.setProperty(t,a):typeof a!="number"||a===0||ey.has(t)?t==="float"?e.cssFloat=a:e[t]=(""+a).trim():e[t]=a+"px"}function Uf(e,t,a){if(t!=null&&typeof t!="object")throw Error(l(62));if(e=e.style,a!=null){for(var i in a)!a.hasOwnProperty(i)||t!=null&&t.hasOwnProperty(i)||(i.indexOf("--")===0?e.setProperty(i,""):i==="float"?e.cssFloat="":e[i]="");for(var u in t)i=t[u],t.hasOwnProperty(u)&&a[u]!==i&&Df(e,u,i)}else for(var f in t)t.hasOwnProperty(f)&&Df(e,f,t[f])}function su(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ty=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ny=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function li(e){return ny.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function cn(){}var iu=null;function lu(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Va=null,Pa=null;function Mf(e){var t=qa(e);if(t&&(e=t.stateNode)){var a=e[vt]||null;e:switch(e=t.stateNode,t.type){case"input":if(au(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),t=a.name,a.type==="radio"&&t!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Ht(""+t)+'"][type="radio"]'),t=0;t<a.length;t++){var i=a[t];if(i!==e&&i.form===e.form){var u=i[vt]||null;if(!u)throw Error(l(90));au(i,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name)}}for(t=0;t<a.length;t++)i=a[t],i.form===e.form&&Nf(i)}break e;case"textarea":Lf(e,a.value,a.defaultValue);break e;case"select":t=a.value,t!=null&&Ia(e,!!a.multiple,t,!1)}}}var uu=!1;function zf(e,t,a){if(uu)return e(t,a);uu=!0;try{var i=e(t);return i}finally{if(uu=!1,(Va!==null||Pa!==null)&&(Zi(),Va&&(t=Va,e=Pa,Pa=Va=null,Mf(t),e)))for(t=0;t<e.length;t++)Mf(e[t])}}function Pr(e,t){var a=e.stateNode;if(a===null)return null;var i=a[vt]||null;if(i===null)return null;a=i[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(e=e.type,i=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!i;break e;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(l(231,t,typeof a));return a}var fn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ou=!1;if(fn)try{var Kr={};Object.defineProperty(Kr,"passive",{get:function(){ou=!0}}),window.addEventListener("test",Kr,Kr),window.removeEventListener("test",Kr,Kr)}catch{ou=!1}var Mn=null,cu=null,ui=null;function Bf(){if(ui)return ui;var e,t=cu,a=t.length,i,u="value"in Mn?Mn.value:Mn.textContent,f=u.length;for(e=0;e<a&&t[e]===u[e];e++);var g=a-e;for(i=1;i<=g&&t[a-i]===u[f-i];i++);return ui=u.slice(e,1<i?1-i:void 0)}function oi(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function ci(){return!0}function qf(){return!1}function bt(e){function t(a,i,u,f,g){this._reactName=a,this._targetInst=u,this.type=i,this.nativeEvent=f,this.target=g,this.currentTarget=null;for(var b in e)e.hasOwnProperty(b)&&(a=e[b],this[b]=a?a(f):f[b]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?ci:qf,this.isPropagationStopped=qf,this}return _(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=ci)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=ci)},persist:function(){},isPersistent:ci}),t}var da={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},fi=bt(da),Yr=_({},da,{view:0,detail:0}),ay=bt(Yr),fu,du,Zr,di=_({},Yr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:mu,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Zr&&(Zr&&e.type==="mousemove"?(fu=e.screenX-Zr.screenX,du=e.screenY-Zr.screenY):du=fu=0,Zr=e),fu)},movementY:function(e){return"movementY"in e?e.movementY:du}}),$f=bt(di),ry=_({},di,{dataTransfer:0}),sy=bt(ry),iy=_({},Yr,{relatedTarget:0}),hu=bt(iy),ly=_({},da,{animationName:0,elapsedTime:0,pseudoElement:0}),uy=bt(ly),oy=_({},da,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),cy=bt(oy),fy=_({},da,{data:0}),Hf=bt(fy),dy={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},hy={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},my={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function py(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=my[e])?!!t[e]:!1}function mu(){return py}var gy=_({},Yr,{key:function(e){if(e.key){var t=dy[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=oi(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?hy[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:mu,charCode:function(e){return e.type==="keypress"?oi(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?oi(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),yy=bt(gy),vy=_({},di,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),If=bt(vy),by=_({},Yr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:mu}),_y=bt(by),wy=_({},da,{propertyName:0,elapsedTime:0,pseudoElement:0}),xy=bt(wy),Sy=_({},di,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Ey=bt(Sy),Ty=_({},da,{newState:0,oldState:0}),Ay=bt(Ty),jy=[9,13,27,32],pu=fn&&"CompositionEvent"in window,Jr=null;fn&&"documentMode"in document&&(Jr=document.documentMode);var Ry=fn&&"TextEvent"in window&&!Jr,Gf=fn&&(!pu||Jr&&8<Jr&&11>=Jr),Vf=" ",Pf=!1;function Kf(e,t){switch(e){case"keyup":return jy.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Yf(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ka=!1;function Oy(e,t){switch(e){case"compositionend":return Yf(t);case"keypress":return t.which!==32?null:(Pf=!0,Vf);case"textInput":return e=t.data,e===Vf&&Pf?null:e;default:return null}}function Ny(e,t){if(Ka)return e==="compositionend"||!pu&&Kf(e,t)?(e=Bf(),ui=cu=Mn=null,Ka=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Gf&&t.locale!=="ko"?null:t.data;default:return null}}var Cy={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Zf(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Cy[e.type]:t==="textarea"}function Jf(e,t,a,i){Va?Pa?Pa.push(i):Pa=[i]:Va=i,t=tl(t,"onChange"),0<t.length&&(a=new fi("onChange","change",null,a,i),e.push({event:a,listeners:t}))}var Xr=null,Qr=null;function Ly(e){Cm(e,0)}function hi(e){var t=Vr(e);if(Nf(t))return e}function Xf(e,t){if(e==="change")return t}var Qf=!1;if(fn){var gu;if(fn){var yu="oninput"in document;if(!yu){var Wf=document.createElement("div");Wf.setAttribute("oninput","return;"),yu=typeof Wf.oninput=="function"}gu=yu}else gu=!1;Qf=gu&&(!document.documentMode||9<document.documentMode)}function Ff(){Xr&&(Xr.detachEvent("onpropertychange",ed),Qr=Xr=null)}function ed(e){if(e.propertyName==="value"&&hi(Qr)){var t=[];Jf(t,Qr,e,lu(e)),zf(Ly,t)}}function ky(e,t,a){e==="focusin"?(Ff(),Xr=t,Qr=a,Xr.attachEvent("onpropertychange",ed)):e==="focusout"&&Ff()}function Dy(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return hi(Qr)}function Uy(e,t){if(e==="click")return hi(t)}function My(e,t){if(e==="input"||e==="change")return hi(t)}function zy(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Ot=typeof Object.is=="function"?Object.is:zy;function Wr(e,t){if(Ot(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var a=Object.keys(e),i=Object.keys(t);if(a.length!==i.length)return!1;for(i=0;i<a.length;i++){var u=a[i];if(!Zl.call(t,u)||!Ot(e[u],t[u]))return!1}return!0}function td(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function nd(e,t){var a=td(e);e=0;for(var i;a;){if(a.nodeType===3){if(i=e+a.textContent.length,e<=t&&i>=t)return{node:a,offset:t-e};e=i}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=td(a)}}function ad(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?ad(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function rd(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=ii(e.document);t instanceof e.HTMLIFrameElement;){try{var a=typeof t.contentWindow.location.href=="string"}catch{a=!1}if(a)e=t.contentWindow;else break;t=ii(e.document)}return t}function vu(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var By=fn&&"documentMode"in document&&11>=document.documentMode,Ya=null,bu=null,Fr=null,_u=!1;function sd(e,t,a){var i=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;_u||Ya==null||Ya!==ii(i)||(i=Ya,"selectionStart"in i&&vu(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),Fr&&Wr(Fr,i)||(Fr=i,i=tl(bu,"onSelect"),0<i.length&&(t=new fi("onSelect","select",null,t,a),e.push({event:t,listeners:i}),t.target=Ya)))}function ha(e,t){var a={};return a[e.toLowerCase()]=t.toLowerCase(),a["Webkit"+e]="webkit"+t,a["Moz"+e]="moz"+t,a}var Za={animationend:ha("Animation","AnimationEnd"),animationiteration:ha("Animation","AnimationIteration"),animationstart:ha("Animation","AnimationStart"),transitionrun:ha("Transition","TransitionRun"),transitionstart:ha("Transition","TransitionStart"),transitioncancel:ha("Transition","TransitionCancel"),transitionend:ha("Transition","TransitionEnd")},wu={},id={};fn&&(id=document.createElement("div").style,"AnimationEvent"in window||(delete Za.animationend.animation,delete Za.animationiteration.animation,delete Za.animationstart.animation),"TransitionEvent"in window||delete Za.transitionend.transition);function ma(e){if(wu[e])return wu[e];if(!Za[e])return e;var t=Za[e],a;for(a in t)if(t.hasOwnProperty(a)&&a in id)return wu[e]=t[a];return e}var ld=ma("animationend"),ud=ma("animationiteration"),od=ma("animationstart"),qy=ma("transitionrun"),$y=ma("transitionstart"),Hy=ma("transitioncancel"),cd=ma("transitionend"),fd=new Map,xu="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");xu.push("scrollEnd");function Wt(e,t){fd.set(e,t),fa(t,[e])}var mi=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},It=[],Ja=0,Su=0;function pi(){for(var e=Ja,t=Su=Ja=0;t<e;){var a=It[t];It[t++]=null;var i=It[t];It[t++]=null;var u=It[t];It[t++]=null;var f=It[t];if(It[t++]=null,i!==null&&u!==null){var g=i.pending;g===null?u.next=u:(u.next=g.next,g.next=u),i.pending=u}f!==0&&dd(a,u,f)}}function gi(e,t,a,i){It[Ja++]=e,It[Ja++]=t,It[Ja++]=a,It[Ja++]=i,Su|=i,e.lanes|=i,e=e.alternate,e!==null&&(e.lanes|=i)}function Eu(e,t,a,i){return gi(e,t,a,i),yi(e)}function pa(e,t){return gi(e,null,null,t),yi(e)}function dd(e,t,a){e.lanes|=a;var i=e.alternate;i!==null&&(i.lanes|=a);for(var u=!1,f=e.return;f!==null;)f.childLanes|=a,i=f.alternate,i!==null&&(i.childLanes|=a),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(u=!0)),e=f,f=f.return;return e.tag===3?(f=e.stateNode,u&&t!==null&&(u=31-Rt(a),e=f.hiddenUpdates,i=e[u],i===null?e[u]=[t]:i.push(t),t.lane=a|536870912),f):null}function yi(e){if(50<ws)throw ws=0,Do=null,Error(l(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var Xa={};function Iy(e,t,a,i){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Nt(e,t,a,i){return new Iy(e,t,a,i)}function Tu(e){return e=e.prototype,!(!e||!e.isReactComponent)}function dn(e,t){var a=e.alternate;return a===null?(a=Nt(e.tag,t,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=t,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,t=e.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function hd(e,t){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,t=a.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function vi(e,t,a,i,u,f){var g=0;if(i=e,typeof e=="function")Tu(e)&&(g=1);else if(typeof e=="string")g=Yv(e,a,W.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case Q:return e=Nt(31,a,t,u),e.elementType=Q,e.lanes=f,e;case T:return ga(a.children,u,f,t);case j:g=8,u|=24;break;case C:return e=Nt(12,a,t,u|2),e.elementType=C,e.lanes=f,e;case F:return e=Nt(13,a,t,u),e.elementType=F,e.lanes=f,e;case P:return e=Nt(19,a,t,u),e.elementType=P,e.lanes=f,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case q:g=10;break e;case U:g=9;break e;case H:g=11;break e;case Y:g=14;break e;case z:g=16,i=null;break e}g=29,a=Error(l(130,e===null?"null":typeof e,"")),i=null}return t=Nt(g,a,t,u),t.elementType=e,t.type=i,t.lanes=f,t}function ga(e,t,a,i){return e=Nt(7,e,i,t),e.lanes=a,e}function Au(e,t,a){return e=Nt(6,e,null,t),e.lanes=a,e}function md(e){var t=Nt(18,null,null,0);return t.stateNode=e,t}function ju(e,t,a){return t=Nt(4,e.children!==null?e.children:[],e.key,t),t.lanes=a,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var pd=new WeakMap;function Gt(e,t){if(typeof e=="object"&&e!==null){var a=pd.get(e);return a!==void 0?a:(t={value:e,source:t,stack:mf(t)},pd.set(e,t),t)}return{value:e,source:t,stack:mf(t)}}var Qa=[],Wa=0,bi=null,es=0,Vt=[],Pt=0,zn=null,rn=1,sn="";function hn(e,t){Qa[Wa++]=es,Qa[Wa++]=bi,bi=e,es=t}function gd(e,t,a){Vt[Pt++]=rn,Vt[Pt++]=sn,Vt[Pt++]=zn,zn=e;var i=rn;e=sn;var u=32-Rt(i)-1;i&=~(1<<u),a+=1;var f=32-Rt(t)+u;if(30<f){var g=u-u%5;f=(i&(1<<g)-1).toString(32),i>>=g,u-=g,rn=1<<32-Rt(t)+u|a<<u|i,sn=f+e}else rn=1<<f|a<<u|i,sn=e}function Ru(e){e.return!==null&&(hn(e,1),gd(e,1,0))}function Ou(e){for(;e===bi;)bi=Qa[--Wa],Qa[Wa]=null,es=Qa[--Wa],Qa[Wa]=null;for(;e===zn;)zn=Vt[--Pt],Vt[Pt]=null,sn=Vt[--Pt],Vt[Pt]=null,rn=Vt[--Pt],Vt[Pt]=null}function yd(e,t){Vt[Pt++]=rn,Vt[Pt++]=sn,Vt[Pt++]=zn,rn=t.id,sn=t.overflow,zn=e}var lt=null,Me=null,be=!1,Bn=null,Kt=!1,Nu=Error(l(519));function qn(e){var t=Error(l(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw ts(Gt(t,e)),Nu}function vd(e){var t=e.stateNode,a=e.type,i=e.memoizedProps;switch(t[it]=e,t[vt]=i,a){case"dialog":ge("cancel",t),ge("close",t);break;case"iframe":case"object":case"embed":ge("load",t);break;case"video":case"audio":for(a=0;a<Ss.length;a++)ge(Ss[a],t);break;case"source":ge("error",t);break;case"img":case"image":case"link":ge("error",t),ge("load",t);break;case"details":ge("toggle",t);break;case"input":ge("invalid",t),Cf(t,i.value,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name,!0);break;case"select":ge("invalid",t);break;case"textarea":ge("invalid",t),kf(t,i.value,i.defaultValue,i.children)}a=i.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||t.textContent===""+a||i.suppressHydrationWarning===!0||Um(t.textContent,a)?(i.popover!=null&&(ge("beforetoggle",t),ge("toggle",t)),i.onScroll!=null&&ge("scroll",t),i.onScrollEnd!=null&&ge("scrollend",t),i.onClick!=null&&(t.onclick=cn),t=!0):t=!1,t||qn(e,!0)}function bd(e){for(lt=e.return;lt;)switch(lt.tag){case 5:case 31:case 13:Kt=!1;return;case 27:case 3:Kt=!0;return;default:lt=lt.return}}function Fa(e){if(e!==lt)return!1;if(!be)return bd(e),be=!0,!1;var t=e.tag,a;if((a=t!==3&&t!==27)&&((a=t===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||Jo(e.type,e.memoizedProps)),a=!a),a&&Me&&qn(e),bd(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(l(317));Me=Vm(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(l(317));Me=Vm(e)}else t===27?(t=Me,Fn(e.type)?(e=ec,ec=null,Me=e):Me=t):Me=lt?Zt(e.stateNode.nextSibling):null;return!0}function ya(){Me=lt=null,be=!1}function Cu(){var e=Bn;return e!==null&&(St===null?St=e:St.push.apply(St,e),Bn=null),e}function ts(e){Bn===null?Bn=[e]:Bn.push(e)}var Lu=S(null),va=null,mn=null;function $n(e,t,a){K(Lu,t._currentValue),t._currentValue=a}function pn(e){e._currentValue=Lu.current,M(Lu)}function ku(e,t,a){for(;e!==null;){var i=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,i!==null&&(i.childLanes|=t)):i!==null&&(i.childLanes&t)!==t&&(i.childLanes|=t),e===a)break;e=e.return}}function Du(e,t,a,i){var u=e.child;for(u!==null&&(u.return=e);u!==null;){var f=u.dependencies;if(f!==null){var g=u.child;f=f.firstContext;e:for(;f!==null;){var b=f;f=u;for(var E=0;E<t.length;E++)if(b.context===t[E]){f.lanes|=a,b=f.alternate,b!==null&&(b.lanes|=a),ku(f.return,a,e),i||(g=null);break e}f=b.next}}else if(u.tag===18){if(g=u.return,g===null)throw Error(l(341));g.lanes|=a,f=g.alternate,f!==null&&(f.lanes|=a),ku(g,a,e),g=null}else g=u.child;if(g!==null)g.return=u;else for(g=u;g!==null;){if(g===e){g=null;break}if(u=g.sibling,u!==null){u.return=g.return,g=u;break}g=g.return}u=g}}function er(e,t,a,i){e=null;for(var u=t,f=!1;u!==null;){if(!f){if((u.flags&524288)!==0)f=!0;else if((u.flags&262144)!==0)break}if(u.tag===10){var g=u.alternate;if(g===null)throw Error(l(387));if(g=g.memoizedProps,g!==null){var b=u.type;Ot(u.pendingProps.value,g.value)||(e!==null?e.push(b):e=[b])}}else if(u===we.current){if(g=u.alternate,g===null)throw Error(l(387));g.memoizedState.memoizedState!==u.memoizedState.memoizedState&&(e!==null?e.push(Rs):e=[Rs])}u=u.return}e!==null&&Du(t,e,a,i),t.flags|=262144}function _i(e){for(e=e.firstContext;e!==null;){if(!Ot(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function ba(e){va=e,mn=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function ut(e){return _d(va,e)}function wi(e,t){return va===null&&ba(e),_d(e,t)}function _d(e,t){var a=t._currentValue;if(t={context:t,memoizedValue:a,next:null},mn===null){if(e===null)throw Error(l(308));mn=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else mn=mn.next=t;return a}var Gy=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(a,i){e.push(i)}};this.abort=function(){t.aborted=!0,e.forEach(function(a){return a()})}},Vy=r.unstable_scheduleCallback,Py=r.unstable_NormalPriority,Ke={$$typeof:q,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Uu(){return{controller:new Gy,data:new Map,refCount:0}}function ns(e){e.refCount--,e.refCount===0&&Vy(Py,function(){e.controller.abort()})}var as=null,Mu=0,tr=0,nr=null;function Ky(e,t){if(as===null){var a=as=[];Mu=0,tr=$o(),nr={status:"pending",value:void 0,then:function(i){a.push(i)}}}return Mu++,t.then(wd,wd),t}function wd(){if(--Mu===0&&as!==null){nr!==null&&(nr.status="fulfilled");var e=as;as=null,tr=0,nr=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function Yy(e,t){var a=[],i={status:"pending",value:null,reason:null,then:function(u){a.push(u)}};return e.then(function(){i.status="fulfilled",i.value=t;for(var u=0;u<a.length;u++)(0,a[u])(t)},function(u){for(i.status="rejected",i.reason=u,u=0;u<a.length;u++)(0,a[u])(void 0)}),i}var xd=$.S;$.S=function(e,t){sm=At(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&Ky(e,t),xd!==null&&xd(e,t)};var _a=S(null);function zu(){var e=_a.current;return e!==null?e:Le.pooledCache}function xi(e,t){t===null?K(_a,_a.current):K(_a,t.pool)}function Sd(){var e=zu();return e===null?null:{parent:Ke._currentValue,pool:e}}var ar=Error(l(460)),Bu=Error(l(474)),Si=Error(l(542)),Ei={then:function(){}};function Ed(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Td(e,t,a){switch(a=e[a],a===void 0?e.push(t):a!==t&&(t.then(cn,cn),t=a),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,jd(e),e;default:if(typeof t.status=="string")t.then(cn,cn);else{if(e=Le,e!==null&&100<e.shellSuspendCounter)throw Error(l(482));e=t,e.status="pending",e.then(function(i){if(t.status==="pending"){var u=t;u.status="fulfilled",u.value=i}},function(i){if(t.status==="pending"){var u=t;u.status="rejected",u.reason=i}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,jd(e),e}throw xa=t,ar}}function wa(e){try{var t=e._init;return t(e._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(xa=a,ar):a}}var xa=null;function Ad(){if(xa===null)throw Error(l(459));var e=xa;return xa=null,e}function jd(e){if(e===ar||e===Si)throw Error(l(483))}var rr=null,rs=0;function Ti(e){var t=rs;return rs+=1,rr===null&&(rr=[]),Td(rr,e,t)}function ss(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function Ai(e,t){throw t.$$typeof===w?Error(l(525)):(e=Object.prototype.toString.call(t),Error(l(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function Rd(e){function t(N,O){if(e){var L=N.deletions;L===null?(N.deletions=[O],N.flags|=16):L.push(O)}}function a(N,O){if(!e)return null;for(;O!==null;)t(N,O),O=O.sibling;return null}function i(N){for(var O=new Map;N!==null;)N.key!==null?O.set(N.key,N):O.set(N.index,N),N=N.sibling;return O}function u(N,O){return N=dn(N,O),N.index=0,N.sibling=null,N}function f(N,O,L){return N.index=L,e?(L=N.alternate,L!==null?(L=L.index,L<O?(N.flags|=67108866,O):L):(N.flags|=67108866,O)):(N.flags|=1048576,O)}function g(N){return e&&N.alternate===null&&(N.flags|=67108866),N}function b(N,O,L,G){return O===null||O.tag!==6?(O=Au(L,N.mode,G),O.return=N,O):(O=u(O,L),O.return=N,O)}function E(N,O,L,G){var re=L.type;return re===T?I(N,O,L.props.children,G,L.key):O!==null&&(O.elementType===re||typeof re=="object"&&re!==null&&re.$$typeof===z&&wa(re)===O.type)?(O=u(O,L.props),ss(O,L),O.return=N,O):(O=vi(L.type,L.key,L.props,null,N.mode,G),ss(O,L),O.return=N,O)}function k(N,O,L,G){return O===null||O.tag!==4||O.stateNode.containerInfo!==L.containerInfo||O.stateNode.implementation!==L.implementation?(O=ju(L,N.mode,G),O.return=N,O):(O=u(O,L.children||[]),O.return=N,O)}function I(N,O,L,G,re){return O===null||O.tag!==7?(O=ga(L,N.mode,G,re),O.return=N,O):(O=u(O,L),O.return=N,O)}function V(N,O,L){if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return O=Au(""+O,N.mode,L),O.return=N,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case x:return L=vi(O.type,O.key,O.props,null,N.mode,L),ss(L,O),L.return=N,L;case R:return O=ju(O,N.mode,L),O.return=N,O;case z:return O=wa(O),V(N,O,L)}if(Qe(O)||Pe(O))return O=ga(O,N.mode,L,null),O.return=N,O;if(typeof O.then=="function")return V(N,Ti(O),L);if(O.$$typeof===q)return V(N,wi(N,O),L);Ai(N,O)}return null}function D(N,O,L,G){var re=O!==null?O.key:null;if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return re!==null?null:b(N,O,""+L,G);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case x:return L.key===re?E(N,O,L,G):null;case R:return L.key===re?k(N,O,L,G):null;case z:return L=wa(L),D(N,O,L,G)}if(Qe(L)||Pe(L))return re!==null?null:I(N,O,L,G,null);if(typeof L.then=="function")return D(N,O,Ti(L),G);if(L.$$typeof===q)return D(N,O,wi(N,L),G);Ai(N,L)}return null}function B(N,O,L,G,re){if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return N=N.get(L)||null,b(O,N,""+G,re);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case x:return N=N.get(G.key===null?L:G.key)||null,E(O,N,G,re);case R:return N=N.get(G.key===null?L:G.key)||null,k(O,N,G,re);case z:return G=wa(G),B(N,O,L,G,re)}if(Qe(G)||Pe(G))return N=N.get(L)||null,I(O,N,G,re,null);if(typeof G.then=="function")return B(N,O,L,Ti(G),re);if(G.$$typeof===q)return B(N,O,L,wi(O,G),re);Ai(O,G)}return null}function te(N,O,L,G){for(var re=null,xe=null,ne=O,he=O=0,ve=null;ne!==null&&he<L.length;he++){ne.index>he?(ve=ne,ne=null):ve=ne.sibling;var Se=D(N,ne,L[he],G);if(Se===null){ne===null&&(ne=ve);break}e&&ne&&Se.alternate===null&&t(N,ne),O=f(Se,O,he),xe===null?re=Se:xe.sibling=Se,xe=Se,ne=ve}if(he===L.length)return a(N,ne),be&&hn(N,he),re;if(ne===null){for(;he<L.length;he++)ne=V(N,L[he],G),ne!==null&&(O=f(ne,O,he),xe===null?re=ne:xe.sibling=ne,xe=ne);return be&&hn(N,he),re}for(ne=i(ne);he<L.length;he++)ve=B(ne,N,he,L[he],G),ve!==null&&(e&&ve.alternate!==null&&ne.delete(ve.key===null?he:ve.key),O=f(ve,O,he),xe===null?re=ve:xe.sibling=ve,xe=ve);return e&&ne.forEach(function(ra){return t(N,ra)}),be&&hn(N,he),re}function ie(N,O,L,G){if(L==null)throw Error(l(151));for(var re=null,xe=null,ne=O,he=O=0,ve=null,Se=L.next();ne!==null&&!Se.done;he++,Se=L.next()){ne.index>he?(ve=ne,ne=null):ve=ne.sibling;var ra=D(N,ne,Se.value,G);if(ra===null){ne===null&&(ne=ve);break}e&&ne&&ra.alternate===null&&t(N,ne),O=f(ra,O,he),xe===null?re=ra:xe.sibling=ra,xe=ra,ne=ve}if(Se.done)return a(N,ne),be&&hn(N,he),re;if(ne===null){for(;!Se.done;he++,Se=L.next())Se=V(N,Se.value,G),Se!==null&&(O=f(Se,O,he),xe===null?re=Se:xe.sibling=Se,xe=Se);return be&&hn(N,he),re}for(ne=i(ne);!Se.done;he++,Se=L.next())Se=B(ne,N,he,Se.value,G),Se!==null&&(e&&Se.alternate!==null&&ne.delete(Se.key===null?he:Se.key),O=f(Se,O,he),xe===null?re=Se:xe.sibling=Se,xe=Se);return e&&ne.forEach(function(rb){return t(N,rb)}),be&&hn(N,he),re}function Ce(N,O,L,G){if(typeof L=="object"&&L!==null&&L.type===T&&L.key===null&&(L=L.props.children),typeof L=="object"&&L!==null){switch(L.$$typeof){case x:e:{for(var re=L.key;O!==null;){if(O.key===re){if(re=L.type,re===T){if(O.tag===7){a(N,O.sibling),G=u(O,L.props.children),G.return=N,N=G;break e}}else if(O.elementType===re||typeof re=="object"&&re!==null&&re.$$typeof===z&&wa(re)===O.type){a(N,O.sibling),G=u(O,L.props),ss(G,L),G.return=N,N=G;break e}a(N,O);break}else t(N,O);O=O.sibling}L.type===T?(G=ga(L.props.children,N.mode,G,L.key),G.return=N,N=G):(G=vi(L.type,L.key,L.props,null,N.mode,G),ss(G,L),G.return=N,N=G)}return g(N);case R:e:{for(re=L.key;O!==null;){if(O.key===re)if(O.tag===4&&O.stateNode.containerInfo===L.containerInfo&&O.stateNode.implementation===L.implementation){a(N,O.sibling),G=u(O,L.children||[]),G.return=N,N=G;break e}else{a(N,O);break}else t(N,O);O=O.sibling}G=ju(L,N.mode,G),G.return=N,N=G}return g(N);case z:return L=wa(L),Ce(N,O,L,G)}if(Qe(L))return te(N,O,L,G);if(Pe(L)){if(re=Pe(L),typeof re!="function")throw Error(l(150));return L=re.call(L),ie(N,O,L,G)}if(typeof L.then=="function")return Ce(N,O,Ti(L),G);if(L.$$typeof===q)return Ce(N,O,wi(N,L),G);Ai(N,L)}return typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint"?(L=""+L,O!==null&&O.tag===6?(a(N,O.sibling),G=u(O,L),G.return=N,N=G):(a(N,O),G=Au(L,N.mode,G),G.return=N,N=G),g(N)):a(N,O)}return function(N,O,L,G){try{rs=0;var re=Ce(N,O,L,G);return rr=null,re}catch(ne){if(ne===ar||ne===Si)throw ne;var xe=Nt(29,ne,null,N.mode);return xe.lanes=G,xe.return=N,xe}}}var Sa=Rd(!0),Od=Rd(!1),Hn=!1;function qu(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function $u(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function In(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Gn(e,t,a){var i=e.updateQueue;if(i===null)return null;if(i=i.shared,(Te&2)!==0){var u=i.pending;return u===null?t.next=t:(t.next=u.next,u.next=t),i.pending=t,t=yi(e),dd(e,null,a),t}return gi(e,i,t,a),yi(e)}function is(e,t,a){if(t=t.updateQueue,t!==null&&(t=t.shared,(a&4194048)!==0)){var i=t.lanes;i&=e.pendingLanes,a|=i,t.lanes=a,_f(e,a)}}function Hu(e,t){var a=e.updateQueue,i=e.alternate;if(i!==null&&(i=i.updateQueue,a===i)){var u=null,f=null;if(a=a.firstBaseUpdate,a!==null){do{var g={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};f===null?u=f=g:f=f.next=g,a=a.next}while(a!==null);f===null?u=f=t:f=f.next=t}else u=f=t;a={baseState:i.baseState,firstBaseUpdate:u,lastBaseUpdate:f,shared:i.shared,callbacks:i.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=t:e.next=t,a.lastBaseUpdate=t}var Iu=!1;function ls(){if(Iu){var e=nr;if(e!==null)throw e}}function us(e,t,a,i){Iu=!1;var u=e.updateQueue;Hn=!1;var f=u.firstBaseUpdate,g=u.lastBaseUpdate,b=u.shared.pending;if(b!==null){u.shared.pending=null;var E=b,k=E.next;E.next=null,g===null?f=k:g.next=k,g=E;var I=e.alternate;I!==null&&(I=I.updateQueue,b=I.lastBaseUpdate,b!==g&&(b===null?I.firstBaseUpdate=k:b.next=k,I.lastBaseUpdate=E))}if(f!==null){var V=u.baseState;g=0,I=k=E=null,b=f;do{var D=b.lane&-536870913,B=D!==b.lane;if(B?(ye&D)===D:(i&D)===D){D!==0&&D===tr&&(Iu=!0),I!==null&&(I=I.next={lane:0,tag:b.tag,payload:b.payload,callback:null,next:null});e:{var te=e,ie=b;D=t;var Ce=a;switch(ie.tag){case 1:if(te=ie.payload,typeof te=="function"){V=te.call(Ce,V,D);break e}V=te;break e;case 3:te.flags=te.flags&-65537|128;case 0:if(te=ie.payload,D=typeof te=="function"?te.call(Ce,V,D):te,D==null)break e;V=_({},V,D);break e;case 2:Hn=!0}}D=b.callback,D!==null&&(e.flags|=64,B&&(e.flags|=8192),B=u.callbacks,B===null?u.callbacks=[D]:B.push(D))}else B={lane:D,tag:b.tag,payload:b.payload,callback:b.callback,next:null},I===null?(k=I=B,E=V):I=I.next=B,g|=D;if(b=b.next,b===null){if(b=u.shared.pending,b===null)break;B=b,b=B.next,B.next=null,u.lastBaseUpdate=B,u.shared.pending=null}}while(!0);I===null&&(E=V),u.baseState=E,u.firstBaseUpdate=k,u.lastBaseUpdate=I,f===null&&(u.shared.lanes=0),Zn|=g,e.lanes=g,e.memoizedState=V}}function Nd(e,t){if(typeof e!="function")throw Error(l(191,e));e.call(t)}function Cd(e,t){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)Nd(a[e],t)}var sr=S(null),ji=S(0);function Ld(e,t){e=En,K(ji,e),K(sr,t),En=e|t.baseLanes}function Gu(){K(ji,En),K(sr,sr.current)}function Vu(){En=ji.current,M(sr),M(ji)}var Ct=S(null),Yt=null;function Vn(e){var t=e.alternate;K(Ge,Ge.current&1),K(Ct,e),Yt===null&&(t===null||sr.current!==null||t.memoizedState!==null)&&(Yt=e)}function Pu(e){K(Ge,Ge.current),K(Ct,e),Yt===null&&(Yt=e)}function kd(e){e.tag===22?(K(Ge,Ge.current),K(Ct,e),Yt===null&&(Yt=e)):Pn()}function Pn(){K(Ge,Ge.current),K(Ct,Ct.current)}function Lt(e){M(Ct),Yt===e&&(Yt=null),M(Ge)}var Ge=S(0);function Ri(e){for(var t=e;t!==null;){if(t.tag===13){var a=t.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Wo(a)||Fo(a)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var gn=0,de=null,Oe=null,Ye=null,Oi=!1,ir=!1,Ea=!1,Ni=0,os=0,lr=null,Zy=0;function $e(){throw Error(l(321))}function Ku(e,t){if(t===null)return!1;for(var a=0;a<t.length&&a<e.length;a++)if(!Ot(e[a],t[a]))return!1;return!0}function Yu(e,t,a,i,u,f){return gn=f,de=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,$.H=e===null||e.memoizedState===null?gh:uo,Ea=!1,f=a(i,u),Ea=!1,ir&&(f=Ud(t,a,i,u)),Dd(e),f}function Dd(e){$.H=ds;var t=Oe!==null&&Oe.next!==null;if(gn=0,Ye=Oe=de=null,Oi=!1,os=0,lr=null,t)throw Error(l(300));e===null||Ze||(e=e.dependencies,e!==null&&_i(e)&&(Ze=!0))}function Ud(e,t,a,i){de=e;var u=0;do{if(ir&&(lr=null),os=0,ir=!1,25<=u)throw Error(l(301));if(u+=1,Ye=Oe=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}$.H=yh,f=t(a,i)}while(ir);return f}function Jy(){var e=$.H,t=e.useState()[0];return t=typeof t.then=="function"?cs(t):t,e=e.useState()[0],(Oe!==null?Oe.memoizedState:null)!==e&&(de.flags|=1024),t}function Zu(){var e=Ni!==0;return Ni=0,e}function Ju(e,t,a){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a}function Xu(e){if(Oi){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}Oi=!1}gn=0,Ye=Oe=de=null,ir=!1,os=Ni=0,lr=null}function pt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ye===null?de.memoizedState=Ye=e:Ye=Ye.next=e,Ye}function Ve(){if(Oe===null){var e=de.alternate;e=e!==null?e.memoizedState:null}else e=Oe.next;var t=Ye===null?de.memoizedState:Ye.next;if(t!==null)Ye=t,Oe=e;else{if(e===null)throw de.alternate===null?Error(l(467)):Error(l(310));Oe=e,e={memoizedState:Oe.memoizedState,baseState:Oe.baseState,baseQueue:Oe.baseQueue,queue:Oe.queue,next:null},Ye===null?de.memoizedState=Ye=e:Ye=Ye.next=e}return Ye}function Ci(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function cs(e){var t=os;return os+=1,lr===null&&(lr=[]),e=Td(lr,e,t),t=de,(Ye===null?t.memoizedState:Ye.next)===null&&(t=t.alternate,$.H=t===null||t.memoizedState===null?gh:uo),e}function Li(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return cs(e);if(e.$$typeof===q)return ut(e)}throw Error(l(438,String(e)))}function Qu(e){var t=null,a=de.updateQueue;if(a!==null&&(t=a.memoCache),t==null){var i=de.alternate;i!==null&&(i=i.updateQueue,i!==null&&(i=i.memoCache,i!=null&&(t={data:i.data.map(function(u){return u.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),a===null&&(a=Ci(),de.updateQueue=a),a.memoCache=t,a=t.data[t.index],a===void 0)for(a=t.data[t.index]=Array(e),i=0;i<e;i++)a[i]=Re;return t.index++,a}function yn(e,t){return typeof t=="function"?t(e):t}function ki(e){var t=Ve();return Wu(t,Oe,e)}function Wu(e,t,a){var i=e.queue;if(i===null)throw Error(l(311));i.lastRenderedReducer=a;var u=e.baseQueue,f=i.pending;if(f!==null){if(u!==null){var g=u.next;u.next=f.next,f.next=g}t.baseQueue=u=f,i.pending=null}if(f=e.baseState,u===null)e.memoizedState=f;else{t=u.next;var b=g=null,E=null,k=t,I=!1;do{var V=k.lane&-536870913;if(V!==k.lane?(ye&V)===V:(gn&V)===V){var D=k.revertLane;if(D===0)E!==null&&(E=E.next={lane:0,revertLane:0,gesture:null,action:k.action,hasEagerState:k.hasEagerState,eagerState:k.eagerState,next:null}),V===tr&&(I=!0);else if((gn&D)===D){k=k.next,D===tr&&(I=!0);continue}else V={lane:0,revertLane:k.revertLane,gesture:null,action:k.action,hasEagerState:k.hasEagerState,eagerState:k.eagerState,next:null},E===null?(b=E=V,g=f):E=E.next=V,de.lanes|=D,Zn|=D;V=k.action,Ea&&a(f,V),f=k.hasEagerState?k.eagerState:a(f,V)}else D={lane:V,revertLane:k.revertLane,gesture:k.gesture,action:k.action,hasEagerState:k.hasEagerState,eagerState:k.eagerState,next:null},E===null?(b=E=D,g=f):E=E.next=D,de.lanes|=V,Zn|=V;k=k.next}while(k!==null&&k!==t);if(E===null?g=f:E.next=b,!Ot(f,e.memoizedState)&&(Ze=!0,I&&(a=nr,a!==null)))throw a;e.memoizedState=f,e.baseState=g,e.baseQueue=E,i.lastRenderedState=f}return u===null&&(i.lanes=0),[e.memoizedState,i.dispatch]}function Fu(e){var t=Ve(),a=t.queue;if(a===null)throw Error(l(311));a.lastRenderedReducer=e;var i=a.dispatch,u=a.pending,f=t.memoizedState;if(u!==null){a.pending=null;var g=u=u.next;do f=e(f,g.action),g=g.next;while(g!==u);Ot(f,t.memoizedState)||(Ze=!0),t.memoizedState=f,t.baseQueue===null&&(t.baseState=f),a.lastRenderedState=f}return[f,i]}function Md(e,t,a){var i=de,u=Ve(),f=be;if(f){if(a===void 0)throw Error(l(407));a=a()}else a=t();var g=!Ot((Oe||u).memoizedState,a);if(g&&(u.memoizedState=a,Ze=!0),u=u.queue,no(qd.bind(null,i,u,e),[e]),u.getSnapshot!==t||g||Ye!==null&&Ye.memoizedState.tag&1){if(i.flags|=2048,ur(9,{destroy:void 0},Bd.bind(null,i,u,a,t),null),Le===null)throw Error(l(349));f||(gn&127)!==0||zd(i,t,a)}return a}function zd(e,t,a){e.flags|=16384,e={getSnapshot:t,value:a},t=de.updateQueue,t===null?(t=Ci(),de.updateQueue=t,t.stores=[e]):(a=t.stores,a===null?t.stores=[e]:a.push(e))}function Bd(e,t,a,i){t.value=a,t.getSnapshot=i,$d(t)&&Hd(e)}function qd(e,t,a){return a(function(){$d(t)&&Hd(e)})}function $d(e){var t=e.getSnapshot;e=e.value;try{var a=t();return!Ot(e,a)}catch{return!0}}function Hd(e){var t=pa(e,2);t!==null&&Et(t,e,2)}function eo(e){var t=pt();if(typeof e=="function"){var a=e;if(e=a(),Ea){Dn(!0);try{a()}finally{Dn(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:yn,lastRenderedState:e},t}function Id(e,t,a,i){return e.baseState=a,Wu(e,Oe,typeof i=="function"?i:yn)}function Xy(e,t,a,i,u){if(Mi(e))throw Error(l(485));if(e=t.action,e!==null){var f={payload:u,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(g){f.listeners.push(g)}};$.T!==null?a(!0):f.isTransition=!1,i(f),a=t.pending,a===null?(f.next=t.pending=f,Gd(t,f)):(f.next=a.next,t.pending=a.next=f)}}function Gd(e,t){var a=t.action,i=t.payload,u=e.state;if(t.isTransition){var f=$.T,g={};$.T=g;try{var b=a(u,i),E=$.S;E!==null&&E(g,b),Vd(e,t,b)}catch(k){to(e,t,k)}finally{f!==null&&g.types!==null&&(f.types=g.types),$.T=f}}else try{f=a(u,i),Vd(e,t,f)}catch(k){to(e,t,k)}}function Vd(e,t,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(i){Pd(e,t,i)},function(i){return to(e,t,i)}):Pd(e,t,a)}function Pd(e,t,a){t.status="fulfilled",t.value=a,Kd(t),e.state=a,t=e.pending,t!==null&&(a=t.next,a===t?e.pending=null:(a=a.next,t.next=a,Gd(e,a)))}function to(e,t,a){var i=e.pending;if(e.pending=null,i!==null){i=i.next;do t.status="rejected",t.reason=a,Kd(t),t=t.next;while(t!==i)}e.action=null}function Kd(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Yd(e,t){return t}function Zd(e,t){if(be){var a=Le.formState;if(a!==null){e:{var i=de;if(be){if(Me){t:{for(var u=Me,f=Kt;u.nodeType!==8;){if(!f){u=null;break t}if(u=Zt(u.nextSibling),u===null){u=null;break t}}f=u.data,u=f==="F!"||f==="F"?u:null}if(u){Me=Zt(u.nextSibling),i=u.data==="F!";break e}}qn(i)}i=!1}i&&(t=a[0])}}return a=pt(),a.memoizedState=a.baseState=t,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Yd,lastRenderedState:t},a.queue=i,a=hh.bind(null,de,i),i.dispatch=a,i=eo(!1),f=lo.bind(null,de,!1,i.queue),i=pt(),u={state:t,dispatch:null,action:e,pending:null},i.queue=u,a=Xy.bind(null,de,u,f,a),u.dispatch=a,i.memoizedState=e,[t,a,!1]}function Jd(e){var t=Ve();return Xd(t,Oe,e)}function Xd(e,t,a){if(t=Wu(e,t,Yd)[0],e=ki(yn)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var i=cs(t)}catch(g){throw g===ar?Si:g}else i=t;t=Ve();var u=t.queue,f=u.dispatch;return a!==t.memoizedState&&(de.flags|=2048,ur(9,{destroy:void 0},Qy.bind(null,u,a),null)),[i,f,e]}function Qy(e,t){e.action=t}function Qd(e){var t=Ve(),a=Oe;if(a!==null)return Xd(t,a,e);Ve(),t=t.memoizedState,a=Ve();var i=a.queue.dispatch;return a.memoizedState=e,[t,i,!1]}function ur(e,t,a,i){return e={tag:e,create:a,deps:i,inst:t,next:null},t=de.updateQueue,t===null&&(t=Ci(),de.updateQueue=t),a=t.lastEffect,a===null?t.lastEffect=e.next=e:(i=a.next,a.next=e,e.next=i,t.lastEffect=e),e}function Wd(){return Ve().memoizedState}function Di(e,t,a,i){var u=pt();de.flags|=e,u.memoizedState=ur(1|t,{destroy:void 0},a,i===void 0?null:i)}function Ui(e,t,a,i){var u=Ve();i=i===void 0?null:i;var f=u.memoizedState.inst;Oe!==null&&i!==null&&Ku(i,Oe.memoizedState.deps)?u.memoizedState=ur(t,f,a,i):(de.flags|=e,u.memoizedState=ur(1|t,f,a,i))}function Fd(e,t){Di(8390656,8,e,t)}function no(e,t){Ui(2048,8,e,t)}function Wy(e){de.flags|=4;var t=de.updateQueue;if(t===null)t=Ci(),de.updateQueue=t,t.events=[e];else{var a=t.events;a===null?t.events=[e]:a.push(e)}}function eh(e){var t=Ve().memoizedState;return Wy({ref:t,nextImpl:e}),function(){if((Te&2)!==0)throw Error(l(440));return t.impl.apply(void 0,arguments)}}function th(e,t){return Ui(4,2,e,t)}function nh(e,t){return Ui(4,4,e,t)}function ah(e,t){if(typeof t=="function"){e=e();var a=t(e);return function(){typeof a=="function"?a():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function rh(e,t,a){a=a!=null?a.concat([e]):null,Ui(4,4,ah.bind(null,t,e),a)}function ao(){}function sh(e,t){var a=Ve();t=t===void 0?null:t;var i=a.memoizedState;return t!==null&&Ku(t,i[1])?i[0]:(a.memoizedState=[e,t],e)}function ih(e,t){var a=Ve();t=t===void 0?null:t;var i=a.memoizedState;if(t!==null&&Ku(t,i[1]))return i[0];if(i=e(),Ea){Dn(!0);try{e()}finally{Dn(!1)}}return a.memoizedState=[i,t],i}function ro(e,t,a){return a===void 0||(gn&1073741824)!==0&&(ye&261930)===0?e.memoizedState=t:(e.memoizedState=a,e=lm(),de.lanes|=e,Zn|=e,a)}function lh(e,t,a,i){return Ot(a,t)?a:sr.current!==null?(e=ro(e,a,i),Ot(e,t)||(Ze=!0),e):(gn&42)===0||(gn&1073741824)!==0&&(ye&261930)===0?(Ze=!0,e.memoizedState=a):(e=lm(),de.lanes|=e,Zn|=e,t)}function uh(e,t,a,i,u){var f=Z.p;Z.p=f!==0&&8>f?f:8;var g=$.T,b={};$.T=b,lo(e,!1,t,a);try{var E=u(),k=$.S;if(k!==null&&k(b,E),E!==null&&typeof E=="object"&&typeof E.then=="function"){var I=Yy(E,i);fs(e,t,I,Ut(e))}else fs(e,t,i,Ut(e))}catch(V){fs(e,t,{then:function(){},status:"rejected",reason:V},Ut())}finally{Z.p=f,g!==null&&b.types!==null&&(g.types=b.types),$.T=g}}function Fy(){}function so(e,t,a,i){if(e.tag!==5)throw Error(l(476));var u=oh(e).queue;uh(e,u,t,se,a===null?Fy:function(){return ch(e),a(i)})}function oh(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:se,baseState:se,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:yn,lastRenderedState:se},next:null};var a={};return t.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:yn,lastRenderedState:a},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function ch(e){var t=oh(e);t.next===null&&(t=e.alternate.memoizedState),fs(e,t.next.queue,{},Ut())}function io(){return ut(Rs)}function fh(){return Ve().memoizedState}function dh(){return Ve().memoizedState}function ev(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var a=Ut();e=In(a);var i=Gn(t,e,a);i!==null&&(Et(i,t,a),is(i,t,a)),t={cache:Uu()},e.payload=t;return}t=t.return}}function tv(e,t,a){var i=Ut();a={lane:i,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Mi(e)?mh(t,a):(a=Eu(e,t,a,i),a!==null&&(Et(a,e,i),ph(a,t,i)))}function hh(e,t,a){var i=Ut();fs(e,t,a,i)}function fs(e,t,a,i){var u={lane:i,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(Mi(e))mh(t,u);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=t.lastRenderedReducer,f!==null))try{var g=t.lastRenderedState,b=f(g,a);if(u.hasEagerState=!0,u.eagerState=b,Ot(b,g))return gi(e,t,u,0),Le===null&&pi(),!1}catch{}if(a=Eu(e,t,u,i),a!==null)return Et(a,e,i),ph(a,t,i),!0}return!1}function lo(e,t,a,i){if(i={lane:2,revertLane:$o(),gesture:null,action:i,hasEagerState:!1,eagerState:null,next:null},Mi(e)){if(t)throw Error(l(479))}else t=Eu(e,a,i,2),t!==null&&Et(t,e,2)}function Mi(e){var t=e.alternate;return e===de||t!==null&&t===de}function mh(e,t){ir=Oi=!0;var a=e.pending;a===null?t.next=t:(t.next=a.next,a.next=t),e.pending=t}function ph(e,t,a){if((a&4194048)!==0){var i=t.lanes;i&=e.pendingLanes,a|=i,t.lanes=a,_f(e,a)}}var ds={readContext:ut,use:Li,useCallback:$e,useContext:$e,useEffect:$e,useImperativeHandle:$e,useLayoutEffect:$e,useInsertionEffect:$e,useMemo:$e,useReducer:$e,useRef:$e,useState:$e,useDebugValue:$e,useDeferredValue:$e,useTransition:$e,useSyncExternalStore:$e,useId:$e,useHostTransitionStatus:$e,useFormState:$e,useActionState:$e,useOptimistic:$e,useMemoCache:$e,useCacheRefresh:$e};ds.useEffectEvent=$e;var gh={readContext:ut,use:Li,useCallback:function(e,t){return pt().memoizedState=[e,t===void 0?null:t],e},useContext:ut,useEffect:Fd,useImperativeHandle:function(e,t,a){a=a!=null?a.concat([e]):null,Di(4194308,4,ah.bind(null,t,e),a)},useLayoutEffect:function(e,t){return Di(4194308,4,e,t)},useInsertionEffect:function(e,t){Di(4,2,e,t)},useMemo:function(e,t){var a=pt();t=t===void 0?null:t;var i=e();if(Ea){Dn(!0);try{e()}finally{Dn(!1)}}return a.memoizedState=[i,t],i},useReducer:function(e,t,a){var i=pt();if(a!==void 0){var u=a(t);if(Ea){Dn(!0);try{a(t)}finally{Dn(!1)}}}else u=t;return i.memoizedState=i.baseState=u,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:u},i.queue=e,e=e.dispatch=tv.bind(null,de,e),[i.memoizedState,e]},useRef:function(e){var t=pt();return e={current:e},t.memoizedState=e},useState:function(e){e=eo(e);var t=e.queue,a=hh.bind(null,de,t);return t.dispatch=a,[e.memoizedState,a]},useDebugValue:ao,useDeferredValue:function(e,t){var a=pt();return ro(a,e,t)},useTransition:function(){var e=eo(!1);return e=uh.bind(null,de,e.queue,!0,!1),pt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,a){var i=de,u=pt();if(be){if(a===void 0)throw Error(l(407));a=a()}else{if(a=t(),Le===null)throw Error(l(349));(ye&127)!==0||zd(i,t,a)}u.memoizedState=a;var f={value:a,getSnapshot:t};return u.queue=f,Fd(qd.bind(null,i,f,e),[e]),i.flags|=2048,ur(9,{destroy:void 0},Bd.bind(null,i,f,a,t),null),a},useId:function(){var e=pt(),t=Le.identifierPrefix;if(be){var a=sn,i=rn;a=(i&~(1<<32-Rt(i)-1)).toString(32)+a,t="_"+t+"R_"+a,a=Ni++,0<a&&(t+="H"+a.toString(32)),t+="_"}else a=Zy++,t="_"+t+"r_"+a.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:io,useFormState:Zd,useActionState:Zd,useOptimistic:function(e){var t=pt();t.memoizedState=t.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=a,t=lo.bind(null,de,!0,a),a.dispatch=t,[e,t]},useMemoCache:Qu,useCacheRefresh:function(){return pt().memoizedState=ev.bind(null,de)},useEffectEvent:function(e){var t=pt(),a={impl:e};return t.memoizedState=a,function(){if((Te&2)!==0)throw Error(l(440));return a.impl.apply(void 0,arguments)}}},uo={readContext:ut,use:Li,useCallback:sh,useContext:ut,useEffect:no,useImperativeHandle:rh,useInsertionEffect:th,useLayoutEffect:nh,useMemo:ih,useReducer:ki,useRef:Wd,useState:function(){return ki(yn)},useDebugValue:ao,useDeferredValue:function(e,t){var a=Ve();return lh(a,Oe.memoizedState,e,t)},useTransition:function(){var e=ki(yn)[0],t=Ve().memoizedState;return[typeof e=="boolean"?e:cs(e),t]},useSyncExternalStore:Md,useId:fh,useHostTransitionStatus:io,useFormState:Jd,useActionState:Jd,useOptimistic:function(e,t){var a=Ve();return Id(a,Oe,e,t)},useMemoCache:Qu,useCacheRefresh:dh};uo.useEffectEvent=eh;var yh={readContext:ut,use:Li,useCallback:sh,useContext:ut,useEffect:no,useImperativeHandle:rh,useInsertionEffect:th,useLayoutEffect:nh,useMemo:ih,useReducer:Fu,useRef:Wd,useState:function(){return Fu(yn)},useDebugValue:ao,useDeferredValue:function(e,t){var a=Ve();return Oe===null?ro(a,e,t):lh(a,Oe.memoizedState,e,t)},useTransition:function(){var e=Fu(yn)[0],t=Ve().memoizedState;return[typeof e=="boolean"?e:cs(e),t]},useSyncExternalStore:Md,useId:fh,useHostTransitionStatus:io,useFormState:Qd,useActionState:Qd,useOptimistic:function(e,t){var a=Ve();return Oe!==null?Id(a,Oe,e,t):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:Qu,useCacheRefresh:dh};yh.useEffectEvent=eh;function oo(e,t,a,i){t=e.memoizedState,a=a(i,t),a=a==null?t:_({},t,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var co={enqueueSetState:function(e,t,a){e=e._reactInternals;var i=Ut(),u=In(i);u.payload=t,a!=null&&(u.callback=a),t=Gn(e,u,i),t!==null&&(Et(t,e,i),is(t,e,i))},enqueueReplaceState:function(e,t,a){e=e._reactInternals;var i=Ut(),u=In(i);u.tag=1,u.payload=t,a!=null&&(u.callback=a),t=Gn(e,u,i),t!==null&&(Et(t,e,i),is(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var a=Ut(),i=In(a);i.tag=2,t!=null&&(i.callback=t),t=Gn(e,i,a),t!==null&&(Et(t,e,a),is(t,e,a))}};function vh(e,t,a,i,u,f,g){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(i,f,g):t.prototype&&t.prototype.isPureReactComponent?!Wr(a,i)||!Wr(u,f):!0}function bh(e,t,a,i){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(a,i),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(a,i),t.state!==e&&co.enqueueReplaceState(t,t.state,null)}function Ta(e,t){var a=t;if("ref"in t){a={};for(var i in t)i!=="ref"&&(a[i]=t[i])}if(e=e.defaultProps){a===t&&(a=_({},a));for(var u in e)a[u]===void 0&&(a[u]=e[u])}return a}function _h(e){mi(e)}function wh(e){console.error(e)}function xh(e){mi(e)}function zi(e,t){try{var a=e.onUncaughtError;a(t.value,{componentStack:t.stack})}catch(i){setTimeout(function(){throw i})}}function Sh(e,t,a){try{var i=e.onCaughtError;i(a.value,{componentStack:a.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(u){setTimeout(function(){throw u})}}function fo(e,t,a){return a=In(a),a.tag=3,a.payload={element:null},a.callback=function(){zi(e,t)},a}function Eh(e){return e=In(e),e.tag=3,e}function Th(e,t,a,i){var u=a.type.getDerivedStateFromError;if(typeof u=="function"){var f=i.value;e.payload=function(){return u(f)},e.callback=function(){Sh(t,a,i)}}var g=a.stateNode;g!==null&&typeof g.componentDidCatch=="function"&&(e.callback=function(){Sh(t,a,i),typeof u!="function"&&(Jn===null?Jn=new Set([this]):Jn.add(this));var b=i.stack;this.componentDidCatch(i.value,{componentStack:b!==null?b:""})})}function nv(e,t,a,i,u){if(a.flags|=32768,i!==null&&typeof i=="object"&&typeof i.then=="function"){if(t=a.alternate,t!==null&&er(t,a,u,!0),a=Ct.current,a!==null){switch(a.tag){case 31:case 13:return Yt===null?Ji():a.alternate===null&&He===0&&(He=3),a.flags&=-257,a.flags|=65536,a.lanes=u,i===Ei?a.flags|=16384:(t=a.updateQueue,t===null?a.updateQueue=new Set([i]):t.add(i),zo(e,i,u)),!1;case 22:return a.flags|=65536,i===Ei?a.flags|=16384:(t=a.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([i])},a.updateQueue=t):(a=t.retryQueue,a===null?t.retryQueue=new Set([i]):a.add(i)),zo(e,i,u)),!1}throw Error(l(435,a.tag))}return zo(e,i,u),Ji(),!1}if(be)return t=Ct.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=u,i!==Nu&&(e=Error(l(422),{cause:i}),ts(Gt(e,a)))):(i!==Nu&&(t=Error(l(423),{cause:i}),ts(Gt(t,a))),e=e.current.alternate,e.flags|=65536,u&=-u,e.lanes|=u,i=Gt(i,a),u=fo(e.stateNode,i,u),Hu(e,u),He!==4&&(He=2)),!1;var f=Error(l(520),{cause:i});if(f=Gt(f,a),_s===null?_s=[f]:_s.push(f),He!==4&&(He=2),t===null)return!0;i=Gt(i,a),a=t;do{switch(a.tag){case 3:return a.flags|=65536,e=u&-u,a.lanes|=e,e=fo(a.stateNode,i,e),Hu(a,e),!1;case 1:if(t=a.type,f=a.stateNode,(a.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Jn===null||!Jn.has(f))))return a.flags|=65536,u&=-u,a.lanes|=u,u=Eh(u),Th(u,e,a,i),Hu(a,u),!1}a=a.return}while(a!==null);return!1}var ho=Error(l(461)),Ze=!1;function ot(e,t,a,i){t.child=e===null?Od(t,null,a,i):Sa(t,e.child,a,i)}function Ah(e,t,a,i,u){a=a.render;var f=t.ref;if("ref"in i){var g={};for(var b in i)b!=="ref"&&(g[b]=i[b])}else g=i;return ba(t),i=Yu(e,t,a,g,f,u),b=Zu(),e!==null&&!Ze?(Ju(e,t,u),vn(e,t,u)):(be&&b&&Ru(t),t.flags|=1,ot(e,t,i,u),t.child)}function jh(e,t,a,i,u){if(e===null){var f=a.type;return typeof f=="function"&&!Tu(f)&&f.defaultProps===void 0&&a.compare===null?(t.tag=15,t.type=f,Rh(e,t,f,i,u)):(e=vi(a.type,null,i,t,t.mode,u),e.ref=t.ref,e.return=t,t.child=e)}if(f=e.child,!wo(e,u)){var g=f.memoizedProps;if(a=a.compare,a=a!==null?a:Wr,a(g,i)&&e.ref===t.ref)return vn(e,t,u)}return t.flags|=1,e=dn(f,i),e.ref=t.ref,e.return=t,t.child=e}function Rh(e,t,a,i,u){if(e!==null){var f=e.memoizedProps;if(Wr(f,i)&&e.ref===t.ref)if(Ze=!1,t.pendingProps=i=f,wo(e,u))(e.flags&131072)!==0&&(Ze=!0);else return t.lanes=e.lanes,vn(e,t,u)}return mo(e,t,a,i,u)}function Oh(e,t,a,i){var u=i.children,f=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.mode==="hidden"){if((t.flags&128)!==0){if(f=f!==null?f.baseLanes|a:a,e!==null){for(i=t.child=e.child,u=0;i!==null;)u=u|i.lanes|i.childLanes,i=i.sibling;i=u&~f}else i=0,t.child=null;return Nh(e,t,f,a,i)}if((a&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&xi(t,f!==null?f.cachePool:null),f!==null?Ld(t,f):Gu(),kd(t);else return i=t.lanes=536870912,Nh(e,t,f!==null?f.baseLanes|a:a,a,i)}else f!==null?(xi(t,f.cachePool),Ld(t,f),Pn(),t.memoizedState=null):(e!==null&&xi(t,null),Gu(),Pn());return ot(e,t,u,a),t.child}function hs(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function Nh(e,t,a,i,u){var f=zu();return f=f===null?null:{parent:Ke._currentValue,pool:f},t.memoizedState={baseLanes:a,cachePool:f},e!==null&&xi(t,null),Gu(),kd(t),e!==null&&er(e,t,i,!0),t.childLanes=u,null}function Bi(e,t){return t=$i({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function Ch(e,t,a){return Sa(t,e.child,null,a),e=Bi(t,t.pendingProps),e.flags|=2,Lt(t),t.memoizedState=null,e}function av(e,t,a){var i=t.pendingProps,u=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(be){if(i.mode==="hidden")return e=Bi(t,i),t.lanes=536870912,hs(null,e);if(Pu(t),(e=Me)?(e=Gm(e,Kt),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:zn!==null?{id:rn,overflow:sn}:null,retryLane:536870912,hydrationErrors:null},a=md(e),a.return=t,t.child=a,lt=t,Me=null)):e=null,e===null)throw qn(t);return t.lanes=536870912,null}return Bi(t,i)}var f=e.memoizedState;if(f!==null){var g=f.dehydrated;if(Pu(t),u)if(t.flags&256)t.flags&=-257,t=Ch(e,t,a);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(l(558));else if(Ze||er(e,t,a,!1),u=(a&e.childLanes)!==0,Ze||u){if(i=Le,i!==null&&(g=wf(i,a),g!==0&&g!==f.retryLane))throw f.retryLane=g,pa(e,g),Et(i,e,g),ho;Ji(),t=Ch(e,t,a)}else e=f.treeContext,Me=Zt(g.nextSibling),lt=t,be=!0,Bn=null,Kt=!1,e!==null&&yd(t,e),t=Bi(t,i),t.flags|=4096;return t}return e=dn(e.child,{mode:i.mode,children:i.children}),e.ref=t.ref,t.child=e,e.return=t,e}function qi(e,t){var a=t.ref;if(a===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(l(284));(e===null||e.ref!==a)&&(t.flags|=4194816)}}function mo(e,t,a,i,u){return ba(t),a=Yu(e,t,a,i,void 0,u),i=Zu(),e!==null&&!Ze?(Ju(e,t,u),vn(e,t,u)):(be&&i&&Ru(t),t.flags|=1,ot(e,t,a,u),t.child)}function Lh(e,t,a,i,u,f){return ba(t),t.updateQueue=null,a=Ud(t,i,a,u),Dd(e),i=Zu(),e!==null&&!Ze?(Ju(e,t,f),vn(e,t,f)):(be&&i&&Ru(t),t.flags|=1,ot(e,t,a,f),t.child)}function kh(e,t,a,i,u){if(ba(t),t.stateNode===null){var f=Xa,g=a.contextType;typeof g=="object"&&g!==null&&(f=ut(g)),f=new a(i,f),t.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=co,t.stateNode=f,f._reactInternals=t,f=t.stateNode,f.props=i,f.state=t.memoizedState,f.refs={},qu(t),g=a.contextType,f.context=typeof g=="object"&&g!==null?ut(g):Xa,f.state=t.memoizedState,g=a.getDerivedStateFromProps,typeof g=="function"&&(oo(t,a,g,i),f.state=t.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(g=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),g!==f.state&&co.enqueueReplaceState(f,f.state,null),us(t,i,f,u),ls(),f.state=t.memoizedState),typeof f.componentDidMount=="function"&&(t.flags|=4194308),i=!0}else if(e===null){f=t.stateNode;var b=t.memoizedProps,E=Ta(a,b);f.props=E;var k=f.context,I=a.contextType;g=Xa,typeof I=="object"&&I!==null&&(g=ut(I));var V=a.getDerivedStateFromProps;I=typeof V=="function"||typeof f.getSnapshotBeforeUpdate=="function",b=t.pendingProps!==b,I||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(b||k!==g)&&bh(t,f,i,g),Hn=!1;var D=t.memoizedState;f.state=D,us(t,i,f,u),ls(),k=t.memoizedState,b||D!==k||Hn?(typeof V=="function"&&(oo(t,a,V,i),k=t.memoizedState),(E=Hn||vh(t,a,E,i,D,k,g))?(I||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(t.flags|=4194308)):(typeof f.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=i,t.memoizedState=k),f.props=i,f.state=k,f.context=g,i=E):(typeof f.componentDidMount=="function"&&(t.flags|=4194308),i=!1)}else{f=t.stateNode,$u(e,t),g=t.memoizedProps,I=Ta(a,g),f.props=I,V=t.pendingProps,D=f.context,k=a.contextType,E=Xa,typeof k=="object"&&k!==null&&(E=ut(k)),b=a.getDerivedStateFromProps,(k=typeof b=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(g!==V||D!==E)&&bh(t,f,i,E),Hn=!1,D=t.memoizedState,f.state=D,us(t,i,f,u),ls();var B=t.memoizedState;g!==V||D!==B||Hn||e!==null&&e.dependencies!==null&&_i(e.dependencies)?(typeof b=="function"&&(oo(t,a,b,i),B=t.memoizedState),(I=Hn||vh(t,a,I,i,D,B,E)||e!==null&&e.dependencies!==null&&_i(e.dependencies))?(k||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(i,B,E),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(i,B,E)),typeof f.componentDidUpdate=="function"&&(t.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof f.componentDidUpdate!="function"||g===e.memoizedProps&&D===e.memoizedState||(t.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&D===e.memoizedState||(t.flags|=1024),t.memoizedProps=i,t.memoizedState=B),f.props=i,f.state=B,f.context=E,i=I):(typeof f.componentDidUpdate!="function"||g===e.memoizedProps&&D===e.memoizedState||(t.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&D===e.memoizedState||(t.flags|=1024),i=!1)}return f=i,qi(e,t),i=(t.flags&128)!==0,f||i?(f=t.stateNode,a=i&&typeof a.getDerivedStateFromError!="function"?null:f.render(),t.flags|=1,e!==null&&i?(t.child=Sa(t,e.child,null,u),t.child=Sa(t,null,a,u)):ot(e,t,a,u),t.memoizedState=f.state,e=t.child):e=vn(e,t,u),e}function Dh(e,t,a,i){return ya(),t.flags|=256,ot(e,t,a,i),t.child}var po={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function go(e){return{baseLanes:e,cachePool:Sd()}}function yo(e,t,a){return e=e!==null?e.childLanes&~a:0,t&&(e|=Dt),e}function Uh(e,t,a){var i=t.pendingProps,u=!1,f=(t.flags&128)!==0,g;if((g=f)||(g=e!==null&&e.memoizedState===null?!1:(Ge.current&2)!==0),g&&(u=!0,t.flags&=-129),g=(t.flags&32)!==0,t.flags&=-33,e===null){if(be){if(u?Vn(t):Pn(),(e=Me)?(e=Gm(e,Kt),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:zn!==null?{id:rn,overflow:sn}:null,retryLane:536870912,hydrationErrors:null},a=md(e),a.return=t,t.child=a,lt=t,Me=null)):e=null,e===null)throw qn(t);return Fo(e)?t.lanes=32:t.lanes=536870912,null}var b=i.children;return i=i.fallback,u?(Pn(),u=t.mode,b=$i({mode:"hidden",children:b},u),i=ga(i,u,a,null),b.return=t,i.return=t,b.sibling=i,t.child=b,i=t.child,i.memoizedState=go(a),i.childLanes=yo(e,g,a),t.memoizedState=po,hs(null,i)):(Vn(t),vo(t,b))}var E=e.memoizedState;if(E!==null&&(b=E.dehydrated,b!==null)){if(f)t.flags&256?(Vn(t),t.flags&=-257,t=bo(e,t,a)):t.memoizedState!==null?(Pn(),t.child=e.child,t.flags|=128,t=null):(Pn(),b=i.fallback,u=t.mode,i=$i({mode:"visible",children:i.children},u),b=ga(b,u,a,null),b.flags|=2,i.return=t,b.return=t,i.sibling=b,t.child=i,Sa(t,e.child,null,a),i=t.child,i.memoizedState=go(a),i.childLanes=yo(e,g,a),t.memoizedState=po,t=hs(null,i));else if(Vn(t),Fo(b)){if(g=b.nextSibling&&b.nextSibling.dataset,g)var k=g.dgst;g=k,i=Error(l(419)),i.stack="",i.digest=g,ts({value:i,source:null,stack:null}),t=bo(e,t,a)}else if(Ze||er(e,t,a,!1),g=(a&e.childLanes)!==0,Ze||g){if(g=Le,g!==null&&(i=wf(g,a),i!==0&&i!==E.retryLane))throw E.retryLane=i,pa(e,i),Et(g,e,i),ho;Wo(b)||Ji(),t=bo(e,t,a)}else Wo(b)?(t.flags|=192,t.child=e.child,t=null):(e=E.treeContext,Me=Zt(b.nextSibling),lt=t,be=!0,Bn=null,Kt=!1,e!==null&&yd(t,e),t=vo(t,i.children),t.flags|=4096);return t}return u?(Pn(),b=i.fallback,u=t.mode,E=e.child,k=E.sibling,i=dn(E,{mode:"hidden",children:i.children}),i.subtreeFlags=E.subtreeFlags&65011712,k!==null?b=dn(k,b):(b=ga(b,u,a,null),b.flags|=2),b.return=t,i.return=t,i.sibling=b,t.child=i,hs(null,i),i=t.child,b=e.child.memoizedState,b===null?b=go(a):(u=b.cachePool,u!==null?(E=Ke._currentValue,u=u.parent!==E?{parent:E,pool:E}:u):u=Sd(),b={baseLanes:b.baseLanes|a,cachePool:u}),i.memoizedState=b,i.childLanes=yo(e,g,a),t.memoizedState=po,hs(e.child,i)):(Vn(t),a=e.child,e=a.sibling,a=dn(a,{mode:"visible",children:i.children}),a.return=t,a.sibling=null,e!==null&&(g=t.deletions,g===null?(t.deletions=[e],t.flags|=16):g.push(e)),t.child=a,t.memoizedState=null,a)}function vo(e,t){return t=$i({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function $i(e,t){return e=Nt(22,e,null,t),e.lanes=0,e}function bo(e,t,a){return Sa(t,e.child,null,a),e=vo(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Mh(e,t,a){e.lanes|=t;var i=e.alternate;i!==null&&(i.lanes|=t),ku(e.return,t,a)}function _o(e,t,a,i,u,f){var g=e.memoizedState;g===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:i,tail:a,tailMode:u,treeForkCount:f}:(g.isBackwards=t,g.rendering=null,g.renderingStartTime=0,g.last=i,g.tail=a,g.tailMode=u,g.treeForkCount=f)}function zh(e,t,a){var i=t.pendingProps,u=i.revealOrder,f=i.tail;i=i.children;var g=Ge.current,b=(g&2)!==0;if(b?(g=g&1|2,t.flags|=128):g&=1,K(Ge,g),ot(e,t,i,a),i=be?es:0,!b&&e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Mh(e,a,t);else if(e.tag===19)Mh(e,a,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(u){case"forwards":for(a=t.child,u=null;a!==null;)e=a.alternate,e!==null&&Ri(e)===null&&(u=a),a=a.sibling;a=u,a===null?(u=t.child,t.child=null):(u=a.sibling,a.sibling=null),_o(t,!1,u,a,f,i);break;case"backwards":case"unstable_legacy-backwards":for(a=null,u=t.child,t.child=null;u!==null;){if(e=u.alternate,e!==null&&Ri(e)===null){t.child=u;break}e=u.sibling,u.sibling=a,a=u,u=e}_o(t,!0,a,null,f,i);break;case"together":_o(t,!1,null,null,void 0,i);break;default:t.memoizedState=null}return t.child}function vn(e,t,a){if(e!==null&&(t.dependencies=e.dependencies),Zn|=t.lanes,(a&t.childLanes)===0)if(e!==null){if(er(e,t,a,!1),(a&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(l(153));if(t.child!==null){for(e=t.child,a=dn(e,e.pendingProps),t.child=a,a.return=t;e.sibling!==null;)e=e.sibling,a=a.sibling=dn(e,e.pendingProps),a.return=t;a.sibling=null}return t.child}function wo(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&_i(e)))}function rv(e,t,a){switch(t.tag){case 3:et(t,t.stateNode.containerInfo),$n(t,Ke,e.memoizedState.cache),ya();break;case 27:case 5:X(t);break;case 4:et(t,t.stateNode.containerInfo);break;case 10:$n(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,Pu(t),null;break;case 13:var i=t.memoizedState;if(i!==null)return i.dehydrated!==null?(Vn(t),t.flags|=128,null):(a&t.child.childLanes)!==0?Uh(e,t,a):(Vn(t),e=vn(e,t,a),e!==null?e.sibling:null);Vn(t);break;case 19:var u=(e.flags&128)!==0;if(i=(a&t.childLanes)!==0,i||(er(e,t,a,!1),i=(a&t.childLanes)!==0),u){if(i)return zh(e,t,a);t.flags|=128}if(u=t.memoizedState,u!==null&&(u.rendering=null,u.tail=null,u.lastEffect=null),K(Ge,Ge.current),i)break;return null;case 22:return t.lanes=0,Oh(e,t,a,t.pendingProps);case 24:$n(t,Ke,e.memoizedState.cache)}return vn(e,t,a)}function Bh(e,t,a){if(e!==null)if(e.memoizedProps!==t.pendingProps)Ze=!0;else{if(!wo(e,a)&&(t.flags&128)===0)return Ze=!1,rv(e,t,a);Ze=(e.flags&131072)!==0}else Ze=!1,be&&(t.flags&1048576)!==0&&gd(t,es,t.index);switch(t.lanes=0,t.tag){case 16:e:{var i=t.pendingProps;if(e=wa(t.elementType),t.type=e,typeof e=="function")Tu(e)?(i=Ta(e,i),t.tag=1,t=kh(null,t,e,i,a)):(t.tag=0,t=mo(null,t,e,i,a));else{if(e!=null){var u=e.$$typeof;if(u===H){t.tag=11,t=Ah(null,t,e,i,a);break e}else if(u===Y){t.tag=14,t=jh(null,t,e,i,a);break e}}throw t=st(e)||e,Error(l(306,t,""))}}return t;case 0:return mo(e,t,t.type,t.pendingProps,a);case 1:return i=t.type,u=Ta(i,t.pendingProps),kh(e,t,i,u,a);case 3:e:{if(et(t,t.stateNode.containerInfo),e===null)throw Error(l(387));i=t.pendingProps;var f=t.memoizedState;u=f.element,$u(e,t),us(t,i,null,a);var g=t.memoizedState;if(i=g.cache,$n(t,Ke,i),i!==f.cache&&Du(t,[Ke],a,!0),ls(),i=g.element,f.isDehydrated)if(f={element:i,isDehydrated:!1,cache:g.cache},t.updateQueue.baseState=f,t.memoizedState=f,t.flags&256){t=Dh(e,t,i,a);break e}else if(i!==u){u=Gt(Error(l(424)),t),ts(u),t=Dh(e,t,i,a);break e}else for(e=t.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,Me=Zt(e.firstChild),lt=t,be=!0,Bn=null,Kt=!0,a=Od(t,null,i,a),t.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(ya(),i===u){t=vn(e,t,a);break e}ot(e,t,i,a)}t=t.child}return t;case 26:return qi(e,t),e===null?(a=Jm(t.type,null,t.pendingProps,null))?t.memoizedState=a:be||(a=t.type,e=t.pendingProps,i=nl(me.current).createElement(a),i[it]=t,i[vt]=e,ct(i,a,e),tt(i),t.stateNode=i):t.memoizedState=Jm(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return X(t),e===null&&be&&(i=t.stateNode=Km(t.type,t.pendingProps,me.current),lt=t,Kt=!0,u=Me,Fn(t.type)?(ec=u,Me=Zt(i.firstChild)):Me=u),ot(e,t,t.pendingProps.children,a),qi(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&be&&((u=i=Me)&&(i=Dv(i,t.type,t.pendingProps,Kt),i!==null?(t.stateNode=i,lt=t,Me=Zt(i.firstChild),Kt=!1,u=!0):u=!1),u||qn(t)),X(t),u=t.type,f=t.pendingProps,g=e!==null?e.memoizedProps:null,i=f.children,Jo(u,f)?i=null:g!==null&&Jo(u,g)&&(t.flags|=32),t.memoizedState!==null&&(u=Yu(e,t,Jy,null,null,a),Rs._currentValue=u),qi(e,t),ot(e,t,i,a),t.child;case 6:return e===null&&be&&((e=a=Me)&&(a=Uv(a,t.pendingProps,Kt),a!==null?(t.stateNode=a,lt=t,Me=null,e=!0):e=!1),e||qn(t)),null;case 13:return Uh(e,t,a);case 4:return et(t,t.stateNode.containerInfo),i=t.pendingProps,e===null?t.child=Sa(t,null,i,a):ot(e,t,i,a),t.child;case 11:return Ah(e,t,t.type,t.pendingProps,a);case 7:return ot(e,t,t.pendingProps,a),t.child;case 8:return ot(e,t,t.pendingProps.children,a),t.child;case 12:return ot(e,t,t.pendingProps.children,a),t.child;case 10:return i=t.pendingProps,$n(t,t.type,i.value),ot(e,t,i.children,a),t.child;case 9:return u=t.type._context,i=t.pendingProps.children,ba(t),u=ut(u),i=i(u),t.flags|=1,ot(e,t,i,a),t.child;case 14:return jh(e,t,t.type,t.pendingProps,a);case 15:return Rh(e,t,t.type,t.pendingProps,a);case 19:return zh(e,t,a);case 31:return av(e,t,a);case 22:return Oh(e,t,a,t.pendingProps);case 24:return ba(t),i=ut(Ke),e===null?(u=zu(),u===null&&(u=Le,f=Uu(),u.pooledCache=f,f.refCount++,f!==null&&(u.pooledCacheLanes|=a),u=f),t.memoizedState={parent:i,cache:u},qu(t),$n(t,Ke,u)):((e.lanes&a)!==0&&($u(e,t),us(t,null,null,a),ls()),u=e.memoizedState,f=t.memoizedState,u.parent!==i?(u={parent:i,cache:i},t.memoizedState=u,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=u),$n(t,Ke,i)):(i=f.cache,$n(t,Ke,i),i!==u.cache&&Du(t,[Ke],a,!0))),ot(e,t,t.pendingProps.children,a),t.child;case 29:throw t.pendingProps}throw Error(l(156,t.tag))}function bn(e){e.flags|=4}function xo(e,t,a,i,u){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(u&335544128)===u)if(e.stateNode.complete)e.flags|=8192;else if(fm())e.flags|=8192;else throw xa=Ei,Bu}else e.flags&=-16777217}function qh(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!ep(t))if(fm())e.flags|=8192;else throw xa=Ei,Bu}function Hi(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?vf():536870912,e.lanes|=t,dr|=t)}function ms(e,t){if(!be)switch(e.tailMode){case"hidden":t=e.tail;for(var a=null;t!==null;)t.alternate!==null&&(a=t),t=t.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var i=null;a!==null;)a.alternate!==null&&(i=a),a=a.sibling;i===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:i.sibling=null}}function ze(e){var t=e.alternate!==null&&e.alternate.child===e.child,a=0,i=0;if(t)for(var u=e.child;u!==null;)a|=u.lanes|u.childLanes,i|=u.subtreeFlags&65011712,i|=u.flags&65011712,u.return=e,u=u.sibling;else for(u=e.child;u!==null;)a|=u.lanes|u.childLanes,i|=u.subtreeFlags,i|=u.flags,u.return=e,u=u.sibling;return e.subtreeFlags|=i,e.childLanes=a,t}function sv(e,t,a){var i=t.pendingProps;switch(Ou(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ze(t),null;case 1:return ze(t),null;case 3:return a=t.stateNode,i=null,e!==null&&(i=e.memoizedState.cache),t.memoizedState.cache!==i&&(t.flags|=2048),pn(Ke),Ue(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(Fa(t)?bn(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,Cu())),ze(t),null;case 26:var u=t.type,f=t.memoizedState;return e===null?(bn(t),f!==null?(ze(t),qh(t,f)):(ze(t),xo(t,u,null,i,a))):f?f!==e.memoizedState?(bn(t),ze(t),qh(t,f)):(ze(t),t.flags&=-16777217):(e=e.memoizedProps,e!==i&&bn(t),ze(t),xo(t,u,e,i,a)),null;case 27:if(fe(t),a=me.current,u=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==i&&bn(t);else{if(!i){if(t.stateNode===null)throw Error(l(166));return ze(t),null}e=W.current,Fa(t)?vd(t):(e=Km(u,i,a),t.stateNode=e,bn(t))}return ze(t),null;case 5:if(fe(t),u=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==i&&bn(t);else{if(!i){if(t.stateNode===null)throw Error(l(166));return ze(t),null}if(f=W.current,Fa(t))vd(t);else{var g=nl(me.current);switch(f){case 1:f=g.createElementNS("http://www.w3.org/2000/svg",u);break;case 2:f=g.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;default:switch(u){case"svg":f=g.createElementNS("http://www.w3.org/2000/svg",u);break;case"math":f=g.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;case"script":f=g.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof i.is=="string"?g.createElement("select",{is:i.is}):g.createElement("select"),i.multiple?f.multiple=!0:i.size&&(f.size=i.size);break;default:f=typeof i.is=="string"?g.createElement(u,{is:i.is}):g.createElement(u)}}f[it]=t,f[vt]=i;e:for(g=t.child;g!==null;){if(g.tag===5||g.tag===6)f.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===t)break e;for(;g.sibling===null;){if(g.return===null||g.return===t)break e;g=g.return}g.sibling.return=g.return,g=g.sibling}t.stateNode=f;e:switch(ct(f,u,i),u){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}i&&bn(t)}}return ze(t),xo(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,a),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==i&&bn(t);else{if(typeof i!="string"&&t.stateNode===null)throw Error(l(166));if(e=me.current,Fa(t)){if(e=t.stateNode,a=t.memoizedProps,i=null,u=lt,u!==null)switch(u.tag){case 27:case 5:i=u.memoizedProps}e[it]=t,e=!!(e.nodeValue===a||i!==null&&i.suppressHydrationWarning===!0||Um(e.nodeValue,a)),e||qn(t,!0)}else e=nl(e).createTextNode(i),e[it]=t,t.stateNode=e}return ze(t),null;case 31:if(a=t.memoizedState,e===null||e.memoizedState!==null){if(i=Fa(t),a!==null){if(e===null){if(!i)throw Error(l(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(l(557));e[it]=t}else ya(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;ze(t),e=!1}else a=Cu(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=a),e=!0;if(!e)return t.flags&256?(Lt(t),t):(Lt(t),null);if((t.flags&128)!==0)throw Error(l(558))}return ze(t),null;case 13:if(i=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(u=Fa(t),i!==null&&i.dehydrated!==null){if(e===null){if(!u)throw Error(l(318));if(u=t.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(l(317));u[it]=t}else ya(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;ze(t),u=!1}else u=Cu(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=u),u=!0;if(!u)return t.flags&256?(Lt(t),t):(Lt(t),null)}return Lt(t),(t.flags&128)!==0?(t.lanes=a,t):(a=i!==null,e=e!==null&&e.memoizedState!==null,a&&(i=t.child,u=null,i.alternate!==null&&i.alternate.memoizedState!==null&&i.alternate.memoizedState.cachePool!==null&&(u=i.alternate.memoizedState.cachePool.pool),f=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(f=i.memoizedState.cachePool.pool),f!==u&&(i.flags|=2048)),a!==e&&a&&(t.child.flags|=8192),Hi(t,t.updateQueue),ze(t),null);case 4:return Ue(),e===null&&Vo(t.stateNode.containerInfo),ze(t),null;case 10:return pn(t.type),ze(t),null;case 19:if(M(Ge),i=t.memoizedState,i===null)return ze(t),null;if(u=(t.flags&128)!==0,f=i.rendering,f===null)if(u)ms(i,!1);else{if(He!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(f=Ri(e),f!==null){for(t.flags|=128,ms(i,!1),e=f.updateQueue,t.updateQueue=e,Hi(t,e),t.subtreeFlags=0,e=a,a=t.child;a!==null;)hd(a,e),a=a.sibling;return K(Ge,Ge.current&1|2),be&&hn(t,i.treeForkCount),t.child}e=e.sibling}i.tail!==null&&At()>Ki&&(t.flags|=128,u=!0,ms(i,!1),t.lanes=4194304)}else{if(!u)if(e=Ri(f),e!==null){if(t.flags|=128,u=!0,e=e.updateQueue,t.updateQueue=e,Hi(t,e),ms(i,!0),i.tail===null&&i.tailMode==="hidden"&&!f.alternate&&!be)return ze(t),null}else 2*At()-i.renderingStartTime>Ki&&a!==536870912&&(t.flags|=128,u=!0,ms(i,!1),t.lanes=4194304);i.isBackwards?(f.sibling=t.child,t.child=f):(e=i.last,e!==null?e.sibling=f:t.child=f,i.last=f)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=At(),e.sibling=null,a=Ge.current,K(Ge,u?a&1|2:a&1),be&&hn(t,i.treeForkCount),e):(ze(t),null);case 22:case 23:return Lt(t),Vu(),i=t.memoizedState!==null,e!==null?e.memoizedState!==null!==i&&(t.flags|=8192):i&&(t.flags|=8192),i?(a&536870912)!==0&&(t.flags&128)===0&&(ze(t),t.subtreeFlags&6&&(t.flags|=8192)):ze(t),a=t.updateQueue,a!==null&&Hi(t,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),i=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(i=t.memoizedState.cachePool.pool),i!==a&&(t.flags|=2048),e!==null&&M(_a),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),t.memoizedState.cache!==a&&(t.flags|=2048),pn(Ke),ze(t),null;case 25:return null;case 30:return null}throw Error(l(156,t.tag))}function iv(e,t){switch(Ou(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return pn(Ke),Ue(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return fe(t),null;case 31:if(t.memoizedState!==null){if(Lt(t),t.alternate===null)throw Error(l(340));ya()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(Lt(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(l(340));ya()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return M(Ge),null;case 4:return Ue(),null;case 10:return pn(t.type),null;case 22:case 23:return Lt(t),Vu(),e!==null&&M(_a),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return pn(Ke),null;case 25:return null;default:return null}}function $h(e,t){switch(Ou(t),t.tag){case 3:pn(Ke),Ue();break;case 26:case 27:case 5:fe(t);break;case 4:Ue();break;case 31:t.memoizedState!==null&&Lt(t);break;case 13:Lt(t);break;case 19:M(Ge);break;case 10:pn(t.type);break;case 22:case 23:Lt(t),Vu(),e!==null&&M(_a);break;case 24:pn(Ke)}}function ps(e,t){try{var a=t.updateQueue,i=a!==null?a.lastEffect:null;if(i!==null){var u=i.next;a=u;do{if((a.tag&e)===e){i=void 0;var f=a.create,g=a.inst;i=f(),g.destroy=i}a=a.next}while(a!==u)}}catch(b){je(t,t.return,b)}}function Kn(e,t,a){try{var i=t.updateQueue,u=i!==null?i.lastEffect:null;if(u!==null){var f=u.next;i=f;do{if((i.tag&e)===e){var g=i.inst,b=g.destroy;if(b!==void 0){g.destroy=void 0,u=t;var E=a,k=b;try{k()}catch(I){je(u,E,I)}}}i=i.next}while(i!==f)}}catch(I){je(t,t.return,I)}}function Hh(e){var t=e.updateQueue;if(t!==null){var a=e.stateNode;try{Cd(t,a)}catch(i){je(e,e.return,i)}}}function Ih(e,t,a){a.props=Ta(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(i){je(e,t,i)}}function gs(e,t){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var i=e.stateNode;break;case 30:i=e.stateNode;break;default:i=e.stateNode}typeof a=="function"?e.refCleanup=a(i):a.current=i}}catch(u){je(e,t,u)}}function ln(e,t){var a=e.ref,i=e.refCleanup;if(a!==null)if(typeof i=="function")try{i()}catch(u){je(e,t,u)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(u){je(e,t,u)}else a.current=null}function Gh(e){var t=e.type,a=e.memoizedProps,i=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":a.autoFocus&&i.focus();break e;case"img":a.src?i.src=a.src:a.srcSet&&(i.srcset=a.srcSet)}}catch(u){je(e,e.return,u)}}function So(e,t,a){try{var i=e.stateNode;Rv(i,e.type,a,t),i[vt]=t}catch(u){je(e,e.return,u)}}function Vh(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Fn(e.type)||e.tag===4}function Eo(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Vh(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Fn(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function To(e,t,a){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,t):(t=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,t.appendChild(e),a=a._reactRootContainer,a!=null||t.onclick!==null||(t.onclick=cn));else if(i!==4&&(i===27&&Fn(e.type)&&(a=e.stateNode,t=null),e=e.child,e!==null))for(To(e,t,a),e=e.sibling;e!==null;)To(e,t,a),e=e.sibling}function Ii(e,t,a){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?a.insertBefore(e,t):a.appendChild(e);else if(i!==4&&(i===27&&Fn(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(Ii(e,t,a),e=e.sibling;e!==null;)Ii(e,t,a),e=e.sibling}function Ph(e){var t=e.stateNode,a=e.memoizedProps;try{for(var i=e.type,u=t.attributes;u.length;)t.removeAttributeNode(u[0]);ct(t,i,a),t[it]=e,t[vt]=a}catch(f){je(e,e.return,f)}}var _n=!1,Je=!1,Ao=!1,Kh=typeof WeakSet=="function"?WeakSet:Set,nt=null;function lv(e,t){if(e=e.containerInfo,Yo=ol,e=rd(e),vu(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else e:{a=(a=e.ownerDocument)&&a.defaultView||window;var i=a.getSelection&&a.getSelection();if(i&&i.rangeCount!==0){a=i.anchorNode;var u=i.anchorOffset,f=i.focusNode;i=i.focusOffset;try{a.nodeType,f.nodeType}catch{a=null;break e}var g=0,b=-1,E=-1,k=0,I=0,V=e,D=null;t:for(;;){for(var B;V!==a||u!==0&&V.nodeType!==3||(b=g+u),V!==f||i!==0&&V.nodeType!==3||(E=g+i),V.nodeType===3&&(g+=V.nodeValue.length),(B=V.firstChild)!==null;)D=V,V=B;for(;;){if(V===e)break t;if(D===a&&++k===u&&(b=g),D===f&&++I===i&&(E=g),(B=V.nextSibling)!==null)break;V=D,D=V.parentNode}V=B}a=b===-1||E===-1?null:{start:b,end:E}}else a=null}a=a||{start:0,end:0}}else a=null;for(Zo={focusedElem:e,selectionRange:a},ol=!1,nt=t;nt!==null;)if(t=nt,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,nt=e;else for(;nt!==null;){switch(t=nt,f=t.alternate,e=t.flags,t.tag){case 0:if((e&4)!==0&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(a=0;a<e.length;a++)u=e[a],u.ref.impl=u.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,a=t,u=f.memoizedProps,f=f.memoizedState,i=a.stateNode;try{var te=Ta(a.type,u);e=i.getSnapshotBeforeUpdate(te,f),i.__reactInternalSnapshotBeforeUpdate=e}catch(ie){je(a,a.return,ie)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,a=e.nodeType,a===9)Qo(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Qo(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(l(163))}if(e=t.sibling,e!==null){e.return=t.return,nt=e;break}nt=t.return}}function Yh(e,t,a){var i=a.flags;switch(a.tag){case 0:case 11:case 15:xn(e,a),i&4&&ps(5,a);break;case 1:if(xn(e,a),i&4)if(e=a.stateNode,t===null)try{e.componentDidMount()}catch(g){je(a,a.return,g)}else{var u=Ta(a.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(u,t,e.__reactInternalSnapshotBeforeUpdate)}catch(g){je(a,a.return,g)}}i&64&&Hh(a),i&512&&gs(a,a.return);break;case 3:if(xn(e,a),i&64&&(e=a.updateQueue,e!==null)){if(t=null,a.child!==null)switch(a.child.tag){case 27:case 5:t=a.child.stateNode;break;case 1:t=a.child.stateNode}try{Cd(e,t)}catch(g){je(a,a.return,g)}}break;case 27:t===null&&i&4&&Ph(a);case 26:case 5:xn(e,a),t===null&&i&4&&Gh(a),i&512&&gs(a,a.return);break;case 12:xn(e,a);break;case 31:xn(e,a),i&4&&Xh(e,a);break;case 13:xn(e,a),i&4&&Qh(e,a),i&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=gv.bind(null,a),Mv(e,a))));break;case 22:if(i=a.memoizedState!==null||_n,!i){t=t!==null&&t.memoizedState!==null||Je,u=_n;var f=Je;_n=i,(Je=t)&&!f?Sn(e,a,(a.subtreeFlags&8772)!==0):xn(e,a),_n=u,Je=f}break;case 30:break;default:xn(e,a)}}function Zh(e){var t=e.alternate;t!==null&&(e.alternate=null,Zh(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&tu(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Be=null,_t=!1;function wn(e,t,a){for(a=a.child;a!==null;)Jh(e,t,a),a=a.sibling}function Jh(e,t,a){if(jt&&typeof jt.onCommitFiberUnmount=="function")try{jt.onCommitFiberUnmount($r,a)}catch{}switch(a.tag){case 26:Je||ln(a,t),wn(e,t,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Je||ln(a,t);var i=Be,u=_t;Fn(a.type)&&(Be=a.stateNode,_t=!1),wn(e,t,a),Ts(a.stateNode),Be=i,_t=u;break;case 5:Je||ln(a,t);case 6:if(i=Be,u=_t,Be=null,wn(e,t,a),Be=i,_t=u,Be!==null)if(_t)try{(Be.nodeType===9?Be.body:Be.nodeName==="HTML"?Be.ownerDocument.body:Be).removeChild(a.stateNode)}catch(f){je(a,t,f)}else try{Be.removeChild(a.stateNode)}catch(f){je(a,t,f)}break;case 18:Be!==null&&(_t?(e=Be,Hm(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),_r(e)):Hm(Be,a.stateNode));break;case 4:i=Be,u=_t,Be=a.stateNode.containerInfo,_t=!0,wn(e,t,a),Be=i,_t=u;break;case 0:case 11:case 14:case 15:Kn(2,a,t),Je||Kn(4,a,t),wn(e,t,a);break;case 1:Je||(ln(a,t),i=a.stateNode,typeof i.componentWillUnmount=="function"&&Ih(a,t,i)),wn(e,t,a);break;case 21:wn(e,t,a);break;case 22:Je=(i=Je)||a.memoizedState!==null,wn(e,t,a),Je=i;break;default:wn(e,t,a)}}function Xh(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{_r(e)}catch(a){je(t,t.return,a)}}}function Qh(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{_r(e)}catch(a){je(t,t.return,a)}}function uv(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new Kh),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new Kh),t;default:throw Error(l(435,e.tag))}}function Gi(e,t){var a=uv(e);t.forEach(function(i){if(!a.has(i)){a.add(i);var u=yv.bind(null,e,i);i.then(u,u)}})}function wt(e,t){var a=t.deletions;if(a!==null)for(var i=0;i<a.length;i++){var u=a[i],f=e,g=t,b=g;e:for(;b!==null;){switch(b.tag){case 27:if(Fn(b.type)){Be=b.stateNode,_t=!1;break e}break;case 5:Be=b.stateNode,_t=!1;break e;case 3:case 4:Be=b.stateNode.containerInfo,_t=!0;break e}b=b.return}if(Be===null)throw Error(l(160));Jh(f,g,u),Be=null,_t=!1,f=u.alternate,f!==null&&(f.return=null),u.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)Wh(t,e),t=t.sibling}var Ft=null;function Wh(e,t){var a=e.alternate,i=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:wt(t,e),xt(e),i&4&&(Kn(3,e,e.return),ps(3,e),Kn(5,e,e.return));break;case 1:wt(t,e),xt(e),i&512&&(Je||a===null||ln(a,a.return)),i&64&&_n&&(e=e.updateQueue,e!==null&&(i=e.callbacks,i!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?i:a.concat(i))));break;case 26:var u=Ft;if(wt(t,e),xt(e),i&512&&(Je||a===null||ln(a,a.return)),i&4){var f=a!==null?a.memoizedState:null;if(i=e.memoizedState,a===null)if(i===null)if(e.stateNode===null){e:{i=e.type,a=e.memoizedProps,u=u.ownerDocument||u;t:switch(i){case"title":f=u.getElementsByTagName("title")[0],(!f||f[Gr]||f[it]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=u.createElement(i),u.head.insertBefore(f,u.querySelector("head > title"))),ct(f,i,a),f[it]=e,tt(f),i=f;break e;case"link":var g=Wm("link","href",u).get(i+(a.href||""));if(g){for(var b=0;b<g.length;b++)if(f=g[b],f.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&f.getAttribute("rel")===(a.rel==null?null:a.rel)&&f.getAttribute("title")===(a.title==null?null:a.title)&&f.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){g.splice(b,1);break t}}f=u.createElement(i),ct(f,i,a),u.head.appendChild(f);break;case"meta":if(g=Wm("meta","content",u).get(i+(a.content||""))){for(b=0;b<g.length;b++)if(f=g[b],f.getAttribute("content")===(a.content==null?null:""+a.content)&&f.getAttribute("name")===(a.name==null?null:a.name)&&f.getAttribute("property")===(a.property==null?null:a.property)&&f.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&f.getAttribute("charset")===(a.charSet==null?null:a.charSet)){g.splice(b,1);break t}}f=u.createElement(i),ct(f,i,a),u.head.appendChild(f);break;default:throw Error(l(468,i))}f[it]=e,tt(f),i=f}e.stateNode=i}else Fm(u,e.type,e.stateNode);else e.stateNode=Qm(u,i,e.memoizedProps);else f!==i?(f===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):f.count--,i===null?Fm(u,e.type,e.stateNode):Qm(u,i,e.memoizedProps)):i===null&&e.stateNode!==null&&So(e,e.memoizedProps,a.memoizedProps)}break;case 27:wt(t,e),xt(e),i&512&&(Je||a===null||ln(a,a.return)),a!==null&&i&4&&So(e,e.memoizedProps,a.memoizedProps);break;case 5:if(wt(t,e),xt(e),i&512&&(Je||a===null||ln(a,a.return)),e.flags&32){u=e.stateNode;try{Ga(u,"")}catch(te){je(e,e.return,te)}}i&4&&e.stateNode!=null&&(u=e.memoizedProps,So(e,u,a!==null?a.memoizedProps:u)),i&1024&&(Ao=!0);break;case 6:if(wt(t,e),xt(e),i&4){if(e.stateNode===null)throw Error(l(162));i=e.memoizedProps,a=e.stateNode;try{a.nodeValue=i}catch(te){je(e,e.return,te)}}break;case 3:if(sl=null,u=Ft,Ft=al(t.containerInfo),wt(t,e),Ft=u,xt(e),i&4&&a!==null&&a.memoizedState.isDehydrated)try{_r(t.containerInfo)}catch(te){je(e,e.return,te)}Ao&&(Ao=!1,Fh(e));break;case 4:i=Ft,Ft=al(e.stateNode.containerInfo),wt(t,e),xt(e),Ft=i;break;case 12:wt(t,e),xt(e);break;case 31:wt(t,e),xt(e),i&4&&(i=e.updateQueue,i!==null&&(e.updateQueue=null,Gi(e,i)));break;case 13:wt(t,e),xt(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Pi=At()),i&4&&(i=e.updateQueue,i!==null&&(e.updateQueue=null,Gi(e,i)));break;case 22:u=e.memoizedState!==null;var E=a!==null&&a.memoizedState!==null,k=_n,I=Je;if(_n=k||u,Je=I||E,wt(t,e),Je=I,_n=k,xt(e),i&8192)e:for(t=e.stateNode,t._visibility=u?t._visibility&-2:t._visibility|1,u&&(a===null||E||_n||Je||Aa(e)),a=null,t=e;;){if(t.tag===5||t.tag===26){if(a===null){E=a=t;try{if(f=E.stateNode,u)g=f.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{b=E.stateNode;var V=E.memoizedProps.style,D=V!=null&&V.hasOwnProperty("display")?V.display:null;b.style.display=D==null||typeof D=="boolean"?"":(""+D).trim()}}catch(te){je(E,E.return,te)}}}else if(t.tag===6){if(a===null){E=t;try{E.stateNode.nodeValue=u?"":E.memoizedProps}catch(te){je(E,E.return,te)}}}else if(t.tag===18){if(a===null){E=t;try{var B=E.stateNode;u?Im(B,!0):Im(E.stateNode,!1)}catch(te){je(E,E.return,te)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;a===t&&(a=null),t=t.return}a===t&&(a=null),t.sibling.return=t.return,t=t.sibling}i&4&&(i=e.updateQueue,i!==null&&(a=i.retryQueue,a!==null&&(i.retryQueue=null,Gi(e,a))));break;case 19:wt(t,e),xt(e),i&4&&(i=e.updateQueue,i!==null&&(e.updateQueue=null,Gi(e,i)));break;case 30:break;case 21:break;default:wt(t,e),xt(e)}}function xt(e){var t=e.flags;if(t&2){try{for(var a,i=e.return;i!==null;){if(Vh(i)){a=i;break}i=i.return}if(a==null)throw Error(l(160));switch(a.tag){case 27:var u=a.stateNode,f=Eo(e);Ii(e,f,u);break;case 5:var g=a.stateNode;a.flags&32&&(Ga(g,""),a.flags&=-33);var b=Eo(e);Ii(e,b,g);break;case 3:case 4:var E=a.stateNode.containerInfo,k=Eo(e);To(e,k,E);break;default:throw Error(l(161))}}catch(I){je(e,e.return,I)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Fh(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;Fh(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function xn(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)Yh(e,t.alternate,t),t=t.sibling}function Aa(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Kn(4,t,t.return),Aa(t);break;case 1:ln(t,t.return);var a=t.stateNode;typeof a.componentWillUnmount=="function"&&Ih(t,t.return,a),Aa(t);break;case 27:Ts(t.stateNode);case 26:case 5:ln(t,t.return),Aa(t);break;case 22:t.memoizedState===null&&Aa(t);break;case 30:Aa(t);break;default:Aa(t)}e=e.sibling}}function Sn(e,t,a){for(a=a&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var i=t.alternate,u=e,f=t,g=f.flags;switch(f.tag){case 0:case 11:case 15:Sn(u,f,a),ps(4,f);break;case 1:if(Sn(u,f,a),i=f,u=i.stateNode,typeof u.componentDidMount=="function")try{u.componentDidMount()}catch(k){je(i,i.return,k)}if(i=f,u=i.updateQueue,u!==null){var b=i.stateNode;try{var E=u.shared.hiddenCallbacks;if(E!==null)for(u.shared.hiddenCallbacks=null,u=0;u<E.length;u++)Nd(E[u],b)}catch(k){je(i,i.return,k)}}a&&g&64&&Hh(f),gs(f,f.return);break;case 27:Ph(f);case 26:case 5:Sn(u,f,a),a&&i===null&&g&4&&Gh(f),gs(f,f.return);break;case 12:Sn(u,f,a);break;case 31:Sn(u,f,a),a&&g&4&&Xh(u,f);break;case 13:Sn(u,f,a),a&&g&4&&Qh(u,f);break;case 22:f.memoizedState===null&&Sn(u,f,a),gs(f,f.return);break;case 30:break;default:Sn(u,f,a)}t=t.sibling}}function jo(e,t){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&ns(a))}function Ro(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&ns(e))}function en(e,t,a,i){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)em(e,t,a,i),t=t.sibling}function em(e,t,a,i){var u=t.flags;switch(t.tag){case 0:case 11:case 15:en(e,t,a,i),u&2048&&ps(9,t);break;case 1:en(e,t,a,i);break;case 3:en(e,t,a,i),u&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&ns(e)));break;case 12:if(u&2048){en(e,t,a,i),e=t.stateNode;try{var f=t.memoizedProps,g=f.id,b=f.onPostCommit;typeof b=="function"&&b(g,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(E){je(t,t.return,E)}}else en(e,t,a,i);break;case 31:en(e,t,a,i);break;case 13:en(e,t,a,i);break;case 23:break;case 22:f=t.stateNode,g=t.alternate,t.memoizedState!==null?f._visibility&2?en(e,t,a,i):ys(e,t):f._visibility&2?en(e,t,a,i):(f._visibility|=2,or(e,t,a,i,(t.subtreeFlags&10256)!==0||!1)),u&2048&&jo(g,t);break;case 24:en(e,t,a,i),u&2048&&Ro(t.alternate,t);break;default:en(e,t,a,i)}}function or(e,t,a,i,u){for(u=u&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var f=e,g=t,b=a,E=i,k=g.flags;switch(g.tag){case 0:case 11:case 15:or(f,g,b,E,u),ps(8,g);break;case 23:break;case 22:var I=g.stateNode;g.memoizedState!==null?I._visibility&2?or(f,g,b,E,u):ys(f,g):(I._visibility|=2,or(f,g,b,E,u)),u&&k&2048&&jo(g.alternate,g);break;case 24:or(f,g,b,E,u),u&&k&2048&&Ro(g.alternate,g);break;default:or(f,g,b,E,u)}t=t.sibling}}function ys(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var a=e,i=t,u=i.flags;switch(i.tag){case 22:ys(a,i),u&2048&&jo(i.alternate,i);break;case 24:ys(a,i),u&2048&&Ro(i.alternate,i);break;default:ys(a,i)}t=t.sibling}}var vs=8192;function cr(e,t,a){if(e.subtreeFlags&vs)for(e=e.child;e!==null;)tm(e,t,a),e=e.sibling}function tm(e,t,a){switch(e.tag){case 26:cr(e,t,a),e.flags&vs&&e.memoizedState!==null&&Zv(a,Ft,e.memoizedState,e.memoizedProps);break;case 5:cr(e,t,a);break;case 3:case 4:var i=Ft;Ft=al(e.stateNode.containerInfo),cr(e,t,a),Ft=i;break;case 22:e.memoizedState===null&&(i=e.alternate,i!==null&&i.memoizedState!==null?(i=vs,vs=16777216,cr(e,t,a),vs=i):cr(e,t,a));break;default:cr(e,t,a)}}function nm(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function bs(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var a=0;a<t.length;a++){var i=t[a];nt=i,rm(i,e)}nm(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)am(e),e=e.sibling}function am(e){switch(e.tag){case 0:case 11:case 15:bs(e),e.flags&2048&&Kn(9,e,e.return);break;case 3:bs(e);break;case 12:bs(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,Vi(e)):bs(e);break;default:bs(e)}}function Vi(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var a=0;a<t.length;a++){var i=t[a];nt=i,rm(i,e)}nm(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:Kn(8,t,t.return),Vi(t);break;case 22:a=t.stateNode,a._visibility&2&&(a._visibility&=-3,Vi(t));break;default:Vi(t)}e=e.sibling}}function rm(e,t){for(;nt!==null;){var a=nt;switch(a.tag){case 0:case 11:case 15:Kn(8,a,t);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var i=a.memoizedState.cachePool.pool;i!=null&&i.refCount++}break;case 24:ns(a.memoizedState.cache)}if(i=a.child,i!==null)i.return=a,nt=i;else e:for(a=e;nt!==null;){i=nt;var u=i.sibling,f=i.return;if(Zh(i),i===a){nt=null;break e}if(u!==null){u.return=f,nt=u;break e}nt=f}}}var ov={getCacheForType:function(e){var t=ut(Ke),a=t.data.get(e);return a===void 0&&(a=e(),t.data.set(e,a)),a},cacheSignal:function(){return ut(Ke).controller.signal}},cv=typeof WeakMap=="function"?WeakMap:Map,Te=0,Le=null,pe=null,ye=0,Ae=0,kt=null,Yn=!1,fr=!1,Oo=!1,En=0,He=0,Zn=0,ja=0,No=0,Dt=0,dr=0,_s=null,St=null,Co=!1,Pi=0,sm=0,Ki=1/0,Yi=null,Jn=null,We=0,Xn=null,hr=null,Tn=0,Lo=0,ko=null,im=null,ws=0,Do=null;function Ut(){return(Te&2)!==0&&ye!==0?ye&-ye:$.T!==null?$o():xf()}function lm(){if(Dt===0)if((ye&536870912)===0||be){var e=ti;ti<<=1,(ti&3932160)===0&&(ti=262144),Dt=e}else Dt=536870912;return e=Ct.current,e!==null&&(e.flags|=32),Dt}function Et(e,t,a){(e===Le&&(Ae===2||Ae===9)||e.cancelPendingCommit!==null)&&(mr(e,0),Qn(e,ye,Dt,!1)),Ir(e,a),((Te&2)===0||e!==Le)&&(e===Le&&((Te&2)===0&&(ja|=a),He===4&&Qn(e,ye,Dt,!1)),un(e))}function um(e,t,a){if((Te&6)!==0)throw Error(l(327));var i=!a&&(t&127)===0&&(t&e.expiredLanes)===0||Hr(e,t),u=i?hv(e,t):Mo(e,t,!0),f=i;do{if(u===0){fr&&!i&&Qn(e,t,0,!1);break}else{if(a=e.current.alternate,f&&!fv(a)){u=Mo(e,t,!1),f=!1;continue}if(u===2){if(f=t,e.errorRecoveryDisabledLanes&f)var g=0;else g=e.pendingLanes&-536870913,g=g!==0?g:g&536870912?536870912:0;if(g!==0){t=g;e:{var b=e;u=_s;var E=b.current.memoizedState.isDehydrated;if(E&&(mr(b,g).flags|=256),g=Mo(b,g,!1),g!==2){if(Oo&&!E){b.errorRecoveryDisabledLanes|=f,ja|=f,u=4;break e}f=St,St=u,f!==null&&(St===null?St=f:St.push.apply(St,f))}u=g}if(f=!1,u!==2)continue}}if(u===1){mr(e,0),Qn(e,t,0,!0);break}e:{switch(i=e,f=u,f){case 0:case 1:throw Error(l(345));case 4:if((t&4194048)!==t)break;case 6:Qn(i,t,Dt,!Yn);break e;case 2:St=null;break;case 3:case 5:break;default:throw Error(l(329))}if((t&62914560)===t&&(u=Pi+300-At(),10<u)){if(Qn(i,t,Dt,!Yn),ai(i,0,!0)!==0)break e;Tn=t,i.timeoutHandle=qm(om.bind(null,i,a,St,Yi,Co,t,Dt,ja,dr,Yn,f,"Throttled",-0,0),u);break e}om(i,a,St,Yi,Co,t,Dt,ja,dr,Yn,f,null,-0,0)}}break}while(!0);un(e)}function om(e,t,a,i,u,f,g,b,E,k,I,V,D,B){if(e.timeoutHandle=-1,V=t.subtreeFlags,V&8192||(V&16785408)===16785408){V={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:cn},tm(t,f,V);var te=(f&62914560)===f?Pi-At():(f&4194048)===f?sm-At():0;if(te=Jv(V,te),te!==null){Tn=f,e.cancelPendingCommit=te(ym.bind(null,e,t,f,a,i,u,g,b,E,I,V,null,D,B)),Qn(e,f,g,!k);return}}ym(e,t,f,a,i,u,g,b,E)}function fv(e){for(var t=e;;){var a=t.tag;if((a===0||a===11||a===15)&&t.flags&16384&&(a=t.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var i=0;i<a.length;i++){var u=a[i],f=u.getSnapshot;u=u.value;try{if(!Ot(f(),u))return!1}catch{return!1}}if(a=t.child,t.subtreeFlags&16384&&a!==null)a.return=t,t=a;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Qn(e,t,a,i){t&=~No,t&=~ja,e.suspendedLanes|=t,e.pingedLanes&=~t,i&&(e.warmLanes|=t),i=e.expirationTimes;for(var u=t;0<u;){var f=31-Rt(u),g=1<<f;i[f]=-1,u&=~g}a!==0&&bf(e,a,t)}function Zi(){return(Te&6)===0?(xs(0),!1):!0}function Uo(){if(pe!==null){if(Ae===0)var e=pe.return;else e=pe,mn=va=null,Xu(e),rr=null,rs=0,e=pe;for(;e!==null;)$h(e.alternate,e),e=e.return;pe=null}}function mr(e,t){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,Cv(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),Tn=0,Uo(),Le=e,pe=a=dn(e.current,null),ye=t,Ae=0,kt=null,Yn=!1,fr=Hr(e,t),Oo=!1,dr=Dt=No=ja=Zn=He=0,St=_s=null,Co=!1,(t&8)!==0&&(t|=t&32);var i=e.entangledLanes;if(i!==0)for(e=e.entanglements,i&=t;0<i;){var u=31-Rt(i),f=1<<u;t|=e[u],i&=~f}return En=t,pi(),a}function cm(e,t){de=null,$.H=ds,t===ar||t===Si?(t=Ad(),Ae=3):t===Bu?(t=Ad(),Ae=4):Ae=t===ho?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,kt=t,pe===null&&(He=1,zi(e,Gt(t,e.current)))}function fm(){var e=Ct.current;return e===null?!0:(ye&4194048)===ye?Yt===null:(ye&62914560)===ye||(ye&536870912)!==0?e===Yt:!1}function dm(){var e=$.H;return $.H=ds,e===null?ds:e}function hm(){var e=$.A;return $.A=ov,e}function Ji(){He=4,Yn||(ye&4194048)!==ye&&Ct.current!==null||(fr=!0),(Zn&134217727)===0&&(ja&134217727)===0||Le===null||Qn(Le,ye,Dt,!1)}function Mo(e,t,a){var i=Te;Te|=2;var u=dm(),f=hm();(Le!==e||ye!==t)&&(Yi=null,mr(e,t)),t=!1;var g=He;e:do try{if(Ae!==0&&pe!==null){var b=pe,E=kt;switch(Ae){case 8:Uo(),g=6;break e;case 3:case 2:case 9:case 6:Ct.current===null&&(t=!0);var k=Ae;if(Ae=0,kt=null,pr(e,b,E,k),a&&fr){g=0;break e}break;default:k=Ae,Ae=0,kt=null,pr(e,b,E,k)}}dv(),g=He;break}catch(I){cm(e,I)}while(!0);return t&&e.shellSuspendCounter++,mn=va=null,Te=i,$.H=u,$.A=f,pe===null&&(Le=null,ye=0,pi()),g}function dv(){for(;pe!==null;)mm(pe)}function hv(e,t){var a=Te;Te|=2;var i=dm(),u=hm();Le!==e||ye!==t?(Yi=null,Ki=At()+500,mr(e,t)):fr=Hr(e,t);e:do try{if(Ae!==0&&pe!==null){t=pe;var f=kt;t:switch(Ae){case 1:Ae=0,kt=null,pr(e,t,f,1);break;case 2:case 9:if(Ed(f)){Ae=0,kt=null,pm(t);break}t=function(){Ae!==2&&Ae!==9||Le!==e||(Ae=7),un(e)},f.then(t,t);break e;case 3:Ae=7;break e;case 4:Ae=5;break e;case 7:Ed(f)?(Ae=0,kt=null,pm(t)):(Ae=0,kt=null,pr(e,t,f,7));break;case 5:var g=null;switch(pe.tag){case 26:g=pe.memoizedState;case 5:case 27:var b=pe;if(g?ep(g):b.stateNode.complete){Ae=0,kt=null;var E=b.sibling;if(E!==null)pe=E;else{var k=b.return;k!==null?(pe=k,Xi(k)):pe=null}break t}}Ae=0,kt=null,pr(e,t,f,5);break;case 6:Ae=0,kt=null,pr(e,t,f,6);break;case 8:Uo(),He=6;break e;default:throw Error(l(462))}}mv();break}catch(I){cm(e,I)}while(!0);return mn=va=null,$.H=i,$.A=u,Te=a,pe!==null?0:(Le=null,ye=0,pi(),He)}function mv(){for(;pe!==null&&!z0();)mm(pe)}function mm(e){var t=Bh(e.alternate,e,En);e.memoizedProps=e.pendingProps,t===null?Xi(e):pe=t}function pm(e){var t=e,a=t.alternate;switch(t.tag){case 15:case 0:t=Lh(a,t,t.pendingProps,t.type,void 0,ye);break;case 11:t=Lh(a,t,t.pendingProps,t.type.render,t.ref,ye);break;case 5:Xu(t);default:$h(a,t),t=pe=hd(t,En),t=Bh(a,t,En)}e.memoizedProps=e.pendingProps,t===null?Xi(e):pe=t}function pr(e,t,a,i){mn=va=null,Xu(t),rr=null,rs=0;var u=t.return;try{if(nv(e,u,t,a,ye)){He=1,zi(e,Gt(a,e.current)),pe=null;return}}catch(f){if(u!==null)throw pe=u,f;He=1,zi(e,Gt(a,e.current)),pe=null;return}t.flags&32768?(be||i===1?e=!0:fr||(ye&536870912)!==0?e=!1:(Yn=e=!0,(i===2||i===9||i===3||i===6)&&(i=Ct.current,i!==null&&i.tag===13&&(i.flags|=16384))),gm(t,e)):Xi(t)}function Xi(e){var t=e;do{if((t.flags&32768)!==0){gm(t,Yn);return}e=t.return;var a=sv(t.alternate,t,En);if(a!==null){pe=a;return}if(t=t.sibling,t!==null){pe=t;return}pe=t=e}while(t!==null);He===0&&(He=5)}function gm(e,t){do{var a=iv(e.alternate,e);if(a!==null){a.flags&=32767,pe=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!t&&(e=e.sibling,e!==null)){pe=e;return}pe=e=a}while(e!==null);He=6,pe=null}function ym(e,t,a,i,u,f,g,b,E){e.cancelPendingCommit=null;do Qi();while(We!==0);if((Te&6)!==0)throw Error(l(327));if(t!==null){if(t===e.current)throw Error(l(177));if(f=t.lanes|t.childLanes,f|=Su,Y0(e,a,f,g,b,E),e===Le&&(pe=Le=null,ye=0),hr=t,Xn=e,Tn=a,Lo=f,ko=u,im=i,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,vv(Fs,function(){return xm(),null})):(e.callbackNode=null,e.callbackPriority=0),i=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||i){i=$.T,$.T=null,u=Z.p,Z.p=2,g=Te,Te|=4;try{lv(e,t,a)}finally{Te=g,Z.p=u,$.T=i}}We=1,vm(),bm(),_m()}}function vm(){if(We===1){We=0;var e=Xn,t=hr,a=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||a){a=$.T,$.T=null;var i=Z.p;Z.p=2;var u=Te;Te|=4;try{Wh(t,e);var f=Zo,g=rd(e.containerInfo),b=f.focusedElem,E=f.selectionRange;if(g!==b&&b&&b.ownerDocument&&ad(b.ownerDocument.documentElement,b)){if(E!==null&&vu(b)){var k=E.start,I=E.end;if(I===void 0&&(I=k),"selectionStart"in b)b.selectionStart=k,b.selectionEnd=Math.min(I,b.value.length);else{var V=b.ownerDocument||document,D=V&&V.defaultView||window;if(D.getSelection){var B=D.getSelection(),te=b.textContent.length,ie=Math.min(E.start,te),Ce=E.end===void 0?ie:Math.min(E.end,te);!B.extend&&ie>Ce&&(g=Ce,Ce=ie,ie=g);var N=nd(b,ie),O=nd(b,Ce);if(N&&O&&(B.rangeCount!==1||B.anchorNode!==N.node||B.anchorOffset!==N.offset||B.focusNode!==O.node||B.focusOffset!==O.offset)){var L=V.createRange();L.setStart(N.node,N.offset),B.removeAllRanges(),ie>Ce?(B.addRange(L),B.extend(O.node,O.offset)):(L.setEnd(O.node,O.offset),B.addRange(L))}}}}for(V=[],B=b;B=B.parentNode;)B.nodeType===1&&V.push({element:B,left:B.scrollLeft,top:B.scrollTop});for(typeof b.focus=="function"&&b.focus(),b=0;b<V.length;b++){var G=V[b];G.element.scrollLeft=G.left,G.element.scrollTop=G.top}}ol=!!Yo,Zo=Yo=null}finally{Te=u,Z.p=i,$.T=a}}e.current=t,We=2}}function bm(){if(We===2){We=0;var e=Xn,t=hr,a=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||a){a=$.T,$.T=null;var i=Z.p;Z.p=2;var u=Te;Te|=4;try{Yh(e,t.alternate,t)}finally{Te=u,Z.p=i,$.T=a}}We=3}}function _m(){if(We===4||We===3){We=0,B0();var e=Xn,t=hr,a=Tn,i=im;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?We=5:(We=0,hr=Xn=null,wm(e,e.pendingLanes));var u=e.pendingLanes;if(u===0&&(Jn=null),Fl(a),t=t.stateNode,jt&&typeof jt.onCommitFiberRoot=="function")try{jt.onCommitFiberRoot($r,t,void 0,(t.current.flags&128)===128)}catch{}if(i!==null){t=$.T,u=Z.p,Z.p=2,$.T=null;try{for(var f=e.onRecoverableError,g=0;g<i.length;g++){var b=i[g];f(b.value,{componentStack:b.stack})}}finally{$.T=t,Z.p=u}}(Tn&3)!==0&&Qi(),un(e),u=e.pendingLanes,(a&261930)!==0&&(u&42)!==0?e===Do?ws++:(ws=0,Do=e):ws=0,xs(0)}}function wm(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,ns(t)))}function Qi(){return vm(),bm(),_m(),xm()}function xm(){if(We!==5)return!1;var e=Xn,t=Lo;Lo=0;var a=Fl(Tn),i=$.T,u=Z.p;try{Z.p=32>a?32:a,$.T=null,a=ko,ko=null;var f=Xn,g=Tn;if(We=0,hr=Xn=null,Tn=0,(Te&6)!==0)throw Error(l(331));var b=Te;if(Te|=4,am(f.current),em(f,f.current,g,a),Te=b,xs(0,!1),jt&&typeof jt.onPostCommitFiberRoot=="function")try{jt.onPostCommitFiberRoot($r,f)}catch{}return!0}finally{Z.p=u,$.T=i,wm(e,t)}}function Sm(e,t,a){t=Gt(a,t),t=fo(e.stateNode,t,2),e=Gn(e,t,2),e!==null&&(Ir(e,2),un(e))}function je(e,t,a){if(e.tag===3)Sm(e,e,a);else for(;t!==null;){if(t.tag===3){Sm(t,e,a);break}else if(t.tag===1){var i=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(Jn===null||!Jn.has(i))){e=Gt(a,e),a=Eh(2),i=Gn(t,a,2),i!==null&&(Th(a,i,t,e),Ir(i,2),un(i));break}}t=t.return}}function zo(e,t,a){var i=e.pingCache;if(i===null){i=e.pingCache=new cv;var u=new Set;i.set(t,u)}else u=i.get(t),u===void 0&&(u=new Set,i.set(t,u));u.has(a)||(Oo=!0,u.add(a),e=pv.bind(null,e,t,a),t.then(e,e))}function pv(e,t,a){var i=e.pingCache;i!==null&&i.delete(t),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,Le===e&&(ye&a)===a&&(He===4||He===3&&(ye&62914560)===ye&&300>At()-Pi?(Te&2)===0&&mr(e,0):No|=a,dr===ye&&(dr=0)),un(e)}function Em(e,t){t===0&&(t=vf()),e=pa(e,t),e!==null&&(Ir(e,t),un(e))}function gv(e){var t=e.memoizedState,a=0;t!==null&&(a=t.retryLane),Em(e,a)}function yv(e,t){var a=0;switch(e.tag){case 31:case 13:var i=e.stateNode,u=e.memoizedState;u!==null&&(a=u.retryLane);break;case 19:i=e.stateNode;break;case 22:i=e.stateNode._retryCache;break;default:throw Error(l(314))}i!==null&&i.delete(t),Em(e,a)}function vv(e,t){return Jl(e,t)}var Wi=null,gr=null,Bo=!1,Fi=!1,qo=!1,Wn=0;function un(e){e!==gr&&e.next===null&&(gr===null?Wi=gr=e:gr=gr.next=e),Fi=!0,Bo||(Bo=!0,_v())}function xs(e,t){if(!qo&&Fi){qo=!0;do for(var a=!1,i=Wi;i!==null;){if(e!==0){var u=i.pendingLanes;if(u===0)var f=0;else{var g=i.suspendedLanes,b=i.pingedLanes;f=(1<<31-Rt(42|e)+1)-1,f&=u&~(g&~b),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(a=!0,Rm(i,f))}else f=ye,f=ai(i,i===Le?f:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),(f&3)===0||Hr(i,f)||(a=!0,Rm(i,f));i=i.next}while(a);qo=!1}}function bv(){Tm()}function Tm(){Fi=Bo=!1;var e=0;Wn!==0&&Nv()&&(e=Wn);for(var t=At(),a=null,i=Wi;i!==null;){var u=i.next,f=Am(i,t);f===0?(i.next=null,a===null?Wi=u:a.next=u,u===null&&(gr=a)):(a=i,(e!==0||(f&3)!==0)&&(Fi=!0)),i=u}We!==0&&We!==5||xs(e),Wn!==0&&(Wn=0)}function Am(e,t){for(var a=e.suspendedLanes,i=e.pingedLanes,u=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var g=31-Rt(f),b=1<<g,E=u[g];E===-1?((b&a)===0||(b&i)!==0)&&(u[g]=K0(b,t)):E<=t&&(e.expiredLanes|=b),f&=~b}if(t=Le,a=ye,a=ai(e,e===t?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),i=e.callbackNode,a===0||e===t&&(Ae===2||Ae===9)||e.cancelPendingCommit!==null)return i!==null&&i!==null&&Xl(i),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||Hr(e,a)){if(t=a&-a,t===e.callbackPriority)return t;switch(i!==null&&Xl(i),Fl(a)){case 2:case 8:a=gf;break;case 32:a=Fs;break;case 268435456:a=yf;break;default:a=Fs}return i=jm.bind(null,e),a=Jl(a,i),e.callbackPriority=t,e.callbackNode=a,t}return i!==null&&i!==null&&Xl(i),e.callbackPriority=2,e.callbackNode=null,2}function jm(e,t){if(We!==0&&We!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(Qi()&&e.callbackNode!==a)return null;var i=ye;return i=ai(e,e===Le?i:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),i===0?null:(um(e,i,t),Am(e,At()),e.callbackNode!=null&&e.callbackNode===a?jm.bind(null,e):null)}function Rm(e,t){if(Qi())return null;um(e,t,!0)}function _v(){Lv(function(){(Te&6)!==0?Jl(pf,bv):Tm()})}function $o(){if(Wn===0){var e=tr;e===0&&(e=ei,ei<<=1,(ei&261888)===0&&(ei=256)),Wn=e}return Wn}function Om(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:li(""+e)}function Nm(e,t){var a=t.ownerDocument.createElement("input");return a.name=t.name,a.value=t.value,e.id&&a.setAttribute("form",e.id),t.parentNode.insertBefore(a,t),e=new FormData(e),a.parentNode.removeChild(a),e}function wv(e,t,a,i,u){if(t==="submit"&&a&&a.stateNode===u){var f=Om((u[vt]||null).action),g=i.submitter;g&&(t=(t=g[vt]||null)?Om(t.formAction):g.getAttribute("formAction"),t!==null&&(f=t,g=null));var b=new fi("action","action",null,i,u);e.push({event:b,listeners:[{instance:null,listener:function(){if(i.defaultPrevented){if(Wn!==0){var E=g?Nm(u,g):new FormData(u);so(a,{pending:!0,data:E,method:u.method,action:f},null,E)}}else typeof f=="function"&&(b.preventDefault(),E=g?Nm(u,g):new FormData(u),so(a,{pending:!0,data:E,method:u.method,action:f},f,E))},currentTarget:u}]})}}for(var Ho=0;Ho<xu.length;Ho++){var Io=xu[Ho],xv=Io.toLowerCase(),Sv=Io[0].toUpperCase()+Io.slice(1);Wt(xv,"on"+Sv)}Wt(ld,"onAnimationEnd"),Wt(ud,"onAnimationIteration"),Wt(od,"onAnimationStart"),Wt("dblclick","onDoubleClick"),Wt("focusin","onFocus"),Wt("focusout","onBlur"),Wt(qy,"onTransitionRun"),Wt($y,"onTransitionStart"),Wt(Hy,"onTransitionCancel"),Wt(cd,"onTransitionEnd"),Ha("onMouseEnter",["mouseout","mouseover"]),Ha("onMouseLeave",["mouseout","mouseover"]),Ha("onPointerEnter",["pointerout","pointerover"]),Ha("onPointerLeave",["pointerout","pointerover"]),fa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),fa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),fa("onBeforeInput",["compositionend","keypress","textInput","paste"]),fa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),fa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),fa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ss="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ev=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ss));function Cm(e,t){t=(t&4)!==0;for(var a=0;a<e.length;a++){var i=e[a],u=i.event;i=i.listeners;e:{var f=void 0;if(t)for(var g=i.length-1;0<=g;g--){var b=i[g],E=b.instance,k=b.currentTarget;if(b=b.listener,E!==f&&u.isPropagationStopped())break e;f=b,u.currentTarget=k;try{f(u)}catch(I){mi(I)}u.currentTarget=null,f=E}else for(g=0;g<i.length;g++){if(b=i[g],E=b.instance,k=b.currentTarget,b=b.listener,E!==f&&u.isPropagationStopped())break e;f=b,u.currentTarget=k;try{f(u)}catch(I){mi(I)}u.currentTarget=null,f=E}}}}function ge(e,t){var a=t[eu];a===void 0&&(a=t[eu]=new Set);var i=e+"__bubble";a.has(i)||(Lm(t,e,2,!1),a.add(i))}function Go(e,t,a){var i=0;t&&(i|=4),Lm(a,e,i,t)}var el="_reactListening"+Math.random().toString(36).slice(2);function Vo(e){if(!e[el]){e[el]=!0,Tf.forEach(function(a){a!=="selectionchange"&&(Ev.has(a)||Go(a,!1,e),Go(a,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[el]||(t[el]=!0,Go("selectionchange",!1,t))}}function Lm(e,t,a,i){switch(lp(t)){case 2:var u=Wv;break;case 8:u=Fv;break;default:u=sc}a=u.bind(null,t,a,e),u=void 0,!ou||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(u=!0),i?u!==void 0?e.addEventListener(t,a,{capture:!0,passive:u}):e.addEventListener(t,a,!0):u!==void 0?e.addEventListener(t,a,{passive:u}):e.addEventListener(t,a,!1)}function Po(e,t,a,i,u){var f=i;if((t&1)===0&&(t&2)===0&&i!==null)e:for(;;){if(i===null)return;var g=i.tag;if(g===3||g===4){var b=i.stateNode.containerInfo;if(b===u)break;if(g===4)for(g=i.return;g!==null;){var E=g.tag;if((E===3||E===4)&&g.stateNode.containerInfo===u)return;g=g.return}for(;b!==null;){if(g=Ba(b),g===null)return;if(E=g.tag,E===5||E===6||E===26||E===27){i=f=g;continue e}b=b.parentNode}}i=i.return}zf(function(){var k=f,I=lu(a),V=[];e:{var D=fd.get(e);if(D!==void 0){var B=fi,te=e;switch(e){case"keypress":if(oi(a)===0)break e;case"keydown":case"keyup":B=yy;break;case"focusin":te="focus",B=hu;break;case"focusout":te="blur",B=hu;break;case"beforeblur":case"afterblur":B=hu;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":B=$f;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":B=sy;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":B=_y;break;case ld:case ud:case od:B=uy;break;case cd:B=xy;break;case"scroll":case"scrollend":B=ay;break;case"wheel":B=Ey;break;case"copy":case"cut":case"paste":B=cy;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":B=If;break;case"toggle":case"beforetoggle":B=Ay}var ie=(t&4)!==0,Ce=!ie&&(e==="scroll"||e==="scrollend"),N=ie?D!==null?D+"Capture":null:D;ie=[];for(var O=k,L;O!==null;){var G=O;if(L=G.stateNode,G=G.tag,G!==5&&G!==26&&G!==27||L===null||N===null||(G=Pr(O,N),G!=null&&ie.push(Es(O,G,L))),Ce)break;O=O.return}0<ie.length&&(D=new B(D,te,null,a,I),V.push({event:D,listeners:ie}))}}if((t&7)===0){e:{if(D=e==="mouseover"||e==="pointerover",B=e==="mouseout"||e==="pointerout",D&&a!==iu&&(te=a.relatedTarget||a.fromElement)&&(Ba(te)||te[za]))break e;if((B||D)&&(D=I.window===I?I:(D=I.ownerDocument)?D.defaultView||D.parentWindow:window,B?(te=a.relatedTarget||a.toElement,B=k,te=te?Ba(te):null,te!==null&&(Ce=c(te),ie=te.tag,te!==Ce||ie!==5&&ie!==27&&ie!==6)&&(te=null)):(B=null,te=k),B!==te)){if(ie=$f,G="onMouseLeave",N="onMouseEnter",O="mouse",(e==="pointerout"||e==="pointerover")&&(ie=If,G="onPointerLeave",N="onPointerEnter",O="pointer"),Ce=B==null?D:Vr(B),L=te==null?D:Vr(te),D=new ie(G,O+"leave",B,a,I),D.target=Ce,D.relatedTarget=L,G=null,Ba(I)===k&&(ie=new ie(N,O+"enter",te,a,I),ie.target=L,ie.relatedTarget=Ce,G=ie),Ce=G,B&&te)t:{for(ie=Tv,N=B,O=te,L=0,G=N;G;G=ie(G))L++;G=0;for(var re=O;re;re=ie(re))G++;for(;0<L-G;)N=ie(N),L--;for(;0<G-L;)O=ie(O),G--;for(;L--;){if(N===O||O!==null&&N===O.alternate){ie=N;break t}N=ie(N),O=ie(O)}ie=null}else ie=null;B!==null&&km(V,D,B,ie,!1),te!==null&&Ce!==null&&km(V,Ce,te,ie,!0)}}e:{if(D=k?Vr(k):window,B=D.nodeName&&D.nodeName.toLowerCase(),B==="select"||B==="input"&&D.type==="file")var xe=Xf;else if(Zf(D))if(Qf)xe=My;else{xe=Dy;var ne=ky}else B=D.nodeName,!B||B.toLowerCase()!=="input"||D.type!=="checkbox"&&D.type!=="radio"?k&&su(k.elementType)&&(xe=Xf):xe=Uy;if(xe&&(xe=xe(e,k))){Jf(V,xe,a,I);break e}ne&&ne(e,D,k),e==="focusout"&&k&&D.type==="number"&&k.memoizedProps.value!=null&&ru(D,"number",D.value)}switch(ne=k?Vr(k):window,e){case"focusin":(Zf(ne)||ne.contentEditable==="true")&&(Ya=ne,bu=k,Fr=null);break;case"focusout":Fr=bu=Ya=null;break;case"mousedown":_u=!0;break;case"contextmenu":case"mouseup":case"dragend":_u=!1,sd(V,a,I);break;case"selectionchange":if(By)break;case"keydown":case"keyup":sd(V,a,I)}var he;if(pu)e:{switch(e){case"compositionstart":var ve="onCompositionStart";break e;case"compositionend":ve="onCompositionEnd";break e;case"compositionupdate":ve="onCompositionUpdate";break e}ve=void 0}else Ka?Kf(e,a)&&(ve="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(ve="onCompositionStart");ve&&(Gf&&a.locale!=="ko"&&(Ka||ve!=="onCompositionStart"?ve==="onCompositionEnd"&&Ka&&(he=Bf()):(Mn=I,cu="value"in Mn?Mn.value:Mn.textContent,Ka=!0)),ne=tl(k,ve),0<ne.length&&(ve=new Hf(ve,e,null,a,I),V.push({event:ve,listeners:ne}),he?ve.data=he:(he=Yf(a),he!==null&&(ve.data=he)))),(he=Ry?Oy(e,a):Ny(e,a))&&(ve=tl(k,"onBeforeInput"),0<ve.length&&(ne=new Hf("onBeforeInput","beforeinput",null,a,I),V.push({event:ne,listeners:ve}),ne.data=he)),wv(V,e,k,a,I)}Cm(V,t)})}function Es(e,t,a){return{instance:e,listener:t,currentTarget:a}}function tl(e,t){for(var a=t+"Capture",i=[];e!==null;){var u=e,f=u.stateNode;if(u=u.tag,u!==5&&u!==26&&u!==27||f===null||(u=Pr(e,a),u!=null&&i.unshift(Es(e,u,f)),u=Pr(e,t),u!=null&&i.push(Es(e,u,f))),e.tag===3)return i;e=e.return}return[]}function Tv(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function km(e,t,a,i,u){for(var f=t._reactName,g=[];a!==null&&a!==i;){var b=a,E=b.alternate,k=b.stateNode;if(b=b.tag,E!==null&&E===i)break;b!==5&&b!==26&&b!==27||k===null||(E=k,u?(k=Pr(a,f),k!=null&&g.unshift(Es(a,k,E))):u||(k=Pr(a,f),k!=null&&g.push(Es(a,k,E)))),a=a.return}g.length!==0&&e.push({event:t,listeners:g})}var Av=/\r\n?/g,jv=/\u0000|\uFFFD/g;function Dm(e){return(typeof e=="string"?e:""+e).replace(Av,`
`).replace(jv,"")}function Um(e,t){return t=Dm(t),Dm(e)===t}function Ne(e,t,a,i,u,f){switch(a){case"children":typeof i=="string"?t==="body"||t==="textarea"&&i===""||Ga(e,i):(typeof i=="number"||typeof i=="bigint")&&t!=="body"&&Ga(e,""+i);break;case"className":si(e,"class",i);break;case"tabIndex":si(e,"tabindex",i);break;case"dir":case"role":case"viewBox":case"width":case"height":si(e,a,i);break;case"style":Uf(e,i,f);break;case"data":if(t!=="object"){si(e,"data",i);break}case"src":case"href":if(i===""&&(t!=="a"||a!=="href")){e.removeAttribute(a);break}if(i==null||typeof i=="function"||typeof i=="symbol"||typeof i=="boolean"){e.removeAttribute(a);break}i=li(""+i),e.setAttribute(a,i);break;case"action":case"formAction":if(typeof i=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(a==="formAction"?(t!=="input"&&Ne(e,t,"name",u.name,u,null),Ne(e,t,"formEncType",u.formEncType,u,null),Ne(e,t,"formMethod",u.formMethod,u,null),Ne(e,t,"formTarget",u.formTarget,u,null)):(Ne(e,t,"encType",u.encType,u,null),Ne(e,t,"method",u.method,u,null),Ne(e,t,"target",u.target,u,null)));if(i==null||typeof i=="symbol"||typeof i=="boolean"){e.removeAttribute(a);break}i=li(""+i),e.setAttribute(a,i);break;case"onClick":i!=null&&(e.onclick=cn);break;case"onScroll":i!=null&&ge("scroll",e);break;case"onScrollEnd":i!=null&&ge("scrollend",e);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(l(61));if(a=i.__html,a!=null){if(u.children!=null)throw Error(l(60));e.innerHTML=a}}break;case"multiple":e.multiple=i&&typeof i!="function"&&typeof i!="symbol";break;case"muted":e.muted=i&&typeof i!="function"&&typeof i!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(i==null||typeof i=="function"||typeof i=="boolean"||typeof i=="symbol"){e.removeAttribute("xlink:href");break}a=li(""+i),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":i!=null&&typeof i!="function"&&typeof i!="symbol"?e.setAttribute(a,""+i):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":i&&typeof i!="function"&&typeof i!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":i===!0?e.setAttribute(a,""):i!==!1&&i!=null&&typeof i!="function"&&typeof i!="symbol"?e.setAttribute(a,i):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":i!=null&&typeof i!="function"&&typeof i!="symbol"&&!isNaN(i)&&1<=i?e.setAttribute(a,i):e.removeAttribute(a);break;case"rowSpan":case"start":i==null||typeof i=="function"||typeof i=="symbol"||isNaN(i)?e.removeAttribute(a):e.setAttribute(a,i);break;case"popover":ge("beforetoggle",e),ge("toggle",e),ri(e,"popover",i);break;case"xlinkActuate":on(e,"http://www.w3.org/1999/xlink","xlink:actuate",i);break;case"xlinkArcrole":on(e,"http://www.w3.org/1999/xlink","xlink:arcrole",i);break;case"xlinkRole":on(e,"http://www.w3.org/1999/xlink","xlink:role",i);break;case"xlinkShow":on(e,"http://www.w3.org/1999/xlink","xlink:show",i);break;case"xlinkTitle":on(e,"http://www.w3.org/1999/xlink","xlink:title",i);break;case"xlinkType":on(e,"http://www.w3.org/1999/xlink","xlink:type",i);break;case"xmlBase":on(e,"http://www.w3.org/XML/1998/namespace","xml:base",i);break;case"xmlLang":on(e,"http://www.w3.org/XML/1998/namespace","xml:lang",i);break;case"xmlSpace":on(e,"http://www.w3.org/XML/1998/namespace","xml:space",i);break;case"is":ri(e,"is",i);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=ty.get(a)||a,ri(e,a,i))}}function Ko(e,t,a,i,u,f){switch(a){case"style":Uf(e,i,f);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(l(61));if(a=i.__html,a!=null){if(u.children!=null)throw Error(l(60));e.innerHTML=a}}break;case"children":typeof i=="string"?Ga(e,i):(typeof i=="number"||typeof i=="bigint")&&Ga(e,""+i);break;case"onScroll":i!=null&&ge("scroll",e);break;case"onScrollEnd":i!=null&&ge("scrollend",e);break;case"onClick":i!=null&&(e.onclick=cn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Af.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(u=a.endsWith("Capture"),t=a.slice(2,u?a.length-7:void 0),f=e[vt]||null,f=f!=null?f[a]:null,typeof f=="function"&&e.removeEventListener(t,f,u),typeof i=="function")){typeof f!="function"&&f!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(t,i,u);break e}a in e?e[a]=i:i===!0?e.setAttribute(a,""):ri(e,a,i)}}}function ct(e,t,a){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ge("error",e),ge("load",e);var i=!1,u=!1,f;for(f in a)if(a.hasOwnProperty(f)){var g=a[f];if(g!=null)switch(f){case"src":i=!0;break;case"srcSet":u=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(l(137,t));default:Ne(e,t,f,g,a,null)}}u&&Ne(e,t,"srcSet",a.srcSet,a,null),i&&Ne(e,t,"src",a.src,a,null);return;case"input":ge("invalid",e);var b=f=g=u=null,E=null,k=null;for(i in a)if(a.hasOwnProperty(i)){var I=a[i];if(I!=null)switch(i){case"name":u=I;break;case"type":g=I;break;case"checked":E=I;break;case"defaultChecked":k=I;break;case"value":f=I;break;case"defaultValue":b=I;break;case"children":case"dangerouslySetInnerHTML":if(I!=null)throw Error(l(137,t));break;default:Ne(e,t,i,I,a,null)}}Cf(e,f,b,E,k,g,u,!1);return;case"select":ge("invalid",e),i=g=f=null;for(u in a)if(a.hasOwnProperty(u)&&(b=a[u],b!=null))switch(u){case"value":f=b;break;case"defaultValue":g=b;break;case"multiple":i=b;default:Ne(e,t,u,b,a,null)}t=f,a=g,e.multiple=!!i,t!=null?Ia(e,!!i,t,!1):a!=null&&Ia(e,!!i,a,!0);return;case"textarea":ge("invalid",e),f=u=i=null;for(g in a)if(a.hasOwnProperty(g)&&(b=a[g],b!=null))switch(g){case"value":i=b;break;case"defaultValue":u=b;break;case"children":f=b;break;case"dangerouslySetInnerHTML":if(b!=null)throw Error(l(91));break;default:Ne(e,t,g,b,a,null)}kf(e,i,u,f);return;case"option":for(E in a)a.hasOwnProperty(E)&&(i=a[E],i!=null)&&(E==="selected"?e.selected=i&&typeof i!="function"&&typeof i!="symbol":Ne(e,t,E,i,a,null));return;case"dialog":ge("beforetoggle",e),ge("toggle",e),ge("cancel",e),ge("close",e);break;case"iframe":case"object":ge("load",e);break;case"video":case"audio":for(i=0;i<Ss.length;i++)ge(Ss[i],e);break;case"image":ge("error",e),ge("load",e);break;case"details":ge("toggle",e);break;case"embed":case"source":case"link":ge("error",e),ge("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(k in a)if(a.hasOwnProperty(k)&&(i=a[k],i!=null))switch(k){case"children":case"dangerouslySetInnerHTML":throw Error(l(137,t));default:Ne(e,t,k,i,a,null)}return;default:if(su(t)){for(I in a)a.hasOwnProperty(I)&&(i=a[I],i!==void 0&&Ko(e,t,I,i,a,void 0));return}}for(b in a)a.hasOwnProperty(b)&&(i=a[b],i!=null&&Ne(e,t,b,i,a,null))}function Rv(e,t,a,i){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var u=null,f=null,g=null,b=null,E=null,k=null,I=null;for(B in a){var V=a[B];if(a.hasOwnProperty(B)&&V!=null)switch(B){case"checked":break;case"value":break;case"defaultValue":E=V;default:i.hasOwnProperty(B)||Ne(e,t,B,null,i,V)}}for(var D in i){var B=i[D];if(V=a[D],i.hasOwnProperty(D)&&(B!=null||V!=null))switch(D){case"type":f=B;break;case"name":u=B;break;case"checked":k=B;break;case"defaultChecked":I=B;break;case"value":g=B;break;case"defaultValue":b=B;break;case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(l(137,t));break;default:B!==V&&Ne(e,t,D,B,i,V)}}au(e,g,b,E,k,I,f,u);return;case"select":B=g=b=D=null;for(f in a)if(E=a[f],a.hasOwnProperty(f)&&E!=null)switch(f){case"value":break;case"multiple":B=E;default:i.hasOwnProperty(f)||Ne(e,t,f,null,i,E)}for(u in i)if(f=i[u],E=a[u],i.hasOwnProperty(u)&&(f!=null||E!=null))switch(u){case"value":D=f;break;case"defaultValue":b=f;break;case"multiple":g=f;default:f!==E&&Ne(e,t,u,f,i,E)}t=b,a=g,i=B,D!=null?Ia(e,!!a,D,!1):!!i!=!!a&&(t!=null?Ia(e,!!a,t,!0):Ia(e,!!a,a?[]:"",!1));return;case"textarea":B=D=null;for(b in a)if(u=a[b],a.hasOwnProperty(b)&&u!=null&&!i.hasOwnProperty(b))switch(b){case"value":break;case"children":break;default:Ne(e,t,b,null,i,u)}for(g in i)if(u=i[g],f=a[g],i.hasOwnProperty(g)&&(u!=null||f!=null))switch(g){case"value":D=u;break;case"defaultValue":B=u;break;case"children":break;case"dangerouslySetInnerHTML":if(u!=null)throw Error(l(91));break;default:u!==f&&Ne(e,t,g,u,i,f)}Lf(e,D,B);return;case"option":for(var te in a)D=a[te],a.hasOwnProperty(te)&&D!=null&&!i.hasOwnProperty(te)&&(te==="selected"?e.selected=!1:Ne(e,t,te,null,i,D));for(E in i)D=i[E],B=a[E],i.hasOwnProperty(E)&&D!==B&&(D!=null||B!=null)&&(E==="selected"?e.selected=D&&typeof D!="function"&&typeof D!="symbol":Ne(e,t,E,D,i,B));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ie in a)D=a[ie],a.hasOwnProperty(ie)&&D!=null&&!i.hasOwnProperty(ie)&&Ne(e,t,ie,null,i,D);for(k in i)if(D=i[k],B=a[k],i.hasOwnProperty(k)&&D!==B&&(D!=null||B!=null))switch(k){case"children":case"dangerouslySetInnerHTML":if(D!=null)throw Error(l(137,t));break;default:Ne(e,t,k,D,i,B)}return;default:if(su(t)){for(var Ce in a)D=a[Ce],a.hasOwnProperty(Ce)&&D!==void 0&&!i.hasOwnProperty(Ce)&&Ko(e,t,Ce,void 0,i,D);for(I in i)D=i[I],B=a[I],!i.hasOwnProperty(I)||D===B||D===void 0&&B===void 0||Ko(e,t,I,D,i,B);return}}for(var N in a)D=a[N],a.hasOwnProperty(N)&&D!=null&&!i.hasOwnProperty(N)&&Ne(e,t,N,null,i,D);for(V in i)D=i[V],B=a[V],!i.hasOwnProperty(V)||D===B||D==null&&B==null||Ne(e,t,V,D,i,B)}function Mm(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Ov(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,a=performance.getEntriesByType("resource"),i=0;i<a.length;i++){var u=a[i],f=u.transferSize,g=u.initiatorType,b=u.duration;if(f&&b&&Mm(g)){for(g=0,b=u.responseEnd,i+=1;i<a.length;i++){var E=a[i],k=E.startTime;if(k>b)break;var I=E.transferSize,V=E.initiatorType;I&&Mm(V)&&(E=E.responseEnd,g+=I*(E<b?1:(b-k)/(E-k)))}if(--i,t+=8*(f+g)/(u.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Yo=null,Zo=null;function nl(e){return e.nodeType===9?e:e.ownerDocument}function zm(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Bm(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function Jo(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Xo=null;function Nv(){var e=window.event;return e&&e.type==="popstate"?e===Xo?!1:(Xo=e,!0):(Xo=null,!1)}var qm=typeof setTimeout=="function"?setTimeout:void 0,Cv=typeof clearTimeout=="function"?clearTimeout:void 0,$m=typeof Promise=="function"?Promise:void 0,Lv=typeof queueMicrotask=="function"?queueMicrotask:typeof $m<"u"?function(e){return $m.resolve(null).then(e).catch(kv)}:qm;function kv(e){setTimeout(function(){throw e})}function Fn(e){return e==="head"}function Hm(e,t){var a=t,i=0;do{var u=a.nextSibling;if(e.removeChild(a),u&&u.nodeType===8)if(a=u.data,a==="/$"||a==="/&"){if(i===0){e.removeChild(u),_r(t);return}i--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")i++;else if(a==="html")Ts(e.ownerDocument.documentElement);else if(a==="head"){a=e.ownerDocument.head,Ts(a);for(var f=a.firstChild;f;){var g=f.nextSibling,b=f.nodeName;f[Gr]||b==="SCRIPT"||b==="STYLE"||b==="LINK"&&f.rel.toLowerCase()==="stylesheet"||a.removeChild(f),f=g}}else a==="body"&&Ts(e.ownerDocument.body);a=u}while(a);_r(t)}function Im(e,t){var a=e;e=0;do{var i=a.nextSibling;if(a.nodeType===1?t?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(t?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),i&&i.nodeType===8)if(a=i.data,a==="/$"){if(e===0)break;e--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||e++;a=i}while(a)}function Qo(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var a=t;switch(t=t.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Qo(a),tu(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function Dv(e,t,a,i){for(;e.nodeType===1;){var u=a;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!i&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(i){if(!e[Gr])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==u.rel||e.getAttribute("href")!==(u.href==null||u.href===""?null:u.href)||e.getAttribute("crossorigin")!==(u.crossOrigin==null?null:u.crossOrigin)||e.getAttribute("title")!==(u.title==null?null:u.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(u.src==null?null:u.src)||e.getAttribute("type")!==(u.type==null?null:u.type)||e.getAttribute("crossorigin")!==(u.crossOrigin==null?null:u.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var f=u.name==null?null:""+u.name;if(u.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=Zt(e.nextSibling),e===null)break}return null}function Uv(e,t,a){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=Zt(e.nextSibling),e===null))return null;return e}function Gm(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=Zt(e.nextSibling),e===null))return null;return e}function Wo(e){return e.data==="$?"||e.data==="$~"}function Fo(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function Mv(e,t){var a=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||a.readyState!=="loading")t();else{var i=function(){t(),a.removeEventListener("DOMContentLoaded",i)};a.addEventListener("DOMContentLoaded",i),e._reactRetry=i}}function Zt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var ec=null;function Vm(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var a=e.data;if(a==="/$"||a==="/&"){if(t===0)return Zt(e.nextSibling);t--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||t++}e=e.nextSibling}return null}function Pm(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(t===0)return e;t--}else a!=="/$"&&a!=="/&"||t++}e=e.previousSibling}return null}function Km(e,t,a){switch(t=nl(a),e){case"html":if(e=t.documentElement,!e)throw Error(l(452));return e;case"head":if(e=t.head,!e)throw Error(l(453));return e;case"body":if(e=t.body,!e)throw Error(l(454));return e;default:throw Error(l(451))}}function Ts(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);tu(e)}var Jt=new Map,Ym=new Set;function al(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var An=Z.d;Z.d={f:zv,r:Bv,D:qv,C:$v,L:Hv,m:Iv,X:Vv,S:Gv,M:Pv};function zv(){var e=An.f(),t=Zi();return e||t}function Bv(e){var t=qa(e);t!==null&&t.tag===5&&t.type==="form"?ch(t):An.r(e)}var yr=typeof document>"u"?null:document;function Zm(e,t,a){var i=yr;if(i&&typeof t=="string"&&t){var u=Ht(t);u='link[rel="'+e+'"][href="'+u+'"]',typeof a=="string"&&(u+='[crossorigin="'+a+'"]'),Ym.has(u)||(Ym.add(u),e={rel:e,crossOrigin:a,href:t},i.querySelector(u)===null&&(t=i.createElement("link"),ct(t,"link",e),tt(t),i.head.appendChild(t)))}}function qv(e){An.D(e),Zm("dns-prefetch",e,null)}function $v(e,t){An.C(e,t),Zm("preconnect",e,t)}function Hv(e,t,a){An.L(e,t,a);var i=yr;if(i&&e&&t){var u='link[rel="preload"][as="'+Ht(t)+'"]';t==="image"&&a&&a.imageSrcSet?(u+='[imagesrcset="'+Ht(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(u+='[imagesizes="'+Ht(a.imageSizes)+'"]')):u+='[href="'+Ht(e)+'"]';var f=u;switch(t){case"style":f=vr(e);break;case"script":f=br(e)}Jt.has(f)||(e=_({rel:"preload",href:t==="image"&&a&&a.imageSrcSet?void 0:e,as:t},a),Jt.set(f,e),i.querySelector(u)!==null||t==="style"&&i.querySelector(As(f))||t==="script"&&i.querySelector(js(f))||(t=i.createElement("link"),ct(t,"link",e),tt(t),i.head.appendChild(t)))}}function Iv(e,t){An.m(e,t);var a=yr;if(a&&e){var i=t&&typeof t.as=="string"?t.as:"script",u='link[rel="modulepreload"][as="'+Ht(i)+'"][href="'+Ht(e)+'"]',f=u;switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=br(e)}if(!Jt.has(f)&&(e=_({rel:"modulepreload",href:e},t),Jt.set(f,e),a.querySelector(u)===null)){switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(js(f)))return}i=a.createElement("link"),ct(i,"link",e),tt(i),a.head.appendChild(i)}}}function Gv(e,t,a){An.S(e,t,a);var i=yr;if(i&&e){var u=$a(i).hoistableStyles,f=vr(e);t=t||"default";var g=u.get(f);if(!g){var b={loading:0,preload:null};if(g=i.querySelector(As(f)))b.loading=5;else{e=_({rel:"stylesheet",href:e,"data-precedence":t},a),(a=Jt.get(f))&&tc(e,a);var E=g=i.createElement("link");tt(E),ct(E,"link",e),E._p=new Promise(function(k,I){E.onload=k,E.onerror=I}),E.addEventListener("load",function(){b.loading|=1}),E.addEventListener("error",function(){b.loading|=2}),b.loading|=4,rl(g,t,i)}g={type:"stylesheet",instance:g,count:1,state:b},u.set(f,g)}}}function Vv(e,t){An.X(e,t);var a=yr;if(a&&e){var i=$a(a).hoistableScripts,u=br(e),f=i.get(u);f||(f=a.querySelector(js(u)),f||(e=_({src:e,async:!0},t),(t=Jt.get(u))&&nc(e,t),f=a.createElement("script"),tt(f),ct(f,"link",e),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},i.set(u,f))}}function Pv(e,t){An.M(e,t);var a=yr;if(a&&e){var i=$a(a).hoistableScripts,u=br(e),f=i.get(u);f||(f=a.querySelector(js(u)),f||(e=_({src:e,async:!0,type:"module"},t),(t=Jt.get(u))&&nc(e,t),f=a.createElement("script"),tt(f),ct(f,"link",e),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},i.set(u,f))}}function Jm(e,t,a,i){var u=(u=me.current)?al(u):null;if(!u)throw Error(l(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(t=vr(a.href),a=$a(u).hoistableStyles,i=a.get(t),i||(i={type:"style",instance:null,count:0,state:null},a.set(t,i)),i):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=vr(a.href);var f=$a(u).hoistableStyles,g=f.get(e);if(g||(u=u.ownerDocument||u,g={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,g),(f=u.querySelector(As(e)))&&!f._p&&(g.instance=f,g.state.loading=5),Jt.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Jt.set(e,a),f||Kv(u,e,a,g.state))),t&&i===null)throw Error(l(528,""));return g}if(t&&i!==null)throw Error(l(529,""));return null;case"script":return t=a.async,a=a.src,typeof a=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=br(a),a=$a(u).hoistableScripts,i=a.get(t),i||(i={type:"script",instance:null,count:0,state:null},a.set(t,i)),i):{type:"void",instance:null,count:0,state:null};default:throw Error(l(444,e))}}function vr(e){return'href="'+Ht(e)+'"'}function As(e){return'link[rel="stylesheet"]['+e+"]"}function Xm(e){return _({},e,{"data-precedence":e.precedence,precedence:null})}function Kv(e,t,a,i){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?i.loading=1:(t=e.createElement("link"),i.preload=t,t.addEventListener("load",function(){return i.loading|=1}),t.addEventListener("error",function(){return i.loading|=2}),ct(t,"link",a),tt(t),e.head.appendChild(t))}function br(e){return'[src="'+Ht(e)+'"]'}function js(e){return"script[async]"+e}function Qm(e,t,a){if(t.count++,t.instance===null)switch(t.type){case"style":var i=e.querySelector('style[data-href~="'+Ht(a.href)+'"]');if(i)return t.instance=i,tt(i),i;var u=_({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return i=(e.ownerDocument||e).createElement("style"),tt(i),ct(i,"style",u),rl(i,a.precedence,e),t.instance=i;case"stylesheet":u=vr(a.href);var f=e.querySelector(As(u));if(f)return t.state.loading|=4,t.instance=f,tt(f),f;i=Xm(a),(u=Jt.get(u))&&tc(i,u),f=(e.ownerDocument||e).createElement("link"),tt(f);var g=f;return g._p=new Promise(function(b,E){g.onload=b,g.onerror=E}),ct(f,"link",i),t.state.loading|=4,rl(f,a.precedence,e),t.instance=f;case"script":return f=br(a.src),(u=e.querySelector(js(f)))?(t.instance=u,tt(u),u):(i=a,(u=Jt.get(f))&&(i=_({},a),nc(i,u)),e=e.ownerDocument||e,u=e.createElement("script"),tt(u),ct(u,"link",i),e.head.appendChild(u),t.instance=u);case"void":return null;default:throw Error(l(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(i=t.instance,t.state.loading|=4,rl(i,a.precedence,e));return t.instance}function rl(e,t,a){for(var i=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),u=i.length?i[i.length-1]:null,f=u,g=0;g<i.length;g++){var b=i[g];if(b.dataset.precedence===t)f=b;else if(f!==u)break}f?f.parentNode.insertBefore(e,f.nextSibling):(t=a.nodeType===9?a.head:a,t.insertBefore(e,t.firstChild))}function tc(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function nc(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var sl=null;function Wm(e,t,a){if(sl===null){var i=new Map,u=sl=new Map;u.set(a,i)}else u=sl,i=u.get(a),i||(i=new Map,u.set(a,i));if(i.has(e))return i;for(i.set(e,null),a=a.getElementsByTagName(e),u=0;u<a.length;u++){var f=a[u];if(!(f[Gr]||f[it]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var g=f.getAttribute(t)||"";g=e+g;var b=i.get(g);b?b.push(f):i.set(g,[f])}}return i}function Fm(e,t,a){e=e.ownerDocument||e,e.head.insertBefore(a,t==="title"?e.querySelector("head > title"):null)}function Yv(e,t,a){if(a===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;return t.rel==="stylesheet"?(e=t.disabled,typeof t.precedence=="string"&&e==null):!0;case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function ep(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function Zv(e,t,a,i){if(a.type==="stylesheet"&&(typeof i.media!="string"||matchMedia(i.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var u=vr(i.href),f=t.querySelector(As(u));if(f){t=f._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=il.bind(e),t.then(e,e)),a.state.loading|=4,a.instance=f,tt(f);return}f=t.ownerDocument||t,i=Xm(i),(u=Jt.get(u))&&tc(i,u),f=f.createElement("link"),tt(f);var g=f;g._p=new Promise(function(b,E){g.onload=b,g.onerror=E}),ct(f,"link",i),a.instance=f}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(a,t),(t=a.state.preload)&&(a.state.loading&3)===0&&(e.count++,a=il.bind(e),t.addEventListener("load",a),t.addEventListener("error",a))}}var ac=0;function Jv(e,t){return e.stylesheets&&e.count===0&&ul(e,e.stylesheets),0<e.count||0<e.imgCount?function(a){var i=setTimeout(function(){if(e.stylesheets&&ul(e,e.stylesheets),e.unsuspend){var f=e.unsuspend;e.unsuspend=null,f()}},6e4+t);0<e.imgBytes&&ac===0&&(ac=62500*Ov());var u=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&ul(e,e.stylesheets),e.unsuspend)){var f=e.unsuspend;e.unsuspend=null,f()}},(e.imgBytes>ac?50:800)+t);return e.unsuspend=a,function(){e.unsuspend=null,clearTimeout(i),clearTimeout(u)}}:null}function il(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)ul(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var ll=null;function ul(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,ll=new Map,t.forEach(Xv,e),ll=null,il.call(e))}function Xv(e,t){if(!(t.state.loading&4)){var a=ll.get(e);if(a)var i=a.get(null);else{a=new Map,ll.set(e,a);for(var u=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<u.length;f++){var g=u[f];(g.nodeName==="LINK"||g.getAttribute("media")!=="not all")&&(a.set(g.dataset.precedence,g),i=g)}i&&a.set(null,i)}u=t.instance,g=u.getAttribute("data-precedence"),f=a.get(g)||i,f===i&&a.set(null,u),a.set(g,u),this.count++,i=il.bind(this),u.addEventListener("load",i),u.addEventListener("error",i),f?f.parentNode.insertBefore(u,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(u,e.firstChild)),t.state.loading|=4}}var Rs={$$typeof:q,Provider:null,Consumer:null,_currentValue:se,_currentValue2:se,_threadCount:0};function Qv(e,t,a,i,u,f,g,b,E){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ql(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ql(0),this.hiddenUpdates=Ql(null),this.identifierPrefix=i,this.onUncaughtError=u,this.onCaughtError=f,this.onRecoverableError=g,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=E,this.incompleteTransitions=new Map}function tp(e,t,a,i,u,f,g,b,E,k,I,V){return e=new Qv(e,t,a,g,E,k,I,V,b),t=1,f===!0&&(t|=24),f=Nt(3,null,null,t),e.current=f,f.stateNode=e,t=Uu(),t.refCount++,e.pooledCache=t,t.refCount++,f.memoizedState={element:i,isDehydrated:a,cache:t},qu(f),e}function np(e){return e?(e=Xa,e):Xa}function ap(e,t,a,i,u,f){u=np(u),i.context===null?i.context=u:i.pendingContext=u,i=In(t),i.payload={element:a},f=f===void 0?null:f,f!==null&&(i.callback=f),a=Gn(e,i,t),a!==null&&(Et(a,e,t),is(a,e,t))}function rp(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<t?a:t}}function rc(e,t){rp(e,t),(e=e.alternate)&&rp(e,t)}function sp(e){if(e.tag===13||e.tag===31){var t=pa(e,67108864);t!==null&&Et(t,e,67108864),rc(e,67108864)}}function ip(e){if(e.tag===13||e.tag===31){var t=Ut();t=Wl(t);var a=pa(e,t);a!==null&&Et(a,e,t),rc(e,t)}}var ol=!0;function Wv(e,t,a,i){var u=$.T;$.T=null;var f=Z.p;try{Z.p=2,sc(e,t,a,i)}finally{Z.p=f,$.T=u}}function Fv(e,t,a,i){var u=$.T;$.T=null;var f=Z.p;try{Z.p=8,sc(e,t,a,i)}finally{Z.p=f,$.T=u}}function sc(e,t,a,i){if(ol){var u=ic(i);if(u===null)Po(e,t,i,cl,a),up(e,i);else if(tb(u,e,t,a,i))i.stopPropagation();else if(up(e,i),t&4&&-1<eb.indexOf(e)){for(;u!==null;){var f=qa(u);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var g=ca(f.pendingLanes);if(g!==0){var b=f;for(b.pendingLanes|=2,b.entangledLanes|=2;g;){var E=1<<31-Rt(g);b.entanglements[1]|=E,g&=~E}un(f),(Te&6)===0&&(Ki=At()+500,xs(0))}}break;case 31:case 13:b=pa(f,2),b!==null&&Et(b,f,2),Zi(),rc(f,2)}if(f=ic(i),f===null&&Po(e,t,i,cl,a),f===u)break;u=f}u!==null&&i.stopPropagation()}else Po(e,t,i,null,a)}}function ic(e){return e=lu(e),lc(e)}var cl=null;function lc(e){if(cl=null,e=Ba(e),e!==null){var t=c(e);if(t===null)e=null;else{var a=t.tag;if(a===13){if(e=d(t),e!==null)return e;e=null}else if(a===31){if(e=h(t),e!==null)return e;e=null}else if(a===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return cl=e,null}function lp(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(q0()){case pf:return 2;case gf:return 8;case Fs:case $0:return 32;case yf:return 268435456;default:return 32}default:return 32}}var uc=!1,ea=null,ta=null,na=null,Os=new Map,Ns=new Map,aa=[],eb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function up(e,t){switch(e){case"focusin":case"focusout":ea=null;break;case"dragenter":case"dragleave":ta=null;break;case"mouseover":case"mouseout":na=null;break;case"pointerover":case"pointerout":Os.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ns.delete(t.pointerId)}}function Cs(e,t,a,i,u,f){return e===null||e.nativeEvent!==f?(e={blockedOn:t,domEventName:a,eventSystemFlags:i,nativeEvent:f,targetContainers:[u]},t!==null&&(t=qa(t),t!==null&&sp(t)),e):(e.eventSystemFlags|=i,t=e.targetContainers,u!==null&&t.indexOf(u)===-1&&t.push(u),e)}function tb(e,t,a,i,u){switch(t){case"focusin":return ea=Cs(ea,e,t,a,i,u),!0;case"dragenter":return ta=Cs(ta,e,t,a,i,u),!0;case"mouseover":return na=Cs(na,e,t,a,i,u),!0;case"pointerover":var f=u.pointerId;return Os.set(f,Cs(Os.get(f)||null,e,t,a,i,u)),!0;case"gotpointercapture":return f=u.pointerId,Ns.set(f,Cs(Ns.get(f)||null,e,t,a,i,u)),!0}return!1}function op(e){var t=Ba(e.target);if(t!==null){var a=c(t);if(a!==null){if(t=a.tag,t===13){if(t=d(a),t!==null){e.blockedOn=t,Sf(e.priority,function(){ip(a)});return}}else if(t===31){if(t=h(a),t!==null){e.blockedOn=t,Sf(e.priority,function(){ip(a)});return}}else if(t===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function fl(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var a=ic(e.nativeEvent);if(a===null){a=e.nativeEvent;var i=new a.constructor(a.type,a);iu=i,a.target.dispatchEvent(i),iu=null}else return t=qa(a),t!==null&&sp(t),e.blockedOn=a,!1;t.shift()}return!0}function cp(e,t,a){fl(e)&&a.delete(t)}function nb(){uc=!1,ea!==null&&fl(ea)&&(ea=null),ta!==null&&fl(ta)&&(ta=null),na!==null&&fl(na)&&(na=null),Os.forEach(cp),Ns.forEach(cp)}function dl(e,t){e.blockedOn===t&&(e.blockedOn=null,uc||(uc=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,nb)))}var hl=null;function fp(e){hl!==e&&(hl=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){hl===e&&(hl=null);for(var t=0;t<e.length;t+=3){var a=e[t],i=e[t+1],u=e[t+2];if(typeof i!="function"){if(lc(i||a)===null)continue;break}var f=qa(a);f!==null&&(e.splice(t,3),t-=3,so(f,{pending:!0,data:u,method:a.method,action:i},i,u))}}))}function _r(e){function t(E){return dl(E,e)}ea!==null&&dl(ea,e),ta!==null&&dl(ta,e),na!==null&&dl(na,e),Os.forEach(t),Ns.forEach(t);for(var a=0;a<aa.length;a++){var i=aa[a];i.blockedOn===e&&(i.blockedOn=null)}for(;0<aa.length&&(a=aa[0],a.blockedOn===null);)op(a),a.blockedOn===null&&aa.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(i=0;i<a.length;i+=3){var u=a[i],f=a[i+1],g=u[vt]||null;if(typeof f=="function")g||fp(a);else if(g){var b=null;if(f&&f.hasAttribute("formAction")){if(u=f,g=f[vt]||null)b=g.formAction;else if(lc(u)!==null)continue}else b=g.action;typeof b=="function"?a[i+1]=b:(a.splice(i,3),i-=3),fp(a)}}}function dp(){function e(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(g){return u=g})},focusReset:"manual",scroll:"manual"})}function t(){u!==null&&(u(),u=null),i||setTimeout(a,20)}function a(){if(!i&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var i=!1,u=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(a,100),function(){i=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),u!==null&&(u(),u=null)}}}function oc(e){this._internalRoot=e}ml.prototype.render=oc.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(l(409));var a=t.current,i=Ut();ap(a,i,e,t,null,null)},ml.prototype.unmount=oc.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;ap(e.current,2,null,e,null,null),Zi(),t[za]=null}};function ml(e){this._internalRoot=e}ml.prototype.unstable_scheduleHydration=function(e){if(e){var t=xf();e={blockedOn:null,target:e,priority:t};for(var a=0;a<aa.length&&t!==0&&t<aa[a].priority;a++);aa.splice(a,0,e),a===0&&op(e)}};var hp=n.version;if(hp!=="19.2.4")throw Error(l(527,hp,"19.2.4"));Z.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(l(188)):(e=Object.keys(e).join(","),Error(l(268,e)));return e=p(t),e=e!==null?v(e):null,e=e===null?null:e.stateNode,e};var ab={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:$,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var pl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!pl.isDisabled&&pl.supportsFiber)try{$r=pl.inject(ab),jt=pl}catch{}}return ks.createRoot=function(e,t){if(!o(e))throw Error(l(299));var a=!1,i="",u=_h,f=wh,g=xh;return t!=null&&(t.unstable_strictMode===!0&&(a=!0),t.identifierPrefix!==void 0&&(i=t.identifierPrefix),t.onUncaughtError!==void 0&&(u=t.onUncaughtError),t.onCaughtError!==void 0&&(f=t.onCaughtError),t.onRecoverableError!==void 0&&(g=t.onRecoverableError)),t=tp(e,1,!1,null,null,a,i,null,u,f,g,dp),e[za]=t.current,Vo(e),new oc(t)},ks.hydrateRoot=function(e,t,a){if(!o(e))throw Error(l(299));var i=!1,u="",f=_h,g=wh,b=xh,E=null;return a!=null&&(a.unstable_strictMode===!0&&(i=!0),a.identifierPrefix!==void 0&&(u=a.identifierPrefix),a.onUncaughtError!==void 0&&(f=a.onUncaughtError),a.onCaughtError!==void 0&&(g=a.onCaughtError),a.onRecoverableError!==void 0&&(b=a.onRecoverableError),a.formState!==void 0&&(E=a.formState)),t=tp(e,1,!0,t,a??null,i,u,E,f,g,b,dp),t.context=np(null),a=t.current,i=Ut(),i=Wl(i),u=In(i),u.callback=null,Gn(a,u,i),a=i,t.current.lanes=a,Ir(t,a),un(t),e[za]=t.current,Vo(e),new ml(t)},ks.version="19.2.4",ks}var Sp;function mb(){if(Sp)return dc.exports;Sp=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(n){console.error(n)}}return r(),dc.exports=hb(),dc.exports}var pb=mb();var Ep="popstate";function gb(r={}){function n(o,c){let{pathname:d="/",search:h="",hash:m=""}=Ma(o.location.hash.substring(1));return!d.startsWith("/")&&!d.startsWith(".")&&(d="/"+d),Lc("",{pathname:d,search:h,hash:m},c.state&&c.state.usr||null,c.state&&c.state.key||"default")}function s(o,c){let d=o.document.querySelector("base"),h="";if(d&&d.getAttribute("href")){let m=o.location.href,p=m.indexOf("#");h=p===-1?m:m.slice(0,p)}return h+"#"+(typeof c=="string"?c:$s(c))}function l(o,c){Xt(o.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(c)})`)}return vb(n,s,l,r)}function qe(r,n){if(r===!1||r===null||typeof r>"u")throw new Error(n)}function Xt(r,n){if(!r){typeof console<"u"&&console.warn(n);try{throw new Error(n)}catch{}}}function yb(){return Math.random().toString(36).substring(2,10)}function Tp(r,n){return{usr:r.state,key:r.key,idx:n}}function Lc(r,n,s=null,l){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof n=="string"?Ma(n):n,state:s,key:n&&n.key||l||yb()}}function $s({pathname:r="/",search:n="",hash:s=""}){return n&&n!=="?"&&(r+=n.charAt(0)==="?"?n:"?"+n),s&&s!=="#"&&(r+=s.charAt(0)==="#"?s:"#"+s),r}function Ma(r){let n={};if(r){let s=r.indexOf("#");s>=0&&(n.hash=r.substring(s),r=r.substring(0,s));let l=r.indexOf("?");l>=0&&(n.search=r.substring(l),r=r.substring(0,l)),r&&(n.pathname=r)}return n}function vb(r,n,s,l={}){let{window:o=document.defaultView,v5Compat:c=!1}=l,d=o.history,h="POP",m=null,p=v();p==null&&(p=0,d.replaceState({...d.state,idx:p},""));function v(){return(d.state||{idx:null}).idx}function _(){h="POP";let j=v(),C=j==null?null:j-p;p=j,m&&m({action:h,location:T.location,delta:C})}function w(j,C){h="PUSH";let U=Lc(T.location,j,C);s&&s(U,j),p=v()+1;let q=Tp(U,p),H=T.createHref(U);try{d.pushState(q,"",H)}catch(F){if(F instanceof DOMException&&F.name==="DataCloneError")throw F;o.location.assign(H)}c&&m&&m({action:h,location:T.location,delta:1})}function x(j,C){h="REPLACE";let U=Lc(T.location,j,C);s&&s(U,j),p=v();let q=Tp(U,p),H=T.createHref(U);d.replaceState(q,"",H),c&&m&&m({action:h,location:T.location,delta:0})}function R(j){return bb(j)}let T={get action(){return h},get location(){return r(o,d)},listen(j){if(m)throw new Error("A history only accepts one active listener");return o.addEventListener(Ep,_),m=j,()=>{o.removeEventListener(Ep,_),m=null}},createHref(j){return n(o,j)},createURL:R,encodeLocation(j){let C=R(j);return{pathname:C.pathname,search:C.search,hash:C.hash}},push:w,replace:x,go(j){return d.go(j)}};return T}function bb(r,n=!1){let s="http://localhost";typeof window<"u"&&(s=window.location.origin!=="null"?window.location.origin:window.location.href),qe(s,"No window.location.(origin|href) available to create URL");let l=typeof r=="string"?r:$s(r);return l=l.replace(/ $/,"%20"),!n&&l.startsWith("//")&&(l=s+l),new URL(l,s)}function Sg(r,n,s="/"){return _b(r,n,s,!1)}function _b(r,n,s,l){let o=typeof n=="string"?Ma(n):n,c=On(o.pathname||"/",s);if(c==null)return null;let d=Eg(r);wb(d);let h=null;for(let m=0;h==null&&m<d.length;++m){let p=Lb(c);h=Nb(d[m],p,l)}return h}function Eg(r,n=[],s=[],l="",o=!1){let c=(d,h,m=o,p)=>{let v={relativePath:p===void 0?d.path||"":p,caseSensitive:d.caseSensitive===!0,childrenIndex:h,route:d};if(v.relativePath.startsWith("/")){if(!v.relativePath.startsWith(l)&&m)return;qe(v.relativePath.startsWith(l),`Absolute route path "${v.relativePath}" nested under path "${l}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),v.relativePath=v.relativePath.slice(l.length)}let _=Rn([l,v.relativePath]),w=s.concat(v);d.children&&d.children.length>0&&(qe(d.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${_}".`),Eg(d.children,n,w,_,m)),!(d.path==null&&!d.index)&&n.push({path:_,score:Rb(_,d.index),routesMeta:w})};return r.forEach((d,h)=>{if(d.path===""||!d.path?.includes("?"))c(d,h);else for(let m of Tg(d.path))c(d,h,!0,m)}),n}function Tg(r){let n=r.split("/");if(n.length===0)return[];let[s,...l]=n,o=s.endsWith("?"),c=s.replace(/\?$/,"");if(l.length===0)return o?[c,""]:[c];let d=Tg(l.join("/")),h=[];return h.push(...d.map(m=>m===""?c:[c,m].join("/"))),o&&h.push(...d),h.map(m=>r.startsWith("/")&&m===""?"/":m)}function wb(r){r.sort((n,s)=>n.score!==s.score?s.score-n.score:Ob(n.routesMeta.map(l=>l.childrenIndex),s.routesMeta.map(l=>l.childrenIndex)))}var xb=/^:[\w-]+$/,Sb=3,Eb=2,Tb=1,Ab=10,jb=-2,Ap=r=>r==="*";function Rb(r,n){let s=r.split("/"),l=s.length;return s.some(Ap)&&(l+=jb),n&&(l+=Eb),s.filter(o=>!Ap(o)).reduce((o,c)=>o+(xb.test(c)?Sb:c===""?Tb:Ab),l)}function Ob(r,n){return r.length===n.length&&r.slice(0,-1).every((l,o)=>l===n[o])?r[r.length-1]-n[n.length-1]:0}function Nb(r,n,s=!1){let{routesMeta:l}=r,o={},c="/",d=[];for(let h=0;h<l.length;++h){let m=l[h],p=h===l.length-1,v=c==="/"?n:n.slice(c.length)||"/",_=jl({path:m.relativePath,caseSensitive:m.caseSensitive,end:p},v),w=m.route;if(!_&&p&&s&&!l[l.length-1].route.index&&(_=jl({path:m.relativePath,caseSensitive:m.caseSensitive,end:!1},v)),!_)return null;Object.assign(o,_.params),d.push({params:o,pathname:Rn([c,_.pathname]),pathnameBase:Mb(Rn([c,_.pathnameBase])),route:w}),_.pathnameBase!=="/"&&(c=Rn([c,_.pathnameBase]))}return d}function jl(r,n){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[s,l]=Cb(r.path,r.caseSensitive,r.end),o=n.match(s);if(!o)return null;let c=o[0],d=c.replace(/(.)\/+$/,"$1"),h=o.slice(1);return{params:l.reduce((p,{paramName:v,isOptional:_},w)=>{if(v==="*"){let R=h[w]||"";d=c.slice(0,c.length-R.length).replace(/(.)\/+$/,"$1")}const x=h[w];return _&&!x?p[v]=void 0:p[v]=(x||"").replace(/%2F/g,"/"),p},{}),pathname:c,pathnameBase:d,pattern:r}}function Cb(r,n=!1,s=!0){Xt(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let l=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(d,h,m)=>(l.push({paramName:h,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return r.endsWith("*")?(l.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):s?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,n?void 0:"i"),l]}function Lb(r){try{return r.split("/").map(n=>decodeURIComponent(n).replace(/\//g,"%2F")).join("/")}catch(n){return Xt(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${n}).`),r}}function On(r,n){if(n==="/")return r;if(!r.toLowerCase().startsWith(n.toLowerCase()))return null;let s=n.endsWith("/")?n.length-1:n.length,l=r.charAt(s);return l&&l!=="/"?null:r.slice(s)||"/"}var kb=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function Db(r,n="/"){let{pathname:s,search:l="",hash:o=""}=typeof r=="string"?Ma(r):r,c;return s?(s=s.replace(/\/\/+/g,"/"),s.startsWith("/")?c=jp(s.substring(1),"/"):c=jp(s,n)):c=n,{pathname:c,search:zb(l),hash:Bb(o)}}function jp(r,n){let s=n.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?s.length>1&&s.pop():o!=="."&&s.push(o)}),s.length>1?s.join("/"):"/"}function gc(r,n,s,l){return`Cannot include a '${r}' character in a manually specified \`to.${n}\` field [${JSON.stringify(l)}].  Please separate it out to the \`to.${s}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Ub(r){return r.filter((n,s)=>s===0||n.route.path&&n.route.path.length>0)}function Ag(r){let n=Ub(r);return n.map((s,l)=>l===n.length-1?s.pathname:s.pathnameBase)}function jg(r,n,s,l=!1){let o;typeof r=="string"?o=Ma(r):(o={...r},qe(!o.pathname||!o.pathname.includes("?"),gc("?","pathname","search",o)),qe(!o.pathname||!o.pathname.includes("#"),gc("#","pathname","hash",o)),qe(!o.search||!o.search.includes("#"),gc("#","search","hash",o)));let c=r===""||o.pathname==="",d=c?"/":o.pathname,h;if(d==null)h=s;else{let _=n.length-1;if(!l&&d.startsWith("..")){let w=d.split("/");for(;w[0]==="..";)w.shift(),_-=1;o.pathname=w.join("/")}h=_>=0?n[_]:"/"}let m=Db(o,h),p=d&&d!=="/"&&d.endsWith("/"),v=(c||d===".")&&s.endsWith("/");return!m.pathname.endsWith("/")&&(p||v)&&(m.pathname+="/"),m}var Rn=r=>r.join("/").replace(/\/\/+/g,"/"),Mb=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),zb=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,Bb=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r,qb=class{constructor(r,n,s,l=!1){this.status=r,this.statusText=n||"",this.internal=l,s instanceof Error?(this.data=s.toString(),this.error=s):this.data=s}};function $b(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}function Hb(r){return r.map(n=>n.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var Rg=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function Og(r,n){let s=r;if(typeof s!="string"||!kb.test(s))return{absoluteURL:void 0,isExternal:!1,to:s};let l=s,o=!1;if(Rg)try{let c=new URL(window.location.href),d=s.startsWith("//")?new URL(c.protocol+s):new URL(s),h=On(d.pathname,n);d.origin===c.origin&&h!=null?s=h+d.search+d.hash:o=!0}catch{Xt(!1,`<Link to="${s}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:l,isExternal:o,to:s}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var Ng=["POST","PUT","PATCH","DELETE"];new Set(Ng);var Ib=["GET",...Ng];new Set(Ib);var zr=A.createContext(null);zr.displayName="DataRouter";var Dl=A.createContext(null);Dl.displayName="DataRouterState";var Gb=A.createContext(!1),Cg=A.createContext({isTransitioning:!1});Cg.displayName="ViewTransition";var Vb=A.createContext(new Map);Vb.displayName="Fetchers";var Pb=A.createContext(null);Pb.displayName="Await";var Qt=A.createContext(null);Qt.displayName="Navigation";var Zs=A.createContext(null);Zs.displayName="Location";var Cn=A.createContext({outlet:null,matches:[],isDataRoute:!1});Cn.displayName="Route";var Qc=A.createContext(null);Qc.displayName="RouteError";var Lg="REACT_ROUTER_ERROR",Kb="REDIRECT",Yb="ROUTE_ERROR_RESPONSE";function Zb(r){if(r.startsWith(`${Lg}:${Kb}:{`))try{let n=JSON.parse(r.slice(28));if(typeof n=="object"&&n&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.location=="string"&&typeof n.reloadDocument=="boolean"&&typeof n.replace=="boolean")return n}catch{}}function Jb(r){if(r.startsWith(`${Lg}:${Yb}:{`))try{let n=JSON.parse(r.slice(40));if(typeof n=="object"&&n&&typeof n.status=="number"&&typeof n.statusText=="string")return new qb(n.status,n.statusText,n.data)}catch{}}function Xb(r,{relative:n}={}){qe(Js(),"useHref() may be used only in the context of a <Router> component.");let{basename:s,navigator:l}=A.useContext(Qt),{hash:o,pathname:c,search:d}=Qs(r,{relative:n}),h=c;return s!=="/"&&(h=c==="/"?s:Rn([s,c])),l.createHref({pathname:h,search:d,hash:o})}function Js(){return A.useContext(Zs)!=null}function Ln(){return qe(Js(),"useLocation() may be used only in the context of a <Router> component."),A.useContext(Zs).location}var kg="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Dg(r){A.useContext(Qt).static||A.useLayoutEffect(r)}function Xs(){let{isDataRoute:r}=A.useContext(Cn);return r?o_():Qb()}function Qb(){qe(Js(),"useNavigate() may be used only in the context of a <Router> component.");let r=A.useContext(zr),{basename:n,navigator:s}=A.useContext(Qt),{matches:l}=A.useContext(Cn),{pathname:o}=Ln(),c=JSON.stringify(Ag(l)),d=A.useRef(!1);return Dg(()=>{d.current=!0}),A.useCallback((m,p={})=>{if(Xt(d.current,kg),!d.current)return;if(typeof m=="number"){s.go(m);return}let v=jg(m,JSON.parse(c),o,p.relative==="path");r==null&&n!=="/"&&(v.pathname=v.pathname==="/"?n:Rn([n,v.pathname])),(p.replace?s.replace:s.push)(v,p.state,p)},[n,s,c,o,r])}A.createContext(null);function Qs(r,{relative:n}={}){let{matches:s}=A.useContext(Cn),{pathname:l}=Ln(),o=JSON.stringify(Ag(s));return A.useMemo(()=>jg(r,JSON.parse(o),l,n==="path"),[r,o,l,n])}function Wb(r,n){return Ug(r,n)}function Ug(r,n,s,l,o){qe(Js(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:c}=A.useContext(Qt),{matches:d}=A.useContext(Cn),h=d[d.length-1],m=h?h.params:{},p=h?h.pathname:"/",v=h?h.pathnameBase:"/",_=h&&h.route;{let U=_&&_.path||"";zg(p,!_||U.endsWith("*")||U.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${U}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${U}"> to <Route path="${U==="/"?"*":`${U}/*`}">.`)}let w=Ln(),x;if(n){let U=typeof n=="string"?Ma(n):n;qe(v==="/"||U.pathname?.startsWith(v),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${v}" but pathname "${U.pathname}" was given in the \`location\` prop.`),x=U}else x=w;let R=x.pathname||"/",T=R;if(v!=="/"){let U=v.replace(/^\//,"").split("/");T="/"+R.replace(/^\//,"").split("/").slice(U.length).join("/")}let j=Sg(r,{pathname:T});Xt(_||j!=null,`No routes matched location "${x.pathname}${x.search}${x.hash}" `),Xt(j==null||j[j.length-1].route.element!==void 0||j[j.length-1].route.Component!==void 0||j[j.length-1].route.lazy!==void 0,`Matched leaf route at location "${x.pathname}${x.search}${x.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let C=a_(j&&j.map(U=>Object.assign({},U,{params:Object.assign({},m,U.params),pathname:Rn([v,c.encodeLocation?c.encodeLocation(U.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:U.pathname]),pathnameBase:U.pathnameBase==="/"?v:Rn([v,c.encodeLocation?c.encodeLocation(U.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:U.pathnameBase])})),d,s,l,o);return n&&C?A.createElement(Zs.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...x},navigationType:"POP"}},C):C}function Fb(){let r=u_(),n=$b(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),s=r instanceof Error?r.stack:null,l="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:l},c={padding:"2px 4px",backgroundColor:l},d=null;return console.error("Error handled by React Router default ErrorBoundary:",r),d=A.createElement(A.Fragment,null,A.createElement("p",null," Hey developer "),A.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",A.createElement("code",{style:c},"ErrorBoundary")," or"," ",A.createElement("code",{style:c},"errorElement")," prop on your route.")),A.createElement(A.Fragment,null,A.createElement("h2",null,"Unexpected Application Error!"),A.createElement("h3",{style:{fontStyle:"italic"}},n),s?A.createElement("pre",{style:o},s):null,d)}var e_=A.createElement(Fb,null),Mg=class extends A.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,n){return n.location!==r.location||n.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:n.error,location:n.location,revalidation:r.revalidation||n.revalidation}}componentDidCatch(r,n){this.props.onError?this.props.onError(r,n):console.error("React Router caught the following error during render",r)}render(){let r=this.state.error;if(this.context&&typeof r=="object"&&r&&"digest"in r&&typeof r.digest=="string"){const s=Jb(r.digest);s&&(r=s)}let n=r!==void 0?A.createElement(Cn.Provider,{value:this.props.routeContext},A.createElement(Qc.Provider,{value:r,children:this.props.component})):this.props.children;return this.context?A.createElement(t_,{error:r},n):n}};Mg.contextType=Gb;var yc=new WeakMap;function t_({children:r,error:n}){let{basename:s}=A.useContext(Qt);if(typeof n=="object"&&n&&"digest"in n&&typeof n.digest=="string"){let l=Zb(n.digest);if(l){let o=yc.get(n);if(o)throw o;let c=Og(l.location,s);if(Rg&&!yc.get(n))if(c.isExternal||l.reloadDocument)window.location.href=c.absoluteURL||c.to;else{const d=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(c.to,{replace:l.replace}));throw yc.set(n,d),d}return A.createElement("meta",{httpEquiv:"refresh",content:`0;url=${c.absoluteURL||c.to}`})}}return r}function n_({routeContext:r,match:n,children:s}){let l=A.useContext(zr);return l&&l.static&&l.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(l.staticContext._deepestRenderedBoundaryId=n.route.id),A.createElement(Cn.Provider,{value:r},s)}function a_(r,n=[],s=null,l=null,o=null){if(r==null){if(!s)return null;if(s.errors)r=s.matches;else if(n.length===0&&!s.initialized&&s.matches.length>0)r=s.matches;else return null}let c=r,d=s?.errors;if(d!=null){let v=c.findIndex(_=>_.route.id&&d?.[_.route.id]!==void 0);qe(v>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(d).join(",")}`),c=c.slice(0,Math.min(c.length,v+1))}let h=!1,m=-1;if(s)for(let v=0;v<c.length;v++){let _=c[v];if((_.route.HydrateFallback||_.route.hydrateFallbackElement)&&(m=v),_.route.id){let{loaderData:w,errors:x}=s,R=_.route.loader&&!w.hasOwnProperty(_.route.id)&&(!x||x[_.route.id]===void 0);if(_.route.lazy||R){h=!0,m>=0?c=c.slice(0,m+1):c=[c[0]];break}}}let p=s&&l?(v,_)=>{l(v,{location:s.location,params:s.matches?.[0]?.params??{},unstable_pattern:Hb(s.matches),errorInfo:_})}:void 0;return c.reduceRight((v,_,w)=>{let x,R=!1,T=null,j=null;s&&(x=d&&_.route.id?d[_.route.id]:void 0,T=_.route.errorElement||e_,h&&(m<0&&w===0?(zg("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),R=!0,j=null):m===w&&(R=!0,j=_.route.hydrateFallbackElement||null)));let C=n.concat(c.slice(0,w+1)),U=()=>{let q;return x?q=T:R?q=j:_.route.Component?q=A.createElement(_.route.Component,null):_.route.element?q=_.route.element:q=v,A.createElement(n_,{match:_,routeContext:{outlet:v,matches:C,isDataRoute:s!=null},children:q})};return s&&(_.route.ErrorBoundary||_.route.errorElement||w===0)?A.createElement(Mg,{location:s.location,revalidation:s.revalidation,component:T,error:x,children:U(),routeContext:{outlet:null,matches:C,isDataRoute:!0},onError:p}):U()},null)}function Wc(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function r_(r){let n=A.useContext(zr);return qe(n,Wc(r)),n}function s_(r){let n=A.useContext(Dl);return qe(n,Wc(r)),n}function i_(r){let n=A.useContext(Cn);return qe(n,Wc(r)),n}function Fc(r){let n=i_(r),s=n.matches[n.matches.length-1];return qe(s.route.id,`${r} can only be used on routes that contain a unique "id"`),s.route.id}function l_(){return Fc("useRouteId")}function u_(){let r=A.useContext(Qc),n=s_("useRouteError"),s=Fc("useRouteError");return r!==void 0?r:n.errors?.[s]}function o_(){let{router:r}=r_("useNavigate"),n=Fc("useNavigate"),s=A.useRef(!1);return Dg(()=>{s.current=!0}),A.useCallback(async(o,c={})=>{Xt(s.current,kg),s.current&&(typeof o=="number"?await r.navigate(o):await r.navigate(o,{fromRouteId:n,...c}))},[r,n])}var Rp={};function zg(r,n,s){!n&&!Rp[r]&&(Rp[r]=!0,Xt(!1,s))}A.memo(c_);function c_({routes:r,future:n,state:s,onError:l}){return Ug(r,void 0,s,l,n)}function sa(r){qe(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function f_({basename:r="/",children:n=null,location:s,navigationType:l="POP",navigator:o,static:c=!1,unstable_useTransitions:d}){qe(!Js(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let h=r.replace(/^\/*/,"/"),m=A.useMemo(()=>({basename:h,navigator:o,static:c,unstable_useTransitions:d,future:{}}),[h,o,c,d]);typeof s=="string"&&(s=Ma(s));let{pathname:p="/",search:v="",hash:_="",state:w=null,key:x="default"}=s,R=A.useMemo(()=>{let T=On(p,h);return T==null?null:{location:{pathname:T,search:v,hash:_,state:w,key:x},navigationType:l}},[h,p,v,_,w,x,l]);return Xt(R!=null,`<Router basename="${h}"> is not able to match the URL "${p}${v}${_}" because it does not start with the basename, so the <Router> won't render anything.`),R==null?null:A.createElement(Qt.Provider,{value:m},A.createElement(Zs.Provider,{children:n,value:R}))}function d_({children:r,location:n}){return Wb(kc(r),n)}function kc(r,n=[]){let s=[];return A.Children.forEach(r,(l,o)=>{if(!A.isValidElement(l))return;let c=[...n,o];if(l.type===A.Fragment){s.push.apply(s,kc(l.props.children,c));return}qe(l.type===sa,`[${typeof l.type=="string"?l.type:l.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),qe(!l.props.index||!l.props.children,"An index route cannot have child routes.");let d={id:l.props.id||c.join("-"),caseSensitive:l.props.caseSensitive,element:l.props.element,Component:l.props.Component,index:l.props.index,path:l.props.path,middleware:l.props.middleware,loader:l.props.loader,action:l.props.action,hydrateFallbackElement:l.props.hydrateFallbackElement,HydrateFallback:l.props.HydrateFallback,errorElement:l.props.errorElement,ErrorBoundary:l.props.ErrorBoundary,hasErrorBoundary:l.props.hasErrorBoundary===!0||l.props.ErrorBoundary!=null||l.props.errorElement!=null,shouldRevalidate:l.props.shouldRevalidate,handle:l.props.handle,lazy:l.props.lazy};l.props.children&&(d.children=kc(l.props.children,c)),s.push(d)}),s}var Tl="get",Al="application/x-www-form-urlencoded";function Ul(r){return typeof HTMLElement<"u"&&r instanceof HTMLElement}function h_(r){return Ul(r)&&r.tagName.toLowerCase()==="button"}function m_(r){return Ul(r)&&r.tagName.toLowerCase()==="form"}function p_(r){return Ul(r)&&r.tagName.toLowerCase()==="input"}function g_(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function y_(r,n){return r.button===0&&(!n||n==="_self")&&!g_(r)}function Dc(r=""){return new URLSearchParams(typeof r=="string"||Array.isArray(r)||r instanceof URLSearchParams?r:Object.keys(r).reduce((n,s)=>{let l=r[s];return n.concat(Array.isArray(l)?l.map(o=>[s,o]):[[s,l]])},[]))}function v_(r,n){let s=Dc(r);return n&&n.forEach((l,o)=>{s.has(o)||n.getAll(o).forEach(c=>{s.append(o,c)})}),s}var gl=null;function b_(){if(gl===null)try{new FormData(document.createElement("form"),0),gl=!1}catch{gl=!0}return gl}var __=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function vc(r){return r!=null&&!__.has(r)?(Xt(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Al}"`),null):r}function w_(r,n){let s,l,o,c,d;if(m_(r)){let h=r.getAttribute("action");l=h?On(h,n):null,s=r.getAttribute("method")||Tl,o=vc(r.getAttribute("enctype"))||Al,c=new FormData(r)}else if(h_(r)||p_(r)&&(r.type==="submit"||r.type==="image")){let h=r.form;if(h==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let m=r.getAttribute("formaction")||h.getAttribute("action");if(l=m?On(m,n):null,s=r.getAttribute("formmethod")||h.getAttribute("method")||Tl,o=vc(r.getAttribute("formenctype"))||vc(h.getAttribute("enctype"))||Al,c=new FormData(h,r),!b_()){let{name:p,type:v,value:_}=r;if(v==="image"){let w=p?`${p}.`:"";c.append(`${w}x`,"0"),c.append(`${w}y`,"0")}else p&&c.append(p,_)}}else{if(Ul(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');s=Tl,l=null,o=Al,d=r}return c&&o==="text/plain"&&(d=c,c=void 0),{action:l,method:s.toLowerCase(),encType:o,formData:c,body:d}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function ef(r,n){if(r===!1||r===null||typeof r>"u")throw new Error(n)}function x_(r,n,s,l){let o=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return s?o.pathname.endsWith("/")?o.pathname=`${o.pathname}_.${l}`:o.pathname=`${o.pathname}.${l}`:o.pathname==="/"?o.pathname=`_root.${l}`:n&&On(o.pathname,n)==="/"?o.pathname=`${n.replace(/\/$/,"")}/_root.${l}`:o.pathname=`${o.pathname.replace(/\/$/,"")}.${l}`,o}async function S_(r,n){if(r.id in n)return n[r.id];try{let s=await import(r.module);return n[r.id]=s,s}catch(s){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(s),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function E_(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function T_(r,n,s){let l=await Promise.all(r.map(async o=>{let c=n.routes[o.route.id];if(c){let d=await S_(c,s);return d.links?d.links():[]}return[]}));return O_(l.flat(1).filter(E_).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function Op(r,n,s,l,o,c){let d=(m,p)=>s[p]?m.route.id!==s[p].route.id:!0,h=(m,p)=>s[p].pathname!==m.pathname||s[p].route.path?.endsWith("*")&&s[p].params["*"]!==m.params["*"];return c==="assets"?n.filter((m,p)=>d(m,p)||h(m,p)):c==="data"?n.filter((m,p)=>{let v=l.routes[m.route.id];if(!v||!v.hasLoader)return!1;if(d(m,p)||h(m,p))return!0;if(m.route.shouldRevalidate){let _=m.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:s[0]?.params||{},nextUrl:new URL(r,window.origin),nextParams:m.params,defaultShouldRevalidate:!0});if(typeof _=="boolean")return _}return!0}):[]}function A_(r,n,{includeHydrateFallback:s}={}){return j_(r.map(l=>{let o=n.routes[l.route.id];if(!o)return[];let c=[o.module];return o.clientActionModule&&(c=c.concat(o.clientActionModule)),o.clientLoaderModule&&(c=c.concat(o.clientLoaderModule)),s&&o.hydrateFallbackModule&&(c=c.concat(o.hydrateFallbackModule)),o.imports&&(c=c.concat(o.imports)),c}).flat(1))}function j_(r){return[...new Set(r)]}function R_(r){let n={},s=Object.keys(r).sort();for(let l of s)n[l]=r[l];return n}function O_(r,n){let s=new Set;return new Set(n),r.reduce((l,o)=>{let c=JSON.stringify(R_(o));return s.has(c)||(s.add(c),l.push({key:c,link:o})),l},[])}function Bg(){let r=A.useContext(zr);return ef(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function N_(){let r=A.useContext(Dl);return ef(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var tf=A.createContext(void 0);tf.displayName="FrameworkContext";function qg(){let r=A.useContext(tf);return ef(r,"You must render this element inside a <HydratedRouter> element"),r}function C_(r,n){let s=A.useContext(tf),[l,o]=A.useState(!1),[c,d]=A.useState(!1),{onFocus:h,onBlur:m,onMouseEnter:p,onMouseLeave:v,onTouchStart:_}=n,w=A.useRef(null);A.useEffect(()=>{if(r==="render"&&d(!0),r==="viewport"){let T=C=>{C.forEach(U=>{d(U.isIntersecting)})},j=new IntersectionObserver(T,{threshold:.5});return w.current&&j.observe(w.current),()=>{j.disconnect()}}},[r]),A.useEffect(()=>{if(l){let T=setTimeout(()=>{d(!0)},100);return()=>{clearTimeout(T)}}},[l]);let x=()=>{o(!0)},R=()=>{o(!1),d(!1)};return s?r!=="intent"?[c,w,{}]:[c,w,{onFocus:Ds(h,x),onBlur:Ds(m,R),onMouseEnter:Ds(p,x),onMouseLeave:Ds(v,R),onTouchStart:Ds(_,x)}]:[!1,w,{}]}function Ds(r,n){return s=>{r&&r(s),s.defaultPrevented||n(s)}}function L_({page:r,...n}){let{router:s}=Bg(),l=A.useMemo(()=>Sg(s.routes,r,s.basename),[s.routes,r,s.basename]);return l?A.createElement(D_,{page:r,matches:l,...n}):null}function k_(r){let{manifest:n,routeModules:s}=qg(),[l,o]=A.useState([]);return A.useEffect(()=>{let c=!1;return T_(r,n,s).then(d=>{c||o(d)}),()=>{c=!0}},[r,n,s]),l}function D_({page:r,matches:n,...s}){let l=Ln(),{future:o,manifest:c,routeModules:d}=qg(),{basename:h}=Bg(),{loaderData:m,matches:p}=N_(),v=A.useMemo(()=>Op(r,n,p,c,l,"data"),[r,n,p,c,l]),_=A.useMemo(()=>Op(r,n,p,c,l,"assets"),[r,n,p,c,l]),w=A.useMemo(()=>{if(r===l.pathname+l.search+l.hash)return[];let T=new Set,j=!1;if(n.forEach(U=>{let q=c.routes[U.route.id];!q||!q.hasLoader||(!v.some(H=>H.route.id===U.route.id)&&U.route.id in m&&d[U.route.id]?.shouldRevalidate||q.hasClientLoader?j=!0:T.add(U.route.id))}),T.size===0)return[];let C=x_(r,h,o.unstable_trailingSlashAwareDataRequests,"data");return j&&T.size>0&&C.searchParams.set("_routes",n.filter(U=>T.has(U.route.id)).map(U=>U.route.id).join(",")),[C.pathname+C.search]},[h,o.unstable_trailingSlashAwareDataRequests,m,l,c,v,n,r,d]),x=A.useMemo(()=>A_(_,c),[_,c]),R=k_(_);return A.createElement(A.Fragment,null,w.map(T=>A.createElement("link",{key:T,rel:"prefetch",as:"fetch",href:T,...s})),x.map(T=>A.createElement("link",{key:T,rel:"modulepreload",href:T,...s})),R.map(({key:T,link:j})=>A.createElement("link",{key:T,nonce:s.nonce,...j,crossOrigin:j.crossOrigin??s.crossOrigin})))}function U_(...r){return n=>{r.forEach(s=>{typeof s=="function"?s(n):s!=null&&(s.current=n)})}}var M_=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{M_&&(window.__reactRouterVersion="7.13.0")}catch{}function z_({basename:r,children:n,unstable_useTransitions:s,window:l}){let o=A.useRef();o.current==null&&(o.current=gb({window:l,v5Compat:!0}));let c=o.current,[d,h]=A.useState({action:c.action,location:c.location}),m=A.useCallback(p=>{s===!1?h(p):A.startTransition(()=>h(p))},[s]);return A.useLayoutEffect(()=>c.listen(m),[c,m]),A.createElement(f_,{basename:r,children:n,location:d.location,navigationType:d.action,navigator:c,unstable_useTransitions:s})}var $g=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Hg=A.forwardRef(function({onClick:n,discover:s="render",prefetch:l="none",relative:o,reloadDocument:c,replace:d,state:h,target:m,to:p,preventScrollReset:v,viewTransition:_,unstable_defaultShouldRevalidate:w,...x},R){let{basename:T,unstable_useTransitions:j}=A.useContext(Qt),C=typeof p=="string"&&$g.test(p),U=Og(p,T);p=U.to;let q=Xb(p,{relative:o}),[H,F,P]=C_(l,x),Y=H_(p,{replace:d,state:h,target:m,preventScrollReset:v,relative:o,viewTransition:_,unstable_defaultShouldRevalidate:w,unstable_useTransitions:j});function z(Re){n&&n(Re),Re.defaultPrevented||Y(Re)}let Q=A.createElement("a",{...x,...P,href:U.absoluteURL||q,onClick:U.isExternal||c?n:z,ref:U_(R,F),target:m,"data-discover":!C&&s==="render"?"true":void 0});return H&&!C?A.createElement(A.Fragment,null,Q,A.createElement(L_,{page:q})):Q});Hg.displayName="Link";var B_=A.forwardRef(function({"aria-current":n="page",caseSensitive:s=!1,className:l="",end:o=!1,style:c,to:d,viewTransition:h,children:m,...p},v){let _=Qs(d,{relative:p.relative}),w=Ln(),x=A.useContext(Dl),{navigator:R,basename:T}=A.useContext(Qt),j=x!=null&&K_(_)&&h===!0,C=R.encodeLocation?R.encodeLocation(_).pathname:_.pathname,U=w.pathname,q=x&&x.navigation&&x.navigation.location?x.navigation.location.pathname:null;s||(U=U.toLowerCase(),q=q?q.toLowerCase():null,C=C.toLowerCase()),q&&T&&(q=On(q,T)||q);const H=C!=="/"&&C.endsWith("/")?C.length-1:C.length;let F=U===C||!o&&U.startsWith(C)&&U.charAt(H)==="/",P=q!=null&&(q===C||!o&&q.startsWith(C)&&q.charAt(C.length)==="/"),Y={isActive:F,isPending:P,isTransitioning:j},z=F?n:void 0,Q;typeof l=="function"?Q=l(Y):Q=[l,F?"active":null,P?"pending":null,j?"transitioning":null].filter(Boolean).join(" ");let Re=typeof c=="function"?c(Y):c;return A.createElement(Hg,{...p,"aria-current":z,className:Q,ref:v,style:Re,to:d,viewTransition:h},typeof m=="function"?m(Y):m)});B_.displayName="NavLink";var q_=A.forwardRef(({discover:r="render",fetcherKey:n,navigate:s,reloadDocument:l,replace:o,state:c,method:d=Tl,action:h,onSubmit:m,relative:p,preventScrollReset:v,viewTransition:_,unstable_defaultShouldRevalidate:w,...x},R)=>{let{unstable_useTransitions:T}=A.useContext(Qt),j=V_(),C=P_(h,{relative:p}),U=d.toLowerCase()==="get"?"get":"post",q=typeof h=="string"&&$g.test(h),H=F=>{if(m&&m(F),F.defaultPrevented)return;F.preventDefault();let P=F.nativeEvent.submitter,Y=P?.getAttribute("formmethod")||d,z=()=>j(P||F.currentTarget,{fetcherKey:n,method:Y,navigate:s,replace:o,state:c,relative:p,preventScrollReset:v,viewTransition:_,unstable_defaultShouldRevalidate:w});T&&s!==!1?A.startTransition(()=>z()):z()};return A.createElement("form",{ref:R,method:U,action:C,onSubmit:l?m:H,...x,"data-discover":!q&&r==="render"?"true":void 0})});q_.displayName="Form";function $_(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Ig(r){let n=A.useContext(zr);return qe(n,$_(r)),n}function H_(r,{target:n,replace:s,state:l,preventScrollReset:o,relative:c,viewTransition:d,unstable_defaultShouldRevalidate:h,unstable_useTransitions:m}={}){let p=Xs(),v=Ln(),_=Qs(r,{relative:c});return A.useCallback(w=>{if(y_(w,n)){w.preventDefault();let x=s!==void 0?s:$s(v)===$s(_),R=()=>p(r,{replace:x,state:l,preventScrollReset:o,relative:c,viewTransition:d,unstable_defaultShouldRevalidate:h});m?A.startTransition(()=>R()):R()}},[v,p,_,s,l,n,r,o,c,d,h,m])}function nf(r){Xt(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let n=A.useRef(Dc(r)),s=A.useRef(!1),l=Ln(),o=A.useMemo(()=>v_(l.search,s.current?null:n.current),[l.search]),c=Xs(),d=A.useCallback((h,m)=>{const p=Dc(typeof h=="function"?h(new URLSearchParams(o)):h);s.current=!0,c("?"+p,m)},[c,o]);return[o,d]}var I_=0,G_=()=>`__${String(++I_)}__`;function V_(){let{router:r}=Ig("useSubmit"),{basename:n}=A.useContext(Qt),s=l_(),l=r.fetch,o=r.navigate;return A.useCallback(async(c,d={})=>{let{action:h,method:m,encType:p,formData:v,body:_}=w_(c,n);if(d.navigate===!1){let w=d.fetcherKey||G_();await l(w,s,d.action||h,{unstable_defaultShouldRevalidate:d.unstable_defaultShouldRevalidate,preventScrollReset:d.preventScrollReset,formData:v,body:_,formMethod:d.method||m,formEncType:d.encType||p,flushSync:d.flushSync})}else await o(d.action||h,{unstable_defaultShouldRevalidate:d.unstable_defaultShouldRevalidate,preventScrollReset:d.preventScrollReset,formData:v,body:_,formMethod:d.method||m,formEncType:d.encType||p,replace:d.replace,state:d.state,fromRouteId:s,flushSync:d.flushSync,viewTransition:d.viewTransition})},[l,o,n,s])}function P_(r,{relative:n}={}){let{basename:s}=A.useContext(Qt),l=A.useContext(Cn);qe(l,"useFormAction must be used inside a RouteContext");let[o]=l.matches.slice(-1),c={...Qs(r||".",{relative:n})},d=Ln();if(r==null){c.search=d.search;let h=new URLSearchParams(c.search),m=h.getAll("index");if(m.some(v=>v==="")){h.delete("index"),m.filter(_=>_).forEach(_=>h.append("index",_));let v=h.toString();c.search=v?`?${v}`:""}}return(!r||r===".")&&o.route.index&&(c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index"),s!=="/"&&(c.pathname=c.pathname==="/"?s:Rn([s,c.pathname])),$s(c)}function K_(r,{relative:n}={}){let s=A.useContext(Cg);qe(s!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:l}=Ig("useViewTransitionState"),o=Qs(r,{relative:n});if(!s.isTransitioning)return!1;let c=On(s.currentLocation.pathname,l)||s.currentLocation.pathname,d=On(s.nextLocation.pathname,l)||s.nextLocation.pathname;return jl(o.pathname,d)!=null||jl(o.pathname,c)!=null}function Y_(r,n){n()}function Br(r,n){n||(n={});const s=n.equals||Object.is;let l=[],o=r;const c=p=>{if(!s(o,p)){const v=o;o=p,Y_(m,()=>{[...l].forEach(([_,w])=>{_(p,v),w&&h(_,!0)})})}};function d(p){const v=typeof p!="object"?{once:p}:p;return{once:v.once||!1,signal:v.signal||!1}}const h=(p,v)=>{const _=d(v),w=l.findIndex(([x,R])=>x===p&&R.once===_.once&&R.signal===_.signal);w>=0&&l.splice(w,1)},m=Object.assign(function(){return Z_(m),o},{destroy(){l=[]},set:c,reset(){c(r)},sub(p,v){return l.push([p,d(v)]),()=>h(p,v)},unsub:h,unsubAll(){l=l.filter(p=>p[1].signal)}});return m}const zs=[];function Z_(r){zs.length&&zs[zs.length-1].add(r)}function Gg(r,n){let s=new Set,l;function o(){return l||(l=Br(d(),n))}function c(){o().set(d())}function d(){s.forEach(p=>{p.unsub(c,{signal:!0})});const h=new Set;let m;zs.push(h);try{m=r()}finally{zs.pop()}return h.forEach(p=>{p.sub(c,{signal:!0})}),s=h,m}return Object.assign(function(){return o()()},{destroy(){o().destroy()},sub(...h){return o().sub(...h)},unsub(...h){o().unsub(...h)},unsubAll(...h){o().unsubAll(...h)}})}let bc;function Vg(r){return{lang:r?.lang??bc?.lang,message:r?.message,abortEarly:r?.abortEarly??bc?.abortEarly,abortPipeEarly:r?.abortPipeEarly??bc?.abortPipeEarly}}let J_;function X_(r){return J_?.get(r)}let Q_;function W_(r){return Q_?.get(r)}let F_;function ew(r,n){return F_?.get(r)?.get(n)}function tw(r){const n=typeof r;return n==="string"?`"${r}"`:n==="number"||n==="bigint"||n==="boolean"?`${r}`:n==="object"||n==="function"?(r&&Object.getPrototypeOf(r)?.constructor?.name)??"null":n}function Tt(r,n,s,l,o){const c=o&&"input"in o?o.input:s.value,d=o?.expected??r.expects??null,h=o?.received??tw(c),m={kind:r.kind,type:r.type,input:c,expected:d,received:h,message:`Invalid ${n}: ${d?`Expected ${d} but r`:"R"}eceived ${h}`,requirement:r.requirement,path:o?.path,issues:o?.issues,lang:l.lang,abortEarly:l.abortEarly,abortPipeEarly:l.abortPipeEarly},p=r.kind==="schema",v=o?.message??r.message??ew(r.reference,m.lang)??(p?W_(m.lang):null)??l.message??X_(m.lang);v!==void 0&&(m.message=typeof v=="function"?v(m):v),p&&(s.typed=!1),s.issues?s.issues.push(m):s.issues=[m]}function Bt(r){return{version:1,vendor:"valibot",validate(n){return r["~run"]({value:n},Vg())}}}function Pg(r,n){return Object.hasOwn(r,n)&&n!=="__proto__"&&n!=="prototype"&&n!=="constructor"}function nw(r,n){const s=[...new Set(r)];return s.length>1?`(${s.join(` ${n} `)})`:s[0]??"never"}var aw=class extends Error{constructor(r){super(r[0].message),this.name="ValiError",this.issues=r}};function Ml(r,n){return{kind:"validation",type:"check",reference:Ml,async:!1,expects:null,requirement:r,message:n,"~run"(s,l){return s.typed&&!this.requirement(s.value)&&Tt(this,"input",s,l),s}}}function Kg(r){return{kind:"validation",type:"integer",reference:Kg,async:!1,expects:null,requirement:Number.isInteger,message:r,"~run"(n,s){return n.typed&&!this.requirement(n.value)&&Tt(this,"integer",n,s),n}}}function Ua(r){return{kind:"transformation",type:"transform",reference:Ua,async:!1,operation:r,"~run"(n){return n.value=this.operation(n.value),n}}}function rw(r,n,s){return typeof r.fallback=="function"?r.fallback(n,s):r.fallback}function af(r,n,s){return typeof r.default=="function"?r.default(n,s):r.default}function Yg(r,n){return!r["~run"]({value:n},{abortEarly:!0}).issues}function ka(r){return{kind:"schema",type:"boolean",reference:ka,expects:"boolean",async:!1,message:r,get"~standard"(){return Bt(this)},"~run"(n,s){return typeof n.value=="boolean"?n.typed=!0:Tt(this,"type",n,s),n}}}function Zg(r){return{kind:"schema",type:"date",reference:Zg,expects:"Date",async:!1,message:r,get"~standard"(){return Bt(this)},"~run"(n,s){return n.value instanceof Date?isNaN(n.value)?Tt(this,"type",n,s,{received:'"Invalid Date"'}):n.typed=!0:Tt(this,"type",n,s),n}}}function rf(r){return{kind:"schema",type:"function",reference:rf,expects:"Function",async:!1,message:r,get"~standard"(){return Bt(this)},"~run"(n,s){return typeof n.value=="function"?n.typed=!0:Tt(this,"type",n,s),n}}}function sf(r,n){return{kind:"schema",type:"instance",reference:sf,expects:r.name,async:!1,class:r,message:n,get"~standard"(){return Bt(this)},"~run"(s,l){return s.value instanceof this.class?s.typed=!0:Tt(this,"type",s,l),s}}}function gt(r,n){return{kind:"schema",type:"loose_object",reference:gt,expects:"Object",async:!1,entries:r,message:n,get"~standard"(){return Bt(this)},"~run"(s,l){const o=s.value;if(o&&typeof o=="object"){s.typed=!0,s.value={};for(const c in this.entries){const d=this.entries[c];if(c in o||(d.type==="exact_optional"||d.type==="optional"||d.type==="nullish")&&d.default!==void 0){const h=c in o?o[c]:af(d),m=d["~run"]({value:h},l);if(m.issues){const p={type:"object",origin:"value",input:o,key:c,value:h};for(const v of m.issues)v.path?v.path.unshift(p):v.path=[p],s.issues?.push(v);if(s.issues||(s.issues=m.issues),l.abortEarly){s.typed=!1;break}}m.typed||(s.typed=!1),s.value[c]=m.value}else if(d.fallback!==void 0)s.value[c]=rw(d);else if(d.type!=="exact_optional"&&d.type!=="optional"&&d.type!=="nullish"&&(Tt(this,"key",s,l,{input:void 0,expected:`"${c}"`,path:[{type:"object",origin:"key",input:o,key:c,value:o[c]}]}),l.abortEarly))break}if(!s.issues||!l.abortEarly)for(const c in o)Pg(o,c)&&!(c in this.entries)&&(s.value[c]=o[c])}else Tt(this,"type",s,l);return s}}}function Rr(r,n){return{kind:"schema",type:"nullish",reference:Rr,expects:`(${r.expects} | null | undefined)`,async:!1,wrapped:r,default:n,get"~standard"(){return Bt(this)},"~run"(s,l){return(s.value===null||s.value===void 0)&&(this.default!==void 0&&(s.value=af(this,s,l)),s.value===null||s.value===void 0)?(s.typed=!0,s):this.wrapped["~run"](s,l)}}}function Mr(r){return{kind:"schema",type:"number",reference:Mr,expects:"number",async:!1,message:r,get"~standard"(){return Bt(this)},"~run"(n,s){return typeof n.value=="number"&&!isNaN(n.value)?n.typed=!0:Tt(this,"type",n,s),n}}}function De(r,n){return{kind:"schema",type:"optional",reference:De,expects:`(${r.expects} | undefined)`,async:!1,wrapped:r,default:n,get"~standard"(){return Bt(this)},"~run"(s,l){return s.value===void 0&&(this.default!==void 0&&(s.value=af(this,s,l)),s.value===void 0)?(s.typed=!0,s):this.wrapped["~run"](s,l)}}}function Jg(r,n,s){return{kind:"schema",type:"record",reference:Jg,expects:"Object",async:!1,key:r,value:n,message:s,get"~standard"(){return Bt(this)},"~run"(l,o){const c=l.value;if(c&&typeof c=="object"){l.typed=!0,l.value={};for(const d in c)if(Pg(c,d)){const h=c[d],m=this.key["~run"]({value:d},o);if(m.issues){const v={type:"object",origin:"key",input:c,key:d,value:h};for(const _ of m.issues)_.path=[v],l.issues?.push(_);if(l.issues||(l.issues=m.issues),o.abortEarly){l.typed=!1;break}}const p=this.value["~run"]({value:h},o);if(p.issues){const v={type:"object",origin:"value",input:c,key:d,value:h};for(const _ of p.issues)_.path?_.path.unshift(v):_.path=[v],l.issues?.push(_);if(l.issues||(l.issues=p.issues),o.abortEarly){l.typed=!1;break}}(!m.typed||!p.typed)&&(l.typed=!1),m.typed&&(l.value[m.value]=p.value)}}else Tt(this,"type",l,o);return l}}}function _e(r){return{kind:"schema",type:"string",reference:_e,expects:"string",async:!1,message:r,get"~standard"(){return Bt(this)},"~run"(n,s){return typeof n.value=="string"?n.typed=!0:Tt(this,"type",n,s),n}}}function Np(r){let n;if(r)for(const s of r)n?n.push(...s.issues):n=s.issues;return n}function zl(r,n){return{kind:"schema",type:"union",reference:zl,expects:nw(r.map(s=>s.expects),"|"),async:!1,options:r,message:n,get"~standard"(){return Bt(this)},"~run"(s,l){let o,c,d;for(const h of this.options){const m=h["~run"]({value:s.value},l);if(m.typed)if(m.issues)c?c.push(m):c=[m];else{o=m;break}else d?d.push(m):d=[m]}if(o)return o;if(c){if(c.length===1)return c[0];Tt(this,"type",s,l,{issues:Np(c)}),s.typed=!0}else{if(d?.length===1)return d[0];Tt(this,"type",s,l,{issues:Np(d)})}return s}}}function lf(){return{kind:"schema",type:"unknown",reference:lf,expects:"unknown",async:!1,get"~standard"(){return Bt(this)},"~run"(r){return r.typed=!0,r}}}function Rl(r,n,s){const l=r["~run"]({value:n},Vg(s));if(l.issues)throw new aw(l.issues);return l.value}function ua(...r){return{...r[0],pipe:r,get"~standard"(){return Bt(this)},"~run"(n,s){for(const l of r)if(l.kind!=="metadata"){if(n.issues&&(l.kind==="schema"||l.kind==="transformation")){n.typed=!1;break}(!n.issues||!s.abortEarly&&!s.abortPipeEarly)&&(n=l["~run"](n,s))}return n}}}var sw=Object.defineProperty,iw=(r,n,s)=>n in r?sw(r,n,{enumerable:!0,configurable:!0,writable:!0,value:s}):r[n]=s,Cp=(r,n,s)=>iw(r,typeof n!="symbol"?n+"":n,s),lw=Object.defineProperty,uw=(r,n,s)=>n in r?lw(r,n,{enumerable:!0,configurable:!0,writable:!0,value:s}):r[n]=s,Uc=(r,n,s)=>uw(r,typeof n!="symbol"?n+"":n,s);function Xg(r){return n=>n instanceof r}function Qg(r,n){const s=class extends Error{constructor(...o){const c=typeof n=="function"?n(...o):typeof n=="string"?[n]:n||[];super(...c),this.name=r}};Uc(s,"is",Xg(s));let l=s;return Object.defineProperty(l,"name",{value:r}),l}function ow(r,n,s){const l=class extends Qg(r,s){constructor(...c){super(...c),Uc(this,"data"),this.data=n(...c)}};Uc(l,"is",Xg(l));let o=l;return Object.defineProperty(o,"name",{value:r}),o}let cw=class extends Qg("CancelledError","Promise was canceled"){},fw=class extends ow("TimeoutError",n=>({timeout:n}),(n,s)=>[`Timeout reached: ${n}ms`,{cause:s}]){};const dw=Symbol("resolved");function hw(r){return{tag:dw,value:r}}function Lp(r,n){return r.reject=n.reject,r.resolve=n.resolve,r}let mw=class Mc extends Promise{constructor(n,s){let l,o,c,d;typeof n=="function"?(c=n,d=s||{}):d=n||{};let h,m;const p=()=>!!m,v=()=>!!h;let _={};const w=[],x=()=>{w.forEach(j=>j()),w.splice(0,w.length),_={}},R=new AbortController,T=()=>v()||p();super((j,C)=>{const{abortOnResolve:U=!0,abortOnReject:q=!0}=d;o=P=>{var Y,z;T()||(j(P),h=[P],(Y=_.resolved)==null||Y.forEach(Q=>Q(P)),(z=_.finalized)==null||z.forEach(Q=>Q({kind:"resolved",result:P})),x(),U&&R.abort(hw(P)))},l=P=>{var Y,z;T()||(C(P),m=[P],(Y=_.rejected)==null||Y.forEach(Q=>Q(P)),(z=_.finalized)==null||z.forEach(Q=>Q({kind:"rejected",reason:P})),x(),q&&R.abort(P))};const{abortSignal:H}=d;if(H){if(H.aborted)return l(H.reason);const P=()=>{l(H.reason)};H.addEventListener("abort",P,!0),w.push(()=>{H.removeEventListener("abort",P,!0)})}const{timeout:F}=d;if(F){const P=setTimeout(()=>{l(new fw(F))},F);w.push(()=>{clearTimeout(P)})}try{const P=()=>{},Y=c&&c(o,l,{abortSignal:R.signal,get isRejected(){return p()},get isResolved(){return v()},on(z,Q){if(h||m){if(z==="finalized"){const Re=h?{kind:"resolved",result:h[0]}:{kind:"rejected",reason:m[0]};Q(Re)}else z==="resolved"&&h?Q(h[0]):z==="rejected"&&m&&Q(m[0]);return P}return _[z]||(_[z]=[]),_[z].push(Q),()=>{const Re=_[z]||[],rt=Re.indexOf(Q);rt>=0&&Re.splice(rt,1)}},get result(){return h?.[0]},get rejectReason(){return m?.[0]},throwIfRejected(){if(m)throw m[0]}});Y instanceof Promise&&Y.catch(l)}catch(P){l(P)}}),Cp(this,"reject"),Cp(this,"resolve"),this.reject=l,this.resolve=o}static fn(n,s){return new Mc(async(l,o,c)=>{try{l(await n(c))}catch(d){o(d)}},s)}static resolve(n){return this.fn(()=>n)}static reject(n){return new Mc((s,l)=>{l(n)})}cancel(){this.reject(new cw)}catch(n){return this.then(void 0,n)}finally(n){return Lp(super.finally(n),this)}then(n,s){return Lp(super.then(n,s),this)}};var pw=function(r,n,s){if(s||arguments.length===2)for(var l=0,o=n.length,c;l<o;l++)(c||!(l in n))&&(c||(c=Array.prototype.slice.call(n,0,l)),c[l]=n[l]);return r.concat(c||Array.prototype.slice.call(n))};function Nn(r,n,s,l,o,c,d,h,m){switch(arguments.length){case 1:return r;case 2:return n(r);case 3:return s(n(r));case 4:return l(s(n(r)));case 5:return o(l(s(n(r))));case 6:return c(o(l(s(n(r)))));case 7:return d(c(o(l(s(n(r))))));case 8:return h(d(c(o(l(s(n(r)))))));case 9:return m(h(d(c(o(l(s(n(r))))))));default:{for(var p=arguments[0],v=1;v<arguments.length;v++)p=arguments[v](p);return p}}}var gw=function(r,n){var s=typeof r=="number"?function(l){return l.length>=r}:r;return function(){var l=Array.from(arguments);return s(arguments)?n.apply(this,l):function(o){return n.apply(void 0,pw([o],l,!1))}}},yw={_tag:"None"},vw=function(r){return{_tag:"Some",value:r}},bw=function(r){return r._tag==="Left"},_w=function(r){return{_tag:"Left",left:r}},ww=function(r){return{_tag:"Right",right:r}},xw=yw,Sw=vw,Ew=function(r){return r._tag==="None"},Tw=function(r,n){return function(s){return Ew(s)?r():n(s.value)}},Aw=Tw,Bl=_w,kr=ww,jw=gw(2,function(r,n){return uf(r)?r:n(r.right)}),Wg=function(r){return function(n){return uf(n)?n:kr(r(n.right))}},uf=bw,of=function(r,n){return function(s){return uf(s)?r(s.left):n(s.right)}},Rw=of,cf=of,Ow=cf,Nw=function(r,n){try{return kr(r())}catch(s){return Bl(n(s))}},Cw=jw;function Lw(r){return function(n,s){return function(l){return r.map(l,cf(n,s))}}}var kw=function(r,n){return Nn(r,Dw(n))},Dw=function(r){return function(n){return function(){return Promise.resolve().then(n).then(r)}}},Uw="Task",Mw={URI:Uw,map:kw},zw=Lw(Mw);function Fg(r){return`tapps/${r}`}function Bw(r,n){sessionStorage.setItem(Fg(r),JSON.stringify(n))}function qw(r){const n=sessionStorage.getItem(Fg(r));try{return n?JSON.parse(n):void 0}catch{}}function $w(...r){const n=r.flat(1);return[n.push.bind(n),()=>{n.forEach(s=>{s()})}]}function Hw(r,n){n||(n={});const{textColor:s,bgColor:l,shouldLog:o}=n,c=o===void 0?!0:o,d=typeof c=="boolean"?()=>c:c,h=(m,p,...v)=>{if(p||d()){const _="font-weight:bold;padding:0 5px;border-radius:100px",[w,x,R]={log:["#0089c3","white","INFO"],error:["#ff0000F0","white","ERR"],warn:["#D38E15","white","WARN"]}[m];console[m](`%c${R} ${Intl.DateTimeFormat("en-GB",{hour:"2-digit",minute:"2-digit",second:"2-digit",fractionalSecondDigits:3,timeZone:"UTC"}).format(new Date)}%c %c${r}`,`${_};background-color:${w};color:${x}`,"",`${_};${s?`color:${s};`:""}${l?`background-color:${l}`:""}`,...v)}};return[["log","forceLog"],["warn","forceWarn"],["error","forceError"]].reduce((m,[p,v])=>(m[p]=h.bind(void 0,p,!1),m[v]=h.bind(void 0,p,!0),m),{})}function e0(r){const n=s=>{throw s};return typeof r=="function"?mw.resolve(Nn(r,zw(n,s=>s))()):Nn(r,cf(n,s=>s))}function t0(r){return Object.assign((...n)=>e0(r(...n)),r)}var Iw=Object.defineProperty,Gw=(r,n,s)=>n in r?Iw(r,n,{enumerable:!0,configurable:!0,writable:!0,value:s}):r[n]=s,zc=(r,n,s)=>Gw(r,typeof n!="symbol"?n+"":n,s);function n0(r){return n=>n instanceof r}function a0(r,n){const s=class extends Error{constructor(...c){const d=typeof n=="function"?n(...c):typeof n=="string"?[n]:n||[];super(...d),this.name=r}};zc(s,"is",n0(s));let l=s;return Object.defineProperty(l,"name",{value:r}),l}function Vw(r,n,s){const l=class extends a0(r,s){constructor(...d){super(...d),zc(this,"data"),this.data=n(...d)}};zc(l,"is",n0(l));let o=l;return Object.defineProperty(o,"name",{value:r}),o}function Pw(r){const n=s=>{const l={};return new URLSearchParams(s).forEach((o,c)=>{const d=l[c];Array.isArray(d)?d.push(o):d===void 0?l[c]=o:l[c]=[d,o]}),Rl(r,l)};return ua(zl([_e(),sf(URLSearchParams)]),Ml(s=>{try{return n(s),!0}catch{return!1}},"The value doesn't match required schema"),Ua(n))}function Kw(r){return ua(_e(),Ml(n=>{try{return JSON.parse(n),!0}catch{return!1}},"Input is not a valid JSON value"),Ua(JSON.parse),r)}function Dr(r){return ua(_e(),Kw(r))}function r0(r){return ua(zl([_e(),sf(URLSearchParams)]),Pw(r))}function ql(r){return n=>r.test(n)}const Yw=ql(/^#[\da-f]{3}$/i),Zw=ql(/^#[\da-f]{4}$/i),Jw=ql(/^#[\da-f]{6}$/i),Xw=ql(/^#[\da-f]{8}$/i);function Qw(r){return[Jw,Xw,Yw,Zw].some(n=>n(r))}function Ww(){return gt({id:Mr(),photo_url:De(_e()),type:_e(),title:_e(),username:De(_e())})}function kp(){return gt({added_to_attachment_menu:De(ka()),allows_write_to_pm:De(ka()),first_name:_e(),id:Mr(),is_bot:De(ka()),is_premium:De(ka()),last_name:De(_e()),language_code:De(_e()),photo_url:De(_e()),username:De(_e())})}function Fw(){return gt({auth_date:ua(_e(),Ua(r=>new Date(Number(r)*1e3)),Zg()),can_send_after:De(ua(_e(),Ua(Number),Kg())),chat:De(Dr(Ww())),chat_type:De(_e()),chat_instance:De(_e()),hash:_e(),query_id:De(_e()),receiver:De(Dr(kp())),start_param:De(_e()),signature:_e(),user:De(Dr(kp()))})}function ex(){return r0(Fw())}function Bc(){return Jg(_e(),ua(zl([_e(),Mr()]),Ua(r=>typeof r=="number"?`#${(r&16777215).toString(16).padStart(6,"0")}`:r),Ml(Qw)))}function tx(){const r=De(ua(_e(),Ua(n=>n==="1")));return gt({tgWebAppBotInline:r,tgWebAppData:De(ex()),tgWebAppDefaultColors:De(Dr(Bc())),tgWebAppFullscreen:r,tgWebAppPlatform:_e(),tgWebAppShowSettings:r,tgWebAppStartParam:De(_e()),tgWebAppThemeParams:Dr(Bc()),tgWebAppVersion:_e()})}function nx(){return r0(tx())}function ax(){return gt({eventType:_e(),eventData:De(lf())})}function s0(r){return Nw(()=>Rl(nx(),r),n=>n)}function rx(r){return{all:r=r||new Map,on:function(n,s){var l=r.get(n);l?l.push(s):r.set(n,[s])},off:function(n,s){var l=r.get(n);l&&(s?l.splice(l.indexOf(s)>>>0,1):r.set(n,[]))},emit:function(n,s){var l=r.get(n);l&&l.slice().map(function(o){o(s)}),(l=r.get("*"))&&l.slice().map(function(o){o(n,s)})}}}function sx(r){return Yg(gt({TelegramWebviewProxy:gt({postEvent:rf()})}),r)}function ix(){try{return window.self!==window.top}catch{return!0}}class lx extends Vw("LaunchParamsRetrieveError",n=>({errors:n}),n=>[["Unable to retrieve launch parameters from any known source. Perhaps, you have opened your app outside Telegram?"," Refer to docs for more information:","https://docs.telegram-mini-apps.com/packages/tma-js-bridge/environment","","Collected errors:",...n.map(({source:s,error:l})=>`Source: ${s} / ${l instanceof Error?l.message:String(l)}`)].join(`
`)]){}class ux extends a0("UnknownEnvError"){}const Dp="launchParams";function Up(r){return r.replace(/^[^?#]*[?#]/,"").replace(/[?#]/g,"&")}function i0(){return Nn(l0(),Cw(s0))}const ox=t0(i0);function cx(){return Nn(l0(),Wg(r=>{const n=new URLSearchParams(r).get("tgWebAppData");return n?Sw(n):xw}))}function fx(){return Nn(cx(),Ow(r=>{throw r},r=>r),Aw(()=>{},r=>r))}function l0(){const r=[];for(const[n,s]of[[()=>Up(window.location.href),"window.location.href"],[()=>{const l=performance.getEntriesByType("navigation")[0];return l&&Up(l.name)},"performance navigation entries"],[()=>qw(Dp),"local storage"]]){const l=n();if(!l){r.push({source:s,error:new Error("Source is empty")});continue}const o=Nn(s0(l),Rw(c=>c,()=>!0));if(typeof o!="boolean"){r.push({source:s,error:o});continue}return Bw(Dp,l),kr(l)}return Bl(new lx(r))}function dx(r,n){const s=new Map,l=rx(),o=(c,d,h=!1)=>{const m=s.get(c)||new Map;s.set(c,m);const p=m.get(d)||[];m.set(d,p);const v=p.findIndex(_=>_[1]===h);if(v>=0&&(l.off(c,p[v][0]),p.splice(v,1),!p.length&&(m.delete(d),!m.size))){const _=s.size;s.delete(c),_&&!s.size&&n()}};return{on(c,d,h){!s.size&&r();const m=()=>{o(c,d,h)},p=(...w)=>{h&&m(),c==="*"?d({name:w[0],payload:w[1]}):d(...w)};l.on(c,p);const v=s.get(c)||new Map;s.set(c,v);const _=v.get(d)||[];return v.set(d,_),_.push([p,h||!1]),m},off:o,emit:l.emit,clear(){const c=s.size;l.all.clear(),s.clear(),c&&n()}}}function _c(r,n){window.dispatchEvent(new MessageEvent("message",{data:JSON.stringify({eventType:r,eventData:n}),source:window.parent}))}const hx=Br(!1),mx=Br("https://web.telegram.org"),px=Gg(hx),gx=Gg(mx),yx=Br((...r)=>{window.parent.postMessage(...r)}),Ol=Br(Hw("Bridge",{bgColor:"#9147ff",textColor:"white",shouldLog:px}));function wc(r,n,s){const l=[s],o=r[n];typeof o=="function"&&l.push(o);const c=(...h)=>{l.forEach(m=>m(...h))},d=Object.assign((...h)=>{c(...h)},{unwrap(){const{length:h}=l;if(h===1){delete r[n];return}if(h===2){zp(r,n,l[1]);return}l.unshift(1),zp(r,n,c)}});u0(r,n,()=>d,h=>l.push(h))}function Mp(r,n){const s=r[n];u0(r,n,()=>s,l=>{Object.entries(l).forEach(([o,c])=>{s[o]=c})})}function u0(r,n,s,l){Object.defineProperty(r,n,{enumerable:!0,configurable:!0,get:s,set:l})}function zp(r,n,s){Object.defineProperty(r,n,{enumerable:!0,configurable:!0,writable:!0,value:s})}const vx={clipboard_text_received:gt({req_id:_e(),data:Rr(_e())}),custom_method_invoked:gt({req_id:_e(),result:De(lf()),error:De(_e())}),popup_closed:Rr(gt({button_id:Rr(_e(),()=>{})}),{}),viewport_changed:Rr(gt({height:Mr(),width:Rr(Mr(),()=>window.innerWidth),is_state_stable:ka(),is_expanded:ka()}),()=>({height:window.innerHeight,is_state_stable:!0,is_expanded:!0})),theme_changed:gt({theme_params:Bc()})};function Bp(r){if(r.source!==window.parent)return;let n;try{n=Rl(Dr(ax()),r.data)}catch{return}const{eventType:s,eventData:l}=n,o=vx[s];let c;try{c=o?Rl(o,l):l}catch(d){return Ol().forceError([`An error occurred processing the "${s}" event from the Telegram application.`,"Please, file an issue here:","https://github.com/Telegram-Mini-Apps/tma.js/issues/new/choose"].join(`
`),n,d)}bx(s,c)}const{on:qp,emit:bx}=dx(()=>{const r=window;!r.TelegramGameProxy&&(r.TelegramGameProxy={}),wc(r.TelegramGameProxy,"receiveEvent",_c),Mp(r,"TelegramGameProxy"),!r.Telegram&&(r.Telegram={}),!r.Telegram.WebView&&(r.Telegram.WebView={}),wc(r.Telegram.WebView,"receiveEvent",_c),Mp(r.Telegram,"WebView"),wc(r,"TelegramGameProxy_receiveEvent",_c),window.addEventListener("message",Bp)},()=>{[["TelegramGameProxy_receiveEvent"],["TelegramGameProxy","receiveEvent"],["Telegram","WebView","receiveEvent"]].forEach(r=>{const n=window;let s=[void 0,n];for(const c of r)if(s=[s[1],s[1][c]],!s[1])return;const[l,o]=s;"unwrap"in o&&(o.unwrap(),l&&l!==n&&!Object.keys(l).length&&delete n[r[0]])}),window.removeEventListener("message",Bp)}),_x=(...r)=>yx()(...r);function wx(r,n){Ol().log("Posting event:",n?{eventType:r,eventData:n}:{eventType:r});const s=window,l=JSON.stringify({eventType:r,eventData:n});return ix()?(_x(l,gx()),kr(void 0)):sx(s)?(s.TelegramWebviewProxy.postEvent(r,JSON.stringify(n)),kr(void 0)):Yg(gt({external:gt({notify:rf()})}),s)?(s.external.notify(l),kr(void 0)):Bl(new ux)}function $l(r,n){return Br(r,n)}const o0=$l(wx),c0=(...r)=>o0()(...r),xx=(...r)=>e0(c0(...r)),$p=$l("0.0"),Hp=$l({}),Ip=$l(!1);function Sx(r={}){const{version:n,isInlineMode:s,themeParams:l}=r;if(n&&typeof s=="boolean"&&l)$p.set(n),Ip.set(s),Hp.set(l);else{const h=Nn(i0(),of(m=>m,m=>{$p.set(n||m.tgWebAppVersion),Ip.set(typeof s=="boolean"?s:!!m.tgWebAppBotInline),Hp.set(l||m.tgWebAppThemeParams)}));if(h)return Bl(h)}r.postEvent&&o0.set(r.postEvent);const[o,c]=$w(qp("reload_iframe",()=>{Ol().log("Received a request to reload the page"),xx("iframe_will_reload"),window.location.reload()})),{acceptCustomStyles:d=!0}=r;if(d){const h=document.createElement("style");h.id="telegram-custom-styles",document.head.appendChild(h),o(qp("set_custom_style",m=>{h.innerHTML=m}),()=>{document.head.removeChild(h)})}return Nn(c0("iframe_ready",{reload_supported:!0}),Wg(()=>(Ol().log("The package was initialized"),c)))}const Ex=t0(Sx),Tx="modulepreload",Ax=function(r){return"/masterbot-miniapp/"+r},Gp={},jx=function(n,s,l){let o=Promise.resolve();if(s&&s.length>0){let m=function(p){return Promise.all(p.map(v=>Promise.resolve(v).then(_=>({status:"fulfilled",value:_}),_=>({status:"rejected",reason:_}))))};document.getElementsByTagName("link");const d=document.querySelector("meta[property=csp-nonce]"),h=d?.nonce||d?.getAttribute("nonce");o=m(s.map(p=>{if(p=Ax(p),p in Gp)return;Gp[p]=!0;const v=p.endsWith(".css"),_=v?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${p}"]${_}`))return;const w=document.createElement("link");if(w.rel=v?"stylesheet":Tx,v||(w.as="script"),w.crossOrigin="",w.href=p,h&&w.setAttribute("nonce",h),document.head.appendChild(w),v)return new Promise((x,R)=>{w.addEventListener("load",x),w.addEventListener("error",()=>R(new Error(`Unable to preload CSS for ${p}`)))})}))}function c(d){const h=new Event("vite:preloadError",{cancelable:!0});if(h.payload=d,window.dispatchEvent(h),!h.defaultPrevented)throw d}return o.then(d=>{for(const h of d||[])h.status==="rejected"&&c(h.reason);return n().catch(c)})};function Hl(){const[r,n]=A.useState({userId:null,startParam:null,userName:"Master",initDataRaw:null,isReady:!1,error:null});return A.useEffect(()=>{try{const s=ox(),l=s.tgWebAppData,o=l?.user??null,c=fx()??null,d=s.tgWebAppStartParam??l?.start_param??null;n({userId:o?.id??null,startParam:d,userName:o?.first_name??"Master",initDataRaw:c,isReady:!0,error:null})}catch(s){s instanceof Error&&s.message,n({userId:null,startParam:null,userName:"Master",initDataRaw:null,isReady:!0,error:"    Telegram"})}},[]),r}function Il(r,n){var s={};for(var l in r)Object.prototype.hasOwnProperty.call(r,l)&&n.indexOf(l)<0&&(s[l]=r[l]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,l=Object.getOwnPropertySymbols(r);o<l.length;o++)n.indexOf(l[o])<0&&Object.prototype.propertyIsEnumerable.call(r,l[o])&&(s[l[o]]=r[l[o]]);return s}function Rx(r,n,s,l){function o(c){return c instanceof s?c:new s(function(d){d(c)})}return new(s||(s=Promise))(function(c,d){function h(v){try{p(l.next(v))}catch(_){d(_)}}function m(v){try{p(l.throw(v))}catch(_){d(_)}}function p(v){v.done?c(v.value):o(v.value).then(h,m)}p((l=l.apply(r,n||[])).next())})}const Ox=r=>r?(...n)=>r(...n):(...n)=>fetch(...n);class ff extends Error{constructor(n,s="FunctionsError",l){super(n),this.name=s,this.context=l}}class Nx extends ff{constructor(n){super("Failed to send a request to the Edge Function","FunctionsFetchError",n)}}class Vp extends ff{constructor(n){super("Relay Error invoking the Edge Function","FunctionsRelayError",n)}}class Pp extends ff{constructor(n){super("Edge Function returned a non-2xx status code","FunctionsHttpError",n)}}var qc;(function(r){r.Any="any",r.ApNortheast1="ap-northeast-1",r.ApNortheast2="ap-northeast-2",r.ApSouth1="ap-south-1",r.ApSoutheast1="ap-southeast-1",r.ApSoutheast2="ap-southeast-2",r.CaCentral1="ca-central-1",r.EuCentral1="eu-central-1",r.EuWest1="eu-west-1",r.EuWest2="eu-west-2",r.EuWest3="eu-west-3",r.SaEast1="sa-east-1",r.UsEast1="us-east-1",r.UsWest1="us-west-1",r.UsWest2="us-west-2"})(qc||(qc={}));class Cx{constructor(n,{headers:s={},customFetch:l,region:o=qc.Any}={}){this.url=n,this.headers=s,this.region=o,this.fetch=Ox(l)}setAuth(n){this.headers.Authorization=`Bearer ${n}`}invoke(n){return Rx(this,arguments,void 0,function*(s,l={}){var o;let c,d;try{const{headers:h,method:m,body:p,signal:v,timeout:_}=l;let w={},{region:x}=l;x||(x=this.region);const R=new URL(`${this.url}/${s}`);x&&x!=="any"&&(w["x-region"]=x,R.searchParams.set("forceFunctionRegion",x));let T;p&&(h&&!Object.prototype.hasOwnProperty.call(h,"Content-Type")||!h)?typeof Blob<"u"&&p instanceof Blob||p instanceof ArrayBuffer?(w["Content-Type"]="application/octet-stream",T=p):typeof p=="string"?(w["Content-Type"]="text/plain",T=p):typeof FormData<"u"&&p instanceof FormData?T=p:(w["Content-Type"]="application/json",T=JSON.stringify(p)):p&&typeof p!="string"&&!(typeof Blob<"u"&&p instanceof Blob)&&!(p instanceof ArrayBuffer)&&!(typeof FormData<"u"&&p instanceof FormData)?T=JSON.stringify(p):T=p;let j=v;_&&(d=new AbortController,c=setTimeout(()=>d.abort(),_),v?(j=d.signal,v.addEventListener("abort",()=>d.abort())):j=d.signal);const C=yield this.fetch(R.toString(),{method:m||"POST",headers:Object.assign(Object.assign(Object.assign({},w),this.headers),h),body:T,signal:j}).catch(F=>{throw new Nx(F)}),U=C.headers.get("x-relay-error");if(U&&U==="true")throw new Vp(C);if(!C.ok)throw new Pp(C);let q=((o=C.headers.get("Content-Type"))!==null&&o!==void 0?o:"text/plain").split(";")[0].trim(),H;return q==="application/json"?H=yield C.json():q==="application/octet-stream"||q==="application/pdf"?H=yield C.blob():q==="text/event-stream"?H=C:q==="multipart/form-data"?H=yield C.formData():H=yield C.text(),{data:H,error:null,response:C}}catch(h){return{data:null,error:h,response:h instanceof Pp||h instanceof Vp?h.context:void 0}}finally{c&&clearTimeout(c)}})}}var Lx=class extends Error{constructor(r){super(r.message),this.name="PostgrestError",this.details=r.details,this.hint=r.hint,this.code=r.code}},kx=class{constructor(r){var n,s,l;this.shouldThrowOnError=!1,this.method=r.method,this.url=r.url,this.headers=new Headers(r.headers),this.schema=r.schema,this.body=r.body,this.shouldThrowOnError=(n=r.shouldThrowOnError)!==null&&n!==void 0?n:!1,this.signal=r.signal,this.isMaybeSingle=(s=r.isMaybeSingle)!==null&&s!==void 0?s:!1,this.urlLengthLimit=(l=r.urlLengthLimit)!==null&&l!==void 0?l:8e3,r.fetch?this.fetch=r.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(r,n){return this.headers=new Headers(this.headers),this.headers.set(r,n),this}then(r,n){var s=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const l=this.fetch;let o=l(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async c=>{let d=null,h=null,m=null,p=c.status,v=c.statusText;if(c.ok){var _,w;if(s.method!=="HEAD"){var x;const C=await c.text();C===""||(s.headers.get("Accept")==="text/csv"||s.headers.get("Accept")&&(!((x=s.headers.get("Accept"))===null||x===void 0)&&x.includes("application/vnd.pgrst.plan+text"))?h=C:h=JSON.parse(C))}const T=(_=s.headers.get("Prefer"))===null||_===void 0?void 0:_.match(/count=(exact|planned|estimated)/),j=(w=c.headers.get("content-range"))===null||w===void 0?void 0:w.split("/");T&&j&&j.length>1&&(m=parseInt(j[1])),s.isMaybeSingle&&s.method==="GET"&&Array.isArray(h)&&(h.length>1?(d={code:"PGRST116",details:`Results contain ${h.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},h=null,m=null,p=406,v="Not Acceptable"):h.length===1?h=h[0]:h=null)}else{var R;const T=await c.text();try{d=JSON.parse(T),Array.isArray(d)&&c.status===404&&(h=[],d=null,p=200,v="OK")}catch{c.status===404&&T===""?(p=204,v="No Content"):d={message:T}}if(d&&s.isMaybeSingle&&(!(d==null||(R=d.details)===null||R===void 0)&&R.includes("0 rows"))&&(d=null,p=200,v="OK"),d&&s.shouldThrowOnError)throw new Lx(d)}return{error:d,data:h,count:m,status:p,statusText:v}});return this.shouldThrowOnError||(o=o.catch(c=>{var d;let h="",m="",p="";const v=c?.cause;if(v){var _,w,x,R;const C=(_=v?.message)!==null&&_!==void 0?_:"",U=(w=v?.code)!==null&&w!==void 0?w:"";h=`${(x=c?.name)!==null&&x!==void 0?x:"FetchError"}: ${c?.message}`,h+=`

Caused by: ${(R=v?.name)!==null&&R!==void 0?R:"Error"}: ${C}`,U&&(h+=` (${U})`),v?.stack&&(h+=`
${v.stack}`)}else{var T;h=(T=c?.stack)!==null&&T!==void 0?T:""}const j=this.url.toString().length;return c?.name==="AbortError"||c?.code==="ABORT_ERR"?(p="",m="Request was aborted (timeout or manual cancellation)",j>this.urlLengthLimit&&(m+=`. Note: Your request URL is ${j} characters, which may exceed server limits. If selecting many fields, consider using views. If filtering with large arrays (e.g., .in('id', [many IDs])), consider using an RPC function to pass values server-side.`)):(v?.name==="HeadersOverflowError"||v?.code==="UND_ERR_HEADERS_OVERFLOW")&&(p="",m="HTTP headers exceeded server limits (typically 16KB)",j>this.urlLengthLimit&&(m+=`. Your request URL is ${j} characters. If selecting many fields, consider using views. If filtering with large arrays (e.g., .in('id', [200+ IDs])), consider using an RPC function instead.`)),{error:{message:`${(d=c?.name)!==null&&d!==void 0?d:"FetchError"}: ${c?.message}`,details:h,hint:m,code:p},data:null,count:null,status:0,statusText:""}})),o.then(r,n)}returns(){return this}overrideTypes(){return this}},Dx=class extends kx{select(r){let n=!1;const s=(r??"*").split("").map(l=>/\s/.test(l)&&!n?"":(l==='"'&&(n=!n),l)).join("");return this.url.searchParams.set("select",s),this.headers.append("Prefer","return=representation"),this}order(r,{ascending:n=!0,nullsFirst:s,foreignTable:l,referencedTable:o=l}={}){const c=o?`${o}.order`:"order",d=this.url.searchParams.get(c);return this.url.searchParams.set(c,`${d?`${d},`:""}${r}.${n?"asc":"desc"}${s===void 0?"":s?".nullsfirst":".nullslast"}`),this}limit(r,{foreignTable:n,referencedTable:s=n}={}){const l=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(l,`${r}`),this}range(r,n,{foreignTable:s,referencedTable:l=s}={}){const o=typeof l>"u"?"offset":`${l}.offset`,c=typeof l>"u"?"limit":`${l}.limit`;return this.url.searchParams.set(o,`${r}`),this.url.searchParams.set(c,`${n-r+1}`),this}abortSignal(r){return this.signal=r,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:r=!1,verbose:n=!1,settings:s=!1,buffers:l=!1,wal:o=!1,format:c="text"}={}){var d;const h=[r?"analyze":null,n?"verbose":null,s?"settings":null,l?"buffers":null,o?"wal":null].filter(Boolean).join("|"),m=(d=this.headers.get("Accept"))!==null&&d!==void 0?d:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${c}; for="${m}"; options=${h};`),c==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(r){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${r}`),this}};const Kp=new RegExp("[,()]");var Or=class extends Dx{eq(r,n){return this.url.searchParams.append(r,`eq.${n}`),this}neq(r,n){return this.url.searchParams.append(r,`neq.${n}`),this}gt(r,n){return this.url.searchParams.append(r,`gt.${n}`),this}gte(r,n){return this.url.searchParams.append(r,`gte.${n}`),this}lt(r,n){return this.url.searchParams.append(r,`lt.${n}`),this}lte(r,n){return this.url.searchParams.append(r,`lte.${n}`),this}like(r,n){return this.url.searchParams.append(r,`like.${n}`),this}likeAllOf(r,n){return this.url.searchParams.append(r,`like(all).{${n.join(",")}}`),this}likeAnyOf(r,n){return this.url.searchParams.append(r,`like(any).{${n.join(",")}}`),this}ilike(r,n){return this.url.searchParams.append(r,`ilike.${n}`),this}ilikeAllOf(r,n){return this.url.searchParams.append(r,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(r,n){return this.url.searchParams.append(r,`ilike(any).{${n.join(",")}}`),this}regexMatch(r,n){return this.url.searchParams.append(r,`match.${n}`),this}regexIMatch(r,n){return this.url.searchParams.append(r,`imatch.${n}`),this}is(r,n){return this.url.searchParams.append(r,`is.${n}`),this}isDistinct(r,n){return this.url.searchParams.append(r,`isdistinct.${n}`),this}in(r,n){const s=Array.from(new Set(n)).map(l=>typeof l=="string"&&Kp.test(l)?`"${l}"`:`${l}`).join(",");return this.url.searchParams.append(r,`in.(${s})`),this}notIn(r,n){const s=Array.from(new Set(n)).map(l=>typeof l=="string"&&Kp.test(l)?`"${l}"`:`${l}`).join(",");return this.url.searchParams.append(r,`not.in.(${s})`),this}contains(r,n){return typeof n=="string"?this.url.searchParams.append(r,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(r,`cs.{${n.join(",")}}`):this.url.searchParams.append(r,`cs.${JSON.stringify(n)}`),this}containedBy(r,n){return typeof n=="string"?this.url.searchParams.append(r,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(r,`cd.{${n.join(",")}}`):this.url.searchParams.append(r,`cd.${JSON.stringify(n)}`),this}rangeGt(r,n){return this.url.searchParams.append(r,`sr.${n}`),this}rangeGte(r,n){return this.url.searchParams.append(r,`nxl.${n}`),this}rangeLt(r,n){return this.url.searchParams.append(r,`sl.${n}`),this}rangeLte(r,n){return this.url.searchParams.append(r,`nxr.${n}`),this}rangeAdjacent(r,n){return this.url.searchParams.append(r,`adj.${n}`),this}overlaps(r,n){return typeof n=="string"?this.url.searchParams.append(r,`ov.${n}`):this.url.searchParams.append(r,`ov.{${n.join(",")}}`),this}textSearch(r,n,{config:s,type:l}={}){let o="";l==="plain"?o="pl":l==="phrase"?o="ph":l==="websearch"&&(o="w");const c=s===void 0?"":`(${s})`;return this.url.searchParams.append(r,`${o}fts${c}.${n}`),this}match(r){return Object.entries(r).forEach(([n,s])=>{this.url.searchParams.append(n,`eq.${s}`)}),this}not(r,n,s){return this.url.searchParams.append(r,`not.${n}.${s}`),this}or(r,{foreignTable:n,referencedTable:s=n}={}){const l=s?`${s}.or`:"or";return this.url.searchParams.append(l,`(${r})`),this}filter(r,n,s){return this.url.searchParams.append(r,`${n}.${s}`),this}},Ux=class{constructor(r,{headers:n={},schema:s,fetch:l,urlLengthLimit:o=8e3}){this.url=r,this.headers=new Headers(n),this.schema=s,this.fetch=l,this.urlLengthLimit=o}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(r,n){const{head:s=!1,count:l}=n??{},o=s?"HEAD":"GET";let c=!1;const d=(r??"*").split("").map(p=>/\s/.test(p)&&!c?"":(p==='"'&&(c=!c),p)).join(""),{url:h,headers:m}=this.cloneRequestState();return h.searchParams.set("select",d),l&&m.append("Prefer",`count=${l}`),new Or({method:o,url:h,headers:m,schema:this.schema,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}insert(r,{count:n,defaultToNull:s=!0}={}){var l;const o="POST",{url:c,headers:d}=this.cloneRequestState();if(n&&d.append("Prefer",`count=${n}`),s||d.append("Prefer","missing=default"),Array.isArray(r)){const h=r.reduce((m,p)=>m.concat(Object.keys(p)),[]);if(h.length>0){const m=[...new Set(h)].map(p=>`"${p}"`);c.searchParams.set("columns",m.join(","))}}return new Or({method:o,url:c,headers:d,schema:this.schema,body:r,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch,urlLengthLimit:this.urlLengthLimit})}upsert(r,{onConflict:n,ignoreDuplicates:s=!1,count:l,defaultToNull:o=!0}={}){var c;const d="POST",{url:h,headers:m}=this.cloneRequestState();if(m.append("Prefer",`resolution=${s?"ignore":"merge"}-duplicates`),n!==void 0&&h.searchParams.set("on_conflict",n),l&&m.append("Prefer",`count=${l}`),o||m.append("Prefer","missing=default"),Array.isArray(r)){const p=r.reduce((v,_)=>v.concat(Object.keys(_)),[]);if(p.length>0){const v=[...new Set(p)].map(_=>`"${_}"`);h.searchParams.set("columns",v.join(","))}}return new Or({method:d,url:h,headers:m,schema:this.schema,body:r,fetch:(c=this.fetch)!==null&&c!==void 0?c:fetch,urlLengthLimit:this.urlLengthLimit})}update(r,{count:n}={}){var s;const l="PATCH",{url:o,headers:c}=this.cloneRequestState();return n&&c.append("Prefer",`count=${n}`),new Or({method:l,url:o,headers:c,schema:this.schema,body:r,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch,urlLengthLimit:this.urlLengthLimit})}delete({count:r}={}){var n;const s="DELETE",{url:l,headers:o}=this.cloneRequestState();return r&&o.append("Prefer",`count=${r}`),new Or({method:s,url:l,headers:o,schema:this.schema,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch,urlLengthLimit:this.urlLengthLimit})}};function Hs(r){"@babel/helpers - typeof";return Hs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Hs(r)}function Mx(r,n){if(Hs(r)!="object"||!r)return r;var s=r[Symbol.toPrimitive];if(s!==void 0){var l=s.call(r,n);if(Hs(l)!="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(r)}function zx(r){var n=Mx(r,"string");return Hs(n)=="symbol"?n:n+""}function Bx(r,n,s){return(n=zx(n))in r?Object.defineProperty(r,n,{value:s,enumerable:!0,configurable:!0,writable:!0}):r[n]=s,r}function Yp(r,n){var s=Object.keys(r);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(r);n&&(l=l.filter(function(o){return Object.getOwnPropertyDescriptor(r,o).enumerable})),s.push.apply(s,l)}return s}function yl(r){for(var n=1;n<arguments.length;n++){var s=arguments[n]!=null?arguments[n]:{};n%2?Yp(Object(s),!0).forEach(function(l){Bx(r,l,s[l])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(s)):Yp(Object(s)).forEach(function(l){Object.defineProperty(r,l,Object.getOwnPropertyDescriptor(s,l))})}return r}var qx=class f0{constructor(n,{headers:s={},schema:l,fetch:o,timeout:c,urlLengthLimit:d=8e3}={}){this.url=n,this.headers=new Headers(s),this.schemaName=l,this.urlLengthLimit=d;const h=o??globalThis.fetch;c!==void 0&&c>0?this.fetch=(m,p)=>{const v=new AbortController,_=setTimeout(()=>v.abort(),c),w=p?.signal;if(w){if(w.aborted)return clearTimeout(_),h(m,p);const x=()=>{clearTimeout(_),v.abort()};return w.addEventListener("abort",x,{once:!0}),h(m,yl(yl({},p),{},{signal:v.signal})).finally(()=>{clearTimeout(_),w.removeEventListener("abort",x)})}return h(m,yl(yl({},p),{},{signal:v.signal})).finally(()=>clearTimeout(_))}:this.fetch=h}from(n){if(!n||typeof n!="string"||n.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new Ux(new URL(`${this.url}/${n}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}schema(n){return new f0(this.url,{headers:this.headers,schema:n,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}rpc(n,s={},{head:l=!1,get:o=!1,count:c}={}){var d;let h;const m=new URL(`${this.url}/rpc/${n}`);let p;const v=x=>x!==null&&typeof x=="object"&&(!Array.isArray(x)||x.some(v)),_=l&&Object.values(s).some(v);_?(h="POST",p=s):l||o?(h=l?"HEAD":"GET",Object.entries(s).filter(([x,R])=>R!==void 0).map(([x,R])=>[x,Array.isArray(R)?`{${R.join(",")}}`:`${R}`]).forEach(([x,R])=>{m.searchParams.append(x,R)})):(h="POST",p=s);const w=new Headers(this.headers);return _?w.set("Prefer",c?`count=${c},return=minimal`:"return=minimal"):c&&w.set("Prefer",`count=${c}`),new Or({method:h,url:m,headers:w,schema:this.schemaName,body:p,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch,urlLengthLimit:this.urlLengthLimit})}};class $x{constructor(){}static detectEnvironment(){var n;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((n=navigator.userAgent)===null||n===void 0)&&n.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const s=globalThis.process;if(s){const l=s.versions;if(l&&l.node){const o=l.node,c=parseInt(o.replace(/^v/,"").split(".")[0]);return c>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${c} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${c} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const n=this.detectEnvironment();if(n.constructor)return n.constructor;let s=n.error||"WebSocket not supported in this environment.";throw n.workaround&&(s+=`

Suggested solution: ${n.workaround}`),new Error(s)}static createWebSocket(n,s){const l=this.getWebSocketConstructor();return new l(n,s)}static isWebSocketSupported(){try{const n=this.detectEnvironment();return n.type==="native"||n.type==="ws"}catch{return!1}}}const Hx="2.95.3",Ix=`realtime-js/${Hx}`,Gx="1.0.0",d0="2.0.0",Zp=d0,$c=1e4,Vx=1e3,Px=100;var ia;(function(r){r[r.connecting=0]="connecting",r[r.open=1]="open",r[r.closing=2]="closing",r[r.closed=3]="closed"})(ia||(ia={}));var Fe;(function(r){r.closed="closed",r.errored="errored",r.joined="joined",r.joining="joining",r.leaving="leaving"})(Fe||(Fe={}));var an;(function(r){r.close="phx_close",r.error="phx_error",r.join="phx_join",r.reply="phx_reply",r.leave="phx_leave",r.access_token="access_token"})(an||(an={}));var Hc;(function(r){r.websocket="websocket"})(Hc||(Hc={}));var Ca;(function(r){r.Connecting="connecting",r.Open="open",r.Closing="closing",r.Closed="closed"})(Ca||(Ca={}));class Kx{constructor(n){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=n??[]}encode(n,s){if(n.event===this.BROADCAST_EVENT&&!(n.payload instanceof ArrayBuffer)&&typeof n.payload.event=="string")return s(this._binaryEncodeUserBroadcastPush(n));let l=[n.join_ref,n.ref,n.topic,n.event,n.payload];return s(JSON.stringify(l))}_binaryEncodeUserBroadcastPush(n){var s;return this._isArrayBuffer((s=n.payload)===null||s===void 0?void 0:s.payload)?this._encodeBinaryUserBroadcastPush(n):this._encodeJsonUserBroadcastPush(n)}_encodeBinaryUserBroadcastPush(n){var s,l;const o=(l=(s=n.payload)===null||s===void 0?void 0:s.payload)!==null&&l!==void 0?l:new ArrayBuffer(0);return this._encodeUserBroadcastPush(n,this.BINARY_ENCODING,o)}_encodeJsonUserBroadcastPush(n){var s,l;const o=(l=(s=n.payload)===null||s===void 0?void 0:s.payload)!==null&&l!==void 0?l:{},d=new TextEncoder().encode(JSON.stringify(o)).buffer;return this._encodeUserBroadcastPush(n,this.JSON_ENCODING,d)}_encodeUserBroadcastPush(n,s,l){var o,c;const d=n.topic,h=(o=n.ref)!==null&&o!==void 0?o:"",m=(c=n.join_ref)!==null&&c!==void 0?c:"",p=n.payload.event,v=this.allowedMetadataKeys?this._pick(n.payload,this.allowedMetadataKeys):{},_=Object.keys(v).length===0?"":JSON.stringify(v);if(m.length>255)throw new Error(`joinRef length ${m.length} exceeds maximum of 255`);if(h.length>255)throw new Error(`ref length ${h.length} exceeds maximum of 255`);if(d.length>255)throw new Error(`topic length ${d.length} exceeds maximum of 255`);if(p.length>255)throw new Error(`userEvent length ${p.length} exceeds maximum of 255`);if(_.length>255)throw new Error(`metadata length ${_.length} exceeds maximum of 255`);const w=this.USER_BROADCAST_PUSH_META_LENGTH+m.length+h.length+d.length+p.length+_.length,x=new ArrayBuffer(this.HEADER_LENGTH+w);let R=new DataView(x),T=0;R.setUint8(T++,this.KINDS.userBroadcastPush),R.setUint8(T++,m.length),R.setUint8(T++,h.length),R.setUint8(T++,d.length),R.setUint8(T++,p.length),R.setUint8(T++,_.length),R.setUint8(T++,s),Array.from(m,C=>R.setUint8(T++,C.charCodeAt(0))),Array.from(h,C=>R.setUint8(T++,C.charCodeAt(0))),Array.from(d,C=>R.setUint8(T++,C.charCodeAt(0))),Array.from(p,C=>R.setUint8(T++,C.charCodeAt(0))),Array.from(_,C=>R.setUint8(T++,C.charCodeAt(0)));var j=new Uint8Array(x.byteLength+l.byteLength);return j.set(new Uint8Array(x),0),j.set(new Uint8Array(l),x.byteLength),j.buffer}decode(n,s){if(this._isArrayBuffer(n)){let l=this._binaryDecode(n);return s(l)}if(typeof n=="string"){const l=JSON.parse(n),[o,c,d,h,m]=l;return s({join_ref:o,ref:c,topic:d,event:h,payload:m})}return s({})}_binaryDecode(n){const s=new DataView(n),l=s.getUint8(0),o=new TextDecoder;if(l===this.KINDS.userBroadcast)return this._decodeUserBroadcast(n,s,o)}_decodeUserBroadcast(n,s,l){const o=s.getUint8(1),c=s.getUint8(2),d=s.getUint8(3),h=s.getUint8(4);let m=this.HEADER_LENGTH+4;const p=l.decode(n.slice(m,m+o));m=m+o;const v=l.decode(n.slice(m,m+c));m=m+c;const _=l.decode(n.slice(m,m+d));m=m+d;const w=n.slice(m,n.byteLength),x=h===this.JSON_ENCODING?JSON.parse(l.decode(w)):w,R={type:this.BROADCAST_EVENT,event:v,payload:x};return d>0&&(R.meta=JSON.parse(_)),{join_ref:null,ref:null,topic:p,event:this.BROADCAST_EVENT,payload:R}}_isArrayBuffer(n){var s;return n instanceof ArrayBuffer||((s=n?.constructor)===null||s===void 0?void 0:s.name)==="ArrayBuffer"}_pick(n,s){return!n||typeof n!="object"?{}:Object.fromEntries(Object.entries(n).filter(([l])=>s.includes(l)))}}class h0{constructor(n,s){this.callback=n,this.timerCalc=s,this.timer=void 0,this.tries=0,this.callback=n,this.timerCalc=s}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var ke;(function(r){r.abstime="abstime",r.bool="bool",r.date="date",r.daterange="daterange",r.float4="float4",r.float8="float8",r.int2="int2",r.int4="int4",r.int4range="int4range",r.int8="int8",r.int8range="int8range",r.json="json",r.jsonb="jsonb",r.money="money",r.numeric="numeric",r.oid="oid",r.reltime="reltime",r.text="text",r.time="time",r.timestamp="timestamp",r.timestamptz="timestamptz",r.timetz="timetz",r.tsrange="tsrange",r.tstzrange="tstzrange"})(ke||(ke={}));const Jp=(r,n,s={})=>{var l;const o=(l=s.skipTypes)!==null&&l!==void 0?l:[];return n?Object.keys(n).reduce((c,d)=>(c[d]=Yx(d,r,n,o),c),{}):{}},Yx=(r,n,s,l)=>{const o=n.find(h=>h.name===r),c=o?.type,d=s[r];return c&&!l.includes(c)?m0(c,d):Ic(d)},m0=(r,n)=>{if(r.charAt(0)==="_"){const s=r.slice(1,r.length);return Qx(n,s)}switch(r){case ke.bool:return Zx(n);case ke.float4:case ke.float8:case ke.int2:case ke.int4:case ke.int8:case ke.numeric:case ke.oid:return Jx(n);case ke.json:case ke.jsonb:return Xx(n);case ke.timestamp:return Wx(n);case ke.abstime:case ke.date:case ke.daterange:case ke.int4range:case ke.int8range:case ke.money:case ke.reltime:case ke.text:case ke.time:case ke.timestamptz:case ke.timetz:case ke.tsrange:case ke.tstzrange:return Ic(n);default:return Ic(n)}},Ic=r=>r,Zx=r=>{switch(r){case"t":return!0;case"f":return!1;default:return r}},Jx=r=>{if(typeof r=="string"){const n=parseFloat(r);if(!Number.isNaN(n))return n}return r},Xx=r=>{if(typeof r=="string")try{return JSON.parse(r)}catch{return r}return r},Qx=(r,n)=>{if(typeof r!="string")return r;const s=r.length-1,l=r[s];if(r[0]==="{"&&l==="}"){let c;const d=r.slice(1,s);try{c=JSON.parse("["+d+"]")}catch{c=d?d.split(","):[]}return c.map(h=>m0(n,h))}return r},Wx=r=>typeof r=="string"?r.replace(" ","T"):r,p0=r=>{const n=new URL(r);return n.protocol=n.protocol.replace(/^ws/i,"http"),n.pathname=n.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),n.pathname===""||n.pathname==="/"?n.pathname="/api/broadcast":n.pathname=n.pathname+"/api/broadcast",n.href};class xc{constructor(n,s,l={},o=$c){this.channel=n,this.event=s,this.payload=l,this.timeout=o,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(n){this.timeout=n,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(n){this.payload=Object.assign(Object.assign({},this.payload),n)}receive(n,s){var l;return this._hasReceived(n)&&s((l=this.receivedResp)===null||l===void 0?void 0:l.response),this.recHooks.push({status:n,callback:s}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const n=s=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=s,this._matchReceive(s)};this.channel._on(this.refEvent,{},n),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(n,s){this.refEvent&&this.channel._trigger(this.refEvent,{status:n,response:s})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:n,response:s}){this.recHooks.filter(l=>l.status===n).forEach(l=>l.callback(s))}_hasReceived(n){return this.receivedResp&&this.receivedResp.status===n}}var Xp;(function(r){r.SYNC="sync",r.JOIN="join",r.LEAVE="leave"})(Xp||(Xp={}));class Bs{constructor(n,s){this.channel=n,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const l=s?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(l.state,{},o=>{const{onJoin:c,onLeave:d,onSync:h}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Bs.syncState(this.state,o,c,d),this.pendingDiffs.forEach(m=>{this.state=Bs.syncDiff(this.state,m,c,d)}),this.pendingDiffs=[],h()}),this.channel._on(l.diff,{},o=>{const{onJoin:c,onLeave:d,onSync:h}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(o):(this.state=Bs.syncDiff(this.state,o,c,d),h())}),this.onJoin((o,c,d)=>{this.channel._trigger("presence",{event:"join",key:o,currentPresences:c,newPresences:d})}),this.onLeave((o,c,d)=>{this.channel._trigger("presence",{event:"leave",key:o,currentPresences:c,leftPresences:d})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(n,s,l,o){const c=this.cloneDeep(n),d=this.transformState(s),h={},m={};return this.map(c,(p,v)=>{d[p]||(m[p]=v)}),this.map(d,(p,v)=>{const _=c[p];if(_){const w=v.map(j=>j.presence_ref),x=_.map(j=>j.presence_ref),R=v.filter(j=>x.indexOf(j.presence_ref)<0),T=_.filter(j=>w.indexOf(j.presence_ref)<0);R.length>0&&(h[p]=R),T.length>0&&(m[p]=T)}else h[p]=v}),this.syncDiff(c,{joins:h,leaves:m},l,o)}static syncDiff(n,s,l,o){const{joins:c,leaves:d}={joins:this.transformState(s.joins),leaves:this.transformState(s.leaves)};return l||(l=()=>{}),o||(o=()=>{}),this.map(c,(h,m)=>{var p;const v=(p=n[h])!==null&&p!==void 0?p:[];if(n[h]=this.cloneDeep(m),v.length>0){const _=n[h].map(x=>x.presence_ref),w=v.filter(x=>_.indexOf(x.presence_ref)<0);n[h].unshift(...w)}l(h,v,m)}),this.map(d,(h,m)=>{let p=n[h];if(!p)return;const v=m.map(_=>_.presence_ref);p=p.filter(_=>v.indexOf(_.presence_ref)<0),n[h]=p,o(h,p,m),p.length===0&&delete n[h]}),n}static map(n,s){return Object.getOwnPropertyNames(n).map(l=>s(l,n[l]))}static transformState(n){return n=this.cloneDeep(n),Object.getOwnPropertyNames(n).reduce((s,l)=>{const o=n[l];return"metas"in o?s[l]=o.metas.map(c=>(c.presence_ref=c.phx_ref,delete c.phx_ref,delete c.phx_ref_prev,c)):s[l]=o,s},{})}static cloneDeep(n){return JSON.parse(JSON.stringify(n))}onJoin(n){this.caller.onJoin=n}onLeave(n){this.caller.onLeave=n}onSync(n){this.caller.onSync=n}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Qp;(function(r){r.ALL="*",r.INSERT="INSERT",r.UPDATE="UPDATE",r.DELETE="DELETE"})(Qp||(Qp={}));var qs;(function(r){r.BROADCAST="broadcast",r.PRESENCE="presence",r.POSTGRES_CHANGES="postgres_changes",r.SYSTEM="system"})(qs||(qs={}));var jn;(function(r){r.SUBSCRIBED="SUBSCRIBED",r.TIMED_OUT="TIMED_OUT",r.CLOSED="CLOSED",r.CHANNEL_ERROR="CHANNEL_ERROR"})(jn||(jn={}));class Lr{constructor(n,s={config:{}},l){var o,c;if(this.topic=n,this.params=s,this.socket=l,this.bindings={},this.state=Fe.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=n.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},s.config),this.timeout=this.socket.timeout,this.joinPush=new xc(this,an.join,this.params,this.timeout),this.rejoinTimer=new h0(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Fe.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(d=>d.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Fe.closed,this.socket._remove(this)}),this._onError(d=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,d),this.state=Fe.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Fe.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",d=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,d),this.state=Fe.errored,this.rejoinTimer.scheduleTimeout())}),this._on(an.reply,{},(d,h)=>{this._trigger(this._replyEventName(h),d)}),this.presence=new Bs(this),this.broadcastEndpointURL=p0(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((c=(o=this.params.config)===null||o===void 0?void 0:o.broadcast)===null||c===void 0)&&c.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(n,s=this.timeout){var l,o,c;if(this.socket.isConnected()||this.socket.connect(),this.state==Fe.closed){const{config:{broadcast:d,presence:h,private:m}}=this.params,p=(o=(l=this.bindings.postgres_changes)===null||l===void 0?void 0:l.map(x=>x.filter))!==null&&o!==void 0?o:[],v=!!this.bindings[qs.PRESENCE]&&this.bindings[qs.PRESENCE].length>0||((c=this.params.config.presence)===null||c===void 0?void 0:c.enabled)===!0,_={},w={broadcast:d,presence:Object.assign(Object.assign({},h),{enabled:v}),postgres_changes:p,private:m};this.socket.accessTokenValue&&(_.access_token=this.socket.accessTokenValue),this._onError(x=>n?.(jn.CHANNEL_ERROR,x)),this._onClose(()=>n?.(jn.CLOSED)),this.updateJoinPayload(Object.assign({config:w},_)),this.joinedOnce=!0,this._rejoin(s),this.joinPush.receive("ok",async({postgres_changes:x})=>{var R;if(this.socket._isManualToken()||this.socket.setAuth(),x===void 0){n?.(jn.SUBSCRIBED);return}else{const T=this.bindings.postgres_changes,j=(R=T?.length)!==null&&R!==void 0?R:0,C=[];for(let U=0;U<j;U++){const q=T[U],{filter:{event:H,schema:F,table:P,filter:Y}}=q,z=x&&x[U];if(z&&z.event===H&&Lr.isFilterValueEqual(z.schema,F)&&Lr.isFilterValueEqual(z.table,P)&&Lr.isFilterValueEqual(z.filter,Y))C.push(Object.assign(Object.assign({},q),{id:z.id}));else{this.unsubscribe(),this.state=Fe.errored,n?.(jn.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=C,n&&n(jn.SUBSCRIBED);return}}).receive("error",x=>{this.state=Fe.errored,n?.(jn.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(x).join(", ")||"error")))}).receive("timeout",()=>{n?.(jn.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(n,s={}){return await this.send({type:"presence",event:"track",payload:n},s.timeout||this.timeout)}async untrack(n={}){return await this.send({type:"presence",event:"untrack"},n)}on(n,s,l){return this.state===Fe.joined&&n===qs.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(n,s,l)}async httpSend(n,s,l={}){var o;if(s==null)return Promise.reject("Payload is required for httpSend()");const c={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(c.Authorization=`Bearer ${this.socket.accessTokenValue}`);const d={method:"POST",headers:c,body:JSON.stringify({messages:[{topic:this.subTopic,event:n,payload:s,private:this.private}]})},h=await this._fetchWithTimeout(this.broadcastEndpointURL,d,(o=l.timeout)!==null&&o!==void 0?o:this.timeout);if(h.status===202)return{success:!0};let m=h.statusText;try{const p=await h.json();m=p.error||p.message||m}catch{}return Promise.reject(new Error(m))}async send(n,s={}){var l,o;if(!this._canPush()&&n.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:c,payload:d}=n,h={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(h.Authorization=`Bearer ${this.socket.accessTokenValue}`);const m={method:"POST",headers:h,body:JSON.stringify({messages:[{topic:this.subTopic,event:c,payload:d,private:this.private}]})};try{const p=await this._fetchWithTimeout(this.broadcastEndpointURL,m,(l=s.timeout)!==null&&l!==void 0?l:this.timeout);return await((o=p.body)===null||o===void 0?void 0:o.cancel()),p.ok?"ok":"error"}catch(p){return p.name==="AbortError"?"timed out":"error"}}else return new Promise(c=>{var d,h,m;const p=this._push(n.type,n,s.timeout||this.timeout);n.type==="broadcast"&&!(!((m=(h=(d=this.params)===null||d===void 0?void 0:d.config)===null||h===void 0?void 0:h.broadcast)===null||m===void 0)&&m.ack)&&c("ok"),p.receive("ok",()=>c("ok")),p.receive("error",()=>c("error")),p.receive("timeout",()=>c("timed out"))})}updateJoinPayload(n){this.joinPush.updatePayload(n)}unsubscribe(n=this.timeout){this.state=Fe.leaving;const s=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(an.close,"leave",this._joinRef())};this.joinPush.destroy();let l=null;return new Promise(o=>{l=new xc(this,an.leave,{},n),l.receive("ok",()=>{s(),o("ok")}).receive("timeout",()=>{s(),o("timed out")}).receive("error",()=>{o("error")}),l.send(),this._canPush()||l.trigger("ok",{})}).finally(()=>{l?.destroy()})}teardown(){this.pushBuffer.forEach(n=>n.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Fe.closed,this.bindings={}}async _fetchWithTimeout(n,s,l){const o=new AbortController,c=setTimeout(()=>o.abort(),l),d=await this.socket.fetch(n,Object.assign(Object.assign({},s),{signal:o.signal}));return clearTimeout(c),d}_push(n,s,l=this.timeout){if(!this.joinedOnce)throw`tried to push '${n}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let o=new xc(this,n,s,l);return this._canPush()?o.send():this._addToPushBuffer(o),o}_addToPushBuffer(n){if(n.startTimeout(),this.pushBuffer.push(n),this.pushBuffer.length>Px){const s=this.pushBuffer.shift();s&&(s.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${s.event}`,s.payload))}}_onMessage(n,s,l){return s}_isMember(n){return this.topic===n}_joinRef(){return this.joinPush.ref}_trigger(n,s,l){var o,c;const d=n.toLocaleLowerCase(),{close:h,error:m,leave:p,join:v}=an;if(l&&[h,m,p,v].indexOf(d)>=0&&l!==this._joinRef())return;let w=this._onMessage(d,s,l);if(s&&!w)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(d)?(o=this.bindings.postgres_changes)===null||o===void 0||o.filter(x=>{var R,T,j;return((R=x.filter)===null||R===void 0?void 0:R.event)==="*"||((j=(T=x.filter)===null||T===void 0?void 0:T.event)===null||j===void 0?void 0:j.toLocaleLowerCase())===d}).map(x=>x.callback(w,l)):(c=this.bindings[d])===null||c===void 0||c.filter(x=>{var R,T,j,C,U,q;if(["broadcast","presence","postgres_changes"].includes(d))if("id"in x){const H=x.id,F=(R=x.filter)===null||R===void 0?void 0:R.event;return H&&((T=s.ids)===null||T===void 0?void 0:T.includes(H))&&(F==="*"||F?.toLocaleLowerCase()===((j=s.data)===null||j===void 0?void 0:j.type.toLocaleLowerCase()))}else{const H=(U=(C=x?.filter)===null||C===void 0?void 0:C.event)===null||U===void 0?void 0:U.toLocaleLowerCase();return H==="*"||H===((q=s?.event)===null||q===void 0?void 0:q.toLocaleLowerCase())}else return x.type.toLocaleLowerCase()===d}).map(x=>{if(typeof w=="object"&&"ids"in w){const R=w.data,{schema:T,table:j,commit_timestamp:C,type:U,errors:q}=R;w=Object.assign(Object.assign({},{schema:T,table:j,commit_timestamp:C,eventType:U,new:{},old:{},errors:q}),this._getPayloadRecords(R))}x.callback(w,l)})}_isClosed(){return this.state===Fe.closed}_isJoined(){return this.state===Fe.joined}_isJoining(){return this.state===Fe.joining}_isLeaving(){return this.state===Fe.leaving}_replyEventName(n){return`chan_reply_${n}`}_on(n,s,l){const o=n.toLocaleLowerCase(),c={type:o,filter:s,callback:l};return this.bindings[o]?this.bindings[o].push(c):this.bindings[o]=[c],this}_off(n,s){const l=n.toLocaleLowerCase();return this.bindings[l]&&(this.bindings[l]=this.bindings[l].filter(o=>{var c;return!(((c=o.type)===null||c===void 0?void 0:c.toLocaleLowerCase())===l&&Lr.isEqual(o.filter,s))})),this}static isEqual(n,s){if(Object.keys(n).length!==Object.keys(s).length)return!1;for(const l in n)if(n[l]!==s[l])return!1;return!0}static isFilterValueEqual(n,s){return(n??void 0)===(s??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(n){this._on(an.close,{},n)}_onError(n){this._on(an.error,{},s=>n(s))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(n=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Fe.joining,this.joinPush.resend(n))}_getPayloadRecords(n){const s={new:{},old:{}};return(n.type==="INSERT"||n.type==="UPDATE")&&(s.new=Jp(n.columns,n.record)),(n.type==="UPDATE"||n.type==="DELETE")&&(s.old=Jp(n.columns,n.old_record)),s}}const Sc=()=>{},vl={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},Fx=[1e3,2e3,5e3,1e4],eS=1e4,tS=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class nS{constructor(n,s){var l;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=$c,this.transport=null,this.heartbeatIntervalMs=vl.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Sc,this.ref=0,this.reconnectTimer=null,this.vsn=Zp,this.logger=Sc,this.conn=null,this.sendBuffer=[],this.serializer=new Kx,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=o=>o?(...c)=>o(...c):(...c)=>fetch(...c),!(!((l=s?.params)===null||l===void 0)&&l.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=s.params.apikey,this.endPoint=`${n}/${Hc.websocket}`,this.httpEndpoint=p0(n),this._initializeOptions(s),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(s?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=$x.createWebSocket(this.endpointURL())}catch(n){this._setConnectionState("disconnected");const s=n.message;throw s.includes("Node.js")?new Error(`${s}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${s}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(n,s){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const l=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(l),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(n?this.conn.close(n,s??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(n){const s=await n.unsubscribe();return s==="ok"&&this._remove(n),this.channels.length===0&&this.disconnect(),s}async removeAllChannels(){const n=await Promise.all(this.channels.map(s=>s.unsubscribe()));return this.channels=[],this.disconnect(),n}log(n,s,l){this.logger(n,s,l)}connectionState(){switch(this.conn&&this.conn.readyState){case ia.connecting:return Ca.Connecting;case ia.open:return Ca.Open;case ia.closing:return Ca.Closing;default:return Ca.Closed}}isConnected(){return this.connectionState()===Ca.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(n,s={config:{}}){const l=`realtime:${n}`,o=this.getChannels().find(c=>c.topic===l);if(o)return o;{const c=new Lr(`realtime:${n}`,s,this);return this.channels.push(c),c}}push(n){const{topic:s,event:l,payload:o,ref:c}=n,d=()=>{this.encode(n,h=>{var m;(m=this.conn)===null||m===void 0||m.send(h)})};this.log("push",`${s} ${l} (${c})`,o),this.isConnected()?d():this.sendBuffer.push(d)}async setAuth(n=null){this._authPromise=this._performAuth(n);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var n;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(s){this.log("error","error in heartbeat callback",s)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(s){this.log("error","error in heartbeat callback",s)}this._wasManualDisconnect=!1,(n=this.conn)===null||n===void 0||n.close(Vx,"heartbeat timeout"),setTimeout(()=>{var s;this.isConnected()||(s=this.reconnectTimer)===null||s===void 0||s.scheduleTimeout()},vl.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(s){this.log("error","error in heartbeat callback",s)}this._setAuthSafely("heartbeat")}onHeartbeat(n){this.heartbeatCallback=n}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(n=>n()),this.sendBuffer=[])}_makeRef(){let n=this.ref+1;return n===this.ref?this.ref=0:this.ref=n,this.ref.toString()}_leaveOpenTopic(n){let s=this.channels.find(l=>l.topic===n&&(l._isJoined()||l._isJoining()));s&&(this.log("transport",`leaving duplicate topic "${n}"`),s.unsubscribe())}_remove(n){this.channels=this.channels.filter(s=>s.topic!==n.topic)}_onConnMessage(n){this.decode(n.data,s=>{if(s.topic==="phoenix"&&s.event==="phx_reply"&&s.ref&&s.ref===this.pendingHeartbeatRef){const p=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(s.payload.status==="ok"?"ok":"error",p)}catch(v){this.log("error","error in heartbeat callback",v)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:l,event:o,payload:c,ref:d}=s,h=d?`(${d})`:"",m=c.status||"";this.log("receive",`${m} ${l} ${o} ${h}`.trim(),c),this.channels.filter(p=>p._isMember(l)).forEach(p=>p._trigger(o,c,d)),this._triggerStateCallbacks("message",s)})}_clearTimer(n){var s;n==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):n==="reconnect"&&((s=this.reconnectTimer)===null||s===void 0||s.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=n=>this._onConnError(n),this.conn.onmessage=n=>this._onConnMessage(n),this.conn.onclose=n=>this._onConnClose(n),this.conn.readyState===ia.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===ia.open||this.conn.readyState===ia.connecting)try{this.conn.close()}catch(n){this.log("error","Error closing connection",n)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(n=>n.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(s=>{this.log("error","error waiting for auth on connect",s),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const n=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(n),this.workerRef.onerror=s=>{this.log("worker","worker error",s.message),this._terminateWorker()},this.workerRef.onmessage=s=>{s.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(n){var s;this._setConnectionState("disconnected"),this.log("transport","close",n),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(s=this.reconnectTimer)===null||s===void 0||s.scheduleTimeout(),this._triggerStateCallbacks("close",n)}_onConnError(n){this._setConnectionState("disconnected"),this.log("transport",`${n}`),this._triggerChanError(),this._triggerStateCallbacks("error",n);try{this.heartbeatCallback("error")}catch(s){this.log("error","error in heartbeat callback",s)}}_triggerChanError(){this.channels.forEach(n=>n._trigger(an.error))}_appendParams(n,s){if(Object.keys(s).length===0)return n;const l=n.match(/\?/)?"&":"?",o=new URLSearchParams(s);return`${n}${l}${o}`}_workerObjectUrl(n){let s;if(n)s=n;else{const l=new Blob([tS],{type:"application/javascript"});s=URL.createObjectURL(l)}return s}_setConnectionState(n,s=!1){this._connectionState=n,n==="connecting"?this._wasManualDisconnect=!1:n==="disconnecting"&&(this._wasManualDisconnect=s)}async _performAuth(n=null){let s,l=!1;if(n)s=n,l=!0;else if(this.accessToken)try{s=await this.accessToken()}catch(o){this.log("error","Error fetching access token from callback",o),s=this.accessTokenValue}else s=this.accessTokenValue;l?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=s&&(this.accessTokenValue=s,this.channels.forEach(o=>{const c={access_token:s,version:Ix};s&&o.updateJoinPayload(c),o.joinedOnce&&o._isJoined()&&o._push(an.access_token,{access_token:s})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(n="general"){this._isManualToken()||this.setAuth().catch(s=>{this.log("error",`Error setting auth in ${n}`,s)})}_triggerStateCallbacks(n,s){try{this.stateChangeCallbacks[n].forEach(l=>{try{l(s)}catch(o){this.log("error",`error in ${n} callback`,o)}})}catch(l){this.log("error",`error triggering ${n} callbacks`,l)}}_setupReconnectionTimer(){this.reconnectTimer=new h0(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},vl.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(n){var s,l,o,c,d,h,m,p,v,_,w,x;switch(this.transport=(s=n?.transport)!==null&&s!==void 0?s:null,this.timeout=(l=n?.timeout)!==null&&l!==void 0?l:$c,this.heartbeatIntervalMs=(o=n?.heartbeatIntervalMs)!==null&&o!==void 0?o:vl.HEARTBEAT_INTERVAL,this.worker=(c=n?.worker)!==null&&c!==void 0?c:!1,this.accessToken=(d=n?.accessToken)!==null&&d!==void 0?d:null,this.heartbeatCallback=(h=n?.heartbeatCallback)!==null&&h!==void 0?h:Sc,this.vsn=(m=n?.vsn)!==null&&m!==void 0?m:Zp,n?.params&&(this.params=n.params),n?.logger&&(this.logger=n.logger),(n?.logLevel||n?.log_level)&&(this.logLevel=n.logLevel||n.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(p=n?.reconnectAfterMs)!==null&&p!==void 0?p:(R=>Fx[R-1]||eS),this.vsn){case Gx:this.encode=(v=n?.encode)!==null&&v!==void 0?v:((R,T)=>T(JSON.stringify(R))),this.decode=(_=n?.decode)!==null&&_!==void 0?_:((R,T)=>T(JSON.parse(R)));break;case d0:this.encode=(w=n?.encode)!==null&&w!==void 0?w:this.serializer.encode.bind(this.serializer),this.decode=(x=n?.decode)!==null&&x!==void 0?x:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=n?.workerUrl}}}var Is=class extends Error{constructor(r,n){super(r),this.name="IcebergError",this.status=n.status,this.icebergType=n.icebergType,this.icebergCode=n.icebergCode,this.details=n.details,this.isCommitStateUnknown=n.icebergType==="CommitStateUnknownException"||[500,502,504].includes(n.status)&&n.icebergType?.includes("CommitState")===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function aS(r,n,s){const l=new URL(n,r);if(s)for(const[o,c]of Object.entries(s))c!==void 0&&l.searchParams.set(o,c);return l.toString()}async function rS(r){return!r||r.type==="none"?{}:r.type==="bearer"?{Authorization:`Bearer ${r.token}`}:r.type==="header"?{[r.name]:r.value}:r.type==="custom"?await r.getHeaders():{}}function sS(r){const n=r.fetchImpl??globalThis.fetch;return{async request({method:s,path:l,query:o,body:c,headers:d}){const h=aS(r.baseUrl,l,o),m=await rS(r.auth),p=await n(h,{method:s,headers:{...c?{"Content-Type":"application/json"}:{},...m,...d},body:c?JSON.stringify(c):void 0}),v=await p.text(),_=(p.headers.get("content-type")||"").includes("application/json"),w=_&&v?JSON.parse(v):v;if(!p.ok){const x=_?w:void 0,R=x?.error;throw new Is(R?.message??`Request failed with status ${p.status}`,{status:p.status,icebergType:R?.type,icebergCode:R?.code,details:x})}return{status:p.status,headers:p.headers,data:w}}}}function bl(r){return r.join("")}var iS=class{constructor(r,n=""){this.client=r,this.prefix=n}async listNamespaces(r){const n=r?{parent:bl(r.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:n})).data.namespaces.map(l=>({namespace:l}))}async createNamespace(r,n){const s={namespace:r.namespace,properties:n?.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:s})).data}async dropNamespace(r){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${bl(r.namespace)}`})}async loadNamespaceMetadata(r){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${bl(r.namespace)}`})).data.properties}}async namespaceExists(r){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${bl(r.namespace)}`}),!0}catch(n){if(n instanceof Is&&n.status===404)return!1;throw n}}async createNamespaceIfNotExists(r,n){try{return await this.createNamespace(r,n)}catch(s){if(s instanceof Is&&s.status===409)return;throw s}}};function wr(r){return r.join("")}var lS=class{constructor(r,n="",s){this.client=r,this.prefix=n,this.accessDelegation=s}async listTables(r){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${wr(r.namespace)}/tables`})).data.identifiers}async createTable(r,n){const s={};return this.accessDelegation&&(s["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${wr(r.namespace)}/tables`,body:n,headers:s})).data.metadata}async updateTable(r,n){const s=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${wr(r.namespace)}/tables/${r.name}`,body:n});return{"metadata-location":s.data["metadata-location"],metadata:s.data.metadata}}async dropTable(r,n){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${wr(r.namespace)}/tables/${r.name}`,query:{purgeRequested:String(n?.purge??!1)}})}async loadTable(r){const n={};return this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${wr(r.namespace)}/tables/${r.name}`,headers:n})).data.metadata}async tableExists(r){const n={};this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${wr(r.namespace)}/tables/${r.name}`,headers:n}),!0}catch(s){if(s instanceof Is&&s.status===404)return!1;throw s}}async createTableIfNotExists(r,n){try{return await this.createTable(r,n)}catch(s){if(s instanceof Is&&s.status===409)return await this.loadTable({namespace:r.namespace,name:n.name});throw s}}},uS=class{constructor(r){let n="v1";r.catalogName&&(n+=`/${r.catalogName}`);const s=r.baseUrl.endsWith("/")?r.baseUrl:`${r.baseUrl}/`;this.client=sS({baseUrl:s,auth:r.auth,fetchImpl:r.fetch}),this.accessDelegation=r.accessDelegation?.join(","),this.namespaceOps=new iS(this.client,n),this.tableOps=new lS(this.client,n,this.accessDelegation)}async listNamespaces(r){return this.namespaceOps.listNamespaces(r)}async createNamespace(r,n){return this.namespaceOps.createNamespace(r,n)}async dropNamespace(r){await this.namespaceOps.dropNamespace(r)}async loadNamespaceMetadata(r){return this.namespaceOps.loadNamespaceMetadata(r)}async listTables(r){return this.tableOps.listTables(r)}async createTable(r,n){return this.tableOps.createTable(r,n)}async updateTable(r,n){return this.tableOps.updateTable(r,n)}async dropTable(r,n){await this.tableOps.dropTable(r,n)}async loadTable(r){return this.tableOps.loadTable(r)}async namespaceExists(r){return this.namespaceOps.namespaceExists(r)}async tableExists(r){return this.tableOps.tableExists(r)}async createNamespaceIfNotExists(r,n){return this.namespaceOps.createNamespaceIfNotExists(r,n)}async createTableIfNotExists(r,n){return this.tableOps.createTableIfNotExists(r,n)}},Gl=class extends Error{constructor(r,n="storage",s,l){super(r),this.__isStorageError=!0,this.namespace=n,this.name=n==="vectors"?"StorageVectorsError":"StorageError",this.status=s,this.statusCode=l}};function Vl(r){return typeof r=="object"&&r!==null&&"__isStorageError"in r}var _l=class extends Gl{constructor(r,n,s,l="storage"){super(r,l,n,s),this.name=l==="vectors"?"StorageVectorsApiError":"StorageApiError",this.status=n,this.statusCode=s}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},g0=class extends Gl{constructor(r,n,s="storage"){super(r,s),this.name=s==="vectors"?"StorageVectorsUnknownError":"StorageUnknownError",this.originalError=n}};const oS=r=>r?(...n)=>r(...n):(...n)=>fetch(...n),cS=r=>{if(typeof r!="object"||r===null)return!1;const n=Object.getPrototypeOf(r);return(n===null||n===Object.prototype||Object.getPrototypeOf(n)===null)&&!(Symbol.toStringTag in r)&&!(Symbol.iterator in r)},Gc=r=>{if(Array.isArray(r))return r.map(s=>Gc(s));if(typeof r=="function"||r!==Object(r))return r;const n={};return Object.entries(r).forEach(([s,l])=>{const o=s.replace(/([-_][a-z])/gi,c=>c.toUpperCase().replace(/[-_]/g,""));n[o]=Gc(l)}),n},fS=r=>!r||typeof r!="string"||r.length===0||r.length>100||r.trim()!==r||r.includes("/")||r.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(r);function Gs(r){"@babel/helpers - typeof";return Gs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Gs(r)}function dS(r,n){if(Gs(r)!="object"||!r)return r;var s=r[Symbol.toPrimitive];if(s!==void 0){var l=s.call(r,n);if(Gs(l)!="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(r)}function hS(r){var n=dS(r,"string");return Gs(n)=="symbol"?n:n+""}function mS(r,n,s){return(n=hS(n))in r?Object.defineProperty(r,n,{value:s,enumerable:!0,configurable:!0,writable:!0}):r[n]=s,r}function Wp(r,n){var s=Object.keys(r);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(r);n&&(l=l.filter(function(o){return Object.getOwnPropertyDescriptor(r,o).enumerable})),s.push.apply(s,l)}return s}function ue(r){for(var n=1;n<arguments.length;n++){var s=arguments[n]!=null?arguments[n]:{};n%2?Wp(Object(s),!0).forEach(function(l){mS(r,l,s[l])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(s)):Wp(Object(s)).forEach(function(l){Object.defineProperty(r,l,Object.getOwnPropertyDescriptor(s,l))})}return r}const Fp=r=>{var n;return r.msg||r.message||r.error_description||(typeof r.error=="string"?r.error:(n=r.error)===null||n===void 0?void 0:n.message)||JSON.stringify(r)},pS=async(r,n,s,l)=>{if(r&&typeof r=="object"&&"status"in r&&"ok"in r&&typeof r.status=="number"&&!s?.noResolveJson){const o=r,c=o.status||500;if(typeof o.json=="function")o.json().then(d=>{const h=d?.statusCode||d?.code||c+"";n(new _l(Fp(d),c,h,l))}).catch(()=>{if(l==="vectors"){const d=c+"";n(new _l(o.statusText||`HTTP ${c} error`,c,d,l))}else{const d=c+"";n(new _l(o.statusText||`HTTP ${c} error`,c,d,l))}});else{const d=c+"";n(new _l(o.statusText||`HTTP ${c} error`,c,d,l))}}else n(new g0(Fp(r),r,l))},gS=(r,n,s,l)=>{const o={method:r,headers:n?.headers||{}};return r==="GET"||r==="HEAD"||!l?ue(ue({},o),s):(cS(l)?(o.headers=ue({"Content-Type":"application/json"},n?.headers),o.body=JSON.stringify(l)):o.body=l,n?.duplex&&(o.duplex=n.duplex),ue(ue({},o),s))};async function Us(r,n,s,l,o,c,d){return new Promise((h,m)=>{r(s,gS(n,l,o,c)).then(p=>{if(!p.ok)throw p;if(l?.noResolveJson)return p;if(d==="vectors"){const v=p.headers.get("content-type");if(p.headers.get("content-length")==="0"||p.status===204)return{};if(!v||!v.includes("application/json"))return{}}return p.json()}).then(p=>h(p)).catch(p=>pS(p,m,l,d))})}function y0(r="storage"){return{get:async(n,s,l,o)=>Us(n,"GET",s,l,o,void 0,r),post:async(n,s,l,o,c)=>Us(n,"POST",s,o,c,l,r),put:async(n,s,l,o,c)=>Us(n,"PUT",s,o,c,l,r),head:async(n,s,l,o)=>Us(n,"HEAD",s,ue(ue({},l),{},{noResolveJson:!0}),o,void 0,r),remove:async(n,s,l,o,c)=>Us(n,"DELETE",s,o,c,l,r)}}const yS=y0("storage"),{get:Vs,post:nn,put:Vc,head:vS,remove:df}=yS,zt=y0("vectors");var qr=class{constructor(r,n={},s,l="storage"){this.shouldThrowOnError=!1,this.url=r,this.headers=n,this.fetch=oS(s),this.namespace=l}throwOnError(){return this.shouldThrowOnError=!0,this}async handleOperation(r){var n=this;try{return{data:await r(),error:null}}catch(s){if(n.shouldThrowOnError)throw s;if(Vl(s))return{data:null,error:s};throw s}}},bS=class{constructor(r,n){this.downloadFn=r,this.shouldThrowOnError=n}then(r,n){return this.execute().then(r,n)}async execute(){var r=this;try{return{data:(await r.downloadFn()).body,error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(Vl(n))return{data:null,error:n};throw n}}};let v0;v0=Symbol.toStringTag;var _S=class{constructor(r,n){this.downloadFn=r,this.shouldThrowOnError=n,this[v0]="BlobDownloadBuilder",this.promise=null}asStream(){return new bS(this.downloadFn,this.shouldThrowOnError)}then(r,n){return this.getPromise().then(r,n)}catch(r){return this.getPromise().catch(r)}finally(r){return this.getPromise().finally(r)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var r=this;try{return{data:await(await r.downloadFn()).blob(),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(Vl(n))return{data:null,error:n};throw n}}};const wS={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},eg={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var xS=class extends qr{constructor(r,n={},s,l){super(r,n,l,"storage"),this.bucketId=s}async uploadOrUpdate(r,n,s,l){var o=this;return o.handleOperation(async()=>{let c;const d=ue(ue({},eg),l);let h=ue(ue({},o.headers),r==="POST"&&{"x-upsert":String(d.upsert)});const m=d.metadata;typeof Blob<"u"&&s instanceof Blob?(c=new FormData,c.append("cacheControl",d.cacheControl),m&&c.append("metadata",o.encodeMetadata(m)),c.append("",s)):typeof FormData<"u"&&s instanceof FormData?(c=s,c.has("cacheControl")||c.append("cacheControl",d.cacheControl),m&&!c.has("metadata")&&c.append("metadata",o.encodeMetadata(m))):(c=s,h["cache-control"]=`max-age=${d.cacheControl}`,h["content-type"]=d.contentType,m&&(h["x-metadata"]=o.toBase64(o.encodeMetadata(m))),(typeof ReadableStream<"u"&&c instanceof ReadableStream||c&&typeof c=="object"&&"pipe"in c&&typeof c.pipe=="function")&&!d.duplex&&(d.duplex="half")),l?.headers&&(h=ue(ue({},h),l.headers));const p=o._removeEmptyFolders(n),v=o._getFinalPath(p),_=await(r=="PUT"?Vc:nn)(o.fetch,`${o.url}/object/${v}`,c,ue({headers:h},d?.duplex?{duplex:d.duplex}:{}));return{path:p,id:_.Id,fullPath:_.Key}})}async upload(r,n,s){return this.uploadOrUpdate("POST",r,n,s)}async uploadToSignedUrl(r,n,s,l){var o=this;const c=o._removeEmptyFolders(r),d=o._getFinalPath(c),h=new URL(o.url+`/object/upload/sign/${d}`);return h.searchParams.set("token",n),o.handleOperation(async()=>{let m;const p=ue({upsert:eg.upsert},l),v=ue(ue({},o.headers),{"x-upsert":String(p.upsert)});return typeof Blob<"u"&&s instanceof Blob?(m=new FormData,m.append("cacheControl",p.cacheControl),m.append("",s)):typeof FormData<"u"&&s instanceof FormData?(m=s,m.append("cacheControl",p.cacheControl)):(m=s,v["cache-control"]=`max-age=${p.cacheControl}`,v["content-type"]=p.contentType),{path:c,fullPath:(await Vc(o.fetch,h.toString(),m,{headers:v})).Key}})}async createSignedUploadUrl(r,n){var s=this;return s.handleOperation(async()=>{let l=s._getFinalPath(r);const o=ue({},s.headers);n?.upsert&&(o["x-upsert"]="true");const c=await nn(s.fetch,`${s.url}/object/upload/sign/${l}`,{},{headers:o}),d=new URL(s.url+c.url),h=d.searchParams.get("token");if(!h)throw new Gl("No token returned by API");return{signedUrl:d.toString(),path:r,token:h}})}async update(r,n,s){return this.uploadOrUpdate("PUT",r,n,s)}async move(r,n,s){var l=this;return l.handleOperation(async()=>await nn(l.fetch,`${l.url}/object/move`,{bucketId:l.bucketId,sourceKey:r,destinationKey:n,destinationBucket:s?.destinationBucket},{headers:l.headers}))}async copy(r,n,s){var l=this;return l.handleOperation(async()=>({path:(await nn(l.fetch,`${l.url}/object/copy`,{bucketId:l.bucketId,sourceKey:r,destinationKey:n,destinationBucket:s?.destinationBucket},{headers:l.headers})).Key}))}async createSignedUrl(r,n,s){var l=this;return l.handleOperation(async()=>{let o=l._getFinalPath(r),c=await nn(l.fetch,`${l.url}/object/sign/${o}`,ue({expiresIn:n},s?.transform?{transform:s.transform}:{}),{headers:l.headers});const d=s?.download?`&download=${s.download===!0?"":s.download}`:"";return{signedUrl:encodeURI(`${l.url}${c.signedURL}${d}`)}})}async createSignedUrls(r,n,s){var l=this;return l.handleOperation(async()=>{const o=await nn(l.fetch,`${l.url}/object/sign/${l.bucketId}`,{expiresIn:n,paths:r},{headers:l.headers}),c=s?.download?`&download=${s.download===!0?"":s.download}`:"";return o.map(d=>ue(ue({},d),{},{signedUrl:d.signedURL?encodeURI(`${l.url}${d.signedURL}${c}`):null}))})}download(r,n,s){const l=typeof n?.transform<"u"?"render/image/authenticated":"object",o=this.transformOptsToQueryString(n?.transform||{}),c=o?`?${o}`:"",d=this._getFinalPath(r),h=()=>Vs(this.fetch,`${this.url}/${l}/${d}${c}`,{headers:this.headers,noResolveJson:!0},s);return new _S(h,this.shouldThrowOnError)}async info(r){var n=this;const s=n._getFinalPath(r);return n.handleOperation(async()=>Gc(await Vs(n.fetch,`${n.url}/object/info/${s}`,{headers:n.headers})))}async exists(r){var n=this;const s=n._getFinalPath(r);try{return await vS(n.fetch,`${n.url}/object/${s}`,{headers:n.headers}),{data:!0,error:null}}catch(l){if(n.shouldThrowOnError)throw l;if(Vl(l)&&l instanceof g0){const o=l.originalError;if([400,404].includes(o?.status))return{data:!1,error:l}}throw l}}getPublicUrl(r,n){const s=this._getFinalPath(r),l=[],o=n?.download?`download=${n.download===!0?"":n.download}`:"";o!==""&&l.push(o);const c=typeof n?.transform<"u"?"render/image":"object",d=this.transformOptsToQueryString(n?.transform||{});d!==""&&l.push(d);let h=l.join("&");return h!==""&&(h=`?${h}`),{data:{publicUrl:encodeURI(`${this.url}/${c}/public/${s}${h}`)}}}async remove(r){var n=this;return n.handleOperation(async()=>await df(n.fetch,`${n.url}/object/${n.bucketId}`,{prefixes:r},{headers:n.headers}))}async list(r,n,s){var l=this;return l.handleOperation(async()=>{const o=ue(ue(ue({},wS),n),{},{prefix:r||""});return await nn(l.fetch,`${l.url}/object/list/${l.bucketId}`,o,{headers:l.headers},s)})}async listV2(r,n){var s=this;return s.handleOperation(async()=>{const l=ue({},r);return await nn(s.fetch,`${s.url}/object/list-v2/${s.bucketId}`,l,{headers:s.headers},n)})}encodeMetadata(r){return JSON.stringify(r)}toBase64(r){return typeof Buffer<"u"?Buffer.from(r).toString("base64"):btoa(r)}_getFinalPath(r){return`${this.bucketId}/${r.replace(/^\/+/,"")}`}_removeEmptyFolders(r){return r.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(r){const n=[];return r.width&&n.push(`width=${r.width}`),r.height&&n.push(`height=${r.height}`),r.resize&&n.push(`resize=${r.resize}`),r.format&&n.push(`format=${r.format}`),r.quality&&n.push(`quality=${r.quality}`),n.join("&")}};const SS="2.95.3",Ws={"X-Client-Info":`storage-js/${SS}`};var ES=class extends qr{constructor(r,n={},s,l){const o=new URL(r);l?.useNewHostname&&/supabase\.(co|in|red)$/.test(o.hostname)&&!o.hostname.includes("storage.supabase.")&&(o.hostname=o.hostname.replace("supabase.","storage.supabase."));const c=o.href.replace(/\/$/,""),d=ue(ue({},Ws),n);super(c,d,s,"storage")}async listBuckets(r){var n=this;return n.handleOperation(async()=>{const s=n.listBucketOptionsToQueryString(r);return await Vs(n.fetch,`${n.url}/bucket${s}`,{headers:n.headers})})}async getBucket(r){var n=this;return n.handleOperation(async()=>await Vs(n.fetch,`${n.url}/bucket/${r}`,{headers:n.headers}))}async createBucket(r,n={public:!1}){var s=this;return s.handleOperation(async()=>await nn(s.fetch,`${s.url}/bucket`,{id:r,name:r,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:s.headers}))}async updateBucket(r,n){var s=this;return s.handleOperation(async()=>await Vc(s.fetch,`${s.url}/bucket/${r}`,{id:r,name:r,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:s.headers}))}async emptyBucket(r){var n=this;return n.handleOperation(async()=>await nn(n.fetch,`${n.url}/bucket/${r}/empty`,{},{headers:n.headers}))}async deleteBucket(r){var n=this;return n.handleOperation(async()=>await df(n.fetch,`${n.url}/bucket/${r}`,{},{headers:n.headers}))}listBucketOptionsToQueryString(r){const n={};return r&&("limit"in r&&(n.limit=String(r.limit)),"offset"in r&&(n.offset=String(r.offset)),r.search&&(n.search=r.search),r.sortColumn&&(n.sortColumn=r.sortColumn),r.sortOrder&&(n.sortOrder=r.sortOrder)),Object.keys(n).length>0?"?"+new URLSearchParams(n).toString():""}},TS=class extends qr{constructor(r,n={},s){const l=r.replace(/\/$/,""),o=ue(ue({},Ws),n);super(l,o,s,"storage")}async createBucket(r){var n=this;return n.handleOperation(async()=>await nn(n.fetch,`${n.url}/bucket`,{name:r},{headers:n.headers}))}async listBuckets(r){var n=this;return n.handleOperation(async()=>{const s=new URLSearchParams;r?.limit!==void 0&&s.set("limit",r.limit.toString()),r?.offset!==void 0&&s.set("offset",r.offset.toString()),r?.sortColumn&&s.set("sortColumn",r.sortColumn),r?.sortOrder&&s.set("sortOrder",r.sortOrder),r?.search&&s.set("search",r.search);const l=s.toString(),o=l?`${n.url}/bucket?${l}`:`${n.url}/bucket`;return await Vs(n.fetch,o,{headers:n.headers})})}async deleteBucket(r){var n=this;return n.handleOperation(async()=>await df(n.fetch,`${n.url}/bucket/${r}`,{},{headers:n.headers}))}from(r){var n=this;if(!fS(r))throw new Gl("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const s=new uS({baseUrl:this.url,catalogName:r,auth:{type:"custom",getHeaders:async()=>n.headers},fetch:this.fetch}),l=this.shouldThrowOnError;return new Proxy(s,{get(o,c){const d=o[c];return typeof d!="function"?d:async(...h)=>{try{return{data:await d.apply(o,h),error:null}}catch(m){if(l)throw m;return{data:null,error:m}}}}})}},AS=class extends qr{constructor(r,n={},s){const l=r.replace(/\/$/,""),o=ue(ue({},Ws),{},{"Content-Type":"application/json"},n);super(l,o,s,"vectors")}async createIndex(r){var n=this;return n.handleOperation(async()=>await zt.post(n.fetch,`${n.url}/CreateIndex`,r,{headers:n.headers})||{})}async getIndex(r,n){var s=this;return s.handleOperation(async()=>await zt.post(s.fetch,`${s.url}/GetIndex`,{vectorBucketName:r,indexName:n},{headers:s.headers}))}async listIndexes(r){var n=this;return n.handleOperation(async()=>await zt.post(n.fetch,`${n.url}/ListIndexes`,r,{headers:n.headers}))}async deleteIndex(r,n){var s=this;return s.handleOperation(async()=>await zt.post(s.fetch,`${s.url}/DeleteIndex`,{vectorBucketName:r,indexName:n},{headers:s.headers})||{})}},jS=class extends qr{constructor(r,n={},s){const l=r.replace(/\/$/,""),o=ue(ue({},Ws),{},{"Content-Type":"application/json"},n);super(l,o,s,"vectors")}async putVectors(r){var n=this;if(r.vectors.length<1||r.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return n.handleOperation(async()=>await zt.post(n.fetch,`${n.url}/PutVectors`,r,{headers:n.headers})||{})}async getVectors(r){var n=this;return n.handleOperation(async()=>await zt.post(n.fetch,`${n.url}/GetVectors`,r,{headers:n.headers}))}async listVectors(r){var n=this;if(r.segmentCount!==void 0){if(r.segmentCount<1||r.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(r.segmentIndex!==void 0&&(r.segmentIndex<0||r.segmentIndex>=r.segmentCount))throw new Error(`segmentIndex must be between 0 and ${r.segmentCount-1}`)}return n.handleOperation(async()=>await zt.post(n.fetch,`${n.url}/ListVectors`,r,{headers:n.headers}))}async queryVectors(r){var n=this;return n.handleOperation(async()=>await zt.post(n.fetch,`${n.url}/QueryVectors`,r,{headers:n.headers}))}async deleteVectors(r){var n=this;if(r.keys.length<1||r.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return n.handleOperation(async()=>await zt.post(n.fetch,`${n.url}/DeleteVectors`,r,{headers:n.headers})||{})}},RS=class extends qr{constructor(r,n={},s){const l=r.replace(/\/$/,""),o=ue(ue({},Ws),{},{"Content-Type":"application/json"},n);super(l,o,s,"vectors")}async createBucket(r){var n=this;return n.handleOperation(async()=>await zt.post(n.fetch,`${n.url}/CreateVectorBucket`,{vectorBucketName:r},{headers:n.headers})||{})}async getBucket(r){var n=this;return n.handleOperation(async()=>await zt.post(n.fetch,`${n.url}/GetVectorBucket`,{vectorBucketName:r},{headers:n.headers}))}async listBuckets(r={}){var n=this;return n.handleOperation(async()=>await zt.post(n.fetch,`${n.url}/ListVectorBuckets`,r,{headers:n.headers}))}async deleteBucket(r){var n=this;return n.handleOperation(async()=>await zt.post(n.fetch,`${n.url}/DeleteVectorBucket`,{vectorBucketName:r},{headers:n.headers})||{})}},OS=class extends RS{constructor(r,n={}){super(r,n.headers||{},n.fetch)}from(r){return new NS(this.url,this.headers,r,this.fetch)}async createBucket(r){var n=()=>super.createBucket,s=this;return n().call(s,r)}async getBucket(r){var n=()=>super.getBucket,s=this;return n().call(s,r)}async listBuckets(r={}){var n=()=>super.listBuckets,s=this;return n().call(s,r)}async deleteBucket(r){var n=()=>super.deleteBucket,s=this;return n().call(s,r)}},NS=class extends AS{constructor(r,n,s,l){super(r,n,l),this.vectorBucketName=s}async createIndex(r){var n=()=>super.createIndex,s=this;return n().call(s,ue(ue({},r),{},{vectorBucketName:s.vectorBucketName}))}async listIndexes(r={}){var n=()=>super.listIndexes,s=this;return n().call(s,ue(ue({},r),{},{vectorBucketName:s.vectorBucketName}))}async getIndex(r){var n=()=>super.getIndex,s=this;return n().call(s,s.vectorBucketName,r)}async deleteIndex(r){var n=()=>super.deleteIndex,s=this;return n().call(s,s.vectorBucketName,r)}index(r){return new CS(this.url,this.headers,this.vectorBucketName,r,this.fetch)}},CS=class extends jS{constructor(r,n,s,l,o){super(r,n,o),this.vectorBucketName=s,this.indexName=l}async putVectors(r){var n=()=>super.putVectors,s=this;return n().call(s,ue(ue({},r),{},{vectorBucketName:s.vectorBucketName,indexName:s.indexName}))}async getVectors(r){var n=()=>super.getVectors,s=this;return n().call(s,ue(ue({},r),{},{vectorBucketName:s.vectorBucketName,indexName:s.indexName}))}async listVectors(r={}){var n=()=>super.listVectors,s=this;return n().call(s,ue(ue({},r),{},{vectorBucketName:s.vectorBucketName,indexName:s.indexName}))}async queryVectors(r){var n=()=>super.queryVectors,s=this;return n().call(s,ue(ue({},r),{},{vectorBucketName:s.vectorBucketName,indexName:s.indexName}))}async deleteVectors(r){var n=()=>super.deleteVectors,s=this;return n().call(s,ue(ue({},r),{},{vectorBucketName:s.vectorBucketName,indexName:s.indexName}))}},LS=class extends ES{constructor(r,n={},s,l){super(r,n,s,l)}from(r){return new xS(this.url,this.headers,r,this.fetch)}get vectors(){return new OS(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new TS(this.url+"/iceberg",this.headers,this.fetch)}};const b0="2.95.3",Nr=30*1e3,Pc=3,Ec=Pc*Nr,kS="http://localhost:9999",DS="supabase.auth.token",US={"X-Client-Info":`gotrue-js/${b0}`},Kc="X-Supabase-Api-Version",_0={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},MS=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,zS=600*1e3;class Ps extends Error{constructor(n,s,l){super(n),this.__isAuthError=!0,this.name="AuthError",this.status=s,this.code=l}}function ae(r){return typeof r=="object"&&r!==null&&"__isAuthError"in r}class BS extends Ps{constructor(n,s,l){super(n,s,l),this.name="AuthApiError",this.status=s,this.code=l}}function qS(r){return ae(r)&&r.name==="AuthApiError"}class La extends Ps{constructor(n,s){super(n),this.name="AuthUnknownError",this.originalError=s}}class kn extends Ps{constructor(n,s,l,o){super(n,l,o),this.name=s,this.status=l}}class Mt extends kn{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Tc(r){return ae(r)&&r.name==="AuthSessionMissingError"}class xr extends kn{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class wl extends kn{constructor(n){super(n,"AuthInvalidCredentialsError",400,void 0)}}class xl extends kn{constructor(n,s=null){super(n,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function $S(r){return ae(r)&&r.name==="AuthImplicitGrantRedirectError"}class tg extends kn{constructor(n,s=null){super(n,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class HS extends kn{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class Yc extends kn{constructor(n,s){super(n,"AuthRetryableFetchError",s,void 0)}}function Ac(r){return ae(r)&&r.name==="AuthRetryableFetchError"}class ng extends kn{constructor(n,s,l){super(n,"AuthWeakPasswordError",s,"weak_password"),this.reasons=l}}class Zc extends kn{constructor(n){super(n,"AuthInvalidJwtError",400,"invalid_jwt")}}const Nl="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),ag=` 	
\r=`.split(""),IS=(()=>{const r=new Array(128);for(let n=0;n<r.length;n+=1)r[n]=-1;for(let n=0;n<ag.length;n+=1)r[ag[n].charCodeAt(0)]=-2;for(let n=0;n<Nl.length;n+=1)r[Nl[n].charCodeAt(0)]=n;return r})();function rg(r,n,s){if(r!==null)for(n.queue=n.queue<<8|r,n.queuedBits+=8;n.queuedBits>=6;){const l=n.queue>>n.queuedBits-6&63;s(Nl[l]),n.queuedBits-=6}else if(n.queuedBits>0)for(n.queue=n.queue<<6-n.queuedBits,n.queuedBits=6;n.queuedBits>=6;){const l=n.queue>>n.queuedBits-6&63;s(Nl[l]),n.queuedBits-=6}}function w0(r,n,s){const l=IS[r];if(l>-1)for(n.queue=n.queue<<6|l,n.queuedBits+=6;n.queuedBits>=8;)s(n.queue>>n.queuedBits-8&255),n.queuedBits-=8;else{if(l===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(r)}"`)}}function sg(r){const n=[],s=d=>{n.push(String.fromCodePoint(d))},l={utf8seq:0,codepoint:0},o={queue:0,queuedBits:0},c=d=>{PS(d,l,s)};for(let d=0;d<r.length;d+=1)w0(r.charCodeAt(d),o,c);return n.join("")}function GS(r,n){if(r<=127){n(r);return}else if(r<=2047){n(192|r>>6),n(128|r&63);return}else if(r<=65535){n(224|r>>12),n(128|r>>6&63),n(128|r&63);return}else if(r<=1114111){n(240|r>>18),n(128|r>>12&63),n(128|r>>6&63),n(128|r&63);return}throw new Error(`Unrecognized Unicode codepoint: ${r.toString(16)}`)}function VS(r,n){for(let s=0;s<r.length;s+=1){let l=r.charCodeAt(s);if(l>55295&&l<=56319){const o=(l-55296)*1024&65535;l=(r.charCodeAt(s+1)-56320&65535|o)+65536,s+=1}GS(l,n)}}function PS(r,n,s){if(n.utf8seq===0){if(r<=127){s(r);return}for(let l=1;l<6;l+=1)if((r>>7-l&1)===0){n.utf8seq=l;break}if(n.utf8seq===2)n.codepoint=r&31;else if(n.utf8seq===3)n.codepoint=r&15;else if(n.utf8seq===4)n.codepoint=r&7;else throw new Error("Invalid UTF-8 sequence");n.utf8seq-=1}else if(n.utf8seq>0){if(r<=127)throw new Error("Invalid UTF-8 sequence");n.codepoint=n.codepoint<<6|r&63,n.utf8seq-=1,n.utf8seq===0&&s(n.codepoint)}}function Ur(r){const n=[],s={queue:0,queuedBits:0},l=o=>{n.push(o)};for(let o=0;o<r.length;o+=1)w0(r.charCodeAt(o),s,l);return new Uint8Array(n)}function KS(r){const n=[];return VS(r,s=>n.push(s)),new Uint8Array(n)}function Da(r){const n=[],s={queue:0,queuedBits:0},l=o=>{n.push(o)};return r.forEach(o=>rg(o,s,l)),rg(null,s,l),n.join("")}function YS(r){return Math.round(Date.now()/1e3)+r}function ZS(){return Symbol("auth-callback")}const dt=()=>typeof window<"u"&&typeof document<"u",Ra={tested:!1,writable:!1},x0=()=>{if(!dt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Ra.tested)return Ra.writable;const r=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(r,r),globalThis.localStorage.removeItem(r),Ra.tested=!0,Ra.writable=!0}catch{Ra.tested=!0,Ra.writable=!1}return Ra.writable};function JS(r){const n={},s=new URL(r);if(s.hash&&s.hash[0]==="#")try{new URLSearchParams(s.hash.substring(1)).forEach((o,c)=>{n[c]=o})}catch{}return s.searchParams.forEach((l,o)=>{n[o]=l}),n}const S0=r=>r?(...n)=>r(...n):(...n)=>fetch(...n),XS=r=>typeof r=="object"&&r!==null&&"status"in r&&"ok"in r&&"json"in r&&typeof r.json=="function",Cr=async(r,n,s)=>{await r.setItem(n,JSON.stringify(s))},Oa=async(r,n)=>{const s=await r.getItem(n);if(!s)return null;try{return JSON.parse(s)}catch{return s}},ft=async(r,n)=>{await r.removeItem(n)};class Pl{constructor(){this.promise=new Pl.promiseConstructor((n,s)=>{this.resolve=n,this.reject=s})}}Pl.promiseConstructor=Promise;function Sl(r){const n=r.split(".");if(n.length!==3)throw new Zc("Invalid JWT structure");for(let l=0;l<n.length;l++)if(!MS.test(n[l]))throw new Zc("JWT not in base64url format");return{header:JSON.parse(sg(n[0])),payload:JSON.parse(sg(n[1])),signature:Ur(n[2]),raw:{header:n[0],payload:n[1]}}}async function QS(r){return await new Promise(n=>{setTimeout(()=>n(null),r)})}function WS(r,n){return new Promise((l,o)=>{(async()=>{for(let c=0;c<1/0;c++)try{const d=await r(c);if(!n(c,null,d)){l(d);return}}catch(d){if(!n(c,d)){o(d);return}}})()})}function FS(r){return("0"+r.toString(16)).substr(-2)}function e1(){const n=new Uint32Array(56);if(typeof crypto>"u"){const s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",l=s.length;let o="";for(let c=0;c<56;c++)o+=s.charAt(Math.floor(Math.random()*l));return o}return crypto.getRandomValues(n),Array.from(n,FS).join("")}async function t1(r){const s=new TextEncoder().encode(r),l=await crypto.subtle.digest("SHA-256",s),o=new Uint8Array(l);return Array.from(o).map(c=>String.fromCharCode(c)).join("")}async function n1(r){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),r;const s=await t1(r);return btoa(s).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Sr(r,n,s=!1){const l=e1();let o=l;s&&(o+="/PASSWORD_RECOVERY"),await Cr(r,`${n}-code-verifier`,o);const c=await n1(l);return[c,l===c?"plain":"s256"]}const a1=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function r1(r){const n=r.headers.get(Kc);if(!n||!n.match(a1))return null;try{return new Date(`${n}T00:00:00.0Z`)}catch{return null}}function s1(r){if(!r)throw new Error("Missing exp claim");const n=Math.floor(Date.now()/1e3);if(r<=n)throw new Error("JWT has expired")}function i1(r){switch(r){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const l1=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Er(r){if(!l1.test(r))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function jc(){const r={};return new Proxy(r,{get:(n,s)=>{if(s==="__isUserNotAvailableProxy")return!0;if(typeof s=="symbol"){const l=s.toString();if(l==="Symbol(Symbol.toPrimitive)"||l==="Symbol(Symbol.toStringTag)"||l==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${s}" property of the session object is not supported. Please use getUser() instead.`)},set:(n,s)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${s}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(n,s)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${s}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function u1(r,n){return new Proxy(r,{get:(s,l,o)=>{if(l==="__isInsecureUserWarningProxy")return!0;if(typeof l=="symbol"){const c=l.toString();if(c==="Symbol(Symbol.toPrimitive)"||c==="Symbol(Symbol.toStringTag)"||c==="Symbol(util.inspect.custom)"||c==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(s,l,o)}return!n.value&&typeof l=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),n.value=!0),Reflect.get(s,l,o)}})}function ig(r){return JSON.parse(JSON.stringify(r))}const Na=r=>r.msg||r.message||r.error_description||r.error||JSON.stringify(r),o1=[502,503,504];async function lg(r){var n;if(!XS(r))throw new Yc(Na(r),0);if(o1.includes(r.status))throw new Yc(Na(r),r.status);let s;try{s=await r.json()}catch(c){throw new La(Na(c),c)}let l;const o=r1(r);if(o&&o.getTime()>=_0["2024-01-01"].timestamp&&typeof s=="object"&&s&&typeof s.code=="string"?l=s.code:typeof s=="object"&&s&&typeof s.error_code=="string"&&(l=s.error_code),l){if(l==="weak_password")throw new ng(Na(s),r.status,((n=s.weak_password)===null||n===void 0?void 0:n.reasons)||[]);if(l==="session_not_found")throw new Mt}else if(typeof s=="object"&&s&&typeof s.weak_password=="object"&&s.weak_password&&Array.isArray(s.weak_password.reasons)&&s.weak_password.reasons.length&&s.weak_password.reasons.reduce((c,d)=>c&&typeof d=="string",!0))throw new ng(Na(s),r.status,s.weak_password.reasons);throw new BS(Na(s),r.status||500,l)}const c1=(r,n,s,l)=>{const o={method:r,headers:n?.headers||{}};return r==="GET"?o:(o.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},n?.headers),o.body=JSON.stringify(l),Object.assign(Object.assign({},o),s))};async function le(r,n,s,l){var o;const c=Object.assign({},l?.headers);c[Kc]||(c[Kc]=_0["2024-01-01"].name),l?.jwt&&(c.Authorization=`Bearer ${l.jwt}`);const d=(o=l?.query)!==null&&o!==void 0?o:{};l?.redirectTo&&(d.redirect_to=l.redirectTo);const h=Object.keys(d).length?"?"+new URLSearchParams(d).toString():"",m=await f1(r,n,s+h,{headers:c,noResolveJson:l?.noResolveJson},{},l?.body);return l?.xform?l?.xform(m):{data:Object.assign({},m),error:null}}async function f1(r,n,s,l,o,c){const d=c1(n,l,o,c);let h;try{h=await r(s,Object.assign({},d))}catch(m){throw console.error(m),new Yc(Na(m),0)}if(h.ok||await lg(h),l?.noResolveJson)return h;try{return await h.json()}catch(m){await lg(m)}}function tn(r){var n;let s=null;m1(r)&&(s=Object.assign({},r),r.expires_at||(s.expires_at=YS(r.expires_in)));const l=(n=r.user)!==null&&n!==void 0?n:r;return{data:{session:s,user:l},error:null}}function ug(r){const n=tn(r);return!n.error&&r.weak_password&&typeof r.weak_password=="object"&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.message&&typeof r.weak_password.message=="string"&&r.weak_password.reasons.reduce((s,l)=>s&&typeof l=="string",!0)&&(n.data.weak_password=r.weak_password),n}function la(r){var n;return{data:{user:(n=r.user)!==null&&n!==void 0?n:r},error:null}}function d1(r){return{data:r,error:null}}function h1(r){const{action_link:n,email_otp:s,hashed_token:l,redirect_to:o,verification_type:c}=r,d=Il(r,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),h={action_link:n,email_otp:s,hashed_token:l,redirect_to:o,verification_type:c},m=Object.assign({},d);return{data:{properties:h,user:m},error:null}}function og(r){return r}function m1(r){return r.access_token&&r.refresh_token&&r.expires_in}const Rc=["global","local","others"];class p1{constructor({url:n="",headers:s={},fetch:l}){this.url=n,this.headers=s,this.fetch=S0(l),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(n,s=Rc[0]){if(Rc.indexOf(s)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Rc.join(", ")}`);try{return await le(this.fetch,"POST",`${this.url}/logout?scope=${s}`,{headers:this.headers,jwt:n,noResolveJson:!0}),{data:null,error:null}}catch(l){if(ae(l))return{data:null,error:l};throw l}}async inviteUserByEmail(n,s={}){try{return await le(this.fetch,"POST",`${this.url}/invite`,{body:{email:n,data:s.data},headers:this.headers,redirectTo:s.redirectTo,xform:la})}catch(l){if(ae(l))return{data:{user:null},error:l};throw l}}async generateLink(n){try{const{options:s}=n,l=Il(n,["options"]),o=Object.assign(Object.assign({},l),s);return"newEmail"in l&&(o.new_email=l?.newEmail,delete o.newEmail),await le(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:o,headers:this.headers,xform:h1,redirectTo:s?.redirectTo})}catch(s){if(ae(s))return{data:{properties:null,user:null},error:s};throw s}}async createUser(n){try{return await le(this.fetch,"POST",`${this.url}/admin/users`,{body:n,headers:this.headers,xform:la})}catch(s){if(ae(s))return{data:{user:null},error:s};throw s}}async listUsers(n){var s,l,o,c,d,h,m;try{const p={nextPage:null,lastPage:0,total:0},v=await le(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(l=(s=n?.page)===null||s===void 0?void 0:s.toString())!==null&&l!==void 0?l:"",per_page:(c=(o=n?.perPage)===null||o===void 0?void 0:o.toString())!==null&&c!==void 0?c:""},xform:og});if(v.error)throw v.error;const _=await v.json(),w=(d=v.headers.get("x-total-count"))!==null&&d!==void 0?d:0,x=(m=(h=v.headers.get("link"))===null||h===void 0?void 0:h.split(","))!==null&&m!==void 0?m:[];return x.length>0&&(x.forEach(R=>{const T=parseInt(R.split(";")[0].split("=")[1].substring(0,1)),j=JSON.parse(R.split(";")[1].split("=")[1]);p[`${j}Page`]=T}),p.total=parseInt(w)),{data:Object.assign(Object.assign({},_),p),error:null}}catch(p){if(ae(p))return{data:{users:[]},error:p};throw p}}async getUserById(n){Er(n);try{return await le(this.fetch,"GET",`${this.url}/admin/users/${n}`,{headers:this.headers,xform:la})}catch(s){if(ae(s))return{data:{user:null},error:s};throw s}}async updateUserById(n,s){Er(n);try{return await le(this.fetch,"PUT",`${this.url}/admin/users/${n}`,{body:s,headers:this.headers,xform:la})}catch(l){if(ae(l))return{data:{user:null},error:l};throw l}}async deleteUser(n,s=!1){Er(n);try{return await le(this.fetch,"DELETE",`${this.url}/admin/users/${n}`,{headers:this.headers,body:{should_soft_delete:s},xform:la})}catch(l){if(ae(l))return{data:{user:null},error:l};throw l}}async _listFactors(n){Er(n.userId);try{const{data:s,error:l}=await le(this.fetch,"GET",`${this.url}/admin/users/${n.userId}/factors`,{headers:this.headers,xform:o=>({data:{factors:o},error:null})});return{data:s,error:l}}catch(s){if(ae(s))return{data:null,error:s};throw s}}async _deleteFactor(n){Er(n.userId),Er(n.id);try{return{data:await le(this.fetch,"DELETE",`${this.url}/admin/users/${n.userId}/factors/${n.id}`,{headers:this.headers}),error:null}}catch(s){if(ae(s))return{data:null,error:s};throw s}}async _listOAuthClients(n){var s,l,o,c,d,h,m;try{const p={nextPage:null,lastPage:0,total:0},v=await le(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(l=(s=n?.page)===null||s===void 0?void 0:s.toString())!==null&&l!==void 0?l:"",per_page:(c=(o=n?.perPage)===null||o===void 0?void 0:o.toString())!==null&&c!==void 0?c:""},xform:og});if(v.error)throw v.error;const _=await v.json(),w=(d=v.headers.get("x-total-count"))!==null&&d!==void 0?d:0,x=(m=(h=v.headers.get("link"))===null||h===void 0?void 0:h.split(","))!==null&&m!==void 0?m:[];return x.length>0&&(x.forEach(R=>{const T=parseInt(R.split(";")[0].split("=")[1].substring(0,1)),j=JSON.parse(R.split(";")[1].split("=")[1]);p[`${j}Page`]=T}),p.total=parseInt(w)),{data:Object.assign(Object.assign({},_),p),error:null}}catch(p){if(ae(p))return{data:{clients:[]},error:p};throw p}}async _createOAuthClient(n){try{return await le(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:n,headers:this.headers,xform:s=>({data:s,error:null})})}catch(s){if(ae(s))return{data:null,error:s};throw s}}async _getOAuthClient(n){try{return await le(this.fetch,"GET",`${this.url}/admin/oauth/clients/${n}`,{headers:this.headers,xform:s=>({data:s,error:null})})}catch(s){if(ae(s))return{data:null,error:s};throw s}}async _updateOAuthClient(n,s){try{return await le(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${n}`,{body:s,headers:this.headers,xform:l=>({data:l,error:null})})}catch(l){if(ae(l))return{data:null,error:l};throw l}}async _deleteOAuthClient(n){try{return await le(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${n}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(s){if(ae(s))return{data:null,error:s};throw s}}async _regenerateOAuthClientSecret(n){try{return await le(this.fetch,"POST",`${this.url}/admin/oauth/clients/${n}/regenerate_secret`,{headers:this.headers,xform:s=>({data:s,error:null})})}catch(s){if(ae(s))return{data:null,error:s};throw s}}}function cg(r={}){return{getItem:n=>r[n]||null,setItem:(n,s)=>{r[n]=s},removeItem:n=>{delete r[n]}}}const Tr={debug:!!(globalThis&&x0()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class E0 extends Error{constructor(n){super(n),this.isAcquireTimeout=!0}}class g1 extends E0{}async function y1(r,n,s){Tr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",r,n);const l=new globalThis.AbortController;return n>0&&setTimeout(()=>{l.abort(),Tr.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",r)},n),await Promise.resolve().then(()=>globalThis.navigator.locks.request(r,n===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:l.signal},async o=>{if(o){Tr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",r,o.name);try{return await s()}finally{Tr.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",r,o.name)}}else{if(n===0)throw Tr.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",r),new g1(`Acquiring an exclusive Navigator LockManager lock "${r}" immediately failed`);if(Tr.debug)try{const c=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(c,null,"  "))}catch(c){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",c)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await s()}}))}function v1(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function T0(r){if(!/^0x[a-fA-F0-9]{40}$/.test(r))throw new Error(`@supabase/auth-js: Address "${r}" is invalid.`);return r.toLowerCase()}function b1(r){return parseInt(r,16)}function _1(r){const n=new TextEncoder().encode(r);return"0x"+Array.from(n,l=>l.toString(16).padStart(2,"0")).join("")}function w1(r){var n;const{chainId:s,domain:l,expirationTime:o,issuedAt:c=new Date,nonce:d,notBefore:h,requestId:m,resources:p,scheme:v,uri:_,version:w}=r;{if(!Number.isInteger(s))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${s}`);if(!l)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(d&&d.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${d}`);if(!_)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(w!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${w}`);if(!((n=r.statement)===null||n===void 0)&&n.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${r.statement}`)}const x=T0(r.address),R=v?`${v}://${l}`:l,T=r.statement?`${r.statement}
`:"",j=`${R} wants you to sign in with your Ethereum account:
${x}

${T}`;let C=`URI: ${_}
Version: ${w}
Chain ID: ${s}${d?`
Nonce: ${d}`:""}
Issued At: ${c.toISOString()}`;if(o&&(C+=`
Expiration Time: ${o.toISOString()}`),h&&(C+=`
Not Before: ${h.toISOString()}`),m&&(C+=`
Request ID: ${m}`),p){let U=`
Resources:`;for(const q of p){if(!q||typeof q!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${q}`);U+=`
- ${q}`}C+=U}return`${j}
${C}`}class Xe extends Error{constructor({message:n,code:s,cause:l,name:o}){var c;super(n,{cause:l}),this.__isWebAuthnError=!0,this.name=(c=o??(l instanceof Error?l.name:void 0))!==null&&c!==void 0?c:"Unknown Error",this.code=s}}class Cl extends Xe{constructor(n,s){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:s,message:n}),this.name="WebAuthnUnknownError",this.originalError=s}}function x1({error:r,options:n}){var s,l,o;const{publicKey:c}=n;if(!c)throw Error("options was missing required publicKey property");if(r.name==="AbortError"){if(n.signal instanceof AbortSignal)return new Xe({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:r})}else if(r.name==="ConstraintError"){if(((s=c.authenticatorSelection)===null||s===void 0?void 0:s.requireResidentKey)===!0)return new Xe({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:r});if(n.mediation==="conditional"&&((l=c.authenticatorSelection)===null||l===void 0?void 0:l.userVerification)==="required")return new Xe({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:r});if(((o=c.authenticatorSelection)===null||o===void 0?void 0:o.userVerification)==="required")return new Xe({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:r})}else{if(r.name==="InvalidStateError")return new Xe({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:r});if(r.name==="NotAllowedError")return new Xe({message:r.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r});if(r.name==="NotSupportedError")return c.pubKeyCredParams.filter(h=>h.type==="public-key").length===0?new Xe({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:r}):new Xe({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:r});if(r.name==="SecurityError"){const d=window.location.hostname;if(A0(d)){if(c.rp.id!==d)return new Xe({message:`The RP ID "${c.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:r})}else return new Xe({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:r})}else if(r.name==="TypeError"){if(c.user.id.byteLength<1||c.user.id.byteLength>64)return new Xe({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:r})}else if(r.name==="UnknownError")return new Xe({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:r})}return new Xe({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r})}function S1({error:r,options:n}){const{publicKey:s}=n;if(!s)throw Error("options was missing required publicKey property");if(r.name==="AbortError"){if(n.signal instanceof AbortSignal)return new Xe({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:r})}else{if(r.name==="NotAllowedError")return new Xe({message:r.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r});if(r.name==="SecurityError"){const l=window.location.hostname;if(A0(l)){if(s.rpId!==l)return new Xe({message:`The RP ID "${s.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:r})}else return new Xe({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:r})}else if(r.name==="UnknownError")return new Xe({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:r})}return new Xe({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r})}class E1{createNewAbortSignal(){if(this.controller){const s=new Error("Cancelling existing WebAuthn API call for new one");s.name="AbortError",this.controller.abort(s)}const n=new AbortController;return this.controller=n,n.signal}cancelCeremony(){if(this.controller){const n=new Error("Manually cancelling existing WebAuthn API call");n.name="AbortError",this.controller.abort(n),this.controller=void 0}}}const T1=new E1;function A1(r){if(!r)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(r);const{challenge:n,user:s,excludeCredentials:l}=r,o=Il(r,["challenge","user","excludeCredentials"]),c=Ur(n).buffer,d=Object.assign(Object.assign({},s),{id:Ur(s.id).buffer}),h=Object.assign(Object.assign({},o),{challenge:c,user:d});if(l&&l.length>0){h.excludeCredentials=new Array(l.length);for(let m=0;m<l.length;m++){const p=l[m];h.excludeCredentials[m]=Object.assign(Object.assign({},p),{id:Ur(p.id).buffer,type:p.type||"public-key",transports:p.transports})}}return h}function j1(r){if(!r)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(r);const{challenge:n,allowCredentials:s}=r,l=Il(r,["challenge","allowCredentials"]),o=Ur(n).buffer,c=Object.assign(Object.assign({},l),{challenge:o});if(s&&s.length>0){c.allowCredentials=new Array(s.length);for(let d=0;d<s.length;d++){const h=s[d];c.allowCredentials[d]=Object.assign(Object.assign({},h),{id:Ur(h.id).buffer,type:h.type||"public-key",transports:h.transports})}}return c}function R1(r){var n;if("toJSON"in r&&typeof r.toJSON=="function")return r.toJSON();const s=r;return{id:r.id,rawId:r.id,response:{attestationObject:Da(new Uint8Array(r.response.attestationObject)),clientDataJSON:Da(new Uint8Array(r.response.clientDataJSON))},type:"public-key",clientExtensionResults:r.getClientExtensionResults(),authenticatorAttachment:(n=s.authenticatorAttachment)!==null&&n!==void 0?n:void 0}}function O1(r){var n;if("toJSON"in r&&typeof r.toJSON=="function")return r.toJSON();const s=r,l=r.getClientExtensionResults(),o=r.response;return{id:r.id,rawId:r.id,response:{authenticatorData:Da(new Uint8Array(o.authenticatorData)),clientDataJSON:Da(new Uint8Array(o.clientDataJSON)),signature:Da(new Uint8Array(o.signature)),userHandle:o.userHandle?Da(new Uint8Array(o.userHandle)):void 0},type:"public-key",clientExtensionResults:l,authenticatorAttachment:(n=s.authenticatorAttachment)!==null&&n!==void 0?n:void 0}}function A0(r){return r==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(r)}function fg(){var r,n;return!!(dt()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((r=navigator?.credentials)===null||r===void 0?void 0:r.create)=="function"&&typeof((n=navigator?.credentials)===null||n===void 0?void 0:n.get)=="function")}async function N1(r){try{const n=await navigator.credentials.create(r);return n?n instanceof PublicKeyCredential?{data:n,error:null}:{data:null,error:new Cl("Browser returned unexpected credential type",n)}:{data:null,error:new Cl("Empty credential response",n)}}catch(n){return{data:null,error:x1({error:n,options:r})}}}async function C1(r){try{const n=await navigator.credentials.get(r);return n?n instanceof PublicKeyCredential?{data:n,error:null}:{data:null,error:new Cl("Browser returned unexpected credential type",n)}:{data:null,error:new Cl("Empty credential response",n)}}catch(n){return{data:null,error:S1({error:n,options:r})}}}const L1={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},k1={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Ll(...r){const n=o=>o!==null&&typeof o=="object"&&!Array.isArray(o),s=o=>o instanceof ArrayBuffer||ArrayBuffer.isView(o),l={};for(const o of r)if(o)for(const c in o){const d=o[c];if(d!==void 0)if(Array.isArray(d))l[c]=d;else if(s(d))l[c]=d;else if(n(d)){const h=l[c];n(h)?l[c]=Ll(h,d):l[c]=Ll(d)}else l[c]=d}return l}function D1(r,n){return Ll(L1,r,n||{})}function U1(r,n){return Ll(k1,r,n||{})}class M1{constructor(n){this.client=n,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(n){return this.client.mfa.enroll(Object.assign(Object.assign({},n),{factorType:"webauthn"}))}async _challenge({factorId:n,webauthn:s,friendlyName:l,signal:o},c){var d;try{const{data:h,error:m}=await this.client.mfa.challenge({factorId:n,webauthn:s});if(!h)return{data:null,error:m};const p=o??T1.createNewAbortSignal();if(h.webauthn.type==="create"){const{user:v}=h.webauthn.credential_options.publicKey;if(!v.name){const _=l;if(_)v.name=`${v.id}:${_}`;else{const x=(await this.client.getUser()).data.user,R=((d=x?.user_metadata)===null||d===void 0?void 0:d.name)||x?.email||x?.id||"User";v.name=`${v.id}:${R}`}}v.displayName||(v.displayName=v.name)}switch(h.webauthn.type){case"create":{const v=D1(h.webauthn.credential_options.publicKey,c?.create),{data:_,error:w}=await N1({publicKey:v,signal:p});return _?{data:{factorId:n,challengeId:h.id,webauthn:{type:h.webauthn.type,credential_response:_}},error:null}:{data:null,error:w}}case"request":{const v=U1(h.webauthn.credential_options.publicKey,c?.request),{data:_,error:w}=await C1(Object.assign(Object.assign({},h.webauthn.credential_options),{publicKey:v,signal:p}));return _?{data:{factorId:n,challengeId:h.id,webauthn:{type:h.webauthn.type,credential_response:_}},error:null}:{data:null,error:w}}}}catch(h){return ae(h)?{data:null,error:h}:{data:null,error:new La("Unexpected error in challenge",h)}}}async _verify({challengeId:n,factorId:s,webauthn:l}){return this.client.mfa.verify({factorId:s,challengeId:n,webauthn:l})}async _authenticate({factorId:n,webauthn:{rpId:s=typeof window<"u"?window.location.hostname:void 0,rpOrigins:l=typeof window<"u"?[window.location.origin]:void 0,signal:o}={}},c){if(!s)return{data:null,error:new Ps("rpId is required for WebAuthn authentication")};try{if(!fg())return{data:null,error:new La("Browser does not support WebAuthn",null)};const{data:d,error:h}=await this.challenge({factorId:n,webauthn:{rpId:s,rpOrigins:l},signal:o},{request:c});if(!d)return{data:null,error:h};const{webauthn:m}=d;return this._verify({factorId:n,challengeId:d.challengeId,webauthn:{type:m.type,rpId:s,rpOrigins:l,credential_response:m.credential_response}})}catch(d){return ae(d)?{data:null,error:d}:{data:null,error:new La("Unexpected error in authenticate",d)}}}async _register({friendlyName:n,webauthn:{rpId:s=typeof window<"u"?window.location.hostname:void 0,rpOrigins:l=typeof window<"u"?[window.location.origin]:void 0,signal:o}={}},c){if(!s)return{data:null,error:new Ps("rpId is required for WebAuthn registration")};try{if(!fg())return{data:null,error:new La("Browser does not support WebAuthn",null)};const{data:d,error:h}=await this._enroll({friendlyName:n});if(!d)return await this.client.mfa.listFactors().then(v=>{var _;return(_=v.data)===null||_===void 0?void 0:_.all.find(w=>w.factor_type==="webauthn"&&w.friendly_name===n&&w.status!=="unverified")}).then(v=>v?this.client.mfa.unenroll({factorId:v?.id}):void 0),{data:null,error:h};const{data:m,error:p}=await this._challenge({factorId:d.id,friendlyName:d.friendly_name,webauthn:{rpId:s,rpOrigins:l},signal:o},{create:c});return m?this._verify({factorId:d.id,challengeId:m.challengeId,webauthn:{rpId:s,rpOrigins:l,type:m.webauthn.type,credential_response:m.webauthn.credential_response}}):{data:null,error:p}}catch(d){return ae(d)?{data:null,error:d}:{data:null,error:new La("Unexpected error in register",d)}}}}v1();const z1={url:kS,storageKey:DS,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:US,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function dg(r,n,s){return await s()}const Ar={};class Ks{get jwks(){var n,s;return(s=(n=Ar[this.storageKey])===null||n===void 0?void 0:n.jwks)!==null&&s!==void 0?s:{keys:[]}}set jwks(n){Ar[this.storageKey]=Object.assign(Object.assign({},Ar[this.storageKey]),{jwks:n})}get jwks_cached_at(){var n,s;return(s=(n=Ar[this.storageKey])===null||n===void 0?void 0:n.cachedAt)!==null&&s!==void 0?s:Number.MIN_SAFE_INTEGER}set jwks_cached_at(n){Ar[this.storageKey]=Object.assign(Object.assign({},Ar[this.storageKey]),{cachedAt:n})}constructor(n){var s,l,o;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const c=Object.assign(Object.assign({},z1),n);if(this.storageKey=c.storageKey,this.instanceID=(s=Ks.nextInstanceID[this.storageKey])!==null&&s!==void 0?s:0,Ks.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!c.debug,typeof c.debug=="function"&&(this.logger=c.debug),this.instanceID>0&&dt()){const d=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(d),this.logDebugMessages&&console.trace(d)}if(this.persistSession=c.persistSession,this.autoRefreshToken=c.autoRefreshToken,this.admin=new p1({url:c.url,headers:c.headers,fetch:c.fetch}),this.url=c.url,this.headers=c.headers,this.fetch=S0(c.fetch),this.lock=c.lock||dg,this.detectSessionInUrl=c.detectSessionInUrl,this.flowType=c.flowType,this.hasCustomAuthorizationHeader=c.hasCustomAuthorizationHeader,this.throwOnError=c.throwOnError,this.lockAcquireTimeout=c.lockAcquireTimeout,c.lock?this.lock=c.lock:this.persistSession&&dt()&&(!((l=globalThis?.navigator)===null||l===void 0)&&l.locks)?this.lock=y1:this.lock=dg,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new M1(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(c.storage?this.storage=c.storage:x0()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=cg(this.memoryStorage)),c.userStorage&&(this.userStorage=c.userStorage)):(this.memoryStorage={},this.storage=cg(this.memoryStorage)),dt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(d){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",d)}(o=this.broadcastChannel)===null||o===void 0||o.addEventListener("message",async d=>{this._debug("received broadcast notification from other tab or client",d);try{await this._notifyAllSubscribers(d.data.event,d.data.session,!1)}catch(h){this._debug("#broadcastChannel","error",h)}})}this.initialize().catch(d=>{this._debug("#initialize()","error",d)})}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(n){if(this.throwOnError&&n&&n.error)throw n.error;return n}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${b0}) ${new Date().toISOString()}`}_debug(...n){return this.logDebugMessages&&this.logger(this._logPrefix(),...n),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var n;try{let s={},l="none";if(dt()&&(s=JS(window.location.href),this._isImplicitGrantCallback(s)?l="implicit":await this._isPKCECallback(s)&&(l="pkce")),dt()&&this.detectSessionInUrl&&l!=="none"){const{data:o,error:c}=await this._getSessionFromURL(s,l);if(c){if(this._debug("#_initialize()","error detecting session from URL",c),$S(c)){const m=(n=c.details)===null||n===void 0?void 0:n.code;if(m==="identity_already_exists"||m==="identity_not_found"||m==="single_identity_not_deletable")return{error:c}}return{error:c}}const{session:d,redirectType:h}=o;return this._debug("#_initialize()","detected session in URL",d,"redirect type",h),await this._saveSession(d),setTimeout(async()=>{h==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",d):await this._notifyAllSubscribers("SIGNED_IN",d)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(s){return ae(s)?this._returnResult({error:s}):this._returnResult({error:new La("Unexpected error during initialization",s)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(n){var s,l,o;try{const c=await le(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(l=(s=n?.options)===null||s===void 0?void 0:s.data)!==null&&l!==void 0?l:{},gotrue_meta_security:{captcha_token:(o=n?.options)===null||o===void 0?void 0:o.captchaToken}},xform:tn}),{data:d,error:h}=c;if(h||!d)return this._returnResult({data:{user:null,session:null},error:h});const m=d.session,p=d.user;return d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",m)),this._returnResult({data:{user:p,session:m},error:null})}catch(c){if(ae(c))return this._returnResult({data:{user:null,session:null},error:c});throw c}}async signUp(n){var s,l,o;try{let c;if("email"in n){const{email:v,password:_,options:w}=n;let x=null,R=null;this.flowType==="pkce"&&([x,R]=await Sr(this.storage,this.storageKey)),c=await le(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:w?.emailRedirectTo,body:{email:v,password:_,data:(s=w?.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:w?.captchaToken},code_challenge:x,code_challenge_method:R},xform:tn})}else if("phone"in n){const{phone:v,password:_,options:w}=n;c=await le(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:v,password:_,data:(l=w?.data)!==null&&l!==void 0?l:{},channel:(o=w?.channel)!==null&&o!==void 0?o:"sms",gotrue_meta_security:{captcha_token:w?.captchaToken}},xform:tn})}else throw new wl("You must provide either an email or phone number and a password");const{data:d,error:h}=c;if(h||!d)return await ft(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:h});const m=d.session,p=d.user;return d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",m)),this._returnResult({data:{user:p,session:m},error:null})}catch(c){if(await ft(this.storage,`${this.storageKey}-code-verifier`),ae(c))return this._returnResult({data:{user:null,session:null},error:c});throw c}}async signInWithPassword(n){try{let s;if("email"in n){const{email:c,password:d,options:h}=n;s=await le(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:c,password:d,gotrue_meta_security:{captcha_token:h?.captchaToken}},xform:ug})}else if("phone"in n){const{phone:c,password:d,options:h}=n;s=await le(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:c,password:d,gotrue_meta_security:{captcha_token:h?.captchaToken}},xform:ug})}else throw new wl("You must provide either an email or phone number and a password");const{data:l,error:o}=s;if(o)return this._returnResult({data:{user:null,session:null},error:o});if(!l||!l.session||!l.user){const c=new xr;return this._returnResult({data:{user:null,session:null},error:c})}return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),this._returnResult({data:Object.assign({user:l.user,session:l.session},l.weak_password?{weakPassword:l.weak_password}:null),error:o})}catch(s){if(ae(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithOAuth(n){var s,l,o,c;return await this._handleProviderSignIn(n.provider,{redirectTo:(s=n.options)===null||s===void 0?void 0:s.redirectTo,scopes:(l=n.options)===null||l===void 0?void 0:l.scopes,queryParams:(o=n.options)===null||o===void 0?void 0:o.queryParams,skipBrowserRedirect:(c=n.options)===null||c===void 0?void 0:c.skipBrowserRedirect})}async exchangeCodeForSession(n){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(n))}async signInWithWeb3(n){const{chain:s}=n;switch(s){case"ethereum":return await this.signInWithEthereum(n);case"solana":return await this.signInWithSolana(n);default:throw new Error(`@supabase/auth-js: Unsupported chain "${s}"`)}}async signInWithEthereum(n){var s,l,o,c,d,h,m,p,v,_,w;let x,R;if("message"in n)x=n.message,R=n.signature;else{const{chain:T,wallet:j,statement:C,options:U}=n;let q;if(dt())if(typeof j=="object")q=j;else{const Q=window;if("ethereum"in Q&&typeof Q.ethereum=="object"&&"request"in Q.ethereum&&typeof Q.ethereum.request=="function")q=Q.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof j!="object"||!U?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");q=j}const H=new URL((s=U?.url)!==null&&s!==void 0?s:window.location.href),F=await q.request({method:"eth_requestAccounts"}).then(Q=>Q).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!F||F.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const P=T0(F[0]);let Y=(l=U?.signInWithEthereum)===null||l===void 0?void 0:l.chainId;if(!Y){const Q=await q.request({method:"eth_chainId"});Y=b1(Q)}const z={domain:H.host,address:P,statement:C,uri:H.href,version:"1",chainId:Y,nonce:(o=U?.signInWithEthereum)===null||o===void 0?void 0:o.nonce,issuedAt:(d=(c=U?.signInWithEthereum)===null||c===void 0?void 0:c.issuedAt)!==null&&d!==void 0?d:new Date,expirationTime:(h=U?.signInWithEthereum)===null||h===void 0?void 0:h.expirationTime,notBefore:(m=U?.signInWithEthereum)===null||m===void 0?void 0:m.notBefore,requestId:(p=U?.signInWithEthereum)===null||p===void 0?void 0:p.requestId,resources:(v=U?.signInWithEthereum)===null||v===void 0?void 0:v.resources};x=w1(z),R=await q.request({method:"personal_sign",params:[_1(x),P]})}try{const{data:T,error:j}=await le(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:x,signature:R},!((_=n.options)===null||_===void 0)&&_.captchaToken?{gotrue_meta_security:{captcha_token:(w=n.options)===null||w===void 0?void 0:w.captchaToken}}:null),xform:tn});if(j)throw j;if(!T||!T.session||!T.user){const C=new xr;return this._returnResult({data:{user:null,session:null},error:C})}return T.session&&(await this._saveSession(T.session),await this._notifyAllSubscribers("SIGNED_IN",T.session)),this._returnResult({data:Object.assign({},T),error:j})}catch(T){if(ae(T))return this._returnResult({data:{user:null,session:null},error:T});throw T}}async signInWithSolana(n){var s,l,o,c,d,h,m,p,v,_,w,x;let R,T;if("message"in n)R=n.message,T=n.signature;else{const{chain:j,wallet:C,statement:U,options:q}=n;let H;if(dt())if(typeof C=="object")H=C;else{const P=window;if("solana"in P&&typeof P.solana=="object"&&("signIn"in P.solana&&typeof P.solana.signIn=="function"||"signMessage"in P.solana&&typeof P.solana.signMessage=="function"))H=P.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof C!="object"||!q?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");H=C}const F=new URL((s=q?.url)!==null&&s!==void 0?s:window.location.href);if("signIn"in H&&H.signIn){const P=await H.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},q?.signInWithSolana),{version:"1",domain:F.host,uri:F.href}),U?{statement:U}:null));let Y;if(Array.isArray(P)&&P[0]&&typeof P[0]=="object")Y=P[0];else if(P&&typeof P=="object"&&"signedMessage"in P&&"signature"in P)Y=P;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in Y&&"signature"in Y&&(typeof Y.signedMessage=="string"||Y.signedMessage instanceof Uint8Array)&&Y.signature instanceof Uint8Array)R=typeof Y.signedMessage=="string"?Y.signedMessage:new TextDecoder().decode(Y.signedMessage),T=Y.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in H)||typeof H.signMessage!="function"||!("publicKey"in H)||typeof H!="object"||!H.publicKey||!("toBase58"in H.publicKey)||typeof H.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");R=[`${F.host} wants you to sign in with your Solana account:`,H.publicKey.toBase58(),...U?["",U,""]:[""],"Version: 1",`URI: ${F.href}`,`Issued At: ${(o=(l=q?.signInWithSolana)===null||l===void 0?void 0:l.issuedAt)!==null&&o!==void 0?o:new Date().toISOString()}`,...!((c=q?.signInWithSolana)===null||c===void 0)&&c.notBefore?[`Not Before: ${q.signInWithSolana.notBefore}`]:[],...!((d=q?.signInWithSolana)===null||d===void 0)&&d.expirationTime?[`Expiration Time: ${q.signInWithSolana.expirationTime}`]:[],...!((h=q?.signInWithSolana)===null||h===void 0)&&h.chainId?[`Chain ID: ${q.signInWithSolana.chainId}`]:[],...!((m=q?.signInWithSolana)===null||m===void 0)&&m.nonce?[`Nonce: ${q.signInWithSolana.nonce}`]:[],...!((p=q?.signInWithSolana)===null||p===void 0)&&p.requestId?[`Request ID: ${q.signInWithSolana.requestId}`]:[],...!((_=(v=q?.signInWithSolana)===null||v===void 0?void 0:v.resources)===null||_===void 0)&&_.length?["Resources",...q.signInWithSolana.resources.map(Y=>`- ${Y}`)]:[]].join(`
`);const P=await H.signMessage(new TextEncoder().encode(R),"utf8");if(!P||!(P instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");T=P}}try{const{data:j,error:C}=await le(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:R,signature:Da(T)},!((w=n.options)===null||w===void 0)&&w.captchaToken?{gotrue_meta_security:{captcha_token:(x=n.options)===null||x===void 0?void 0:x.captchaToken}}:null),xform:tn});if(C)throw C;if(!j||!j.session||!j.user){const U=new xr;return this._returnResult({data:{user:null,session:null},error:U})}return j.session&&(await this._saveSession(j.session),await this._notifyAllSubscribers("SIGNED_IN",j.session)),this._returnResult({data:Object.assign({},j),error:C})}catch(j){if(ae(j))return this._returnResult({data:{user:null,session:null},error:j});throw j}}async _exchangeCodeForSession(n){const s=await Oa(this.storage,`${this.storageKey}-code-verifier`),[l,o]=(s??"").split("/");try{if(!l&&this.flowType==="pkce")throw new HS;const{data:c,error:d}=await le(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:n,code_verifier:l},xform:tn});if(await ft(this.storage,`${this.storageKey}-code-verifier`),d)throw d;if(!c||!c.session||!c.user){const h=new xr;return this._returnResult({data:{user:null,session:null,redirectType:null},error:h})}return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),this._returnResult({data:Object.assign(Object.assign({},c),{redirectType:o??null}),error:d})}catch(c){if(await ft(this.storage,`${this.storageKey}-code-verifier`),ae(c))return this._returnResult({data:{user:null,session:null,redirectType:null},error:c});throw c}}async signInWithIdToken(n){try{const{options:s,provider:l,token:o,access_token:c,nonce:d}=n,h=await le(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:l,id_token:o,access_token:c,nonce:d,gotrue_meta_security:{captcha_token:s?.captchaToken}},xform:tn}),{data:m,error:p}=h;if(p)return this._returnResult({data:{user:null,session:null},error:p});if(!m||!m.session||!m.user){const v=new xr;return this._returnResult({data:{user:null,session:null},error:v})}return m.session&&(await this._saveSession(m.session),await this._notifyAllSubscribers("SIGNED_IN",m.session)),this._returnResult({data:m,error:p})}catch(s){if(ae(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithOtp(n){var s,l,o,c,d;try{if("email"in n){const{email:h,options:m}=n;let p=null,v=null;this.flowType==="pkce"&&([p,v]=await Sr(this.storage,this.storageKey));const{error:_}=await le(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:h,data:(s=m?.data)!==null&&s!==void 0?s:{},create_user:(l=m?.shouldCreateUser)!==null&&l!==void 0?l:!0,gotrue_meta_security:{captcha_token:m?.captchaToken},code_challenge:p,code_challenge_method:v},redirectTo:m?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:_})}if("phone"in n){const{phone:h,options:m}=n,{data:p,error:v}=await le(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:h,data:(o=m?.data)!==null&&o!==void 0?o:{},create_user:(c=m?.shouldCreateUser)!==null&&c!==void 0?c:!0,gotrue_meta_security:{captcha_token:m?.captchaToken},channel:(d=m?.channel)!==null&&d!==void 0?d:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:p?.message_id},error:v})}throw new wl("You must provide either an email or phone number.")}catch(h){if(await ft(this.storage,`${this.storageKey}-code-verifier`),ae(h))return this._returnResult({data:{user:null,session:null},error:h});throw h}}async verifyOtp(n){var s,l;try{let o,c;"options"in n&&(o=(s=n.options)===null||s===void 0?void 0:s.redirectTo,c=(l=n.options)===null||l===void 0?void 0:l.captchaToken);const{data:d,error:h}=await le(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},n),{gotrue_meta_security:{captcha_token:c}}),redirectTo:o,xform:tn});if(h)throw h;if(!d)throw new Error("An error occurred on token verification.");const m=d.session,p=d.user;return m?.access_token&&(await this._saveSession(m),await this._notifyAllSubscribers(n.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",m)),this._returnResult({data:{user:p,session:m},error:null})}catch(o){if(ae(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async signInWithSSO(n){var s,l,o,c,d;try{let h=null,m=null;this.flowType==="pkce"&&([h,m]=await Sr(this.storage,this.storageKey));const p=await le(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in n?{provider_id:n.providerId}:null),"domain"in n?{domain:n.domain}:null),{redirect_to:(l=(s=n.options)===null||s===void 0?void 0:s.redirectTo)!==null&&l!==void 0?l:void 0}),!((o=n?.options)===null||o===void 0)&&o.captchaToken?{gotrue_meta_security:{captcha_token:n.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:h,code_challenge_method:m}),headers:this.headers,xform:d1});return!((c=p.data)===null||c===void 0)&&c.url&&dt()&&!(!((d=n.options)===null||d===void 0)&&d.skipBrowserRedirect)&&window.location.assign(p.data.url),this._returnResult(p)}catch(h){if(await ft(this.storage,`${this.storageKey}-code-verifier`),ae(h))return this._returnResult({data:null,error:h});throw h}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async n=>{const{data:{session:s},error:l}=n;if(l)throw l;if(!s)throw new Mt;const{error:o}=await le(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:s.access_token});return this._returnResult({data:{user:null,session:null},error:o})})}catch(n){if(ae(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async resend(n){try{const s=`${this.url}/resend`;if("email"in n){const{email:l,type:o,options:c}=n,{error:d}=await le(this.fetch,"POST",s,{headers:this.headers,body:{email:l,type:o,gotrue_meta_security:{captcha_token:c?.captchaToken}},redirectTo:c?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:d})}else if("phone"in n){const{phone:l,type:o,options:c}=n,{data:d,error:h}=await le(this.fetch,"POST",s,{headers:this.headers,body:{phone:l,type:o,gotrue_meta_security:{captcha_token:c?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:d?.message_id},error:h})}throw new wl("You must provide either an email or phone number and a type")}catch(s){if(ae(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async s=>s))}async _acquireLock(n,s){this._debug("#_acquireLock","begin",n);try{if(this.lockAcquired){const l=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),o=(async()=>(await l,await s()))();return this.pendingInLock.push((async()=>{try{await o}catch{}})()),o}return await this.lock(`lock:${this.storageKey}`,n,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const l=s();for(this.pendingInLock.push((async()=>{try{await l}catch{}})()),await l;this.pendingInLock.length;){const o=[...this.pendingInLock];await Promise.all(o),this.pendingInLock.splice(0,o.length)}return await l}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(n){this._debug("#_useSession","begin");try{const s=await this.__loadSession();return await n(s)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let n=null;const s=await Oa(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",s),s!==null&&(this._isValidSession(s)?n=s:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!n)return{data:{session:null},error:null};const l=n.expires_at?n.expires_at*1e3-Date.now()<Ec:!1;if(this._debug("#__loadSession()",`session has${l?"":" not"} expired`,"expires_at",n.expires_at),!l){if(this.userStorage){const d=await Oa(this.userStorage,this.storageKey+"-user");d?.user?n.user=d.user:n.user=jc()}if(this.storage.isServer&&n.user&&!n.user.__isUserNotAvailableProxy){const d={value:this.suppressGetSessionWarning};n.user=u1(n.user,d),d.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:n},error:null}}const{data:o,error:c}=await this._callRefreshToken(n.refresh_token);return c?this._returnResult({data:{session:null},error:c}):this._returnResult({data:{session:o},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(n){if(n)return await this._getUser(n);await this.initializePromise;const s=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return s.data.user&&(this.suppressGetSessionWarning=!0),s}async _getUser(n){try{return n?await le(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:n,xform:la}):await this._useSession(async s=>{var l,o,c;const{data:d,error:h}=s;if(h)throw h;return!(!((l=d.session)===null||l===void 0)&&l.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Mt}:await le(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(c=(o=d.session)===null||o===void 0?void 0:o.access_token)!==null&&c!==void 0?c:void 0,xform:la})})}catch(s){if(ae(s))return Tc(s)&&(await this._removeSession(),await ft(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:s});throw s}}async updateUser(n,s={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(n,s))}async _updateUser(n,s={}){try{return await this._useSession(async l=>{const{data:o,error:c}=l;if(c)throw c;if(!o.session)throw new Mt;const d=o.session;let h=null,m=null;this.flowType==="pkce"&&n.email!=null&&([h,m]=await Sr(this.storage,this.storageKey));const{data:p,error:v}=await le(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:s?.emailRedirectTo,body:Object.assign(Object.assign({},n),{code_challenge:h,code_challenge_method:m}),jwt:d.access_token,xform:la});if(v)throw v;return d.user=p.user,await this._saveSession(d),await this._notifyAllSubscribers("USER_UPDATED",d),this._returnResult({data:{user:d.user},error:null})})}catch(l){if(await ft(this.storage,`${this.storageKey}-code-verifier`),ae(l))return this._returnResult({data:{user:null},error:l});throw l}}async setSession(n){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(n))}async _setSession(n){try{if(!n.access_token||!n.refresh_token)throw new Mt;const s=Date.now()/1e3;let l=s,o=!0,c=null;const{payload:d}=Sl(n.access_token);if(d.exp&&(l=d.exp,o=l<=s),o){const{data:h,error:m}=await this._callRefreshToken(n.refresh_token);if(m)return this._returnResult({data:{user:null,session:null},error:m});if(!h)return{data:{user:null,session:null},error:null};c=h}else{const{data:h,error:m}=await this._getUser(n.access_token);if(m)return this._returnResult({data:{user:null,session:null},error:m});c={access_token:n.access_token,refresh_token:n.refresh_token,user:h.user,token_type:"bearer",expires_in:l-s,expires_at:l},await this._saveSession(c),await this._notifyAllSubscribers("SIGNED_IN",c)}return this._returnResult({data:{user:c.user,session:c},error:null})}catch(s){if(ae(s))return this._returnResult({data:{session:null,user:null},error:s});throw s}}async refreshSession(n){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(n))}async _refreshSession(n){try{return await this._useSession(async s=>{var l;if(!n){const{data:d,error:h}=s;if(h)throw h;n=(l=d.session)!==null&&l!==void 0?l:void 0}if(!n?.refresh_token)throw new Mt;const{data:o,error:c}=await this._callRefreshToken(n.refresh_token);return c?this._returnResult({data:{user:null,session:null},error:c}):o?this._returnResult({data:{user:o.user,session:o},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(s){if(ae(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async _getSessionFromURL(n,s){try{if(!dt())throw new xl("No browser detected.");if(n.error||n.error_description||n.error_code)throw new xl(n.error_description||"Error in URL with unspecified error_description",{error:n.error||"unspecified_error",code:n.error_code||"unspecified_code"});switch(s){case"implicit":if(this.flowType==="pkce")throw new tg("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new xl("Not a valid implicit grant flow url.");break;default:}if(s==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!n.code)throw new tg("No code detected.");const{data:U,error:q}=await this._exchangeCodeForSession(n.code);if(q)throw q;const H=new URL(window.location.href);return H.searchParams.delete("code"),window.history.replaceState(window.history.state,"",H.toString()),{data:{session:U.session,redirectType:null},error:null}}const{provider_token:l,provider_refresh_token:o,access_token:c,refresh_token:d,expires_in:h,expires_at:m,token_type:p}=n;if(!c||!h||!d||!p)throw new xl("No session defined in URL");const v=Math.round(Date.now()/1e3),_=parseInt(h);let w=v+_;m&&(w=parseInt(m));const x=w-v;x*1e3<=Nr&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${x}s, should have been closer to ${_}s`);const R=w-_;v-R>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",R,w,v):v-R<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",R,w,v);const{data:T,error:j}=await this._getUser(c);if(j)throw j;const C={provider_token:l,provider_refresh_token:o,access_token:c,expires_in:_,expires_at:w,refresh_token:d,token_type:p,user:T.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:C,redirectType:n.type},error:null})}catch(l){if(ae(l))return this._returnResult({data:{session:null,redirectType:null},error:l});throw l}}_isImplicitGrantCallback(n){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),n):!!(n.access_token||n.error_description)}async _isPKCECallback(n){const s=await Oa(this.storage,`${this.storageKey}-code-verifier`);return!!(n.code&&s)}async signOut(n={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(n))}async _signOut({scope:n}={scope:"global"}){return await this._useSession(async s=>{var l;const{data:o,error:c}=s;if(c&&!Tc(c))return this._returnResult({error:c});const d=(l=o.session)===null||l===void 0?void 0:l.access_token;if(d){const{error:h}=await this.admin.signOut(d,n);if(h&&!(qS(h)&&(h.status===404||h.status===401||h.status===403)||Tc(h)))return this._returnResult({error:h})}return n!=="others"&&(await this._removeSession(),await ft(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(n){const s=ZS(),l={id:s,callback:n,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",s),this.stateChangeEmitters.delete(s)}};return this._debug("#onAuthStateChange()","registered callback with id",s),this.stateChangeEmitters.set(s,l),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(s)})))(),{data:{subscription:l}}}async _emitInitialSession(n){return await this._useSession(async s=>{var l,o;try{const{data:{session:c},error:d}=s;if(d)throw d;await((l=this.stateChangeEmitters.get(n))===null||l===void 0?void 0:l.callback("INITIAL_SESSION",c)),this._debug("INITIAL_SESSION","callback id",n,"session",c)}catch(c){await((o=this.stateChangeEmitters.get(n))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",n,"error",c),console.error(c)}})}async resetPasswordForEmail(n,s={}){let l=null,o=null;this.flowType==="pkce"&&([l,o]=await Sr(this.storage,this.storageKey,!0));try{return await le(this.fetch,"POST",`${this.url}/recover`,{body:{email:n,code_challenge:l,code_challenge_method:o,gotrue_meta_security:{captcha_token:s.captchaToken}},headers:this.headers,redirectTo:s.redirectTo})}catch(c){if(await ft(this.storage,`${this.storageKey}-code-verifier`),ae(c))return this._returnResult({data:null,error:c});throw c}}async getUserIdentities(){var n;try{const{data:s,error:l}=await this.getUser();if(l)throw l;return this._returnResult({data:{identities:(n=s.user.identities)!==null&&n!==void 0?n:[]},error:null})}catch(s){if(ae(s))return this._returnResult({data:null,error:s});throw s}}async linkIdentity(n){return"token"in n?this.linkIdentityIdToken(n):this.linkIdentityOAuth(n)}async linkIdentityOAuth(n){var s;try{const{data:l,error:o}=await this._useSession(async c=>{var d,h,m,p,v;const{data:_,error:w}=c;if(w)throw w;const x=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,n.provider,{redirectTo:(d=n.options)===null||d===void 0?void 0:d.redirectTo,scopes:(h=n.options)===null||h===void 0?void 0:h.scopes,queryParams:(m=n.options)===null||m===void 0?void 0:m.queryParams,skipBrowserRedirect:!0});return await le(this.fetch,"GET",x,{headers:this.headers,jwt:(v=(p=_.session)===null||p===void 0?void 0:p.access_token)!==null&&v!==void 0?v:void 0})});if(o)throw o;return dt()&&!(!((s=n.options)===null||s===void 0)&&s.skipBrowserRedirect)&&window.location.assign(l?.url),this._returnResult({data:{provider:n.provider,url:l?.url},error:null})}catch(l){if(ae(l))return this._returnResult({data:{provider:n.provider,url:null},error:l});throw l}}async linkIdentityIdToken(n){return await this._useSession(async s=>{var l;try{const{error:o,data:{session:c}}=s;if(o)throw o;const{options:d,provider:h,token:m,access_token:p,nonce:v}=n,_=await le(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(l=c?.access_token)!==null&&l!==void 0?l:void 0,body:{provider:h,id_token:m,access_token:p,nonce:v,link_identity:!0,gotrue_meta_security:{captcha_token:d?.captchaToken}},xform:tn}),{data:w,error:x}=_;return x?this._returnResult({data:{user:null,session:null},error:x}):!w||!w.session||!w.user?this._returnResult({data:{user:null,session:null},error:new xr}):(w.session&&(await this._saveSession(w.session),await this._notifyAllSubscribers("USER_UPDATED",w.session)),this._returnResult({data:w,error:x}))}catch(o){if(await ft(this.storage,`${this.storageKey}-code-verifier`),ae(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}})}async unlinkIdentity(n){try{return await this._useSession(async s=>{var l,o;const{data:c,error:d}=s;if(d)throw d;return await le(this.fetch,"DELETE",`${this.url}/user/identities/${n.identity_id}`,{headers:this.headers,jwt:(o=(l=c.session)===null||l===void 0?void 0:l.access_token)!==null&&o!==void 0?o:void 0})})}catch(s){if(ae(s))return this._returnResult({data:null,error:s});throw s}}async _refreshAccessToken(n){const s=`#_refreshAccessToken(${n.substring(0,5)}...)`;this._debug(s,"begin");try{const l=Date.now();return await WS(async o=>(o>0&&await QS(200*Math.pow(2,o-1)),this._debug(s,"refreshing attempt",o),await le(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:n},headers:this.headers,xform:tn})),(o,c)=>{const d=200*Math.pow(2,o);return c&&Ac(c)&&Date.now()+d-l<Nr})}catch(l){if(this._debug(s,"error",l),ae(l))return this._returnResult({data:{session:null,user:null},error:l});throw l}finally{this._debug(s,"end")}}_isValidSession(n){return typeof n=="object"&&n!==null&&"access_token"in n&&"refresh_token"in n&&"expires_at"in n}async _handleProviderSignIn(n,s){const l=await this._getUrlForProvider(`${this.url}/authorize`,n,{redirectTo:s.redirectTo,scopes:s.scopes,queryParams:s.queryParams});return this._debug("#_handleProviderSignIn()","provider",n,"options",s,"url",l),dt()&&!s.skipBrowserRedirect&&window.location.assign(l),{data:{provider:n,url:l},error:null}}async _recoverAndRefresh(){var n,s;const l="#_recoverAndRefresh()";this._debug(l,"begin");try{const o=await Oa(this.storage,this.storageKey);if(o&&this.userStorage){let d=await Oa(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!d&&(d={user:o.user},await Cr(this.userStorage,this.storageKey+"-user",d)),o.user=(n=d?.user)!==null&&n!==void 0?n:jc()}else if(o&&!o.user&&!o.user){const d=await Oa(this.storage,this.storageKey+"-user");d&&d?.user?(o.user=d.user,await ft(this.storage,this.storageKey+"-user"),await Cr(this.storage,this.storageKey,o)):o.user=jc()}if(this._debug(l,"session from storage",o),!this._isValidSession(o)){this._debug(l,"session is not valid"),o!==null&&await this._removeSession();return}const c=((s=o.expires_at)!==null&&s!==void 0?s:1/0)*1e3-Date.now()<Ec;if(this._debug(l,`session has${c?"":" not"} expired with margin of ${Ec}s`),c){if(this.autoRefreshToken&&o.refresh_token){const{error:d}=await this._callRefreshToken(o.refresh_token);d&&(console.error(d),Ac(d)||(this._debug(l,"refresh failed with a non-retryable error, removing the session",d),await this._removeSession()))}}else if(o.user&&o.user.__isUserNotAvailableProxy===!0)try{const{data:d,error:h}=await this._getUser(o.access_token);!h&&d?.user?(o.user=d.user,await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)):this._debug(l,"could not get user data, skipping SIGNED_IN notification")}catch(d){console.error("Error getting user data:",d),this._debug(l,"error getting user data, skipping SIGNED_IN notification",d)}else await this._notifyAllSubscribers("SIGNED_IN",o)}catch(o){this._debug(l,"error",o),console.error(o);return}finally{this._debug(l,"end")}}async _callRefreshToken(n){var s,l;if(!n)throw new Mt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const o=`#_callRefreshToken(${n.substring(0,5)}...)`;this._debug(o,"begin");try{this.refreshingDeferred=new Pl;const{data:c,error:d}=await this._refreshAccessToken(n);if(d)throw d;if(!c.session)throw new Mt;await this._saveSession(c.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",c.session);const h={data:c.session,error:null};return this.refreshingDeferred.resolve(h),h}catch(c){if(this._debug(o,"error",c),ae(c)){const d={data:null,error:c};return Ac(c)||await this._removeSession(),(s=this.refreshingDeferred)===null||s===void 0||s.resolve(d),d}throw(l=this.refreshingDeferred)===null||l===void 0||l.reject(c),c}finally{this.refreshingDeferred=null,this._debug(o,"end")}}async _notifyAllSubscribers(n,s,l=!0){const o=`#_notifyAllSubscribers(${n})`;this._debug(o,"begin",s,`broadcast = ${l}`);try{this.broadcastChannel&&l&&this.broadcastChannel.postMessage({event:n,session:s});const c=[],d=Array.from(this.stateChangeEmitters.values()).map(async h=>{try{await h.callback(n,s)}catch(m){c.push(m)}});if(await Promise.all(d),c.length>0){for(let h=0;h<c.length;h+=1)console.error(c[h]);throw c[0]}}finally{this._debug(o,"end")}}async _saveSession(n){this._debug("#_saveSession()",n),this.suppressGetSessionWarning=!0,await ft(this.storage,`${this.storageKey}-code-verifier`);const s=Object.assign({},n),l=s.user&&s.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!l&&s.user&&await Cr(this.userStorage,this.storageKey+"-user",{user:s.user});const o=Object.assign({},s);delete o.user;const c=ig(o);await Cr(this.storage,this.storageKey,c)}else{const o=ig(s);await Cr(this.storage,this.storageKey,o)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await ft(this.storage,this.storageKey),await ft(this.storage,this.storageKey+"-code-verifier"),await ft(this.storage,this.storageKey+"-user"),this.userStorage&&await ft(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const n=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{n&&dt()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",n)}catch(s){console.error("removing visibilitychange callback failed",s)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const n=setInterval(()=>this._autoRefreshTokenTick(),Nr);this.autoRefreshTicker=n,n&&typeof n=="object"&&typeof n.unref=="function"?n.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(n);const s=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=s,s&&typeof s=="object"&&typeof s.unref=="function"?s.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(s)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const n=this.autoRefreshTicker;this.autoRefreshTicker=null,n&&clearInterval(n);const s=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,s&&clearTimeout(s)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const n=Date.now();try{return await this._useSession(async s=>{const{data:{session:l}}=s;if(!l||!l.refresh_token||!l.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const o=Math.floor((l.expires_at*1e3-n)/Nr);this._debug("#_autoRefreshTokenTick()",`access token expires in ${o} ticks, a tick lasts ${Nr}ms, refresh threshold is ${Pc} ticks`),o<=Pc&&await this._callRefreshToken(l.refresh_token)})}catch(s){console.error("Auto refresh tick failed with error. This is likely a transient error.",s)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(n){if(n.isAcquireTimeout||n instanceof E0)this._debug("auto refresh token tick lock not available");else throw n}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!dt()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>{try{await this._onVisibilityChanged(!1)}catch(n){this._debug("#visibilityChangedCallback","error",n)}},window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(n){console.error("_handleVisibilityChange",n)}}async _onVisibilityChanged(n){const s=`#_onVisibilityChanged(${n})`;this._debug(s,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),n||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(s,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(n,s,l){const o=[`provider=${encodeURIComponent(s)}`];if(l?.redirectTo&&o.push(`redirect_to=${encodeURIComponent(l.redirectTo)}`),l?.scopes&&o.push(`scopes=${encodeURIComponent(l.scopes)}`),this.flowType==="pkce"){const[c,d]=await Sr(this.storage,this.storageKey),h=new URLSearchParams({code_challenge:`${encodeURIComponent(c)}`,code_challenge_method:`${encodeURIComponent(d)}`});o.push(h.toString())}if(l?.queryParams){const c=new URLSearchParams(l.queryParams);o.push(c.toString())}return l?.skipBrowserRedirect&&o.push(`skip_http_redirect=${l.skipBrowserRedirect}`),`${n}?${o.join("&")}`}async _unenroll(n){try{return await this._useSession(async s=>{var l;const{data:o,error:c}=s;return c?this._returnResult({data:null,error:c}):await le(this.fetch,"DELETE",`${this.url}/factors/${n.factorId}`,{headers:this.headers,jwt:(l=o?.session)===null||l===void 0?void 0:l.access_token})})}catch(s){if(ae(s))return this._returnResult({data:null,error:s});throw s}}async _enroll(n){try{return await this._useSession(async s=>{var l,o;const{data:c,error:d}=s;if(d)return this._returnResult({data:null,error:d});const h=Object.assign({friendly_name:n.friendlyName,factor_type:n.factorType},n.factorType==="phone"?{phone:n.phone}:n.factorType==="totp"?{issuer:n.issuer}:{}),{data:m,error:p}=await le(this.fetch,"POST",`${this.url}/factors`,{body:h,headers:this.headers,jwt:(l=c?.session)===null||l===void 0?void 0:l.access_token});return p?this._returnResult({data:null,error:p}):(n.factorType==="totp"&&m.type==="totp"&&(!((o=m?.totp)===null||o===void 0)&&o.qr_code)&&(m.totp.qr_code=`data:image/svg+xml;utf-8,${m.totp.qr_code}`),this._returnResult({data:m,error:null}))})}catch(s){if(ae(s))return this._returnResult({data:null,error:s});throw s}}async _verify(n){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async s=>{var l;const{data:o,error:c}=s;if(c)return this._returnResult({data:null,error:c});const d=Object.assign({challenge_id:n.challengeId},"webauthn"in n?{webauthn:Object.assign(Object.assign({},n.webauthn),{credential_response:n.webauthn.type==="create"?R1(n.webauthn.credential_response):O1(n.webauthn.credential_response)})}:{code:n.code}),{data:h,error:m}=await le(this.fetch,"POST",`${this.url}/factors/${n.factorId}/verify`,{body:d,headers:this.headers,jwt:(l=o?.session)===null||l===void 0?void 0:l.access_token});return m?this._returnResult({data:null,error:m}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+h.expires_in},h)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",h),this._returnResult({data:h,error:m}))})}catch(s){if(ae(s))return this._returnResult({data:null,error:s});throw s}})}async _challenge(n){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async s=>{var l;const{data:o,error:c}=s;if(c)return this._returnResult({data:null,error:c});const d=await le(this.fetch,"POST",`${this.url}/factors/${n.factorId}/challenge`,{body:n,headers:this.headers,jwt:(l=o?.session)===null||l===void 0?void 0:l.access_token});if(d.error)return d;const{data:h}=d;if(h.type!=="webauthn")return{data:h,error:null};switch(h.webauthn.type){case"create":return{data:Object.assign(Object.assign({},h),{webauthn:Object.assign(Object.assign({},h.webauthn),{credential_options:Object.assign(Object.assign({},h.webauthn.credential_options),{publicKey:A1(h.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},h),{webauthn:Object.assign(Object.assign({},h.webauthn),{credential_options:Object.assign(Object.assign({},h.webauthn.credential_options),{publicKey:j1(h.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(s){if(ae(s))return this._returnResult({data:null,error:s});throw s}})}async _challengeAndVerify(n){const{data:s,error:l}=await this._challenge({factorId:n.factorId});return l?this._returnResult({data:null,error:l}):await this._verify({factorId:n.factorId,challengeId:s.id,code:n.code})}async _listFactors(){var n;const{data:{user:s},error:l}=await this.getUser();if(l)return{data:null,error:l};const o={all:[],phone:[],totp:[],webauthn:[]};for(const c of(n=s?.factors)!==null&&n!==void 0?n:[])o.all.push(c),c.status==="verified"&&o[c.factor_type].push(c);return{data:o,error:null}}async _getAuthenticatorAssuranceLevel(n){var s,l,o,c;if(n)try{const{payload:x}=Sl(n);let R=null;x.aal&&(R=x.aal);let T=R;const{data:{user:j},error:C}=await this.getUser(n);if(C)return this._returnResult({data:null,error:C});((l=(s=j?.factors)===null||s===void 0?void 0:s.filter(H=>H.status==="verified"))!==null&&l!==void 0?l:[]).length>0&&(T="aal2");const q=x.amr||[];return{data:{currentLevel:R,nextLevel:T,currentAuthenticationMethods:q},error:null}}catch(x){if(ae(x))return this._returnResult({data:null,error:x});throw x}const{data:{session:d},error:h}=await this.getSession();if(h)return this._returnResult({data:null,error:h});if(!d)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:m}=Sl(d.access_token);let p=null;m.aal&&(p=m.aal);let v=p;((c=(o=d.user.factors)===null||o===void 0?void 0:o.filter(x=>x.status==="verified"))!==null&&c!==void 0?c:[]).length>0&&(v="aal2");const w=m.amr||[];return{data:{currentLevel:p,nextLevel:v,currentAuthenticationMethods:w},error:null}}async _getAuthorizationDetails(n){try{return await this._useSession(async s=>{const{data:{session:l},error:o}=s;return o?this._returnResult({data:null,error:o}):l?await le(this.fetch,"GET",`${this.url}/oauth/authorizations/${n}`,{headers:this.headers,jwt:l.access_token,xform:c=>({data:c,error:null})}):this._returnResult({data:null,error:new Mt})})}catch(s){if(ae(s))return this._returnResult({data:null,error:s});throw s}}async _approveAuthorization(n,s){try{return await this._useSession(async l=>{const{data:{session:o},error:c}=l;if(c)return this._returnResult({data:null,error:c});if(!o)return this._returnResult({data:null,error:new Mt});const d=await le(this.fetch,"POST",`${this.url}/oauth/authorizations/${n}/consent`,{headers:this.headers,jwt:o.access_token,body:{action:"approve"},xform:h=>({data:h,error:null})});return d.data&&d.data.redirect_url&&dt()&&!s?.skipBrowserRedirect&&window.location.assign(d.data.redirect_url),d})}catch(l){if(ae(l))return this._returnResult({data:null,error:l});throw l}}async _denyAuthorization(n,s){try{return await this._useSession(async l=>{const{data:{session:o},error:c}=l;if(c)return this._returnResult({data:null,error:c});if(!o)return this._returnResult({data:null,error:new Mt});const d=await le(this.fetch,"POST",`${this.url}/oauth/authorizations/${n}/consent`,{headers:this.headers,jwt:o.access_token,body:{action:"deny"},xform:h=>({data:h,error:null})});return d.data&&d.data.redirect_url&&dt()&&!s?.skipBrowserRedirect&&window.location.assign(d.data.redirect_url),d})}catch(l){if(ae(l))return this._returnResult({data:null,error:l});throw l}}async _listOAuthGrants(){try{return await this._useSession(async n=>{const{data:{session:s},error:l}=n;return l?this._returnResult({data:null,error:l}):s?await le(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:s.access_token,xform:o=>({data:o,error:null})}):this._returnResult({data:null,error:new Mt})})}catch(n){if(ae(n))return this._returnResult({data:null,error:n});throw n}}async _revokeOAuthGrant(n){try{return await this._useSession(async s=>{const{data:{session:l},error:o}=s;return o?this._returnResult({data:null,error:o}):l?(await le(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:l.access_token,query:{client_id:n.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new Mt})})}catch(s){if(ae(s))return this._returnResult({data:null,error:s});throw s}}async fetchJwk(n,s={keys:[]}){let l=s.keys.find(h=>h.kid===n);if(l)return l;const o=Date.now();if(l=this.jwks.keys.find(h=>h.kid===n),l&&this.jwks_cached_at+zS>o)return l;const{data:c,error:d}=await le(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(d)throw d;return!c.keys||c.keys.length===0||(this.jwks=c,this.jwks_cached_at=o,l=c.keys.find(h=>h.kid===n),!l)?null:l}async getClaims(n,s={}){try{let l=n;if(!l){const{data:x,error:R}=await this.getSession();if(R||!x.session)return this._returnResult({data:null,error:R});l=x.session.access_token}const{header:o,payload:c,signature:d,raw:{header:h,payload:m}}=Sl(l);s?.allowExpired||s1(c.exp);const p=!o.alg||o.alg.startsWith("HS")||!o.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(o.kid,s?.keys?{keys:s.keys}:s?.jwks);if(!p){const{error:x}=await this.getUser(l);if(x)throw x;return{data:{claims:c,header:o,signature:d},error:null}}const v=i1(o.alg),_=await crypto.subtle.importKey("jwk",p,v,!0,["verify"]);if(!await crypto.subtle.verify(v,_,d,KS(`${h}.${m}`)))throw new Zc("Invalid JWT signature");return{data:{claims:c,header:o,signature:d},error:null}}catch(l){if(ae(l))return this._returnResult({data:null,error:l});throw l}}}Ks.nextInstanceID={};const B1=Ks,q1="2.95.3";let Ms="";typeof Deno<"u"?Ms="deno":typeof document<"u"?Ms="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Ms="react-native":Ms="node";const $1={"X-Client-Info":`supabase-js-${Ms}/${q1}`},H1={headers:$1},I1={schema:"public"},G1={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},V1={};function Ys(r){"@babel/helpers - typeof";return Ys=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Ys(r)}function P1(r,n){if(Ys(r)!="object"||!r)return r;var s=r[Symbol.toPrimitive];if(s!==void 0){var l=s.call(r,n);if(Ys(l)!="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(r)}function K1(r){var n=P1(r,"string");return Ys(n)=="symbol"?n:n+""}function Y1(r,n,s){return(n=K1(n))in r?Object.defineProperty(r,n,{value:s,enumerable:!0,configurable:!0,writable:!0}):r[n]=s,r}function hg(r,n){var s=Object.keys(r);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(r);n&&(l=l.filter(function(o){return Object.getOwnPropertyDescriptor(r,o).enumerable})),s.push.apply(s,l)}return s}function Ie(r){for(var n=1;n<arguments.length;n++){var s=arguments[n]!=null?arguments[n]:{};n%2?hg(Object(s),!0).forEach(function(l){Y1(r,l,s[l])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(s)):hg(Object(s)).forEach(function(l){Object.defineProperty(r,l,Object.getOwnPropertyDescriptor(s,l))})}return r}const Z1=r=>r?(...n)=>r(...n):(...n)=>fetch(...n),J1=()=>Headers,X1=(r,n,s)=>{const l=Z1(s),o=J1();return async(c,d)=>{var h;const m=(h=await n())!==null&&h!==void 0?h:r;let p=new o(d?.headers);return p.has("apikey")||p.set("apikey",r),p.has("Authorization")||p.set("Authorization",`Bearer ${m}`),l(c,Ie(Ie({},d),{},{headers:p}))}};function Q1(r){return r.endsWith("/")?r:r+"/"}function W1(r,n){var s,l;const{db:o,auth:c,realtime:d,global:h}=r,{db:m,auth:p,realtime:v,global:_}=n,w={db:Ie(Ie({},m),o),auth:Ie(Ie({},p),c),realtime:Ie(Ie({},v),d),storage:{},global:Ie(Ie(Ie({},_),h),{},{headers:Ie(Ie({},(s=_?.headers)!==null&&s!==void 0?s:{}),(l=h?.headers)!==null&&l!==void 0?l:{})}),accessToken:async()=>""};return r.accessToken?w.accessToken=r.accessToken:delete w.accessToken,w}function F1(r){const n=r?.trim();if(!n)throw new Error("supabaseUrl is required.");if(!n.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(Q1(n))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var eE=class extends B1{constructor(r){super(r)}},tE=class{constructor(r,n,s){var l,o;this.supabaseUrl=r,this.supabaseKey=n;const c=F1(r);if(!n)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",c),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",c),this.storageUrl=new URL("storage/v1",c),this.functionsUrl=new URL("functions/v1",c);const d=`sb-${c.hostname.split(".")[0]}-auth-token`,h={db:I1,realtime:V1,auth:Ie(Ie({},G1),{},{storageKey:d}),global:H1},m=W1(s??{},h);if(this.storageKey=(l=m.auth.storageKey)!==null&&l!==void 0?l:"",this.headers=(o=m.global.headers)!==null&&o!==void 0?o:{},m.accessToken)this.accessToken=m.accessToken,this.auth=new Proxy({},{get:(v,_)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(_)} is not possible`)}});else{var p;this.auth=this._initSupabaseAuthClient((p=m.auth)!==null&&p!==void 0?p:{},this.headers,m.global.fetch)}this.fetch=X1(n,this._getAccessToken.bind(this),m.global.fetch),this.realtime=this._initRealtimeClient(Ie({headers:this.headers,accessToken:this._getAccessToken.bind(this)},m.realtime)),this.accessToken&&Promise.resolve(this.accessToken()).then(v=>this.realtime.setAuth(v)).catch(v=>console.warn("Failed to set initial Realtime auth token:",v)),this.rest=new qx(new URL("rest/v1",c).href,{headers:this.headers,schema:m.db.schema,fetch:this.fetch,timeout:m.db.timeout,urlLengthLimit:m.db.urlLengthLimit}),this.storage=new LS(this.storageUrl.href,this.headers,this.fetch,s?.storage),m.accessToken||this._listenForAuthEvents()}get functions(){return new Cx(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(r){return this.rest.from(r)}schema(r){return this.rest.schema(r)}rpc(r,n={},s={head:!1,get:!1,count:void 0}){return this.rest.rpc(r,n,s)}channel(r,n={config:{}}){return this.realtime.channel(r,n)}getChannels(){return this.realtime.getChannels()}removeChannel(r){return this.realtime.removeChannel(r)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var r=this,n,s;if(r.accessToken)return await r.accessToken();const{data:l}=await r.auth.getSession();return(n=(s=l.session)===null||s===void 0?void 0:s.access_token)!==null&&n!==void 0?n:r.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:r,persistSession:n,detectSessionInUrl:s,storage:l,userStorage:o,storageKey:c,flowType:d,lock:h,debug:m,throwOnError:p},v,_){const w={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new eE({url:this.authUrl.href,headers:Ie(Ie({},w),v),storageKey:c,autoRefreshToken:r,persistSession:n,detectSessionInUrl:s,storage:l,userStorage:o,flowType:d,lock:h,debug:m,throwOnError:p,fetch:_,hasCustomAuthorizationHeader:Object.keys(this.headers).some(x=>x.toLowerCase()==="authorization")})}_initRealtimeClient(r){return new nS(this.realtimeUrl.href,Ie(Ie({},r),{},{params:Ie(Ie({},{apikey:this.supabaseKey}),r?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n?.access_token)})}_handleTokenChanged(r,n,s){(r==="TOKEN_REFRESHED"||r==="SIGNED_IN")&&this.changedAccessToken!==s?(this.changedAccessToken=s,this.realtime.setAuth(s)):r==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const nE=(r,n,s)=>new tE(r,n,s);function aE(){if(typeof window<"u")return!1;const r=globalThis.process;if(!r)return!1;const n=r.version;if(n==null)return!1;const s=n.match(/^v(\d+)\./);return s?parseInt(s[1],10)<=18:!1}aE()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const rE="https://nogutkibukcnbxvmlnrv.supabase.co",sE="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im5vZ3V0a2lidWtjbmJ4dm1sbnJ2Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3Njg5ODY3NzMsImV4cCI6MjA4NDU2Mjc3M30.M3Of6SX4S95_9th8h6QJhVNiLeI3y0fEjEIDXDPjmvU",at=nE(rE,sE);function iE(){const{userId:r,isReady:n}=Hl(),[s,l]=A.useState({syncId:null,assessmentId:null,loading:!0,error:null});return A.useEffect(()=>{if(!n)return;async function o(){try{const c=new URLSearchParams(window.location.search),d=c.get("syncId"),h=c.get("aId");if(d){console.log("[useActiveSyncSession]  syncId  URL:",d),l({syncId:d,assessmentId:h,loading:!1,error:null});return}const m=r;if(!m){l({syncId:null,assessmentId:null,loading:!1,error:null});return}const{data:p}=await at.from("practitioners").select("id").eq("telegram_id",m).maybeSingle();if(!p){console.warn("[useActiveSyncSession]   :",m),l({syncId:null,assessmentId:null,loading:!1,error:null});return}const{data:v,error:_}=await at.from("session_sync").select("id, assessment_id").eq("practitioner_id",p.id).not("status","in",'("completed","cancelled")').order("created_at",{ascending:!1}).limit(1).maybeSingle();if(_){console.error("[useActiveSyncSession] DB error:",_),l({syncId:null,assessmentId:null,loading:!1,error:null});return}if(!v){l({syncId:null,assessmentId:null,loading:!1,error:null});return}l({syncId:v.id,assessmentId:v.assessment_id,loading:!1,error:null})}catch(c){const d=c instanceof Error?c.message:"  ";console.error("[useActiveSyncSession] Exception:",d),l({syncId:null,assessmentId:null,loading:!1,error:d})}}o()},[r,n]),s}const lE=new Set(["video_started","pose_detected","rom_measured","video_completed","photo_analyzed"]),uE=new Set(["pose_detected"]),oE=500;function Jc(){return{romMeasurements:[],asymmetries:[],snapshots:[],quality:0,status:"recording"}}function cE(r,n){switch(n.type){case"video_started":return{...Jc(),status:"recording"};case"rom_measured":{const s=n.payload;return{...r,romMeasurements:[...r.romMeasurements,s]}}case"pose_detected":{const s=n.payload;return{...r,asymmetries:s.asymmetries??r.asymmetries,quality:s.quality??r.quality}}case"video_completed":{const s=n.payload;return{romMeasurements:s.romMeasurements??r.romMeasurements,asymmetries:s.asymmetries??r.asymmetries,snapshots:s.snapshots??r.snapshots,quality:s.quality??r.quality,status:"completed"}}case"photo_analyzed":{const s=n.payload;return{...r,snapshots:[...r.snapshots,s]}}default:return r}}function Kl(r){const[n,s]=A.useState(null),[l,o]=A.useState(!1),[c,d]=A.useState(null),[h,m]=A.useState(0),p=A.useRef(null),v=A.useRef(Jc()),_=A.useRef(!0);A.useEffect(()=>{if(_.current=!0,!r){o(!1);return}v.current=Jc(),s(null),m(0),d(null);const x=at.channel(`session-sync:${r}`).on("broadcast",{event:"sync"},j=>{if(!_.current)return;const C=j.payload;d(C.type),lE.has(C.type)&&(v.current=cE(v.current,C),uE.has(C.type)||s({...v.current}))}).subscribe((j,C)=>{_.current&&(j==="SUBSCRIBED"?(o(!0),m(0)):j==="CHANNEL_ERROR"||j==="TIMED_OUT"?(o(!1),m(U=>U+1),console.warn(`[useSessionSync] ${j}:`,C?.message)):j==="CLOSED"&&o(!1))});p.current=x;const R=setInterval(()=>{_.current&&v.current.status==="recording"&&s({...v.current})},oE);function T(){document.visibilityState==="visible"&&p.current&&console.log("[useSessionSync] Tab visible, reconnecting if needed")}return document.addEventListener("visibilitychange",T),()=>{_.current=!1,clearInterval(R),document.removeEventListener("visibilitychange",T),p.current=null,at.removeChannel(x)}},[r]);const w=A.useCallback(async(x,R)=>{const T=p.current;if(!T||!r){console.warn("[useSessionSync] sendEvent:    sessionSyncId");return}const j={sessionSyncId:r,source:"mini_app",type:x,payload:R,timestamp:Date.now()};await T.send({type:"broadcast",event:"sync",payload:j})},[r]);return{videoAiResults:n,isConnected:l,lastEvent:c,connectionAttempts:h,sendEvent:w}}const j0=A.createContext({syncId:null,assessmentId:null,sendEvent:async()=>{},isConnected:!1});function hf(){return A.useContext(j0)}function kl(r){return r<=0?"transparent":r<=3?"#22c55e":r<=6?"#eab308":r<=9?"#f97316":"#ef4444"}function fE(r){return r<=0?0:.25+r/10*.55}const R0="M100,8 C114,8 122,18 122,32 C122,44 116,52 110,56 L108,62 L108,68 L140,76 L156,82 L160,90 L162,130 L160,160 L156,178 L148,178 L150,160 L152,130 L148,92 L136,94 L134,140 L136,180 L138,200 L136,210 L130,240 L128,280 L130,310 L132,340 L134,370 L138,385 L120,385 L122,370 L118,340 L116,310 L112,280 L108,250 L106,220 L100,210 L94,220 L92,250 L88,280 L84,310 L82,340 L78,370 L80,385 L62,385 L66,370 L68,340 L70,310 L72,280 L70,240 L64,210 L62,200 L64,180 L66,140 L64,94 L52,92 L48,130 L50,160 L52,178 L44,178 L40,160 L38,130 L40,90 L44,82 L60,76 L92,68 L92,62 L90,56 C84,52 78,44 78,32 C78,18 86,8 100,8 Z",dE=R0,O0=[{id:"head",nameRu:"",anatomicalName:"Cranium",pathData:"M100,10 C113,10 120,19 120,32 C120,43 114,51 108,55 L92,55 C86,51 80,43 80,32 C80,19 87,10 100,10 Z",center:{x:100,y:33},views:["front"],relatedAnatomy:["temporal","frontal","parietal"]},{id:"neck_front",nameRu:"",anatomicalName:"Anterior cervical",pathData:"M92,55 L108,55 L109,68 L91,68 Z",center:{x:100,y:62},views:["front"],relatedAnatomy:["sternocleidomastoid","scalenes"]},{id:"shoulder_left",nameRu:" ",anatomicalName:"Left shoulder (deltoid)",pathData:"M91,68 L66,76 L56,84 L52,92 L64,92 L68,80 L91,74 Z",center:{x:72,y:80},views:["front"],relatedAnatomy:["deltoid","rotator_cuff","acromioclavicular"]},{id:"shoulder_right",nameRu:" ",anatomicalName:"Right shoulder (deltoid)",pathData:"M109,68 L134,76 L144,84 L148,92 L136,92 L132,80 L109,74 Z",center:{x:128,y:80},views:["front"],relatedAnatomy:["deltoid","rotator_cuff","acromioclavicular"]},{id:"chest_left",nameRu:" ",anatomicalName:"Left pectoralis",pathData:"M68,80 L91,74 L100,74 L100,130 L66,130 L64,92 L68,80 Z",center:{x:82,y:102},views:["front"],relatedAnatomy:["pectoralis_major","intercostals"]},{id:"chest_right",nameRu:" ",anatomicalName:"Right pectoralis",pathData:"M132,80 L109,74 L100,74 L100,130 L134,130 L136,92 L132,80 Z",center:{x:118,y:102},views:["front"],relatedAnatomy:["pectoralis_major","intercostals"]},{id:"abdomen_upper",nameRu:" ",anatomicalName:"Upper abdomen (epigastric)",pathData:"M66,130 L134,130 L134,165 L66,165 Z",center:{x:100,y:148},views:["front"],relatedAnatomy:["rectus_abdominis","obliques"]},{id:"abdomen_lower",nameRu:" ",anatomicalName:"Lower abdomen (hypogastric)",pathData:"M66,165 L134,165 L136,200 L64,200 Z",center:{x:100,y:182},views:["front"],relatedAnatomy:["rectus_abdominis","iliopsoas"]},{id:"upper_arm_left",nameRu:"  ()",anatomicalName:"Left upper arm (biceps/triceps)",pathData:"M52,92 L64,92 L60,130 L56,150 L44,150 L42,130 L48,92 Z",center:{x:53,y:120},views:["front"],relatedAnatomy:["biceps","triceps","brachialis"]},{id:"upper_arm_right",nameRu:"  ()",anatomicalName:"Right upper arm (biceps/triceps)",pathData:"M148,92 L136,92 L140,130 L144,150 L156,150 L158,130 L152,92 Z",center:{x:147,y:120},views:["front"],relatedAnatomy:["biceps","triceps","brachialis"]},{id:"forearm_left",nameRu:" ",anatomicalName:"Left forearm",pathData:"M44,150 L56,150 L54,175 L50,178 L40,178 L38,175 Z",center:{x:48,y:165},views:["front"],relatedAnatomy:["flexors","extensors","brachioradialis"]},{id:"forearm_right",nameRu:" ",anatomicalName:"Right forearm",pathData:"M156,150 L144,150 L146,175 L150,178 L160,178 L162,175 Z",center:{x:152,y:165},views:["front"],relatedAnatomy:["flexors","extensors","brachioradialis"]},{id:"thigh_left",nameRu:" ",anatomicalName:"Left thigh (quadriceps)",pathData:"M64,200 L100,208 L100,296 L88,296 L80,280 L72,250 L64,220 Z",center:{x:82,y:248},views:["front"],relatedAnatomy:["quadriceps","adductors","IT_band"]},{id:"thigh_right",nameRu:" ",anatomicalName:"Right thigh (quadriceps)",pathData:"M136,200 L100,208 L100,296 L112,296 L120,280 L128,250 L136,220 Z",center:{x:118,y:248},views:["front"],relatedAnatomy:["quadriceps","adductors","IT_band"]},{id:"knee_left",nameRu:" ",anatomicalName:"Left knee",pathData:"M80,296 L100,296 L100,318 L78,318 Z",center:{x:90,y:307},views:["front"],relatedAnatomy:["patella","meniscus","collateral_ligaments"]},{id:"knee_right",nameRu:" ",anatomicalName:"Right knee",pathData:"M100,296 L120,296 L122,318 L100,318 Z",center:{x:110,y:307},views:["front"],relatedAnatomy:["patella","meniscus","collateral_ligaments"]},{id:"shin_left",nameRu:" ",anatomicalName:"Left shin (tibialis anterior)",pathData:"M78,318 L100,318 L98,370 L96,385 L78,385 L76,370 L74,340 Z",center:{x:88,y:352},views:["front"],relatedAnatomy:["tibialis_anterior","peroneus"]},{id:"shin_right",nameRu:" ",anatomicalName:"Right shin (tibialis anterior)",pathData:"M100,318 L122,318 L126,340 L124,370 L122,385 L104,385 L102,370 Z",center:{x:112,y:352},views:["front"],relatedAnatomy:["tibialis_anterior","peroneus"]}],N0=[{id:"neck_back",nameRu:" ()",anatomicalName:"Posterior cervical",pathData:"M92,55 L108,55 L110,72 L90,72 Z",center:{x:100,y:63},views:["back"],relatedAnatomy:["trapezius_upper","levator_scapulae","suboccipital"]},{id:"trapezius_left",nameRu:" ",anatomicalName:"Left trapezius",pathData:"M90,72 L100,72 L100,94 L76,94 L64,84 L74,76 Z",center:{x:84,y:83},views:["back"],relatedAnatomy:["trapezius","rhomboids"]},{id:"trapezius_right",nameRu:" ",anatomicalName:"Right trapezius",pathData:"M110,72 L100,72 L100,94 L124,94 L136,84 L126,76 Z",center:{x:116,y:83},views:["back"],relatedAnatomy:["trapezius","rhomboids"]},{id:"scapula_left",nameRu:" ",anatomicalName:"Left scapula",pathData:"M76,94 L100,94 L100,140 L66,140 L64,110 Z",center:{x:82,y:117},views:["back"],relatedAnatomy:["infraspinatus","teres_major","rhomboids"]},{id:"scapula_right",nameRu:" ",anatomicalName:"Right scapula",pathData:"M124,94 L100,94 L100,140 L134,140 L136,110 Z",center:{x:118,y:117},views:["back"],relatedAnatomy:["infraspinatus","teres_major","rhomboids"]},{id:"spine_upper",nameRu:" ",anatomicalName:"Thoracic spine (upper)",pathData:"M95,72 L105,72 L105,110 L95,110 Z",center:{x:100,y:91},views:["back"],relatedAnatomy:["thoracic_vertebrae_T1_T4","spinous_processes"]},{id:"spine_mid",nameRu:" ",anatomicalName:"Thoracic spine (mid)",pathData:"M95,110 L105,110 L105,150 L95,150 Z",center:{x:100,y:130},views:["back"],relatedAnatomy:["thoracic_vertebrae_T5_T8","erector_spinae"]},{id:"spine_lower",nameRu:" ",anatomicalName:"Thoracic spine (lower)",pathData:"M95,150 L105,150 L105,180 L95,180 Z",center:{x:100,y:165},views:["back"],relatedAnatomy:["thoracic_vertebrae_T9_T12","erector_spinae"]},{id:"lower_back",nameRu:"",anatomicalName:"Lumbar spine",pathData:"M70,140 L95,140 L95,200 L64,200 Z",center:{x:80,y:170},views:["back"],relatedAnatomy:["lumbar_vertebrae","quadratus_lumborum","erector_spinae"]},{id:"lower_back_right",nameRu:" ",anatomicalName:"Right lumbar",pathData:"M105,140 L130,140 L136,200 L105,200 Z",center:{x:120,y:170},views:["back"],relatedAnatomy:["lumbar_vertebrae","quadratus_lumborum","erector_spinae"]},{id:"glute_left",nameRu:" ",anatomicalName:"Left gluteus",pathData:"M64,200 L100,200 L100,230 L70,240 L62,220 Z",center:{x:80,y:218},views:["back"],relatedAnatomy:["gluteus_maximus","gluteus_medius","piriformis"]},{id:"glute_right",nameRu:" ",anatomicalName:"Right gluteus",pathData:"M136,200 L100,200 L100,230 L130,240 L138,220 Z",center:{x:120,y:218},views:["back"],relatedAnatomy:["gluteus_maximus","gluteus_medius","piriformis"]},{id:"hamstring_left",nameRu:"  ",anatomicalName:"Left hamstring",pathData:"M70,240 L100,230 L100,300 L82,300 L76,270 Z",center:{x:86,y:265},views:["back"],relatedAnatomy:["biceps_femoris","semitendinosus","semimembranosus"]},{id:"hamstring_right",nameRu:"  ",anatomicalName:"Right hamstring",pathData:"M130,240 L100,230 L100,300 L118,300 L124,270 Z",center:{x:114,y:265},views:["back"],relatedAnatomy:["biceps_femoris","semitendinosus","semimembranosus"]},{id:"calf_left",nameRu:" ",anatomicalName:"Left calf (gastrocnemius)",pathData:"M82,300 L100,300 L98,370 L96,385 L78,385 L76,370 L78,330 Z",center:{x:88,y:342},views:["back"],relatedAnatomy:["gastrocnemius","soleus","achilles_tendon"]},{id:"calf_right",nameRu:" ",anatomicalName:"Right calf (gastrocnemius)",pathData:"M100,300 L118,300 L122,330 L124,370 L122,385 L104,385 L102,370 Z",center:{x:112,y:342},views:["back"],relatedAnatomy:["gastrocnemius","soleus","achilles_tendon"]}],C0=new Map([...O0,...N0].map(r=>[r.id,r]));function L0({view:r,zones:n,onZoneClick:s,selectedZoneId:l}){const o=r==="front"?O0:N0,c=r==="front"?R0:dE,d=new Map(n.map(h=>[h.zoneId,h.intensity]));return y.jsxs("svg",{viewBox:"0 0 200 400",className:"w-full max-w-xs mx-auto select-none",role:"img","aria-label":r==="front"?"  ":"  ",children:[y.jsx("path",{d:c,fill:"none",stroke:"currentColor",strokeWidth:"0.5",opacity:"0.2"}),o.map(h=>{const m=d.get(h.id)??0,p=h.id===l,v=m>0;return y.jsx("path",{d:h.pathData,"data-zone-id":h.id,fill:v?kl(m):"transparent",fillOpacity:v?fE(m):0,stroke:p?"#3b82f6":v?kl(m):"rgba(255,255,255,0.12)",strokeWidth:p?2:1,className:["cursor-pointer transition-all duration-200",p?"animate-pulse":""].join(" "),onClick:()=>s(h.id),onTouchEnd:_=>{_.preventDefault(),s(h.id)},role:"button","aria-label":h.nameRu},h.id)}),y.jsx("text",{x:"100",y:"396",textAnchor:"middle",fill:"currentColor",fontSize:"10",opacity:"0.4",children:r==="front"?"":""})]})}function hE({view:r,onViewChange:n,children:s}){const l=A.useRef(null),o=A.useCallback(d=>{l.current=d.touches[0].clientX},[]),c=A.useCallback(d=>{if(l.current===null)return;const h=d.changedTouches[0].clientX-l.current,m=50;h>m&&r==="back"?n("front"):h<-m&&r==="front"&&n("back"),l.current=null},[r,n]);return y.jsxs("div",{children:[y.jsxs("div",{className:"flex rounded-lg overflow-hidden border border-gray-700 mb-3",children:[y.jsx("button",{type:"button",className:`flex-1 py-2 text-sm font-medium transition-colors ${r==="front"?"bg-blue-600 text-white":"bg-transparent text-gray-400"}`,onClick:()=>n("front"),children:""}),y.jsx("button",{type:"button",className:`flex-1 py-2 text-sm font-medium transition-colors ${r==="back"?"bg-blue-600 text-white":"bg-transparent text-gray-400"}`,onClick:()=>n("back"),children:""})]}),y.jsx("div",{onTouchStart:o,onTouchEnd:c,children:s})]})}function mE({value:r,onChange:n,label:s}){const l=c=>c<=3?"#22c55e":c<=6?"#eab308":c<=9?"#f97316":"#ef4444",o=c=>c===0?"":c<=3?"":c<=6?"":c<=9?"":"";return y.jsxs("div",{className:"space-y-2",children:[y.jsxs("div",{className:"flex justify-between items-center",children:[y.jsx("label",{className:"text-sm font-medium",children:s??" "}),y.jsxs("span",{className:"text-lg font-bold",style:{color:l(r)},children:[o(r)," ",r,"/10"]})]}),y.jsx("input",{type:"range",min:"0",max:"10",value:r,onChange:c=>n(Number(c.target.value)),className:"w-full"}),y.jsxs("div",{className:"flex justify-between text-xs text-gray-500",children:[y.jsx("span",{children:" "}),y.jsx("span",{children:""})]})]})}const pE=[{value:"sharp",label:""},{value:"dull",label:""},{value:"aching",label:""},{value:"throbbing",label:""},{value:"burning",label:""}],gE=[{value:"today",label:""},{value:"week",label:""},{value:"month",label:""},{value:"3months+",label:">3 "}];function yE({zone:r,painType:n,duration:s,description:l,onSave:o,onDelete:c,onClose:d}){const[h,m]=A.useState(r.intensity),[p,v]=A.useState(n),[_,w]=A.useState(s||"today"),[x,R]=A.useState(l),T=()=>{o({painType:p,duration:_,description:x,intensity:h})};return y.jsxs("div",{className:"fixed inset-0 z-50 flex items-end justify-center",onClick:j=>{j.target===j.currentTarget&&d()},children:[y.jsx("div",{className:"absolute inset-0 bg-black/60"}),y.jsxs("div",{className:"relative w-full max-w-lg bg-gray-900 rounded-t-2xl p-5 pb-8 max-h-[85vh] overflow-y-auto",children:[y.jsx("div",{className:"w-10 h-1 bg-gray-600 rounded-full mx-auto mb-4"}),y.jsx("h3",{className:"text-lg font-bold mb-4",children:r.nameRu}),y.jsx("div",{className:"mb-5",children:y.jsx(mE,{value:h,onChange:m,label:" "})}),y.jsxs("div",{className:"mb-5",children:[y.jsx("label",{className:"text-sm font-medium mb-2 block",children:" "}),y.jsx("div",{className:"flex flex-wrap gap-2",children:pE.map(j=>y.jsx("button",{type:"button",className:`px-3 py-1.5 rounded-full text-sm transition-colors ${p===j.value?"bg-blue-600 text-white":"bg-gray-800 text-gray-300 border border-gray-700"}`,onClick:()=>v(p===j.value?void 0:j.value),children:j.label},j.value))})]}),y.jsxs("div",{className:"mb-5",children:[y.jsx("label",{className:"text-sm font-medium mb-2 block",children:""}),y.jsx("div",{className:"grid grid-cols-4 gap-2",children:gE.map(j=>y.jsx("button",{type:"button",className:`py-2 rounded-lg text-sm transition-colors ${_===j.value?"bg-blue-600 text-white":"bg-gray-800 text-gray-300 border border-gray-700"}`,onClick:()=>w(j.value),children:j.label},j.value))})]}),y.jsxs("div",{className:"mb-6",children:[y.jsxs("label",{className:"text-sm font-medium mb-2 block",children:[" ",y.jsx("span",{className:"text-gray-500 font-normal",children:"()"})]}),y.jsx("textarea",{value:x,onChange:j=>R(j.target.value),placeholder:"  ...",rows:2,className:"w-full bg-gray-800 border border-gray-700 rounded-lg px-3 py-2 text-sm resize-none focus:outline-none focus:border-blue-500"})]}),y.jsxs("div",{className:"flex gap-3",children:[y.jsx("button",{type:"button",className:"flex-1 py-2.5 rounded-lg text-sm font-medium bg-red-900/40 text-red-400 border border-red-800/50",onClick:c,children:" "}),y.jsx("button",{type:"button",className:"flex-1 py-2.5 rounded-lg text-sm font-medium bg-blue-600 text-white",onClick:T,children:""})]})]})]})}function vE({zones:r,onRemove:n,onSelect:s,selectedZoneId:l}){return r.length===0?y.jsx("p",{className:"text-sm text-gray-500 text-center py-2",children:"   ,   "}):y.jsx("div",{className:"space-y-2",children:r.map(o=>{const c=C0.get(o.zoneId),d=o.zoneId===l;return y.jsxs("div",{className:`flex items-center justify-between p-2 rounded-lg border cursor-pointer ${d?"border-blue-500 bg-blue-500/10":"border-gray-700"}`,onClick:()=>s(o.zoneId),children:[y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx("div",{className:"w-3 h-3 rounded-full shrink-0",style:{backgroundColor:kl(o.intensity)}}),y.jsx("span",{className:"text-sm",children:c?.nameRu??o.zoneId}),y.jsxs("span",{className:"text-xs text-gray-500",children:[o.intensity,"/10"]})]}),y.jsx("button",{type:"button",className:"text-gray-500 hover:text-red-400 p-1 text-sm",onClick:h=>{h.stopPropagation(),n(o.zoneId)},"aria-label":` ${c?.nameRu??o.zoneId}`,children:""})]},o.zoneId)})})}function bE({currentStep:r,totalSteps:n,labels:s}){const l=r/n*100;return y.jsxs("div",{className:"mb-5",children:[y.jsx("div",{className:"h-1.5 bg-gray-800 rounded-full overflow-hidden mb-3",children:y.jsx("div",{className:"h-full bg-blue-500 rounded-full transition-all duration-300",style:{width:`${l}%`}})}),y.jsx("div",{className:"flex justify-between",children:s.map((o,c)=>{const d=c+1,h=d===r,m=d<r;return y.jsxs("div",{className:`flex items-center gap-1 text-xs ${h?"text-blue-400 font-medium":m?"text-green-500":"text-gray-600"}`,children:[y.jsx("span",{className:`w-5 h-5 rounded-full flex items-center justify-center text-[10px] font-bold ${h?"bg-blue-600 text-white":m?"bg-green-600 text-white":"bg-gray-800 text-gray-500"}`,children:m?"":d}),y.jsx("span",{className:"hidden sm:inline",children:o})]},o)})})]})}const _E=[" ","","",". "],wE=["  "," ","  ","  ","",""],xE=[" ","  "," / ","    ","  ",""," "," "," ()","   / "],mg=["today","week","month","3months+"],SE={today:"",week:"",month:"","3months+":" 3 "},k0="plemya_intake_draft";function EE(r){localStorage.setItem(k0,JSON.stringify({data:r,savedAt:new Date().toISOString()}))}function TE(){localStorage.removeItem(k0)}function AE(r){let n=0;for(const s of r.values()){const l=mg.indexOf(s.duration);l>n&&(n=l)}return SE[mg[n]]??""}function jE(){const{userName:r,userId:n,startParam:s,isReady:l}=Hl(),{assessmentId:o,sendEvent:c}=hf(),h=Ln().state,m=h?.bodyMapZones,p=h?.zoneDetails,[v,_]=A.useState(()=>m&&m.length>0?2:1),[w,x]=A.useState("front"),[R,T]=A.useState(m??[]),[j,C]=A.useState(null),[U,q]=A.useState(()=>p?new Map(Object.entries(p)):new Map),[H,F]=A.useState(""),[P,Y]=A.useState([]),[z,Q]=A.useState(""),[Re,rt]=A.useState(""),[Pe,qt]=A.useState(!1),[st,Qe]=A.useState(null),[$,Z]=A.useState(!1),se=A.useCallback(X=>{if(R.find(Ee=>Ee.zoneId===X))C(X);else{const Ee=C0.get(X);if(!Ee)return;const oa={zoneId:Ee.id,nameRu:Ee.nameRu,anatomicalName:Ee.anatomicalName,touchPoint:Ee.center,intensity:5};T(yt=>[...yt,oa]),C(X)}},[R]),J=A.useCallback(X=>{j&&(T(fe=>fe.map(Ee=>Ee.zoneId===j?{...Ee,intensity:X.intensity,painType:X.painType}:Ee)),q(fe=>{const Ee=new Map(fe);return Ee.set(j,{painType:X.painType,duration:X.duration,description:X.description}),Ee}),C(null))},[j]),ee=A.useCallback(()=>{j&&(T(X=>X.filter(fe=>fe.zoneId!==j)),q(X=>{const fe=new Map(X);return fe.delete(j),fe}),C(null))},[j]),S=A.useCallback(X=>{T(fe=>fe.filter(Ee=>Ee.zoneId!==X)),q(fe=>{const Ee=new Map(fe);return Ee.delete(X),Ee}),j===X&&C(null)},[j]),M=A.useCallback(X=>{Y(fe=>fe.includes(X)?fe.filter(Ee=>Ee!==X):[...fe,X])},[]),K=X=>{switch(X){case 1:return R.length>0;case 2:return H.trim().length>=3;case 3:return!0;case 4:return!0;default:return!1}},W=()=>{const X=R.map(fe=>{const Ee=U.get(fe.zoneId);return{bodyArea:fe.anatomicalName,coordinates:fe.touchPoint,intensity:fe.intensity,painType:Ee?.painType??fe.painType,source:"mini_app"}});return{chiefComplaint:H,painZones:X,painSeverity:R.length>0?Math.max(...R.map(fe=>fe.intensity)):0,painDuration:AE(U),contraindications:P,medicalHistory:z,additionalNotes:Re}},oe=async()=>{qt(!0),Qe(null);const X=W();EE(X);try{let fe=null;if(n){const{data:mt}=await at.from("practitioners").select("id").eq("telegram_id",String(n)).maybeSingle();fe=mt?.id??null}const Ee=s??null;if(!fe||!Ee){console.warn("[IntakePage] Missing IDs  practitioner:",fe,"client:",Ee),Qe("  .   ."),Z(!0);return}const oa={practitioner_id:fe,client_id:Ee,chief_complaint:X.chiefComplaint,pain_locations:X.painZones.map(mt=>mt.bodyArea),pain_severity:X.painSeverity,pain_duration:X.painDuration,additional_info:X.additionalNotes||null,contraindications:X.contraindications,status:"in_progress",channels_used:["mini_app"],engine_version:"2.0",subjective_data:{chiefComplaint:X.chiefComplaint,painZones:X.painZones,painSeverity:X.painSeverity,painDuration:X.painDuration,medicalHistory:X.medicalHistory||null,additionalInfo:X.additionalNotes||null}};let yt=null;if(o){const{error:mt}=await at.from("pre_session_assessments").update(oa).eq("id",o);yt=mt}else{const{error:mt}=await at.from("pre_session_assessments").insert(oa);yt=mt}yt?(console.error("[IntakePage] Supabase error:",yt),Qe("  .    .")):(TE(),c("intake_completed",{bodyZones:X.painZones.map(mt=>mt.bodyArea),complaints:X.chiefComplaint,contraindications:X.contraindications,timestamp:Date.now()}).catch(mt=>{console.warn("[IntakePage] Failed to send intake_completed event:",mt)})),Z(!0)}catch(fe){console.error("[IntakePage] Submit exception:",fe),Qe("  .    ."),Z(!0)}finally{qt(!1)}},me=()=>{v<4&&K(v)&&_(X=>X+1)},we=()=>{v>1&&_(X=>X-1)};if(!l)return y.jsx("div",{className:"p-4 text-center",children:"..."});if($)return y.jsxs("div",{className:"p-4 text-center",children:[y.jsx("div",{className:"text-4xl mb-4",children:st?"":""}),y.jsx("h2",{className:"text-xl font-bold mb-2",children:st?" ":" "}),st&&y.jsx("p",{className:"text-sm text-yellow-400 mb-4",children:st}),y.jsx("p",{className:"text-gray-400 text-sm",children:st?"     .":"   ."})]});const et=R.find(X=>X.zoneId===j),Ue=j?U.get(j):void 0;return y.jsxs("div",{className:"p-4 pb-24",children:[y.jsx("h1",{className:"text-xl font-bold mb-1",children:" "}),y.jsxs("p",{className:"text-gray-400 text-sm mb-4",children:[": ",r]}),y.jsx(bE,{currentStep:v,totalSteps:4,labels:_E}),v===1&&y.jsxs("section",{className:"border border-gray-700 rounded-lg p-4",children:[y.jsx("h2",{className:"font-semibold mb-3",children:" "}),y.jsx(hE,{view:w,onViewChange:x,children:y.jsx(L0,{view:w,zones:R,onZoneClick:se,selectedZoneId:j??void 0})}),y.jsx("div",{className:"mt-4",children:y.jsx(vE,{zones:R,onRemove:S,onSelect:C,selectedZoneId:j??void 0})}),et&&j&&y.jsx(yE,{zone:et,painType:Ue?.painType,duration:Ue?.duration??"today",description:Ue?.description??"",onSave:J,onDelete:ee,onClose:()=>C(null)})]}),v===2&&y.jsxs("section",{className:"border border-gray-700 rounded-lg p-4",children:[y.jsx("h2",{className:"font-semibold mb-3",children:" "}),y.jsx("textarea",{value:H,onChange:X=>F(X.target.value),placeholder:"   ...",rows:4,className:"w-full bg-gray-800 border border-gray-700 rounded-lg px-3 py-2 text-sm resize-none focus:outline-none focus:border-blue-500 mb-3"}),y.jsx("div",{className:"flex flex-wrap gap-2",children:wE.map(X=>y.jsx("button",{type:"button",className:"px-3 py-1.5 rounded-full text-xs bg-gray-800 text-gray-300 border border-gray-700 active:bg-gray-700",onClick:()=>{F(fe=>fe.trim()?`${fe.trim()}, ${X.toLowerCase()}`:X)},children:X},X))}),H.trim().length>0&&H.trim().length<3&&y.jsx("p",{className:"text-xs text-red-400 mt-2",children:" 3 "})]}),v===3&&y.jsxs("section",{className:"border border-gray-700 rounded-lg p-4",children:[y.jsx("h2",{className:"font-semibold mb-3",children:""}),y.jsx("p",{className:"text-xs text-gray-500 mb-4",children:",     "}),y.jsx("div",{className:"space-y-2",children:xE.map(X=>{const fe=P.includes(X);return y.jsxs("label",{className:`flex items-center gap-3 p-3 rounded-lg border cursor-pointer transition-colors ${fe?"border-red-500/50 bg-red-500/10":"border-gray-700"}`,children:[y.jsx("input",{type:"checkbox",checked:fe,onChange:()=>M(X),className:"w-4 h-4 rounded border-gray-600 text-red-500 focus:ring-red-500 bg-gray-800"}),y.jsx("span",{className:"text-sm",children:X})]},X)})}),P.length>0&&y.jsxs("p",{className:"text-xs text-red-400 mt-3",children:[" : ",P.length]})]}),v===4&&y.jsxs("section",{className:"border border-gray-700 rounded-lg p-4 space-y-4",children:[y.jsx("h2",{className:"font-semibold mb-1",children:" "}),y.jsxs("div",{children:[y.jsxs("label",{className:"text-sm font-medium mb-1.5 block",children:[" ",y.jsx("span",{className:"text-gray-500 font-normal ml-1",children:"()"})]}),y.jsx("textarea",{value:z,onChange:X=>Q(X.target.value),placeholder:" , , ...",rows:3,className:"w-full bg-gray-800 border border-gray-700 rounded-lg px-3 py-2 text-sm resize-none focus:outline-none focus:border-blue-500"})]}),y.jsxs("div",{children:[y.jsxs("label",{className:"text-sm font-medium mb-1.5 block",children:[" ",y.jsx("span",{className:"text-gray-500 font-normal ml-1",children:"()"})]}),y.jsx("textarea",{value:Re,onChange:X=>rt(X.target.value),placeholder:", ,   ...",rows:3,className:"w-full bg-gray-800 border border-gray-700 rounded-lg px-3 py-2 text-sm resize-none focus:outline-none focus:border-blue-500"})]})]}),y.jsx("div",{className:"fixed bottom-0 left-0 right-0 bg-gray-900/95 backdrop-blur border-t border-gray-800 p-4",children:y.jsxs("div",{className:"flex gap-3 max-w-lg mx-auto",children:[v>1&&y.jsx("button",{type:"button",className:"flex-1 py-2.5 rounded-lg text-sm font-medium bg-gray-800 text-gray-300 border border-gray-700",onClick:we,children:"\\u2190 "}),v<4?y.jsx("button",{type:"button",className:`flex-1 py-2.5 rounded-lg text-sm font-medium transition-colors ${K(v)?"bg-blue-600 text-white":"bg-gray-800 text-gray-500 cursor-not-allowed"}`,disabled:!K(v),onClick:me,children:" \\u2192"}):y.jsx("button",{type:"button",className:`flex-1 py-2.5 rounded-lg text-sm font-medium transition-colors ${Pe?"bg-gray-700 text-gray-400 cursor-not-allowed":"bg-green-600 text-white"}`,disabled:Pe,onClick:oe,children:Pe?"...":" "})]})})]})}function RE(){return y.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"48",height:"48",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",className:"text-gray-500",children:[y.jsx("path",{d:"M23 19a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h4l2-3h6l2 3h4a2 2 0 0 1 2 2z"}),y.jsx("circle",{cx:"12",cy:"13",r:"4"})]})}function OE(){return y.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-2 border-gray-400 border-t-blue-500"})}function NE({photo:r,label:n,instruction:s,onCapture:l,onRetake:o}){const c=A.useRef(null),d=()=>{r.uploadStatus!=="uploading"&&c.current?.click()},h=x=>{const R=x.target.files?.[0];R&&(l(r.viewAngle,R),x.target.value="")},m=x=>{x.stopPropagation(),o(r.viewAngle),setTimeout(()=>c.current?.click(),100)},p=r.preview.length>0,v=r.uploadStatus==="uploading",_=r.uploadStatus==="completed",w=r.uploadStatus==="error";return y.jsxs("section",{className:"border border-gray-700 rounded-lg overflow-hidden bg-gray-800/50",children:[y.jsx("input",{ref:c,type:"file",accept:"image/*",capture:"environment",onChange:h,className:"hidden"}),y.jsxs("div",{className:"flex items-center justify-between px-4 pt-3 pb-2",children:[y.jsx("h3",{className:"font-semibold text-sm",children:n}),_&&y.jsxs("span",{className:"text-xs text-green-400 flex items-center gap-1",children:[y.jsx("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:y.jsx("polyline",{points:"20 6 9 17 4 12"})}),""]}),w&&y.jsx("span",{className:"text-xs text-red-400",children:""})]}),p?y.jsxs("div",{className:"relative mx-4 mb-3",children:[y.jsx("img",{src:r.preview,alt:n,className:"w-full aspect-[3/4] object-cover rounded-lg"}),v&&y.jsxs("div",{className:"absolute inset-0 bg-black/50 rounded-lg flex flex-col items-center justify-center gap-2",children:[y.jsx(OE,{}),y.jsx("span",{className:"text-sm text-gray-300",children:"..."})]}),y.jsxs("div",{className:"mt-2 flex gap-2",children:[w&&y.jsx("button",{type:"button",onClick:d,className:"flex-1 py-2 text-sm rounded-lg bg-red-500/20 text-red-400 border border-red-500/30 active:bg-red-500/30 transition-colors",children:""}),!v&&y.jsx("button",{type:"button",onClick:m,className:"flex-1 py-2 text-sm rounded-lg bg-gray-700/50 text-gray-300 border border-gray-600 active:bg-gray-600/50 transition-colors",children:""})]})]}):y.jsx("button",{type:"button",onClick:d,className:"w-full px-4 pb-4",children:y.jsxs("div",{className:"w-full aspect-[3/4] rounded-lg border-2 border-dashed border-gray-600 flex flex-col items-center justify-center gap-3 active:bg-gray-700/30 transition-colors cursor-pointer",children:[y.jsx(RE,{}),y.jsx("span",{className:"text-sm text-gray-400 text-center px-4",children:s}),y.jsx("span",{className:"text-xs text-blue-400",children:"  "})]})})]})}const CE=1920,LE=1280,kE=400,DE=.6,UE=1e6,pg=.85,gg=.3,ME=5,zE=2e7;function BE(r){return new Promise((n,s)=>{const l=new Image;l.onload=()=>n(l),l.onerror=()=>s(new Error("   ")),l.src=r})}function qE(r,n,s){if(r<=s&&n<=s)return{w:r,h:n};const l=Math.min(s/r,s/n);return{w:Math.round(r*l),h:Math.round(n*l)}}function Oc(r,n){return new Promise((s,l)=>{r.toBlob(o=>o?s(o):l(new Error("toBlob  null")),"image/jpeg",n)})}function Nc(r,n){const{w:s,h:l}=qE(r.naturalWidth,r.naturalHeight,n),o=document.createElement("canvas");o.width=s,o.height=l;const c=o.getContext("2d");if(!c)throw new Error("Canvas 2D context ");return c.drawImage(r,0,0,s,l),o}async function $E(r,n=UE){if(!r.type.startsWith("image/"))throw new Error("   ");if(r.size>zE)throw new Error("   ( 20MB)");const s=URL.createObjectURL(r);try{const l=await BE(s),c=Nc(l,kE).toDataURL("image/jpeg",DE);let d=Nc(l,CE),h=await yg(d,n);return h.size>n&&(d=Nc(l,LE),h=await yg(d,n)),{blob:h,preview:c,originalSize:r.size,compressedSize:h.size}}finally{URL.revokeObjectURL(s)}}async function yg(r,n){let s=await Oc(r,pg);if(s.size<=n)return s;let l=gg,o=pg,c=s;for(let d=0;d<ME;d++){const h=(l+o)/2;s=await Oc(r,h),s.size<=n?(c=s,l=h):o=h}return c.size>n&&(c=await Oc(r,gg)),c}async function HE(r,n,s,l){const o=`${n}/${s}/${l}.jpg`,{error:c}=await at.storage.from("masterbot-media").upload(o,r,{contentType:"image/jpeg",upsert:!0});if(c)throw new Error(`[upload-photo]  : ${c.message}`);const{data:d,error:h}=await at.storage.from("masterbot-media").createSignedUrl(o,3600);if(h||!d?.signedUrl)throw new Error(`[upload-photo]  signed URL: ${h?.message??"no data"}`);return{storagePath:o,signedUrl:d.signedUrl}}async function IE(r,n,s,l,o,c){const{error:d}=await at.from("session_media").insert({assessment_id:r,practitioner_id:n,client_id:s,media_type:"pre_session",view_angle:l,storage_path:o,file_url:c});d&&console.warn("[upload-photo]    session_media:",d.message)}const jr=[{angle:"front",label:"",instruction:"  ,   "},{angle:"side_right",label:" ()",instruction:"  ,    "},{angle:"back",label:"",instruction:"    "}];function GE(r){return{tempId:crypto.randomUUID(),viewAngle:r,preview:"",file:null,storageUrl:null,uploadStatus:"pending",aiAnalysis:null}}const VE="plemya_photos_draft";function PE(){const{userId:r,startParam:n}=Hl(),[s]=nf(),l=Xs(),o=s.get("assessmentId"),c=n??null,d=s.get("sessionSyncId"),{sendEvent:h}=Kl(d),[m,p]=A.useState(()=>new Map(jr.map(H=>[H.angle,GE(H.angle)]))),[v,_]=A.useState(null);A.useEffect(()=>{r&&(async()=>{const{data:H}=await at.from("practitioners").select("id").eq("telegram_id",String(r)).maybeSingle();_(H?.id??null)})()},[r]);function w(H,F){p(P=>{const Y=new Map(P),z=Y.get(H);return z?(Y.set(H,{...z,...F}),Y):P})}async function x(H,F){w(H,{uploadStatus:"uploading"});try{const{blob:P,preview:Y,compressedSize:z}=await $E(F);if(console.log(`[PhotoPage] ${H}: ${F.size}  ${z} bytes`),w(H,{preview:Y,file:P}),c&&o){const{signedUrl:Q,storagePath:Re}=await HE(P,c,o,H);w(H,{storageUrl:Q,uploadStatus:"completed"}),v&&await IE(o,v,c,H,Re,Q),await h("photo_uploaded",{viewAngle:H,storageUrl:Q})}else w(H,{uploadStatus:"completed"}),T()}catch(P){console.error(`[PhotoPage]   ${H}:`,P),w(H,{uploadStatus:"error"})}}function R(H){w(H,{tempId:crypto.randomUUID(),preview:"",file:null,storageUrl:null,uploadStatus:"pending",aiAnalysis:null})}function T(){const H={};m.forEach((F,P)=>{F.preview&&(H[P]=F.preview)}),localStorage.setItem(VE,JSON.stringify({drafts:H,savedAt:new Date().toISOString()}))}const j=Array.from(m.values()),C=j.filter(H=>H.uploadStatus==="completed").length,U=j.some(H=>H.uploadStatus==="uploading"),q=C===jr.length;return y.jsxs("div",{className:"p-4 pb-28 min-h-screen",children:[y.jsx("h1",{className:"text-xl font-bold mb-1",children:" "}),y.jsx("p",{className:"text-sm text-gray-400 mb-4",children:" 3     "}),(!c||!o)&&y.jsx("div",{className:"mb-4 p-3 rounded-lg bg-yellow-500/10 border border-yellow-500/30",children:y.jsx("p",{className:"text-sm text-yellow-400",children:"   .       ."})}),y.jsxs("div",{className:"mb-4 flex items-center gap-2",children:[y.jsx("div",{className:"flex-1 h-2 bg-gray-700 rounded-full overflow-hidden",children:y.jsx("div",{className:"h-full bg-blue-500 rounded-full transition-all duration-300",style:{width:`${C/jr.length*100}%`}})}),y.jsxs("span",{className:"text-sm text-gray-400 whitespace-nowrap",children:[C,"  ",jr.length]})]}),y.jsx("div",{className:"space-y-4",children:jr.map(H=>{const F=m.get(H.angle);return F?y.jsx(NE,{photo:F,label:H.label,instruction:H.instruction,onCapture:x,onRetake:R},H.angle):null})}),y.jsx("div",{className:"fixed bottom-0 left-0 right-0 p-4 bg-gray-900/95 border-t border-gray-800 backdrop-blur-sm",children:y.jsxs("div",{className:"flex gap-3",children:[y.jsx("button",{type:"button",onClick:()=>l(-1),className:"px-4 py-3 rounded-lg bg-gray-800 text-gray-300 border border-gray-700 text-sm",children:""}),y.jsx("button",{type:"button",onClick:()=>{if(!q)return;const H=new URLSearchParams;o&&H.set("assessmentId",o),d&&H.set("sessionSyncId",d),l(`/assessment?${H.toString()}`)},disabled:!q||U,className:`flex-1 py-3 rounded-lg text-sm font-semibold transition-colors ${q&&!U?"bg-blue-600 text-white active:bg-blue-700":"bg-gray-700 text-gray-500 cursor-not-allowed"}`,children:U?"...":q?"":`  ${jr.length} `})]})})]})}const vg={weights:{ai:.4,tests:.35,master:.25},overallConfidence:0,appliedModifiers:[],isLive:!1,lastUpdated:null},KE=1e3,YE=1e4,ZE=5e3;function D0(r,n){const[s,l]=A.useState(vg),o=A.useRef(0),c=A.useRef(0),d=A.useRef(!0),h=A.useRef(null),m=A.useRef(!1),p=A.useCallback(_=>{const w=Date.now();w-o.current<KE||(o.current=w,d.current&&l(x=>({...x,..._,lastUpdated:w})))},[]),v=A.useCallback(async()=>{if(!(!n||!d.current))try{const{data:_,error:w}=await at.from("pre_session_assessments").select("trust_weights, overall_confidence, sources").eq("id",n).maybeSingle();if(w||!_)return;const x=_.trust_weights??vg.weights,R=_.overall_confidence??0,T=_.sources?.map(j=>j.id).filter(j=>!!j)??[];p({weights:x,overallConfidence:R,appliedModifiers:T})}catch{}},[n,p]);return A.useEffect(()=>{if(d.current=!0,c.current=0,m.current=!1,!r){n&&v();return}const _=at.channel(`trust-sync:${r}`).on("broadcast",{event:"sync"},x=>{if(!d.current)return;const R=x.payload;if(R.type==="assessment_generated"||R.type==="session_updated"){c.current=Date.now(),m.current=!1;const T=R.payload;T.trustWeights&&p({weights:T.trustWeights,overallConfidence:T.overallConfidence??s.overallConfidence,appliedModifiers:T.appliedModifiers??s.appliedModifiers,isLive:!0})}}).subscribe(x=>{d.current&&(x==="SUBSCRIBED"?(l(R=>({...R,isLive:!0})),c.current=Date.now()):(x==="CHANNEL_ERROR"||x==="TIMED_OUT")&&l(R=>({...R,isLive:!1})))});h.current=_;const w=setInterval(()=>{if(!d.current)return;Date.now()-c.current>YE&&n&&(m.current||(m.current=!0,l(R=>({...R,isLive:!1}))),v())},ZE);return n&&v(),()=>{d.current=!1,clearInterval(w),h.current=null,at.removeChannel(_)}},[r,n,v,p,s.overallConfidence,s.appliedModifiers]),s}const bg={S:{bg:"bg-blue-500/20",text:"text-blue-400"},O:{bg:"bg-green-500/20",text:"text-green-400"},A:{bg:"bg-purple-500/20",text:"text-purple-400"},P:{bg:"bg-orange-500/20",text:"text-orange-400"}},JE={S:"Subjective",O:"Objective",A:"Assessment",P:"Plan"};function El({letter:r,title:n,hasData:s,children:l,defaultExpanded:o}){const[c,d]=A.useState(o??s),h=bg[r]??bg.S;return y.jsxs("div",{className:"border border-gray-700 rounded-lg overflow-hidden",children:[y.jsxs("button",{type:"button",onClick:()=>d(!c),className:"w-full flex items-center gap-3 p-3 hover:bg-gray-800/50 transition-colors",children:[y.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center font-bold text-sm ${h.bg} ${h.text}`,children:r}),y.jsxs("div",{className:"flex-1 text-left",children:[y.jsx("span",{className:"text-sm font-semibold text-gray-200",children:n}),y.jsx("span",{className:"text-xs text-gray-500 ml-2",children:JE[r]})]}),!s&&y.jsx("span",{className:"text-xs text-gray-600 px-2 py-0.5 rounded bg-gray-800",children:" "}),y.jsx("svg",{className:`w-4 h-4 text-gray-500 transition-transform flex-shrink-0 ${c?"rotate-180":""}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),c&&y.jsx("div",{className:"px-3 pb-3 border-t border-gray-700/50",children:s?y.jsx("div",{className:"pt-3",children:l}):y.jsxs("div",{className:"pt-3 text-center py-6",children:[y.jsx("p",{className:"text-sm text-gray-500",children:" ..."}),y.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"   "})]})})]})}const XE={video_good_quality:{icon:"",label:" ",description:"FPS  25,   0.8",effect:{ai:"up",tests:"none",master:"down"}},no_video:{icon:"",label:" ",description:"Video AI  ",effect:{ai:"down",tests:"up",master:"up"}},rom_stable_3plus:{icon:"",label:"3+ ROM ",description:"  ( < 5)",effect:{ai:"none",tests:"up",master:"none"}},master_senior:{icon:"",label:" ",description:"5+  ",effect:{ai:"none",tests:"none",master:"up"}},ai_confidence_high:{icon:"",label:"  AI",description:"AI confidence  85%",effect:{ai:"up",tests:"none",master:"none"}},ai_confidence_low:{icon:"",label:"  AI",description:"AI confidence < 50%",effect:{ai:"down",tests:"up",master:"up"}},returning_client:{icon:"",label:" ",description:"3+  ",effect:{ai:"up",tests:"up",master:"none"}},first_visit:{icon:"",label:" ",description:"  ",effect:{ai:"none",tests:"up",master:"down"}}};function Cc({direction:r}){return r==="none"?y.jsx("span",{className:"text-gray-600 text-[10px]",children:""}):r==="up"?y.jsx("span",{className:"text-green-400 text-[10px]",children:""}):y.jsx("span",{className:"text-red-400 text-[10px]",children:""})}function QE({appliedModifiers:r,isExpanded:n}){if(!n)return null;const s=r.length>0;return y.jsx("div",{className:"mt-3 pt-3 border-t border-gray-700 animate-[fadeIn_300ms_ease-in]",children:s?y.jsxs(y.Fragment,{children:[y.jsx("p",{className:"text-xs text-gray-500 mb-2",children:" "}),y.jsx("div",{className:"space-y-1.5",children:r.map(l=>{const o=XE[l];return o?y.jsxs("div",{className:"bg-gray-800/30 rounded px-2.5 py-2",children:[y.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[y.jsx("span",{className:"text-sm",children:o.icon}),y.jsx("span",{className:"text-xs font-medium text-gray-300 flex-1",children:o.label})]}),y.jsx("p",{className:"text-[11px] text-gray-500 mb-1.5 ml-6",children:o.description}),y.jsxs("div",{className:"flex gap-3 ml-6",children:[y.jsxs("div",{className:"flex items-center gap-1",children:[y.jsx("span",{className:"text-[10px] text-gray-600",children:"AI"}),y.jsx(Cc,{direction:o.effect.ai})]}),y.jsxs("div",{className:"flex items-center gap-1",children:[y.jsx("span",{className:"text-[10px] text-gray-600",children:""}),y.jsx(Cc,{direction:o.effect.tests})]}),y.jsxs("div",{className:"flex items-center gap-1",children:[y.jsx("span",{className:"text-[10px] text-gray-600",children:""}),y.jsx(Cc,{direction:o.effect.master})]})]})]},l):y.jsxs("div",{className:"text-xs text-gray-500 flex items-center gap-2 px-2 py-1.5 bg-gray-800/30 rounded",children:[y.jsx("span",{children:""}),y.jsx("span",{children:l})]},l)})})]}):y.jsx("p",{className:"text-xs text-gray-500",children:"   ( )"})})}const WE={AI:"  MediaPipe  Groq: , , AI-",:"ROM , ,  ",:"    "};function FE(r){return r>70?"text-green-400":r>=40?"text-yellow-400":"text-red-400"}function eT(r){return r>70?"bg-green-500":r>=40?"bg-yellow-500":"bg-red-500"}function tT(r){return r>=.5?"bg-green-400/15":r>=.3?"bg-yellow-400/15":"bg-gray-700/30"}function nT(r){return r>=.5?"text-green-400":r>=.3?"text-yellow-400":"text-gray-400"}function U0({weights:r,overallConfidence:n,appliedModifiers:s,isLive:l,lastUpdated:o}){const[c,d]=A.useState(!1),[h,m]=A.useState(!1),[p,v]=A.useState(null),_=A.useRef(n);A.useEffect(()=>{if(_.current!==n&&_.current!==0){m(!0);const T=setTimeout(()=>m(!1),1e3);return()=>clearTimeout(T)}_.current=n},[n]);const w=(n/10).toFixed(1),x=[{key:"AI",label:"AI",value:r.ai},{key:"",label:"",value:r.tests},{key:"",label:"",value:r.master}],R=o?`${Math.round((Date.now()-o)/1e3)} `:null;return y.jsxs("div",{className:"rounded-lg border border-gray-700 bg-gray-800/50 p-3",children:[y.jsxs("button",{type:"button",onClick:()=>d(!c),className:"w-full flex items-center justify-between mb-2",children:[y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx("span",{className:"text-sm font-medium text-gray-300",children:""}),l&&y.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-green-500 animate-pulse"})]}),y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsxs("span",{className:`text-sm font-bold transition-all duration-300 ${FE(n)} ${h?"animate-pulse scale-110":""}`,children:[w,"/10"]}),y.jsx("svg",{className:`w-4 h-4 text-gray-500 transition-transform duration-200 ${c?"rotate-180":""}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]})]}),y.jsx("div",{className:"h-1.5 bg-gray-700 rounded-full overflow-hidden mb-3",children:y.jsx("div",{className:`h-full rounded-full transition-all duration-500 ease-out ${eT(n)}`,style:{width:`${Math.min(n,100)}%`}})}),y.jsx("div",{className:"flex gap-2",children:x.map(({key:T,label:j,value:C})=>y.jsxs("div",{className:`flex-1 rounded-md px-2 py-1.5 text-center relative cursor-default transition-all duration-500 ${tT(C)}`,onMouseEnter:()=>v(T),onMouseLeave:()=>v(null),onTouchStart:()=>v(p===T?null:T),children:[y.jsx("div",{className:"text-xs text-gray-400",children:j}),y.jsxs("div",{className:`text-sm font-semibold transition-all duration-500 ${nT(C)}`,children:[Math.round(C*100),"%"]}),p===T&&y.jsxs("div",{className:"absolute bottom-full left-1/2 -translate-x-1/2 mb-1.5 px-2.5 py-1.5 bg-gray-900 border border-gray-600 rounded-md text-[11px] text-gray-300 whitespace-nowrap z-10 shadow-lg",children:[WE[T],y.jsx("div",{className:"absolute top-full left-1/2 -translate-x-1/2 w-2 h-2 bg-gray-900 border-r border-b border-gray-600 rotate-45 -mt-1"})]})]},T))}),R&&y.jsxs("p",{className:"text-[10px] text-gray-600 mt-2 text-right",children:[" ",R]}),y.jsx(QE,{appliedModifiers:s??[],isExpanded:c})]})}const aT={sharp:"",dull:"",burning:"",aching:"",throbbing:"",other:""},rT={today:"",week:"",month:"","3months+":"3+ "};function sT({severity:r}){const n={mild:"bg-green-500/20 text-green-400",moderate:"bg-yellow-500/20 text-yellow-400",severe:"bg-red-500/20 text-red-400"},s={mild:"",moderate:"",severe:""};return y.jsx("span",{className:`text-xs px-2 py-0.5 rounded ${n[r]??"bg-gray-700 text-gray-400"}`,children:s[r]??r})}function iT(){const[r]=nf(),n=Xs(),s=hf(),l=r.get("assessmentId")||s.assessmentId,o=r.get("sessionSyncId")||s.syncId,{videoAiResults:c,lastEvent:d}=Kl(o),h=D0(o,l),[m,p]=A.useState(null),[v,_]=A.useState(!0),[w,x]=A.useState(null),R=A.useCallback(async()=>{if(!l){x(" assessmentId"),_(!1);return}try{const{data:z,error:Q}=await at.from("pre_session_assessments").select("id, status, chief_complaint, subjective_data, objective_data, structured_assessment, plan_data, trust_weights, overall_confidence, channels_used, sources").eq("id",l).maybeSingle();if(Q){console.error("[AssessmentPage] DB error:",Q),x("  ");return}if(!z){x("Assessment  ");return}p(z)}catch(z){console.error("[AssessmentPage] Unexpected error:",z),x(" ")}finally{_(!1)}},[l]);A.useEffect(()=>{R()},[R]),A.useEffect(()=>{(d==="assessment_updated"||d==="plan_approved")&&R()},[d,R]);const T=m?.subjective_data??null,j=m?.objective_data??null,C=m?.structured_assessment??null,U=m?.plan_data??null,q=h.lastUpdated?h.weights:m?.trust_weights??{ai:.4,tests:.35,master:.25},H=h.lastUpdated?h.overallConfidence:m?.overall_confidence??0,F=h.lastUpdated?h.appliedModifiers:m?.sources?.map(z=>z.id).filter(z=>!!z)??[],P=[...j?.romMeasurements??[],...c?.romMeasurements?.map(z=>({joint:z.joint,movement:z.movement,degrees:z.degrees,normalRange:{min:0,max:180},source:"video_ai",confidence:z.confidence}))??[]],Y=(T?.painZones??[]).map(z=>({zoneId:z.bodyArea,nameRu:z.bodyArea,anatomicalName:z.bodyArea,touchPoint:z.coordinates??{x:0,y:0},intensity:z.intensity,painType:z.painType}));return v?y.jsx("div",{className:"flex items-center justify-center min-h-screen",children:y.jsxs("div",{className:"text-center",children:[y.jsx("div",{className:"w-8 h-8 border-2 border-blue-400 border-t-transparent rounded-full animate-spin mx-auto mb-3"}),y.jsx("p",{className:"text-sm text-gray-400",children:" ..."})]})}):w?y.jsx("div",{className:"flex items-center justify-center min-h-screen p-4",children:y.jsxs("div",{className:"text-center max-w-sm",children:[y.jsx("p",{className:"text-red-400 mb-2",children:w}),y.jsx("button",{type:"button",onClick:()=>n(-1),className:"text-sm text-blue-400 underline",children:""})]})}):y.jsxs("div",{className:"p-4 pb-24 min-h-screen",children:[y.jsxs("div",{className:"flex items-center justify-between mb-4",children:[y.jsx("h1",{className:"text-xl font-bold",children:"SOAP "}),m?.status&&y.jsx("span",{className:"text-xs px-2 py-1 rounded bg-gray-800 text-gray-400",children:m.status})]}),m?.channels_used&&m.channels_used.length>0&&y.jsx("div",{className:"flex gap-1.5 mb-4",children:m.channels_used.map(z=>y.jsx("span",{className:"text-xs px-2 py-0.5 rounded bg-blue-500/10 text-blue-400",children:z},z))}),H>0&&H<40&&y.jsxs("div",{className:"mb-4 p-3 rounded-lg bg-red-500/10 border border-red-500/30 flex items-start gap-2",children:[y.jsx("span",{className:"text-red-400 text-lg leading-none mt-0.5",children:"!"}),y.jsxs("div",{children:[y.jsx("p",{className:"text-sm font-medium text-red-400",children:"  AI"}),y.jsx("p",{className:"text-xs text-red-400/70 mt-0.5",children:"   "})]})]}),y.jsxs("div",{className:"space-y-3",children:[y.jsxs(El,{letter:"S",title:" ",hasData:!!T?.chiefComplaint||(T?.painZones?.length??0)>0,defaultExpanded:!0,children:[T?.chiefComplaint&&y.jsxs("div",{className:"mb-3",children:[y.jsx("p",{className:"text-xs text-gray-500 mb-1",children:" "}),y.jsx("p",{className:"text-sm text-gray-200",children:T.chiefComplaint})]}),Y.length>0&&y.jsxs("div",{className:"mb-3",children:[y.jsx("p",{className:"text-xs text-gray-500 mb-1",children:" "}),y.jsx("div",{className:"h-48 flex justify-center",children:y.jsx(L0,{view:"front",zones:Y,onZoneClick:()=>{}})})]}),(T?.painZones?.length??0)>0&&y.jsxs("div",{className:"mb-3",children:[y.jsx("p",{className:"text-xs text-gray-500 mb-1",children:" "}),y.jsx("div",{className:"space-y-1.5",children:T.painZones.map((z,Q)=>y.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[y.jsx("div",{className:"w-3 h-3 rounded-full flex-shrink-0",style:{backgroundColor:kl(z.intensity)}}),y.jsx("span",{className:"text-gray-300",children:z.bodyArea}),y.jsxs("span",{className:"text-gray-500",children:["NRS ",z.intensity,"/10"]}),z.painType&&y.jsx("span",{className:"text-xs text-gray-600",children:aT[z.painType]??z.painType})]},`${z.bodyArea}-${Q}`))})]}),y.jsxs("div",{className:"flex gap-4 text-sm",children:[T?.painSeverity!=null&&y.jsxs("div",{children:[y.jsx("span",{className:"text-gray-500",children:": "}),y.jsxs("span",{className:"text-gray-300",children:[T.painSeverity,"/10"]})]}),T?.painDuration&&y.jsxs("div",{children:[y.jsx("span",{className:"text-gray-500",children:": "}),y.jsx("span",{className:"text-gray-300",children:rT[T.painDuration]??T.painDuration})]})]}),T?.medicalHistory&&y.jsxs("div",{className:"mt-3",children:[y.jsx("p",{className:"text-xs text-gray-500 mb-1",children:""}),y.jsx("p",{className:"text-sm text-gray-400",children:T.medicalHistory})]})]}),y.jsxs(El,{letter:"O",title:" ",hasData:P.length>0||(j?.photos?.length??0)>0,defaultExpanded:!0,children:[P.length>0&&y.jsxs("div",{className:"mb-3",children:[y.jsx("p",{className:"text-xs text-gray-500 mb-2",children:"ROM "}),y.jsx("div",{className:"overflow-x-auto",children:y.jsxs("table",{className:"w-full text-xs",children:[y.jsx("thead",{children:y.jsxs("tr",{className:"text-gray-500 border-b border-gray-700",children:[y.jsx("th",{className:"text-left py-1 pr-2",children:""}),y.jsx("th",{className:"text-left py-1 pr-2",children:""}),y.jsx("th",{className:"text-right py-1 pr-2",children:""}),y.jsx("th",{className:"text-right py-1",children:""})]})}),y.jsx("tbody",{children:P.map((z,Q)=>{const Re=z.degrees>=z.normalRange.min&&z.degrees<=z.normalRange.max;return y.jsxs("tr",{className:"border-b border-gray-800",children:[y.jsx("td",{className:"py-1.5 pr-2 text-gray-300",children:z.joint}),y.jsx("td",{className:"py-1.5 pr-2 text-gray-400",children:z.movement}),y.jsxs("td",{className:`py-1.5 pr-2 text-right font-medium ${Re?"text-green-400":"text-red-400"}`,children:[z.degrees,""]}),y.jsxs("td",{className:"py-1.5 text-right text-gray-500",children:[z.normalRange.min,"-",z.normalRange.max,""]})]},`${z.joint}-${z.movement}-${Q}`)})})]})})]}),(c?.asymmetries?.length??0)>0&&y.jsxs("div",{className:"mb-3",children:[y.jsx("p",{className:"text-xs text-gray-500 mb-2",children:""}),y.jsx("div",{className:"space-y-1",children:c.asymmetries.map((z,Q)=>y.jsxs("div",{className:"flex items-center justify-between text-xs bg-gray-800/50 rounded px-2 py-1.5",children:[y.jsx("span",{className:"text-gray-300",children:z.joint}),y.jsxs("div",{className:"flex gap-3 text-gray-400",children:[y.jsxs("span",{children:["L: ",z.leftDegrees,""]}),y.jsxs("span",{children:["R: ",z.rightDegrees,""]}),y.jsxs("span",{className:Math.abs(z.leftDegrees-z.rightDegrees)>10?"text-yellow-400":"text-green-400",children:["",Math.abs(z.leftDegrees-z.rightDegrees),""]})]})]},`${z.joint}-${Q}`))})]}),(j?.photos?.length??0)>0&&y.jsxs("div",{className:"mb-3",children:[y.jsx("p",{className:"text-xs text-gray-500 mb-2",children:""}),y.jsx("div",{className:"grid grid-cols-3 gap-2",children:j.photos.map(z=>y.jsx("div",{className:"aspect-[3/4] rounded-lg bg-gray-800 overflow-hidden",children:z.fileUrl?y.jsx("img",{src:z.fileUrl,alt:z.viewAngle,className:"w-full h-full object-cover"}):y.jsx("div",{className:"w-full h-full flex items-center justify-center text-xs text-gray-600",children:z.viewAngle})},z.viewAngle))})]}),j?.practitionerNotes&&y.jsxs("div",{children:[y.jsx("p",{className:"text-xs text-gray-500 mb-1",children:" "}),y.jsx("p",{className:"text-sm text-gray-400",children:j.practitionerNotes})]})]}),y.jsxs(El,{letter:"A",title:"AI ",hasData:!!C?.text||!!C?.structured,children:[y.jsx("div",{className:"mb-3",children:y.jsx(U0,{weights:q,overallConfidence:H,appliedModifiers:F,isLive:h.isLive,lastUpdated:h.lastUpdated})}),C?.text&&y.jsx("div",{className:"mb-3",children:y.jsx("p",{className:"text-sm text-gray-300",children:C.text})}),C?.structured&&y.jsxs(y.Fragment,{children:[C.structured.primaryDiagnosis&&y.jsxs("div",{className:"mb-3 p-2 rounded bg-purple-500/10 border border-purple-500/20",children:[y.jsx("p",{className:"text-xs text-purple-400 mb-0.5",children:" "}),y.jsx("p",{className:"text-sm text-gray-200",children:C.structured.primaryDiagnosis})]}),C.structured.problems?.length>0&&y.jsxs("div",{className:"mb-3",children:[y.jsx("p",{className:"text-xs text-gray-500 mb-1.5",children:""}),y.jsx("div",{className:"space-y-1.5",children:C.structured.problems.map((z,Q)=>y.jsxs("div",{className:"text-sm bg-gray-800/50 rounded px-2 py-1.5",children:[y.jsxs("div",{className:"flex items-center gap-2 mb-0.5",children:[y.jsx("span",{className:"text-gray-200",children:z.name}),y.jsx(sT,{severity:z.severity})]}),y.jsxs("p",{className:"text-xs text-gray-500",children:[z.bodyArea,"  ",z.evidence]})]},`problem-${Q}`))})]}),C.structured.recommendations?.length>0&&y.jsxs("div",{className:"mb-3",children:[y.jsx("p",{className:"text-xs text-gray-500 mb-1",children:""}),y.jsx("ul",{className:"space-y-0.5",children:C.structured.recommendations.map((z,Q)=>y.jsxs("li",{className:"text-sm text-gray-400 flex gap-1.5",children:[y.jsx("span",{className:"text-green-400",children:""}),y.jsx("span",{children:z})]},`rec-${Q}`))})]}),C.structured.contraindications?.length>0&&y.jsxs("div",{className:"mb-3",children:[y.jsx("p",{className:"text-xs text-gray-500 mb-1",children:""}),y.jsx("ul",{className:"space-y-0.5",children:C.structured.contraindications.map((z,Q)=>y.jsxs("li",{className:"text-sm text-red-400 flex gap-1.5",children:[y.jsx("span",{children:"!"}),y.jsx("span",{children:z})]},`contra-${Q}`))})]})]}),(C?.riskFlags?.length??0)>0&&y.jsxs("div",{className:"mb-3",children:[y.jsx("p",{className:"text-xs text-gray-500 mb-1",children:" "}),C.riskFlags.map((z,Q)=>y.jsx("div",{className:"mb-1 p-2 rounded bg-red-500/10 border border-red-500/20 text-sm text-red-300",children:z},`flag-${Q}`))]}),C?.llmModel&&y.jsxs("p",{className:"text-xs text-gray-600",children:[": ",C.llmModel," | Confidence: ",C.aiConfidence,"%"]})]}),y.jsxs(El,{letter:"P",title:" ",hasData:!!U?.treatmentPlan,children:[U?.treatmentPlan&&y.jsxs(y.Fragment,{children:[y.jsxs("div",{className:"flex items-center justify-between mb-3",children:[y.jsxs("span",{className:"text-sm text-gray-400",children:[" : ",U.treatmentPlan.totalDuration," "]}),U.approvedByPractitioner&&y.jsx("span",{className:"text-xs px-2 py-0.5 rounded bg-green-500/20 text-green-400",children:""})]}),y.jsx("div",{className:"space-y-2 mb-3",children:U.treatmentPlan.blocks.map(z=>y.jsxs("div",{className:"bg-gray-800/50 rounded-lg p-2.5",children:[y.jsxs("div",{className:"flex items-center justify-between mb-1",children:[y.jsxs("span",{className:"text-sm font-medium text-gray-200",children:[" ",z.phase,": ",z.name]}),y.jsxs("span",{className:"text-xs text-gray-500",children:[z.duration," "]})]}),z.bodyArea&&y.jsxs("span",{className:"text-xs text-gray-500 block mb-1",children:[": ",z.bodyArea]}),z.techniques.length>0&&y.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:z.techniques.map((Q,Re)=>y.jsx("span",{className:"text-xs px-1.5 py-0.5 rounded bg-blue-500/10 text-blue-400",children:Q},`tech-${Re}`))})]},`block-${z.phase}`))}),U.treatmentPlan.clientSummary&&y.jsxs("div",{className:"mb-3",children:[y.jsx("p",{className:"text-xs text-gray-500 mb-1",children:""}),y.jsx("p",{className:"text-sm text-gray-400",children:U.treatmentPlan.clientSummary})]})]}),(U?.contraindications?.length??0)>0&&y.jsxs("div",{className:"mb-3",children:[y.jsx("p",{className:"text-xs text-gray-500 mb-1",children:""}),y.jsx("div",{className:"flex flex-wrap gap-1",children:U.contraindications.map((z,Q)=>y.jsx("span",{className:"text-xs px-2 py-0.5 rounded bg-red-500/10 text-red-400",children:z},`pc-${Q}`))})]}),y.jsx("button",{type:"button",onClick:()=>{const z=new URLSearchParams;l&&z.set("assessmentId",l),o&&z.set("sessionSyncId",o),n(`/plan?${z.toString()}`)},className:"w-full py-2.5 rounded-lg bg-orange-600 text-white text-sm font-semibold active:bg-orange-700 transition-colors",children:U?.treatmentPlan?" ":" "})]})]}),y.jsx("div",{className:"fixed bottom-0 left-0 right-0 p-4 bg-gray-900/95 border-t border-gray-800 backdrop-blur-sm",children:y.jsx("button",{type:"button",onClick:()=>n(-1),className:"w-full py-3 rounded-lg bg-gray-800 text-gray-300 text-sm font-medium border border-gray-700",children:""})})]})}const lT=300;function uT({isOpen:r,onClose:n,onSelect:s,excludeIds:l=[]}){const[o,c]=A.useState(""),[d,h]=A.useState([]),[m,p]=A.useState(!1),[v,_]=A.useState(null),w=A.useRef(null),x=A.useRef();A.useEffect(()=>{r&&(setTimeout(()=>w.current?.focus(),100),c(""),h([]),_(null))},[r]),A.useEffect(()=>{if(!o.trim()||o.trim().length<2){h([]);return}return clearTimeout(x.current),x.current=setTimeout(()=>{R(o.trim())},lT),()=>clearTimeout(x.current)},[o]);async function R(T){p(!0),_(null);try{const{data:j,error:C}=await at.rpc("keyword_search",{query_text:T,match_count:15,filter_type:"techniques"});if(C){console.error("[TechniqueSearch] keyword_search error:",C),_(" "),h([]);return}const U=(j||[]).map(H=>({entityType:H.entity_type,entityId:H.entity_id,content:H.content,score:H.rank_score??0})),q=new Set(l);h(U.filter(H=>!q.has(H.entityId)))}catch(j){console.error("[TechniqueSearch] Unexpected error:",j),_(" "),h([])}finally{p(!1)}}return r?y.jsxs("div",{className:"fixed inset-0 z-50 flex items-end justify-center",children:[y.jsx("div",{className:"absolute inset-0 bg-black/60",onClick:n,onKeyDown:()=>{},role:"button",tabIndex:-1,"aria-label":""}),y.jsxs("div",{className:"relative w-full max-w-lg bg-gray-900 rounded-t-2xl border-t border-gray-700 max-h-[80vh] flex flex-col",children:[y.jsx("div",{className:"flex justify-center pt-2 pb-1",children:y.jsx("div",{className:"w-10 h-1 rounded-full bg-gray-600"})}),y.jsxs("div",{className:"px-4 pb-3 border-b border-gray-800",children:[y.jsx("h3",{className:"text-base font-semibold mb-2",children:" "}),y.jsxs("div",{className:"relative",children:[y.jsx("input",{ref:w,type:"text",value:o,onChange:T=>c(T.target.value),placeholder:"  ...",className:"w-full px-3 py-2.5 pl-9 bg-gray-800 border border-gray-700 rounded-lg text-sm text-gray-200 placeholder:text-gray-500 focus:outline-none focus:border-blue-500"}),y.jsx("svg",{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),m&&y.jsx("div",{className:"absolute right-3 top-1/2 -translate-y-1/2",children:y.jsx("div",{className:"w-4 h-4 border-2 border-blue-400 border-t-transparent rounded-full animate-spin"})})]})]}),y.jsxs("div",{className:"flex-1 overflow-y-auto px-4 py-2",children:[v&&y.jsx("p",{className:"text-sm text-red-400 text-center py-4",children:v}),!o.trim()&&!v&&y.jsx("p",{className:"text-sm text-gray-500 text-center py-8",children:"     566 "}),o.trim().length>=2&&!m&&d.length===0&&!v&&y.jsx("p",{className:"text-sm text-gray-500 text-center py-8",children:"  "}),d.map(T=>y.jsxs("button",{type:"button",onClick:()=>{s({id:T.entityId,name:T.content}),n()},className:"w-full text-left px-3 py-2.5 rounded-lg hover:bg-gray-800 active:bg-gray-700 transition-colors mb-1",children:[y.jsx("p",{className:"text-sm text-gray-200 line-clamp-2",children:T.content}),y.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[y.jsx("span",{className:"text-xs text-gray-500",children:T.entityType}),T.score>0&&y.jsxs("span",{className:"text-xs text-gray-600",children:[": ",T.score.toFixed(2)]})]})]},T.entityId))]}),y.jsx("div",{className:"px-4 py-3 border-t border-gray-800",children:y.jsx("button",{type:"button",onClick:n,className:"w-full py-2.5 rounded-lg bg-gray-800 text-gray-300 text-sm font-medium",children:""})})]})]}):null}function _g(r){return{order:r,name:r===1?"":r===2?" ":` ${r}`,duration:15,techniques:[],bodyArea:"",notes:""}}function oT(r){return r.map(n=>({order:n.phase,name:n.name,duration:n.duration,techniques:n.techniques.map(s=>({id:s,name:s,fromKnowledgeBase:!0})),bodyArea:n.bodyArea??"",notes:n.instructions??""}))}function cT(r){return{blocks:r.map((n,s)=>({phase:s+1,name:n.name,duration:n.duration,techniques:n.techniques.map(l=>l.name),instructions:n.notes||void 0,bodyArea:n.bodyArea||void 0})),totalDuration:r.reduce((n,s)=>n+s.duration,0)}}function fT(){const[r]=nf(),n=Xs(),s=hf(),l=r.get("assessmentId")||s.assessmentId,o=r.get("sessionSyncId")||s.syncId,{sendEvent:c}=Kl(o),d=D0(o,l),[h,m]=A.useState([_g(1)]),[p,v]=A.useState(!0),[_,w]=A.useState(!1),[x,R]=A.useState(null),[T,j]=A.useState(!1),[C,U]=A.useState(!1),[q,H]=A.useState(0),[F,P]=A.useState(null),Y=A.useCallback(async()=>{if(!l){v(!1);return}try{const{data:J,error:ee}=await at.from("pre_session_assessments").select("plan_data").eq("id",l).maybeSingle();if(ee){console.error("[PlanPage] DB error:",ee),R("  ");return}const S=J?.plan_data;P(S),S?.treatmentPlan?.blocks?.length&&m(oT(S.treatmentPlan.blocks))}catch(J){console.error("[PlanPage] Unexpected error:",J),R(" ")}finally{v(!1)}},[l]);A.useEffect(()=>{Y()},[Y]);function z(J,ee){m(S=>S.map((M,K)=>K===J?{...M,...ee}:M))}function Q(){m(J=>[...J,_g(J.length+1)])}function Re(J){h.length<=1||m(ee=>ee.filter((S,M)=>M!==J).map((S,M)=>({...S,order:M+1})))}function rt(J){J!==0&&m(ee=>{const S=[...ee];return[S[J-1],S[J]]=[S[J],S[J-1]],S.map((M,K)=>({...M,order:K+1}))})}function Pe(J){J>=h.length-1||m(ee=>{const S=[...ee];return[S[J],S[J+1]]=[S[J+1],S[J]],S.map((M,K)=>({...M,order:K+1}))})}function qt(J,ee){m(S=>S.map((M,K)=>K!==J||M.techniques.some(W=>W.id===ee.id)?M:{...M,techniques:[...M.techniques,{...ee,fromKnowledgeBase:!0}]}))}function st(J,ee){m(S=>S.map((M,K)=>K!==J?M:{...M,techniques:M.techniques.filter((W,oe)=>oe!==ee)}))}function Qe(J,ee){m(S=>S.map((M,K)=>{if(K!==J)return M;const W=Math.max(5,Math.min(60,M.duration+ee));return{...M,duration:W}}))}const $=h.reduce((J,ee)=>J+ee.duration,0),Z=h.flatMap(J=>J.techniques.map(ee=>ee.id));async function se(){if(l){w(!0),j(!1);try{const ee={treatmentPlan:cT(h),contraindications:F?.contraindications??[],recommendedTechniques:F?.recommendedTechniques??[],estimatedDuration:$,approvedByPractitioner:!0,practitionerOverrides:F?.practitionerOverrides??null},{error:S}=await at.from("pre_session_assessments").update({plan_data:ee}).eq("id",l);if(S){console.error("[PlanPage] Update error:",S),R(" ");return}await c("plan_approved",{assessmentId:l,totalDuration:$,phaseCount:h.length,techniqueCount:Z.length}),j(!0),setTimeout(()=>{const M=new URLSearchParams;l&&M.set("assessmentId",l),o&&M.set("sessionSyncId",o),n(`/assessment?${M.toString()}`)},1500)}catch(J){console.error("[PlanPage] Confirm error:",J),R(" ")}finally{w(!1)}}}return p?y.jsx("div",{className:"flex items-center justify-center min-h-screen",children:y.jsxs("div",{className:"text-center",children:[y.jsx("div",{className:"w-8 h-8 border-2 border-orange-400 border-t-transparent rounded-full animate-spin mx-auto mb-3"}),y.jsx("p",{className:"text-sm text-gray-400",children:" ..."})]})}):x&&!h.length?y.jsx("div",{className:"flex items-center justify-center min-h-screen p-4",children:y.jsxs("div",{className:"text-center max-w-sm",children:[y.jsx("p",{className:"text-red-400 mb-2",children:x}),y.jsx("button",{type:"button",onClick:()=>n(-1),className:"text-sm text-blue-400 underline",children:""})]})}):y.jsxs("div",{className:"p-4 pb-40 min-h-screen",children:[y.jsx("h1",{className:"text-xl font-bold mb-1",children:" "}),y.jsxs("p",{className:"text-sm text-gray-400 mb-3",children:[$,"  | ",h.length," ",h.length===1?"":""]}),d.overallConfidence>0&&y.jsx("div",{className:"mb-3",children:y.jsx(U0,{weights:d.weights,overallConfidence:d.overallConfidence,appliedModifiers:d.appliedModifiers,isLive:d.isLive,lastUpdated:d.lastUpdated})}),d.overallConfidence>0&&d.overallConfidence<40&&y.jsxs("div",{className:"mb-3 p-2.5 rounded-lg bg-red-500/10 border border-red-500/30 flex items-start gap-2",children:[y.jsx("span",{className:"text-red-400 text-lg leading-none",children:"!"}),y.jsxs("div",{children:[y.jsx("p",{className:"text-sm font-medium text-red-400",children:"  AI"}),y.jsx("p",{className:"text-xs text-red-400/70 mt-0.5",children:"    "})]})]}),x&&y.jsx("div",{className:"mb-3 p-2 rounded bg-red-500/10 border border-red-500/20 text-sm text-red-400",children:x}),T&&y.jsx("div",{className:"mb-3 p-2 rounded bg-green-500/10 border border-green-500/20 text-sm text-green-400",children:" !"}),y.jsx("div",{className:"space-y-3",children:h.map((J,ee)=>y.jsxs("div",{className:"border border-gray-700 rounded-lg bg-gray-800/30",children:[y.jsxs("div",{className:"p-3 border-b border-gray-700/50",children:[y.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[y.jsx("div",{className:"w-6 h-6 rounded-full bg-orange-500/20 text-orange-400 text-xs font-bold flex items-center justify-center flex-shrink-0",children:ee+1}),y.jsx("input",{type:"text",value:J.name,onChange:S=>z(ee,{name:S.target.value}),className:"flex-1 bg-transparent text-sm font-medium text-gray-200 border-b border-transparent focus:border-gray-600 focus:outline-none px-1 py-0.5"}),y.jsxs("div",{className:"flex gap-1",children:[y.jsx("button",{type:"button",onClick:()=>rt(ee),disabled:ee===0,className:"p-1 rounded text-gray-500 hover:text-gray-300 disabled:opacity-30",children:y.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 15l7-7 7 7"})})}),y.jsx("button",{type:"button",onClick:()=>Pe(ee),disabled:ee>=h.length-1,className:"p-1 rounded text-gray-500 hover:text-gray-300 disabled:opacity-30",children:y.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})}),h.length>1&&y.jsx("button",{type:"button",onClick:()=>Re(ee),className:"p-1 rounded text-red-500/50 hover:text-red-400",children:y.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})]}),y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx("input",{type:"text",value:J.bodyArea,onChange:S=>z(ee,{bodyArea:S.target.value}),placeholder:" ...",className:"flex-1 bg-gray-800 text-xs text-gray-400 px-2 py-1 rounded border border-gray-700 focus:outline-none focus:border-gray-600 placeholder:text-gray-600"}),y.jsxs("div",{className:"flex items-center gap-1",children:[y.jsx("button",{type:"button",onClick:()=>Qe(ee,-5),disabled:J.duration<=5,className:"w-6 h-6 rounded bg-gray-700 text-gray-400 text-xs font-bold disabled:opacity-30 active:bg-gray-600",children:"-"}),y.jsxs("span",{className:"text-sm text-gray-300 w-12 text-center",children:[J.duration," "]}),y.jsx("button",{type:"button",onClick:()=>Qe(ee,5),disabled:J.duration>=60,className:"w-6 h-6 rounded bg-gray-700 text-gray-400 text-xs font-bold disabled:opacity-30 active:bg-gray-600",children:"+"})]})]})]}),y.jsxs("div",{className:"p-3",children:[J.techniques.length===0?y.jsx("p",{className:"text-xs text-gray-600 mb-2",children:" .   ."}):y.jsx("div",{className:"space-y-1 mb-2",children:J.techniques.map((S,M)=>y.jsxs("div",{className:"flex items-center gap-2 bg-gray-800/50 rounded px-2 py-1.5",children:[y.jsx("span",{className:"flex-1 text-xs text-gray-300 line-clamp-1",children:S.name}),S.fromKnowledgeBase&&y.jsx("span",{className:"text-[10px] text-blue-400/60 flex-shrink-0",children:"KB"}),y.jsx("button",{type:"button",onClick:()=>st(ee,M),className:"p-0.5 text-gray-600 hover:text-red-400 flex-shrink-0",children:y.jsx("svg",{className:"w-3.5 h-3.5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]},`${S.id}-${M}`))}),y.jsx("button",{type:"button",onClick:()=>{H(ee),U(!0)},className:"w-full py-1.5 rounded border border-dashed border-gray-700 text-xs text-gray-500 hover:text-blue-400 hover:border-blue-500/30 transition-colors",children:"+  "})]})]},`phase-${ee}`))}),y.jsx("button",{type:"button",onClick:Q,className:"w-full mt-3 py-2.5 rounded-lg border border-dashed border-gray-700 text-sm text-gray-500 hover:text-orange-400 hover:border-orange-500/30 transition-colors",children:"+  "}),Z.length===0&&y.jsx("div",{className:"mt-4 text-center",children:y.jsx("p",{className:"text-sm text-gray-600",children:"    (566 )"})}),y.jsx(uT,{isOpen:C,onClose:()=>U(!1),onSelect:J=>qt(q,J),excludeIds:Z}),y.jsxs("div",{className:"fixed bottom-0 left-0 right-0 p-4 bg-gray-900/95 border-t border-gray-800 backdrop-blur-sm",children:[y.jsxs("div",{className:"flex items-center justify-between mb-3",children:[y.jsx("span",{className:"text-sm text-gray-400",children:" "}),y.jsxs("span",{className:"text-sm font-bold text-gray-200",children:[$," "]})]}),y.jsxs("div",{className:"flex gap-3",children:[y.jsx("button",{type:"button",onClick:()=>n(-1),className:"px-4 py-3 rounded-lg bg-gray-800 text-gray-300 border border-gray-700 text-sm",children:""}),y.jsx("button",{type:"button",onClick:()=>{se()},disabled:_||T,className:`flex-1 py-3 rounded-lg text-sm font-semibold transition-colors ${_||T?"bg-gray-700 text-gray-500 cursor-not-allowed":"bg-orange-600 text-white active:bg-orange-700"}`,children:_?"...":T?"!":" "})]})]})]})}function dT(){return y.jsxs("div",{className:"p-4",children:[y.jsx("h1",{className:"text-xl font-bold mb-4",children:" "}),y.jsx("div",{className:"border border-gray-700 rounded-lg p-4",children:y.jsx("p",{className:"text-sm text-gray-500",children:"      Week 3-4"})})]})}const wg=A.lazy(()=>jx(()=>import("./BodyScanPage-CIyKDTQ9.js"),[]));function xg(){return y.jsx("div",{className:"flex items-center justify-center min-h-screen",children:y.jsx("p",{className:"text-gray-400",children:" 3D..."})})}function hT(){const r=Hl(),{syncId:n,assessmentId:s,loading:l}=iE(),o=Kl(n);return!r.isReady||l?y.jsx("div",{className:"flex items-center justify-center min-h-screen",children:y.jsx("p",{className:"text-gray-400",children:"..."})}):r.error?y.jsx("div",{className:"flex items-center justify-center min-h-screen p-4",children:y.jsxs("div",{className:"text-center max-w-sm",children:[y.jsx("h1",{className:"text-xl font-bold mb-2",children:"  Telegram"}),y.jsx("p",{className:"text-gray-400 mb-4",children:r.error}),y.jsx("p",{className:"text-sm text-gray-500",children:"    @MASTER_plemya_BOT"})]})}):y.jsx(j0.Provider,{value:{syncId:n,assessmentId:s,sendEvent:o.sendEvent,isConnected:o.isConnected},children:y.jsxs(d_,{children:[y.jsx(sa,{path:"/",element:y.jsx(A.Suspense,{fallback:y.jsx(xg,{}),children:y.jsx(wg,{})})}),y.jsx(sa,{path:"/intake",element:y.jsx(jE,{})}),y.jsx(sa,{path:"/photo",element:y.jsx(PE,{})}),y.jsx(sa,{path:"/assessment",element:y.jsx(iT,{})}),y.jsx(sa,{path:"/plan",element:y.jsx(fT,{})}),y.jsx(sa,{path:"/history",element:y.jsx(dT,{})}),y.jsx(sa,{path:"*",element:y.jsx(A.Suspense,{fallback:y.jsx(xg,{}),children:y.jsx(wg,{})})})]})})}try{Ex()}catch(r){console.error("[TMA SDK]  :",r)}window.location.hash&&window.location.hash.includes("tgWebAppData")&&!window.location.hash.startsWith("#/")&&(console.log("[main] Telegram hash detected, resetting to #/ for HashRouter"),window.location.hash="#/");pb.createRoot(document.getElementById("root")).render(y.jsx(A.StrictMode,{children:y.jsx(z_,{children:y.jsx(hT,{})})}));export{yE as P,mT as R,vE as Z,cb as a,A as b,fE as c,kl as d,Xs as e,sb as g,y as j,Xc as r,Hl as u};
